(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function HI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zp={exports:{}},Ru={},em={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function WI(){if(Kv)return ze;Kv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=E&&$[E]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,F={};function O($,G,he){this.props=$,this.context=G,this.refs=F,this.updater=he||x}O.prototype.isReactComponent={},O.prototype.setState=function($,G){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,G,"setState")},O.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function W(){}W.prototype=O.prototype;function z($,G,he){this.props=$,this.context=G,this.refs=F,this.updater=he||x}var K=z.prototype=new W;K.constructor=z,D(K,O.prototype),K.isPureReactComponent=!0;var Z=Array.isArray,ce=Object.prototype.hasOwnProperty,se={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C($,G,he){var Ce,Ne={},Oe=null,Fe=null;if(G!=null)for(Ce in G.ref!==void 0&&(Fe=G.ref),G.key!==void 0&&(Oe=""+G.key),G)ce.call(G,Ce)&&!R.hasOwnProperty(Ce)&&(Ne[Ce]=G[Ce]);var Me=arguments.length-2;if(Me===1)Ne.children=he;else if(1<Me){for(var $e=Array(Me),ot=0;ot<Me;ot++)$e[ot]=arguments[ot+2];Ne.children=$e}if($&&$.defaultProps)for(Ce in Me=$.defaultProps,Me)Ne[Ce]===void 0&&(Ne[Ce]=Me[Ce]);return{$$typeof:t,type:$,key:Oe,ref:Fe,props:Ne,_owner:se.current}}function I($,G){return{$$typeof:t,type:$.type,key:G,ref:$.ref,props:$.props,_owner:$._owner}}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var G={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(he){return G[he]})}var j=/\/+/g;function k($,G){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):G.toString(36)}function me($,G,he,Ce,Ne){var Oe=typeof $;(Oe==="undefined"||Oe==="boolean")&&($=null);var Fe=!1;if($===null)Fe=!0;else switch(Oe){case"string":case"number":Fe=!0;break;case"object":switch($.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=$,Ne=Ne(Fe),$=Ce===""?"."+k(Fe,0):Ce,Z(Ne)?(he="",$!=null&&(he=$.replace(j,"$&/")+"/"),me(Ne,G,he,"",function(ot){return ot})):Ne!=null&&(N(Ne)&&(Ne=I(Ne,he+(!Ne.key||Fe&&Fe.key===Ne.key?"":(""+Ne.key).replace(j,"$&/")+"/")+$)),G.push(Ne)),1;if(Fe=0,Ce=Ce===""?".":Ce+":",Z($))for(var Me=0;Me<$.length;Me++){Oe=$[Me];var $e=Ce+k(Oe,Me);Fe+=me(Oe,G,he,$e,Ne)}else if($e=T($),typeof $e=="function")for($=$e.call($),Me=0;!(Oe=$.next()).done;)Oe=Oe.value,$e=Ce+k(Oe,Me++),Fe+=me(Oe,G,he,$e,Ne);else if(Oe==="object")throw G=String($),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Te($,G,he){if($==null)return $;var Ce=[],Ne=0;return me($,Ce,"","",function(Oe){return G.call(he,Oe,Ne++)}),Ce}function ye($){if($._status===-1){var G=$._result;G=G(),G.then(function(he){($._status===0||$._status===-1)&&($._status=1,$._result=he)},function(he){($._status===0||$._status===-1)&&($._status=2,$._result=he)}),$._status===-1&&($._status=0,$._result=G)}if($._status===1)return $._result.default;throw $._result}var te={current:null},X={transition:null},oe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Te,forEach:function($,G,he){Te($,function(){G.apply(this,arguments)},he)},count:function($){var G=0;return Te($,function(){G++}),G},toArray:function($){return Te($,function(G){return G})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}},ze.Component=O,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=z,ze.StrictMode=r,ze.Suspense=p,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,ze.act=ae,ze.cloneElement=function($,G,he){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ce=D({},$.props),Ne=$.key,Oe=$.ref,Fe=$._owner;if(G!=null){if(G.ref!==void 0&&(Oe=G.ref,Fe=se.current),G.key!==void 0&&(Ne=""+G.key),$.type&&$.type.defaultProps)var Me=$.type.defaultProps;for($e in G)ce.call(G,$e)&&!R.hasOwnProperty($e)&&(Ce[$e]=G[$e]===void 0&&Me!==void 0?Me[$e]:G[$e])}var $e=arguments.length-2;if($e===1)Ce.children=he;else if(1<$e){Me=Array($e);for(var ot=0;ot<$e;ot++)Me[ot]=arguments[ot+2];Ce.children=Me}return{$$typeof:t,type:$.type,key:Ne,ref:Oe,props:Ce,_owner:Fe}},ze.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},ze.createElement=C,ze.createFactory=function($){var G=C.bind(null,$);return G.type=$,G},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:h,render:$}},ze.isValidElement=N,ze.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:ye}},ze.memo=function($,G){return{$$typeof:y,type:$,compare:G===void 0?null:G}},ze.startTransition=function($){var G=X.transition;X.transition={};try{$()}finally{X.transition=G}},ze.unstable_act=ae,ze.useCallback=function($,G){return te.current.useCallback($,G)},ze.useContext=function($){return te.current.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($){return te.current.useDeferredValue($)},ze.useEffect=function($,G){return te.current.useEffect($,G)},ze.useId=function(){return te.current.useId()},ze.useImperativeHandle=function($,G,he){return te.current.useImperativeHandle($,G,he)},ze.useInsertionEffect=function($,G){return te.current.useInsertionEffect($,G)},ze.useLayoutEffect=function($,G){return te.current.useLayoutEffect($,G)},ze.useMemo=function($,G){return te.current.useMemo($,G)},ze.useReducer=function($,G,he){return te.current.useReducer($,G,he)},ze.useRef=function($){return te.current.useRef($)},ze.useState=function($){return te.current.useState($)},ze.useSyncExternalStore=function($,G,he){return te.current.useSyncExternalStore($,G,he)},ze.useTransition=function(){return te.current.useTransition()},ze.version="18.3.1",ze}var Qv;function yg(){return Qv||(Qv=1,em.exports=WI()),em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function qI(){if(Yv)return Ru;Yv=1;var t=yg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var w,E={},T=null,x=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(x=p.ref);for(w in p)r.call(p,w)&&!a.hasOwnProperty(w)&&(E[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)E[w]===void 0&&(E[w]=p[w]);return{$$typeof:e,type:h,key:T,ref:x,props:E,_owner:o.current}}return Ru.Fragment=n,Ru.jsx=c,Ru.jsxs=c,Ru}var Xv;function GI(){return Xv||(Xv=1,Zp.exports=qI()),Zp.exports}var P=GI(),S=yg();const Ue=HI(S);var Ad={},tm={exports:{}},qn={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function KI(){return Jv||(Jv=1,(function(t){function e(X,oe){var ae=X.length;X.push(oe);e:for(;0<ae;){var $=ae-1>>>1,G=X[$];if(0<o(G,oe))X[$]=oe,X[ae]=G,ae=$;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],ae=X.pop();if(ae!==oe){X[0]=ae;e:for(var $=0,G=X.length,he=G>>>1;$<he;){var Ce=2*($+1)-1,Ne=X[Ce],Oe=Ce+1,Fe=X[Oe];if(0>o(Ne,ae))Oe<G&&0>o(Fe,Ne)?(X[$]=Fe,X[Oe]=ae,$=Oe):(X[$]=Ne,X[Ce]=ae,$=Ce);else if(Oe<G&&0>o(Fe,ae))X[$]=Fe,X[Oe]=ae,$=Oe;else break e}}return oe}function o(X,oe){var ae=X.sortIndex-oe.sortIndex;return ae!==0?ae:X.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],y=[],w=1,E=null,T=3,x=!1,D=!1,F=!1,O=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(X){for(var oe=n(y);oe!==null;){if(oe.callback===null)r(y);else if(oe.startTime<=X)r(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function Z(X){if(F=!1,K(X),!D)if(n(p)!==null)D=!0,ye(ce);else{var oe=n(y);oe!==null&&te(Z,oe.startTime-X)}}function ce(X,oe){D=!1,F&&(F=!1,W(C),C=-1),x=!0;var ae=T;try{for(K(oe),E=n(p);E!==null&&(!(E.expirationTime>oe)||X&&!V());){var $=E.callback;if(typeof $=="function"){E.callback=null,T=E.priorityLevel;var G=$(E.expirationTime<=oe);oe=t.unstable_now(),typeof G=="function"?E.callback=G:E===n(p)&&r(p),K(oe)}else r(p);E=n(p)}if(E!==null)var he=!0;else{var Ce=n(y);Ce!==null&&te(Z,Ce.startTime-oe),he=!1}return he}finally{E=null,T=ae,x=!1}}var se=!1,R=null,C=-1,I=5,N=-1;function V(){return!(t.unstable_now()-N<I)}function j(){if(R!==null){var X=t.unstable_now();N=X;var oe=!0;try{oe=R(!0,X)}finally{oe?k():(se=!1,R=null)}}else se=!1}var k;if(typeof z=="function")k=function(){z(j)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Te=me.port2;me.port1.onmessage=j,k=function(){Te.postMessage(null)}}else k=function(){O(j,0)};function ye(X){R=X,se||(se=!0,k())}function te(X,oe){C=O(function(){X(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){D||x||(D=!0,ye(ce))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var ae=T;T=oe;try{return X()}finally{T=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=T;T=X;try{return oe()}finally{T=ae}},t.unstable_scheduleCallback=function(X,oe,ae){var $=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,X={id:w++,callback:oe,priorityLevel:X,startTime:ae,expirationTime:G,sortIndex:-1},ae>$?(X.sortIndex=ae,e(y,X),n(p)===null&&X===n(y)&&(F?(W(C),C=-1):F=!0,te(Z,ae-$))):(X.sortIndex=G,e(p,X),D||x||(D=!0,ye(ce))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var oe=T;return function(){var ae=T;T=oe;try{return X.apply(this,arguments)}finally{T=ae}}}})(rm)),rm}var Zv;function QI(){return Zv||(Zv=1,nm.exports=KI()),nm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function YI(){if(e_)return qn;e_=1;var t=yg(),e=QI();function n(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){c(i,s),c(i+"Capture",s)}function c(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function T(i){return p.call(E,i)?!0:p.call(w,i)?!1:y.test(i)?E[i]=!0:(w[i]=!0,!1)}function x(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,s,l,d){if(s===null||typeof s>"u"||x(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(i,s,l,d,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){O[i]=new F(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];O[s]=new F(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){O[i]=new F(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){O[i]=new F(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){O[i]=new F(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){O[i]=new F(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){O[i]=new F(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){O[i]=new F(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){O[i]=new F(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,z);O[s]=new F(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,z);O[s]=new F(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,z);O[s]=new F(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){O[i]=new F(i,1,!1,i.toLowerCase(),null,!1,!1)}),O.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){O[i]=new F(i,1,!1,i.toLowerCase(),null,!0,!0)});function K(i,s,l,d){var f=O.hasOwnProperty(s)?O[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,f,d)&&(l=null),d||f===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):f.mustUseProperty?i[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?i.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),se=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,$;function G(i){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+i}var he=!1;function Ce(i,s){if(!i||he)return"";he=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var d=q}Reflect.construct(i,[],s)}else{try{s.call()}catch(q){d=q}i.call(s.prototype)}else{try{throw Error()}catch(q){d=q}i()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=d.stack.split(`
`),_=f.length-1,A=g.length-1;1<=_&&0<=A&&f[_]!==g[A];)A--;for(;1<=_&&0<=A;_--,A--)if(f[_]!==g[A]){if(_!==1||A!==1)do if(_--,A--,0>A||f[_]!==g[A]){var L=`
`+f[_].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=_&&0<=A);break}}}finally{he=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?G(i):""}function Ne(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case se:return"Portal";case I:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case me:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case j:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Te:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case ye:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}function Fe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $e(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ot(i){var s=$e(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){d=""+_,g.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function _t(i){i._valueTracker||(i._valueTracker=ot(i))}function Et(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=$e(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function Xn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function pr(i,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ei(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Me(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function xi(i,s){s=s.checked,s!=null&&K(i,"checked",s,!1)}function Ni(i,s){xi(i,s);var l=Me(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?gs(i,s.type,l):s.hasOwnProperty("defaultValue")&&gs(i,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pt(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function gs(i,s,l){(s!=="number"||Xn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ln=Array.isArray;function mr(i,s,l,d){if(i=i.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=s.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Me(l),s=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,d&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function ys(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Oi(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Ln(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Me(l)}}function Di(i,s){var l=Me(s.value),d=Me(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function vo(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function At(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?At(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Jn,_o=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,f)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Jn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ti(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ri=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(i){ri.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),ni[s]=ni[i]})});function Eo(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ni.hasOwnProperty(i)&&ni[i]?(""+s).trim():s+"px"}function To(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=Eo(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,f):i[l]=f}}var ws=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(i,s){if(s){if(ws[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Co(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function Vi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vs=null,Sn=null,Zn=null;function gr(i){if(i=hu(i)){if(typeof vs!="function")throw Error(n(280));var s=i.stateNode;s&&(s=Hc(s),vs(i.stateNode,i.type,s))}}function yr(i){Sn?Zn?Zn.push(i):Zn=[i]:Sn=i}function Io(){if(Sn){var i=Sn,s=Zn;if(Zn=Sn=null,gr(i),s)for(i=0;i<s.length;i++)gr(s[i])}}function ii(i,s){return i(s)}function _s(){}var wr=!1;function Es(i,s,l){if(wr)return i(s,l);wr=!0;try{return ii(i,s,l)}finally{wr=!1,(Sn!==null||Zn!==null)&&(_s(),Io())}}function mt(i,s){var l=i.stateNode;if(l===null)return null;var d=Hc(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Mi=!1;if(h)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Mi=!1}function si(i,s,l,d,f,g,_,A,L){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(re){this.onError(re)}}var Fi=!1,Ts=null,Mt=!1,an=null,So={onError:function(i){Fi=!0,Ts=i}};function ji(i,s,l,d,f,g,_,A,L){Fi=!1,Ts=null,si.apply(So,arguments)}function Ro(i,s,l,d,f,g,_,A,L){if(ji.apply(this,arguments),Fi){if(Fi){var q=Ts;Fi=!1,Ts=null}else throw Error(n(198));Mt||(Mt=!0,an=q)}}function St(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Mn(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function er(i){if(St(i)!==i)throw Error(n(188))}function vr(i){var s=i.alternate;if(!s){if(s=St(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return er(f),i;if(g===d)return er(f),s;g=g.sibling}throw Error(n(188))}if(l.return!==d.return)l=f,d=g;else{for(var _=!1,A=f.child;A;){if(A===l){_=!0,l=f,d=g;break}if(A===d){_=!0,d=f,l=g;break}A=A.sibling}if(!_){for(A=g.child;A;){if(A===l){_=!0,l=g,d=f;break}if(A===d){_=!0,d=g,l=f;break}A=A.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function bs(i){return i=vr(i),i!==null?Or(i):null}function Or(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Or(i);if(s!==null)return s;i=i.sibling}return null}var $i=e.unstable_scheduleCallback,ko=e.unstable_cancelCallback,Ta=e.unstable_shouldYield,Yl=e.unstable_requestPaint,it=e.unstable_now,Pt=e.unstable_getCurrentPriorityLevel,tr=e.unstable_ImmediatePriority,oi=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,Ao=e.unstable_LowPriority,ba=e.unstable_IdlePriority,Ui=null,Rn=null;function Ca(i){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Ui,i,void 0,(i.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Sa,Po=Math.log,Ia=Math.LN2;function Sa(i){return i>>>=0,i===0?32:31-(Po(i)/Ia|0)|0}var Ie=64,Be=4194304;function gt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Wt(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,f=i.suspendedLanes,g=i.pingedLanes,_=l&268435455;if(_!==0){var A=_&~f;A!==0?d=gt(A):(g&=_,g!==0&&(d=gt(g)))}else _=l&~f,_!==0?d=gt(_):g!==0&&(d=gt(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-Rt(s),f=1<<l,d|=i[l],s&=~f;return d}function Ae(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes;0<g;){var _=31-Rt(g),A=1<<_,L=f[_];L===-1?((A&l)===0||(A&d)!==0)&&(f[_]=Ae(A,s)):L<=s&&(i.expiredLanes|=A),g&=~A}}function Ft(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function mn(){var i=Ie;return Ie<<=1,(Ie&4194240)===0&&(Ie=64),i}function Cs(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Is(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Rt(s),i[s]=l}function st(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var f=31-Rt(l),g=1<<f;s[f]=0,d[f]=-1,i[f]=-1,l&=~g}}function Ss(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-Rt(l),f=1<<d;f&s|i[d]&s&&(i[d]|=s),l&=~f}}var Ke=0;function Rs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var bc,Ra,Cc,Ic,Sc,Xl=!1,ai=[],ln=null,Dr=null,Lr=null,ks=new Map,_r=new Map,li=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(i,s){switch(i){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ks.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(s.pointerId)}}function jn(i,s,l,d,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=hu(s),s!==null&&Ra(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function xf(i,s,l,d,f){switch(s){case"focusin":return ln=jn(ln,i,s,l,d,f),!0;case"dragenter":return Dr=jn(Dr,i,s,l,d,f),!0;case"mouseover":return Lr=jn(Lr,i,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return ks.set(g,jn(ks.get(g)||null,i,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,_r.set(g,jn(_r.get(g)||null,i,s,l,d,f)),!0}return!1}function kc(i){var s=Lo(i.target);if(s!==null){var l=St(s);if(l!==null){if(s=l.tag,s===13){if(s=Mn(l),s!==null){i.blockedOn=s,Sc(i.priority,function(){Cc(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bi(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=ka(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Li=d,l.target.dispatchEvent(d),Li=null}else return s=hu(l),s!==null&&Ra(s),i.blockedOn=l,!1;s.shift()}return!0}function xo(i,s,l){Bi(i)&&l.delete(s)}function Ac(){Xl=!1,ln!==null&&Bi(ln)&&(ln=null),Dr!==null&&Bi(Dr)&&(Dr=null),Lr!==null&&Bi(Lr)&&(Lr=null),ks.forEach(xo),_r.forEach(xo)}function Vr(i,s){i.blockedOn===s&&(i.blockedOn=null,Xl||(Xl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ac)))}function Mr(i){function s(f){return Vr(f,i)}if(0<ai.length){Vr(ai[0],i);for(var l=1;l<ai.length;l++){var d=ai[l];d.blockedOn===i&&(d.blockedOn=null)}}for(ln!==null&&Vr(ln,i),Dr!==null&&Vr(Dr,i),Lr!==null&&Vr(Lr,i),ks.forEach(s),_r.forEach(s),l=0;l<li.length;l++)d=li[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<li.length&&(l=li[0],l.blockedOn===null);)kc(l),l.blockedOn===null&&li.shift()}var zi=Z.ReactCurrentBatchConfig,As=!0;function yt(i,s,l,d){var f=Ke,g=zi.transition;zi.transition=null;try{Ke=1,Jl(i,s,l,d)}finally{Ke=f,zi.transition=g}}function Nf(i,s,l,d){var f=Ke,g=zi.transition;zi.transition=null;try{Ke=4,Jl(i,s,l,d)}finally{Ke=f,zi.transition=g}}function Jl(i,s,l,d){if(As){var f=ka(i,s,l,d);if(f===null)zf(i,s,d,No,l),Rc(i,d);else if(xf(f,i,s,l,d))d.stopPropagation();else if(Rc(i,d),s&4&&-1<Pf.indexOf(i)){for(;f!==null;){var g=hu(f);if(g!==null&&bc(g),g=ka(i,s,l,d),g===null&&zf(i,s,d,No,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else zf(i,s,d,null,l)}}var No=null;function ka(i,s,l,d){if(No=null,i=Vi(d),i=Lo(i),i!==null)if(s=St(i),s===null)i=null;else if(l=s.tag,l===13){if(i=Mn(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return No=i,null}function Zl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pt()){case tr:return 1;case oi:return 4;case Fn:case Ao:return 16;case ba:return 536870912;default:return 16}default:return 16}}var rr=null,Aa=null,$n=null;function eu(){if($n)return $n;var i,s=Aa,l=s.length,d,f="value"in rr?rr.value:rr.textContent,g=f.length;for(i=0;i<l&&s[i]===f[i];i++);var _=l-i;for(d=1;d<=_&&s[l-d]===f[g-d];d++);return $n=f.slice(i,1<d?1-d:void 0)}function Pa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ui(){return!0}function tu(){return!1}function un(i){function s(l,d,f,g,_){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ui:tu,this.isPropagationStopped=tu,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),s}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=un(Fr),ci=ae({},Fr,{view:0,detail:0}),Of=un(ci),Na,Hi,Ps,Oo=ae({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ps&&(Ps&&i.type==="mousemove"?(Na=i.screenX-Ps.screenX,Hi=i.screenY-Ps.screenY):Hi=Na=0,Ps=i),Na)},movementY:function(i){return"movementY"in i?i.movementY:Hi}}),Oa=un(Oo),nu=ae({},Oo,{dataTransfer:0}),Pc=un(nu),Da=ae({},ci,{relatedTarget:0}),La=un(Da),xc=ae({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wi=un(xc),Nc=ae({},Fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Oc=un(Nc),Dc=ae({},Fr,{data:0}),ru=un(Dc),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Lc[i])?!!s[i]:!1}function di(){return Vc}var u=ae({},ci,{key:function(i){if(i.key){var s=Va[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Pa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(i){return i.type==="keypress"?Pa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),m=un(u),v=ae({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=un(v),U=ae({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),Q=un(U),de=ae({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=un(de),qt=ae({},Oo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=un(qt),Jt=[9,13,27,32],jt=h&&"CompositionEvent"in window,Er=null;h&&"documentMode"in document&&(Er=document.documentMode);var ir=h&&"TextEvent"in window&&!Er,Do=h&&(!jt||Er&&8<Er&&11>=Er),Ma=" ",By=!1;function zy(i,s){switch(i){case"keyup":return Jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fa=!1;function UC(i,s){switch(i){case"compositionend":return Hy(s);case"keypress":return s.which!==32?null:(By=!0,Ma);case"textInput":return i=s.data,i===Ma&&By?null:i;default:return null}}function BC(i,s){if(Fa)return i==="compositionend"||!jt&&zy(i,s)?(i=eu(),$n=Aa=rr=null,Fa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Do&&s.locale!=="ko"?null:s.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!zC[i.type]:s==="textarea"}function qy(i,s,l,d){yr(d),s=Uc(s,"onChange"),0<s.length&&(l=new xa("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var iu=null,su=null;function HC(i){cw(i,0)}function Mc(i){var s=za(i);if(Et(s))return i}function WC(i,s){if(i==="change")return s}var Gy=!1;if(h){var Df;if(h){var Lf="oninput"in document;if(!Lf){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),Lf=typeof Ky.oninput=="function"}Df=Lf}else Df=!1;Gy=Df&&(!document.documentMode||9<document.documentMode)}function Qy(){iu&&(iu.detachEvent("onpropertychange",Yy),su=iu=null)}function Yy(i){if(i.propertyName==="value"&&Mc(su)){var s=[];qy(s,su,i,Vi(i)),Es(HC,s)}}function qC(i,s,l){i==="focusin"?(Qy(),iu=s,su=l,iu.attachEvent("onpropertychange",Yy)):i==="focusout"&&Qy()}function GC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mc(su)}function KC(i,s){if(i==="click")return Mc(s)}function QC(i,s){if(i==="input"||i==="change")return Mc(s)}function YC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var jr=typeof Object.is=="function"?Object.is:YC;function ou(i,s){if(jr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!jr(i[f],s[f]))return!1}return!0}function Xy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jy(i,s){var l=Xy(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xy(l)}}function Zy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Zy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ew(){for(var i=window,s=Xn();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Xn(i.document)}return s}function Vf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function XC(i){var s=ew(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Zy(l.ownerDocument.documentElement,l)){if(d!==null&&Vf(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!i.extend&&g>d&&(f=d,d=g,g=f),f=Jy(l,g);var _=Jy(l,d);f&&_&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),i.removeAllRanges(),g>d?(i.addRange(s),i.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var JC=h&&"documentMode"in document&&11>=document.documentMode,ja=null,Mf=null,au=null,Ff=!1;function tw(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ff||ja==null||ja!==Xn(d)||(d=ja,"selectionStart"in d&&Vf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),au&&ou(au,d)||(au=d,d=Uc(Mf,"onSelect"),0<d.length&&(s=new xa("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=ja)))}function Fc(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var $a={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},jf={},nw={};h&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function jc(i){if(jf[i])return jf[i];if(!$a[i])return i;var s=$a[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in nw)return jf[i]=s[l];return i}var rw=jc("animationend"),iw=jc("animationiteration"),sw=jc("animationstart"),ow=jc("transitionend"),aw=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(i,s){aw.set(i,s),a(s,[i])}for(var $f=0;$f<lw.length;$f++){var Uf=lw[$f],ZC=Uf.toLowerCase(),eI=Uf[0].toUpperCase()+Uf.slice(1);xs(ZC,"on"+eI)}xs(rw,"onAnimationEnd"),xs(iw,"onAnimationIteration"),xs(sw,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(ow,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function uw(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,Ro(d,s,void 0,i),i.currentTarget=null}function cw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var _=d.length-1;0<=_;_--){var A=d[_],L=A.instance,q=A.currentTarget;if(A=A.listener,L!==g&&f.isPropagationStopped())break e;uw(f,A,q),g=L}else for(_=0;_<d.length;_++){if(A=d[_],L=A.instance,q=A.currentTarget,A=A.listener,L!==g&&f.isPropagationStopped())break e;uw(f,A,q),g=L}}}if(Mt)throw i=an,Mt=!1,an=null,i}function ct(i,s){var l=s[Qf];l===void 0&&(l=s[Qf]=new Set);var d=i+"__bubble";l.has(d)||(dw(s,i,2,!1),l.add(d))}function Bf(i,s,l){var d=0;s&&(d|=4),dw(l,i,d,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function uu(i){if(!i[$c]){i[$c]=!0,r.forEach(function(l){l!=="selectionchange"&&(tI.has(l)||Bf(l,!1,i),Bf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[$c]||(s[$c]=!0,Bf("selectionchange",!1,s))}}function dw(i,s,l,d){switch(Zl(s)){case 1:var f=yt;break;case 4:f=Nf;break;default:f=Jl}l=f.bind(null,s,l,i),f=void 0,!Mi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?i.addEventListener(s,l,{capture:!0,passive:f}):i.addEventListener(s,l,!0):f!==void 0?i.addEventListener(s,l,{passive:f}):i.addEventListener(s,l,!1)}function zf(i,s,l,d,f){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var A=d.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(_===4)for(_=d.return;_!==null;){var L=_.tag;if((L===3||L===4)&&(L=_.stateNode.containerInfo,L===f||L.nodeType===8&&L.parentNode===f))return;_=_.return}for(;A!==null;){if(_=Lo(A),_===null)return;if(L=_.tag,L===5||L===6){d=g=_;continue e}A=A.parentNode}}d=d.return}Es(function(){var q=g,re=Vi(l),ie=[];e:{var ne=aw.get(i);if(ne!==void 0){var pe=xa,ve=i;switch(i){case"keypress":if(Pa(l)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":ve="focus",pe=La;break;case"focusout":ve="blur",pe=La;break;case"beforeblur":case"afterblur":pe=La;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Q;break;case rw:case iw:case sw:pe=Wi;break;case ow:pe=rt;break;case"scroll":pe=Of;break;case"wheel":pe=Qe;break;case"copy":case"cut":case"paste":pe=Oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=b}var _e=(s&4)!==0,xt=!_e&&i==="scroll",B=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var M=q,H;M!==null;){H=M;var ue=H.stateNode;if(H.tag===5&&ue!==null&&(H=ue,B!==null&&(ue=mt(M,B),ue!=null&&_e.push(cu(M,ue,H)))),xt)break;M=M.return}0<_e.length&&(ne=new pe(ne,ve,null,l,re),ie.push({event:ne,listeners:_e}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",ne&&l!==Li&&(ve=l.relatedTarget||l.fromElement)&&(Lo(ve)||ve[qi]))break e;if((pe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=q,ve=ve?Lo(ve):null,ve!==null&&(xt=St(ve),ve!==xt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=q),pe!==ve)){if(_e=Oa,ue="onMouseLeave",B="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(_e=b,ue="onPointerLeave",B="onPointerEnter",M="pointer"),xt=pe==null?ne:za(pe),H=ve==null?ne:za(ve),ne=new _e(ue,M+"leave",pe,l,re),ne.target=xt,ne.relatedTarget=H,ue=null,Lo(re)===q&&(_e=new _e(B,M+"enter",ve,l,re),_e.target=H,_e.relatedTarget=xt,ue=_e),xt=ue,pe&&ve)t:{for(_e=pe,B=ve,M=0,H=_e;H;H=Ua(H))M++;for(H=0,ue=B;ue;ue=Ua(ue))H++;for(;0<M-H;)_e=Ua(_e),M--;for(;0<H-M;)B=Ua(B),H--;for(;M--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=Ua(_e),B=Ua(B)}_e=null}else _e=null;pe!==null&&hw(ie,ne,pe,_e,!1),ve!==null&&xt!==null&&hw(ie,xt,ve,_e,!0)}}e:{if(ne=q?za(q):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var Ee=WC;else if(Wy(ne))if(Gy)Ee=QC;else{Ee=GC;var Se=qC}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ee=KC);if(Ee&&(Ee=Ee(i,q))){qy(ie,Ee,l,re);break e}Se&&Se(i,ne,q),i==="focusout"&&(Se=ne._wrapperState)&&Se.controlled&&ne.type==="number"&&gs(ne,"number",ne.value)}switch(Se=q?za(q):window,i){case"focusin":(Wy(Se)||Se.contentEditable==="true")&&(ja=Se,Mf=q,au=null);break;case"focusout":au=Mf=ja=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,tw(ie,l,re);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":tw(ie,l,re)}var Re;if(jt)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Fa?zy(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Do&&l.locale!=="ko"&&(Fa||De!=="onCompositionStart"?De==="onCompositionEnd"&&Fa&&(Re=eu()):(rr=re,Aa="value"in rr?rr.value:rr.textContent,Fa=!0)),Se=Uc(q,De),0<Se.length&&(De=new ru(De,i,null,l,re),ie.push({event:De,listeners:Se}),Re?De.data=Re:(Re=Hy(l),Re!==null&&(De.data=Re)))),(Re=ir?UC(i,l):BC(i,l))&&(q=Uc(q,"onBeforeInput"),0<q.length&&(re=new ru("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:q}),re.data=Re))}cw(ie,s)})}function cu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Uc(i,s){for(var l=s+"Capture",d=[];i!==null;){var f=i,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=mt(i,l),g!=null&&d.unshift(cu(i,g,f)),g=mt(i,s),g!=null&&d.push(cu(i,g,f))),i=i.return}return d}function Ua(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function hw(i,s,l,d,f){for(var g=s._reactName,_=[];l!==null&&l!==d;){var A=l,L=A.alternate,q=A.stateNode;if(L!==null&&L===d)break;A.tag===5&&q!==null&&(A=q,f?(L=mt(l,g),L!=null&&_.unshift(cu(l,L,A))):f||(L=mt(l,g),L!=null&&_.push(cu(l,L,A)))),l=l.return}_.length!==0&&i.push({event:s,listeners:_})}var nI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function fw(i){return(typeof i=="string"?i:""+i).replace(nI,`
`).replace(rI,"")}function Bc(i,s,l){if(s=fw(s),fw(i)!==s&&l)throw Error(n(425))}function zc(){}var Hf=null,Wf=null;function qf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(i){return pw.resolve(null).then(i).catch(oI)}:Gf;function oI(i){setTimeout(function(){throw i})}function Kf(i,s){var l=s,d=0;do{var f=l.nextSibling;if(i.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){i.removeChild(f),Mr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);Mr(s)}function Ns(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function mw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),hi="__reactFiber$"+Ba,du="__reactProps$"+Ba,qi="__reactContainer$"+Ba,Qf="__reactEvents$"+Ba,aI="__reactListeners$"+Ba,lI="__reactHandles$"+Ba;function Lo(i){var s=i[hi];if(s)return s;for(var l=i.parentNode;l;){if(s=l[qi]||l[hi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=mw(i);i!==null;){if(l=i[hi])return l;i=mw(i)}return s}i=l,l=i.parentNode}return null}function hu(i){return i=i[hi]||i[qi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function za(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Hc(i){return i[du]||null}var Yf=[],Ha=-1;function Os(i){return{current:i}}function dt(i){0>Ha||(i.current=Yf[Ha],Yf[Ha]=null,Ha--)}function at(i,s){Ha++,Yf[Ha]=i.current,i.current=s}var Ds={},gn=Os(Ds),Un=Os(!1),Vo=Ds;function Wa(i,s){var l=i.type.contextTypes;if(!l)return Ds;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=f),f}function Bn(i){return i=i.childContextTypes,i!=null}function Wc(){dt(Un),dt(gn)}function gw(i,s,l){if(gn.current!==Ds)throw Error(n(168));at(gn,s),at(Un,l)}function yw(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(n(108,Fe(i)||"Unknown",f));return ae({},l,d)}function qc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ds,Vo=gn.current,at(gn,i),at(Un,Un.current),!0}function ww(i,s,l){var d=i.stateNode;if(!d)throw Error(n(169));l?(i=yw(i,s,Vo),d.__reactInternalMemoizedMergedChildContext=i,dt(Un),dt(gn),at(gn,i)):dt(Un),at(Un,l)}var Gi=null,Gc=!1,Xf=!1;function vw(i){Gi===null?Gi=[i]:Gi.push(i)}function uI(i){Gc=!0,vw(i)}function Ls(){if(!Xf&&Gi!==null){Xf=!0;var i=0,s=Ke;try{var l=Gi;for(Ke=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Gi=null,Gc=!1}catch(f){throw Gi!==null&&(Gi=Gi.slice(i+1)),$i(tr,Ls),f}finally{Ke=s,Xf=!1}}return null}var qa=[],Ga=0,Kc=null,Qc=0,Tr=[],br=0,Mo=null,Ki=1,Qi="";function Fo(i,s){qa[Ga++]=Qc,qa[Ga++]=Kc,Kc=i,Qc=s}function _w(i,s,l){Tr[br++]=Ki,Tr[br++]=Qi,Tr[br++]=Mo,Mo=i;var d=Ki;i=Qi;var f=32-Rt(d)-1;d&=~(1<<f),l+=1;var g=32-Rt(s)+f;if(30<g){var _=f-f%5;g=(d&(1<<_)-1).toString(32),d>>=_,f-=_,Ki=1<<32-Rt(s)+f|l<<f|d,Qi=g+i}else Ki=1<<g|l<<f|d,Qi=i}function Jf(i){i.return!==null&&(Fo(i,1),_w(i,1,0))}function Zf(i){for(;i===Kc;)Kc=qa[--Ga],qa[Ga]=null,Qc=qa[--Ga],qa[Ga]=null;for(;i===Mo;)Mo=Tr[--br],Tr[br]=null,Qi=Tr[--br],Tr[br]=null,Ki=Tr[--br],Tr[br]=null}var sr=null,or=null,wt=!1,$r=null;function Ew(i,s){var l=Rr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Tw(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,sr=i,or=Ns(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,sr=i,or=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Mo!==null?{id:Ki,overflow:Qi}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Rr(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,sr=i,or=null,!0):!1;default:return!1}}function ep(i){return(i.mode&1)!==0&&(i.flags&128)===0}function tp(i){if(wt){var s=or;if(s){var l=s;if(!Tw(i,s)){if(ep(i))throw Error(n(418));s=Ns(l.nextSibling);var d=sr;s&&Tw(i,s)?Ew(d,l):(i.flags=i.flags&-4097|2,wt=!1,sr=i)}}else{if(ep(i))throw Error(n(418));i.flags=i.flags&-4097|2,wt=!1,sr=i}}}function bw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;sr=i}function Yc(i){if(i!==sr)return!1;if(!wt)return bw(i),wt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!qf(i.type,i.memoizedProps)),s&&(s=or)){if(ep(i))throw Cw(),Error(n(418));for(;s;)Ew(i,s),s=Ns(s.nextSibling)}if(bw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){or=Ns(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}or=null}}else or=sr?Ns(i.stateNode.nextSibling):null;return!0}function Cw(){for(var i=or;i;)i=Ns(i.nextSibling)}function Ka(){or=sr=null,wt=!1}function np(i){$r===null?$r=[i]:$r.push(i)}var cI=Z.ReactCurrentBatchConfig;function fu(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,i));var f=d,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var A=f.refs;_===null?delete A[g]:A[g]=_},s._stringRef=g,s)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function Xc(i,s){throw i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Iw(i){var s=i._init;return s(i._payload)}function Sw(i){function s(B,M){if(i){var H=B.deletions;H===null?(B.deletions=[M],B.flags|=16):H.push(M)}}function l(B,M){if(!i)return null;for(;M!==null;)s(B,M),M=M.sibling;return null}function d(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function f(B,M){return B=zs(B,M),B.index=0,B.sibling=null,B}function g(B,M,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<M?(B.flags|=2,M):H):(B.flags|=2,M)):(B.flags|=1048576,M)}function _(B){return i&&B.alternate===null&&(B.flags|=2),B}function A(B,M,H,ue){return M===null||M.tag!==6?(M=Gp(H,B.mode,ue),M.return=B,M):(M=f(M,H),M.return=B,M)}function L(B,M,H,ue){var Ee=H.type;return Ee===R?re(B,M,H.props.children,ue,H.key):M!==null&&(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ye&&Iw(Ee)===M.type)?(ue=f(M,H.props),ue.ref=fu(B,M,H),ue.return=B,ue):(ue=Ed(H.type,H.key,H.props,null,B.mode,ue),ue.ref=fu(B,M,H),ue.return=B,ue)}function q(B,M,H,ue){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Kp(H,B.mode,ue),M.return=B,M):(M=f(M,H.children||[]),M.return=B,M)}function re(B,M,H,ue,Ee){return M===null||M.tag!==7?(M=qo(H,B.mode,ue,Ee),M.return=B,M):(M=f(M,H),M.return=B,M)}function ie(B,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Gp(""+M,B.mode,H),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ce:return H=Ed(M.type,M.key,M.props,null,B.mode,H),H.ref=fu(B,null,M),H.return=B,H;case se:return M=Kp(M,B.mode,H),M.return=B,M;case ye:var ue=M._init;return ie(B,ue(M._payload),H)}if(Ln(M)||oe(M))return M=qo(M,B.mode,H,null),M.return=B,M;Xc(B,M)}return null}function ne(B,M,H,ue){var Ee=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ee!==null?null:A(B,M,""+H,ue);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ce:return H.key===Ee?L(B,M,H,ue):null;case se:return H.key===Ee?q(B,M,H,ue):null;case ye:return Ee=H._init,ne(B,M,Ee(H._payload),ue)}if(Ln(H)||oe(H))return Ee!==null?null:re(B,M,H,ue,null);Xc(B,H)}return null}function pe(B,M,H,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return B=B.get(H)||null,A(M,B,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case ce:return B=B.get(ue.key===null?H:ue.key)||null,L(M,B,ue,Ee);case se:return B=B.get(ue.key===null?H:ue.key)||null,q(M,B,ue,Ee);case ye:var Se=ue._init;return pe(B,M,H,Se(ue._payload),Ee)}if(Ln(ue)||oe(ue))return B=B.get(H)||null,re(M,B,ue,Ee,null);Xc(M,ue)}return null}function ve(B,M,H,ue){for(var Ee=null,Se=null,Re=M,De=M=0,tn=null;Re!==null&&De<H.length;De++){Re.index>De?(tn=Re,Re=null):tn=Re.sibling;var Je=ne(B,Re,H[De],ue);if(Je===null){Re===null&&(Re=tn);break}i&&Re&&Je.alternate===null&&s(B,Re),M=g(Je,M,De),Se===null?Ee=Je:Se.sibling=Je,Se=Je,Re=tn}if(De===H.length)return l(B,Re),wt&&Fo(B,De),Ee;if(Re===null){for(;De<H.length;De++)Re=ie(B,H[De],ue),Re!==null&&(M=g(Re,M,De),Se===null?Ee=Re:Se.sibling=Re,Se=Re);return wt&&Fo(B,De),Ee}for(Re=d(B,Re);De<H.length;De++)tn=pe(Re,B,De,H[De],ue),tn!==null&&(i&&tn.alternate!==null&&Re.delete(tn.key===null?De:tn.key),M=g(tn,M,De),Se===null?Ee=tn:Se.sibling=tn,Se=tn);return i&&Re.forEach(function(Hs){return s(B,Hs)}),wt&&Fo(B,De),Ee}function _e(B,M,H,ue){var Ee=oe(H);if(typeof Ee!="function")throw Error(n(150));if(H=Ee.call(H),H==null)throw Error(n(151));for(var Se=Ee=null,Re=M,De=M=0,tn=null,Je=H.next();Re!==null&&!Je.done;De++,Je=H.next()){Re.index>De?(tn=Re,Re=null):tn=Re.sibling;var Hs=ne(B,Re,Je.value,ue);if(Hs===null){Re===null&&(Re=tn);break}i&&Re&&Hs.alternate===null&&s(B,Re),M=g(Hs,M,De),Se===null?Ee=Hs:Se.sibling=Hs,Se=Hs,Re=tn}if(Je.done)return l(B,Re),wt&&Fo(B,De),Ee;if(Re===null){for(;!Je.done;De++,Je=H.next())Je=ie(B,Je.value,ue),Je!==null&&(M=g(Je,M,De),Se===null?Ee=Je:Se.sibling=Je,Se=Je);return wt&&Fo(B,De),Ee}for(Re=d(B,Re);!Je.done;De++,Je=H.next())Je=pe(Re,B,De,Je.value,ue),Je!==null&&(i&&Je.alternate!==null&&Re.delete(Je.key===null?De:Je.key),M=g(Je,M,De),Se===null?Ee=Je:Se.sibling=Je,Se=Je);return i&&Re.forEach(function(zI){return s(B,zI)}),wt&&Fo(B,De),Ee}function xt(B,M,H,ue){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ce:e:{for(var Ee=H.key,Se=M;Se!==null;){if(Se.key===Ee){if(Ee=H.type,Ee===R){if(Se.tag===7){l(B,Se.sibling),M=f(Se,H.props.children),M.return=B,B=M;break e}}else if(Se.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ye&&Iw(Ee)===Se.type){l(B,Se.sibling),M=f(Se,H.props),M.ref=fu(B,Se,H),M.return=B,B=M;break e}l(B,Se);break}else s(B,Se);Se=Se.sibling}H.type===R?(M=qo(H.props.children,B.mode,ue,H.key),M.return=B,B=M):(ue=Ed(H.type,H.key,H.props,null,B.mode,ue),ue.ref=fu(B,M,H),ue.return=B,B=ue)}return _(B);case se:e:{for(Se=H.key;M!==null;){if(M.key===Se)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){l(B,M.sibling),M=f(M,H.children||[]),M.return=B,B=M;break e}else{l(B,M);break}else s(B,M);M=M.sibling}M=Kp(H,B.mode,ue),M.return=B,B=M}return _(B);case ye:return Se=H._init,xt(B,M,Se(H._payload),ue)}if(Ln(H))return ve(B,M,H,ue);if(oe(H))return _e(B,M,H,ue);Xc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(l(B,M.sibling),M=f(M,H),M.return=B,B=M):(l(B,M),M=Gp(H,B.mode,ue),M.return=B,B=M),_(B)):l(B,M)}return xt}var Qa=Sw(!0),Rw=Sw(!1),Jc=Os(null),Zc=null,Ya=null,rp=null;function ip(){rp=Ya=Zc=null}function sp(i){var s=Jc.current;dt(Jc),i._currentValue=s}function op(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function Xa(i,s){Zc=i,rp=Ya=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(zn=!0),i.firstContext=null)}function Cr(i){var s=i._currentValue;if(rp!==i)if(i={context:i,memoizedValue:s,next:null},Ya===null){if(Zc===null)throw Error(n(308));Ya=i,Zc.dependencies={lanes:0,firstContext:i}}else Ya=Ya.next=i;return s}var jo=null;function ap(i){jo===null?jo=[i]:jo.push(i)}function kw(i,s,l,d){var f=s.interleaved;return f===null?(l.next=l,ap(s)):(l.next=f.next,f.next=l),s.interleaved=l,Yi(i,d)}function Yi(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Vs=!1;function lp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aw(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xi(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ms(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Yi(i,l)}return f=d.interleaved,f===null?(s.next=s,ap(d)):(s.next=f.next,f.next=s),d.interleaved=s,Yi(i,l)}function ed(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Ss(i,l)}}function Pw(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function td(i,s,l,d){var f=i.updateQueue;Vs=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var L=A,q=L.next;L.next=null,_===null?g=q:_.next=q,_=L;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==_&&(A===null?re.firstBaseUpdate=q:A.next=q,re.lastBaseUpdate=L))}if(g!==null){var ie=f.baseState;_=0,re=q=L=null,A=g;do{var ne=A.lane,pe=A.eventTime;if((d&ne)===ne){re!==null&&(re=re.next={eventTime:pe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ve=i,_e=A;switch(ne=s,pe=l,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){ie=ve.call(pe,ie,ne);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,ne=typeof ve=="function"?ve.call(pe,ie,ne):ve,ne==null)break e;ie=ae({},ie,ne);break e;case 2:Vs=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,ne=f.effects,ne===null?f.effects=[A]:ne.push(A))}else pe={eventTime:pe,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(q=re=pe,L=ie):re=re.next=pe,_|=ne;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(L=ie),f.baseState=L,f.firstBaseUpdate=q,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Bo|=_,i.lanes=_,i.memoizedState=ie}}function xw(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(n(191,f));f.call(d)}}}var pu={},fi=Os(pu),mu=Os(pu),gu=Os(pu);function $o(i){if(i===pu)throw Error(n(174));return i}function up(i,s){switch(at(gu,s),at(mu,i),at(fi,pu),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:It(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=It(s,i)}dt(fi),at(fi,s)}function Ja(){dt(fi),dt(mu),dt(gu)}function Nw(i){$o(gu.current);var s=$o(fi.current),l=It(s,i.type);s!==l&&(at(mu,i),at(fi,l))}function cp(i){mu.current===i&&(dt(fi),dt(mu))}var Tt=Os(0);function nd(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dp=[];function hp(){for(var i=0;i<dp.length;i++)dp[i]._workInProgressVersionPrimary=null;dp.length=0}var rd=Z.ReactCurrentDispatcher,fp=Z.ReactCurrentBatchConfig,Uo=0,bt=null,Gt=null,Zt=null,id=!1,yu=!1,wu=0,dI=0;function yn(){throw Error(n(321))}function pp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!jr(i[l],s[l]))return!1;return!0}function mp(i,s,l,d,f,g){if(Uo=g,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rd.current=i===null||i.memoizedState===null?mI:gI,i=l(d,f),yu){g=0;do{if(yu=!1,wu=0,25<=g)throw Error(n(301));g+=1,Zt=Gt=null,s.updateQueue=null,rd.current=yI,i=l(d,f)}while(yu)}if(rd.current=ad,s=Gt!==null&&Gt.next!==null,Uo=0,Zt=Gt=bt=null,id=!1,s)throw Error(n(300));return i}function gp(){var i=wu!==0;return wu=0,i}function pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?bt.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function Ir(){if(Gt===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=Gt.next;var s=Zt===null?bt.memoizedState:Zt.next;if(s!==null)Zt=s,Gt=i;else{if(i===null)throw Error(n(310));Gt=i,i={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Zt===null?bt.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function vu(i,s){return typeof s=="function"?s(i):s}function yp(i){var s=Ir(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=Gt,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var A=_=null,L=null,q=g;do{var re=q.lane;if((Uo&re)===re)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:i(d,q.action);else{var ie={lane:re,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(A=L=ie,_=d):L=L.next=ie,bt.lanes|=re,Bo|=re}q=q.next}while(q!==null&&q!==g);L===null?_=d:L.next=A,jr(d,s.memoizedState)||(zn=!0),s.memoizedState=d,s.baseState=_,s.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){f=i;do g=f.lane,bt.lanes|=g,Bo|=g,f=f.next;while(f!==i)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function wp(i){var s=Ir(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do g=i(g,_.action),_=_.next;while(_!==f);jr(g,s.memoizedState)||(zn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function Ow(){}function Dw(i,s){var l=bt,d=Ir(),f=s(),g=!jr(d.memoizedState,f);if(g&&(d.memoizedState=f,zn=!0),d=d.queue,vp(Mw.bind(null,l,d,i),[i]),d.getSnapshot!==s||g||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,_u(9,Vw.bind(null,l,d,f,s),void 0,null),en===null)throw Error(n(349));(Uo&30)!==0||Lw(l,s,f)}return f}function Lw(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Vw(i,s,l,d){s.value=l,s.getSnapshot=d,Fw(s)&&jw(i)}function Mw(i,s,l){return l(function(){Fw(s)&&jw(i)})}function Fw(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!jr(i,l)}catch{return!0}}function jw(i){var s=Yi(i,1);s!==null&&Hr(s,i,1,-1)}function $w(i){var s=pi();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:i},s.queue=i,i=i.dispatch=pI.bind(null,bt,i),[s.memoizedState,i]}function _u(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function Uw(){return Ir().memoizedState}function sd(i,s,l,d){var f=pi();bt.flags|=i,f.memoizedState=_u(1|s,l,void 0,d===void 0?null:d)}function od(i,s,l,d){var f=Ir();d=d===void 0?null:d;var g=void 0;if(Gt!==null){var _=Gt.memoizedState;if(g=_.destroy,d!==null&&pp(d,_.deps)){f.memoizedState=_u(s,l,g,d);return}}bt.flags|=i,f.memoizedState=_u(1|s,l,g,d)}function Bw(i,s){return sd(8390656,8,i,s)}function vp(i,s){return od(2048,8,i,s)}function zw(i,s){return od(4,2,i,s)}function Hw(i,s){return od(4,4,i,s)}function Ww(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qw(i,s,l){return l=l!=null?l.concat([i]):null,od(4,4,Ww.bind(null,s,i),l)}function _p(){}function Gw(i,s){var l=Ir();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&pp(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function Kw(i,s){var l=Ir();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&pp(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function Qw(i,s,l){return(Uo&21)===0?(i.baseState&&(i.baseState=!1,zn=!0),i.memoizedState=l):(jr(l,s)||(l=mn(),bt.lanes|=l,Bo|=l,i.baseState=!0),s)}function hI(i,s){var l=Ke;Ke=l!==0&&4>l?l:4,i(!0);var d=fp.transition;fp.transition={};try{i(!1),s()}finally{Ke=l,fp.transition=d}}function Yw(){return Ir().memoizedState}function fI(i,s,l){var d=Us(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Xw(i))Jw(s,l);else if(l=kw(i,s,l,d),l!==null){var f=Pn();Hr(l,i,d,f),Zw(l,s,d)}}function pI(i,s,l){var d=Us(i),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xw(i))Jw(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,A=g(_,l);if(f.hasEagerState=!0,f.eagerState=A,jr(A,_)){var L=s.interleaved;L===null?(f.next=f,ap(s)):(f.next=L.next,L.next=f),s.interleaved=f;return}}catch{}finally{}l=kw(i,s,f,d),l!==null&&(f=Pn(),Hr(l,i,d,f),Zw(l,s,d))}}function Xw(i){var s=i.alternate;return i===bt||s!==null&&s===bt}function Jw(i,s){yu=id=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Zw(i,s,l){if((l&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Ss(i,l)}}var ad={readContext:Cr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},mI={readContext:Cr,useCallback:function(i,s){return pi().memoizedState=[i,s===void 0?null:s],i},useContext:Cr,useEffect:Bw,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,sd(4194308,4,Ww.bind(null,s,i),l)},useLayoutEffect:function(i,s){return sd(4194308,4,i,s)},useInsertionEffect:function(i,s){return sd(4,2,i,s)},useMemo:function(i,s){var l=pi();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=pi();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=fI.bind(null,bt,i),[d.memoizedState,i]},useRef:function(i){var s=pi();return i={current:i},s.memoizedState=i},useState:$w,useDebugValue:_p,useDeferredValue:function(i){return pi().memoizedState=i},useTransition:function(){var i=$w(!1),s=i[0];return i=hI.bind(null,i[1]),pi().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=bt,f=pi();if(wt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),en===null)throw Error(n(349));(Uo&30)!==0||Lw(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Bw(Mw.bind(null,d,g,i),[i]),d.flags|=2048,_u(9,Vw.bind(null,d,g,l,s),void 0,null),l},useId:function(){var i=pi(),s=en.identifierPrefix;if(wt){var l=Qi,d=Ki;l=(d&~(1<<32-Rt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=wu++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=dI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},gI={readContext:Cr,useCallback:Gw,useContext:Cr,useEffect:vp,useImperativeHandle:qw,useInsertionEffect:zw,useLayoutEffect:Hw,useMemo:Kw,useReducer:yp,useRef:Uw,useState:function(){return yp(vu)},useDebugValue:_p,useDeferredValue:function(i){var s=Ir();return Qw(s,Gt.memoizedState,i)},useTransition:function(){var i=yp(vu)[0],s=Ir().memoizedState;return[i,s]},useMutableSource:Ow,useSyncExternalStore:Dw,useId:Yw,unstable_isNewReconciler:!1},yI={readContext:Cr,useCallback:Gw,useContext:Cr,useEffect:vp,useImperativeHandle:qw,useInsertionEffect:zw,useLayoutEffect:Hw,useMemo:Kw,useReducer:wp,useRef:Uw,useState:function(){return wp(vu)},useDebugValue:_p,useDeferredValue:function(i){var s=Ir();return Gt===null?s.memoizedState=i:Qw(s,Gt.memoizedState,i)},useTransition:function(){var i=wp(vu)[0],s=Ir().memoizedState;return[i,s]},useMutableSource:Ow,useSyncExternalStore:Dw,useId:Yw,unstable_isNewReconciler:!1};function Ur(i,s){if(i&&i.defaultProps){s=ae({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Ep(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:ae({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ld={isMounted:function(i){return(i=i._reactInternals)?St(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=Pn(),f=Us(i),g=Xi(d,f);g.payload=s,l!=null&&(g.callback=l),s=Ms(i,g,f),s!==null&&(Hr(s,i,f,d),ed(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=Pn(),f=Us(i),g=Xi(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Ms(i,g,f),s!==null&&(Hr(s,i,f,d),ed(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Pn(),d=Us(i),f=Xi(l,d);f.tag=2,s!=null&&(f.callback=s),s=Ms(i,f,d),s!==null&&(Hr(s,i,d,l),ed(s,i,d))}};function ev(i,s,l,d,f,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,_):s.prototype&&s.prototype.isPureReactComponent?!ou(l,d)||!ou(f,g):!0}function tv(i,s,l){var d=!1,f=Ds,g=s.contextType;return typeof g=="object"&&g!==null?g=Cr(g):(f=Bn(s)?Vo:gn.current,d=s.contextTypes,g=(d=d!=null)?Wa(i,f):Ds),s=new s(l,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ld,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=g),s}function nv(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&ld.enqueueReplaceState(s,s.state,null)}function Tp(i,s,l,d){var f=i.stateNode;f.props=l,f.state=i.memoizedState,f.refs={},lp(i);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Cr(g):(g=Bn(s)?Vo:gn.current,f.context=Wa(i,g)),f.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Ep(i,s,g,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&ld.enqueueReplaceState(f,f.state,null),td(i,l,f,d),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function Za(i,s){try{var l="",d=s;do l+=Ne(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:f,digest:null}}function bp(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Cp(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var wI=typeof WeakMap=="function"?WeakMap:Map;function rv(i,s,l){l=Xi(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){md||(md=!0,jp=d),Cp(i,s)},l}function iv(i,s,l){l=Xi(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){Cp(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Cp(i,s),typeof d!="function"&&(js===null?js=new Set([this]):js.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),l}function sv(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new wI;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),i=NI.bind(null,i,s,l),s.then(i,i))}function ov(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function av(i,s,l,d,f){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Xi(-1,1),s.tag=2,Ms(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=f,i)}var vI=Z.ReactCurrentOwner,zn=!1;function An(i,s,l,d){s.child=i===null?Rw(s,null,l,d):Qa(s,i.child,l,d)}function lv(i,s,l,d,f){l=l.render;var g=s.ref;return Xa(s,f),d=mp(i,s,l,d,g,f),l=gp(),i!==null&&!zn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,Ji(i,s,f)):(wt&&l&&Jf(s),s.flags|=1,An(i,s,d,f),s.child)}function uv(i,s,l,d,f){if(i===null){var g=l.type;return typeof g=="function"&&!qp(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,cv(i,s,g,d,f)):(i=Ed(l.type,null,d,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,(i.lanes&f)===0){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:ou,l(_,d)&&i.ref===s.ref)return Ji(i,s,f)}return s.flags|=1,i=zs(g,d),i.ref=s.ref,i.return=s,s.child=i}function cv(i,s,l,d,f){if(i!==null){var g=i.memoizedProps;if(ou(g,d)&&i.ref===s.ref)if(zn=!1,s.pendingProps=d=g,(i.lanes&f)!==0)(i.flags&131072)!==0&&(zn=!0);else return s.lanes=i.lanes,Ji(i,s,f)}return Ip(i,s,l,d,f)}function dv(i,s,l){var d=s.pendingProps,f=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(tl,ar),ar|=l;else{if((l&1073741824)===0)return i=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,at(tl,ar),ar|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,at(tl,ar),ar|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,at(tl,ar),ar|=d;return An(i,s,f,l),s.child}function hv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ip(i,s,l,d,f){var g=Bn(l)?Vo:gn.current;return g=Wa(s,g),Xa(s,f),l=mp(i,s,l,d,g,f),d=gp(),i!==null&&!zn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,Ji(i,s,f)):(wt&&d&&Jf(s),s.flags|=1,An(i,s,l,f),s.child)}function fv(i,s,l,d,f){if(Bn(l)){var g=!0;qc(s)}else g=!1;if(Xa(s,f),s.stateNode===null)cd(i,s),tv(s,l,d),Tp(s,l,d,f),d=!0;else if(i===null){var _=s.stateNode,A=s.memoizedProps;_.props=A;var L=_.context,q=l.contextType;typeof q=="object"&&q!==null?q=Cr(q):(q=Bn(l)?Vo:gn.current,q=Wa(s,q));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function";ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==d||L!==q)&&nv(s,_,d,q),Vs=!1;var ne=s.memoizedState;_.state=ne,td(s,d,_,f),L=s.memoizedState,A!==d||ne!==L||Un.current||Vs?(typeof re=="function"&&(Ep(s,l,re,d),L=s.memoizedState),(A=Vs||ev(s,l,A,d,ne,L,q))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),_.props=d,_.state=L,_.context=q,d=A):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,Aw(i,s),A=s.memoizedProps,q=s.type===s.elementType?A:Ur(s.type,A),_.props=q,ie=s.pendingProps,ne=_.context,L=l.contextType,typeof L=="object"&&L!==null?L=Cr(L):(L=Bn(l)?Vo:gn.current,L=Wa(s,L));var pe=l.getDerivedStateFromProps;(re=typeof pe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ie||ne!==L)&&nv(s,_,d,L),Vs=!1,ne=s.memoizedState,_.state=ne,td(s,d,_,f);var ve=s.memoizedState;A!==ie||ne!==ve||Un.current||Vs?(typeof pe=="function"&&(Ep(s,l,pe,d),ve=s.memoizedState),(q=Vs||ev(s,l,q,d,ne,ve,L)||!1)?(re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,ve,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,ve,L)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ve),_.props=d,_.state=ve,_.context=L,d=q):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),d=!1)}return Sp(i,s,l,d,g,f)}function Sp(i,s,l,d,f,g){hv(i,s);var _=(s.flags&128)!==0;if(!d&&!_)return f&&ww(s,l,!1),Ji(i,s,g);d=s.stateNode,vI.current=s;var A=_&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&_?(s.child=Qa(s,i.child,null,g),s.child=Qa(s,null,A,g)):An(i,s,A,g),s.memoizedState=d.state,f&&ww(s,l,!0),s.child}function pv(i){var s=i.stateNode;s.pendingContext?gw(i,s.pendingContext,s.pendingContext!==s.context):s.context&&gw(i,s.context,!1),up(i,s.containerInfo)}function mv(i,s,l,d,f){return Ka(),np(f),s.flags|=256,An(i,s,l,d),s.child}var Rp={dehydrated:null,treeContext:null,retryLane:0};function kp(i){return{baseLanes:i,cachePool:null,transitions:null}}function gv(i,s,l){var d=s.pendingProps,f=Tt.current,g=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),at(Tt,f&1),i===null)return tp(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=d.children,i=d.fallback,g?(d=s.mode,g=s.child,_={mode:"hidden",children:_},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Td(_,d,0,null),i=qo(i,d,l,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=kp(l),s.memoizedState=Rp,i):Ap(s,_));if(f=i.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return _I(i,s,_,d,A,f,l);if(g){g=d.fallback,_=s.mode,f=i.child,A=f.sibling;var L={mode:"hidden",children:d.children};return(_&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=zs(f,L),d.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=zs(A,g):(g=qo(g,_,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,_=i.child.memoizedState,_=_===null?kp(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=i.childLanes&~l,s.memoizedState=Rp,d}return g=i.child,i=g.sibling,d=zs(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function Ap(i,s){return s=Td({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ud(i,s,l,d){return d!==null&&np(d),Qa(s,i.child,null,l),i=Ap(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function _I(i,s,l,d,f,g,_){if(l)return s.flags&256?(s.flags&=-257,d=bp(Error(n(422))),ud(i,s,_,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=Td({mode:"visible",children:d.children},f,0,null),g=qo(g,f,_,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&Qa(s,i.child,null,_),s.child.memoizedState=kp(_),s.memoizedState=Rp,g);if((s.mode&1)===0)return ud(i,s,_,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var A=d.dgst;return d=A,g=Error(n(419)),d=bp(g,d,void 0),ud(i,s,_,d)}if(A=(_&i.childLanes)!==0,zn||A){if(d=en,d!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Yi(i,f),Hr(d,i,f,-1))}return Wp(),d=bp(Error(n(421))),ud(i,s,_,d)}return f.data==="$?"?(s.flags|=128,s.child=i.child,s=OI.bind(null,i),f._reactRetry=s,null):(i=g.treeContext,or=Ns(f.nextSibling),sr=s,wt=!0,$r=null,i!==null&&(Tr[br++]=Ki,Tr[br++]=Qi,Tr[br++]=Mo,Ki=i.id,Qi=i.overflow,Mo=s),s=Ap(s,d.children),s.flags|=4096,s)}function yv(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),op(i.return,s,l)}function Pp(i,s,l,d,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function wv(i,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(An(i,s,d.children,l),d=Tt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&yv(i,l,s);else if(i.tag===19)yv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(at(Tt,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)i=l.alternate,i!==null&&nd(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Pp(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&nd(i)===null){s.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}Pp(s,!0,l,null,g);break;case"together":Pp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cd(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Ji(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Bo|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=zs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=zs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function EI(i,s,l){switch(s.tag){case 3:pv(s),Ka();break;case 5:Nw(s);break;case 1:Bn(s.type)&&qc(s);break;case 4:up(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;at(Jc,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(Tt,Tt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?gv(i,s,l):(at(Tt,Tt.current&1),i=Ji(i,s,l),i!==null?i.sibling:null);at(Tt,Tt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(i.flags&128)!==0){if(d)return wv(i,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Tt,Tt.current),d)break;return null;case 22:case 23:return s.lanes=0,dv(i,s,l)}return Ji(i,s,l)}var vv,xp,_v,Ev;vv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},xp=function(){},_v=function(i,s,l,d){var f=i.memoizedProps;if(f!==d){i=s.stateNode,$o(fi.current);var g=null;switch(l){case"input":f=pr(i,f),d=pr(i,d),g=[];break;case"select":f=ae({},f,{value:void 0}),d=ae({},d,{value:void 0}),g=[];break;case"textarea":f=ys(i,f),d=ys(i,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=zc)}bo(l,d);var _;l=null;for(q in f)if(!d.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(_ in A)A.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in d){var L=d[q];if(A=f?.[q],d.hasOwnProperty(q)&&L!==A&&(L!=null||A!=null))if(q==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||L&&L.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in L)L.hasOwnProperty(_)&&A[_]!==L[_]&&(l||(l={}),l[_]=L[_])}else l||(g||(g=[]),g.push(q,l)),l=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,A=A?A.__html:void 0,L!=null&&A!==L&&(g=g||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&ct("scroll",i),g||A===L||(g=[])):(g=g||[]).push(q,L))}l&&(g=g||[]).push("style",l);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},Ev=function(i,s,l,d){l!==d&&(s.flags|=4)};function Eu(i,s){if(!wt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function wn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function TI(i,s,l){var d=s.pendingProps;switch(Zf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(s),null;case 1:return Bn(s.type)&&Wc(),wn(s),null;case 3:return d=s.stateNode,Ja(),dt(Un),dt(gn),hp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Yc(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$r!==null&&(Bp($r),$r=null))),xp(i,s),wn(s),null;case 5:cp(s);var f=$o(gu.current);if(l=s.type,i!==null&&s.stateNode!=null)_v(i,s,l,d,f),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return wn(s),null}if(i=$o(fi.current),Yc(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[hi]=s,d[du]=g,i=(s.mode&1)!==0,l){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(f=0;f<lu.length;f++)ct(lu[f],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":ei(d,g),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ct("invalid",d);break;case"textarea":Oi(d,g),ct("invalid",d)}bo(l,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var A=g[_];_==="children"?typeof A=="string"?d.textContent!==A&&(g.suppressHydrationWarning!==!0&&Bc(d.textContent,A,i),f=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Bc(d.textContent,A,i),f=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&ct("scroll",d)}switch(l){case"input":_t(d),pt(d,g,!0);break;case"textarea":_t(d),vo(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=zc)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=At(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=_.createElement(l,{is:d.is}):(i=_.createElement(l),l==="select"&&(_=i,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):i=_.createElementNS(i,l),i[hi]=s,i[du]=d,vv(i,s,!1,!1),s.stateNode=i;e:{switch(_=Co(l,d),l){case"dialog":ct("cancel",i),ct("close",i),f=d;break;case"iframe":case"object":case"embed":ct("load",i),f=d;break;case"video":case"audio":for(f=0;f<lu.length;f++)ct(lu[f],i);f=d;break;case"source":ct("error",i),f=d;break;case"img":case"image":case"link":ct("error",i),ct("load",i),f=d;break;case"details":ct("toggle",i),f=d;break;case"input":ei(i,d),f=pr(i,d),ct("invalid",i);break;case"option":f=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},f=ae({},d,{value:void 0}),ct("invalid",i);break;case"textarea":Oi(i,d),f=ys(i,d),ct("invalid",i);break;default:f=d}bo(l,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var L=A[g];g==="style"?To(i,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&_o(i,L)):g==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ti(i,L):typeof L=="number"&&ti(i,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?L!=null&&g==="onScroll"&&ct("scroll",i):L!=null&&K(i,g,L,_))}switch(l){case"input":_t(i),pt(i,d,!1);break;case"textarea":_t(i),vo(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Me(d.value));break;case"select":i.multiple=!!d.multiple,g=d.value,g!=null?mr(i,!!d.multiple,g,!1):d.defaultValue!=null&&mr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=zc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return wn(s),null;case 6:if(i&&s.stateNode!=null)Ev(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=$o(gu.current),$o(fi.current),Yc(s)){if(d=s.stateNode,l=s.memoizedProps,d[hi]=s,(g=d.nodeValue!==l)&&(i=sr,i!==null))switch(i.tag){case 3:Bc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Bc(d.nodeValue,l,(i.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[hi]=s,s.stateNode=d}return wn(s),null;case 13:if(dt(Tt),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&or!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Cw(),Ka(),s.flags|=98560,g=!1;else if(g=Yc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[hi]=s}else Ka(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wn(s),g=!1}else $r!==null&&(Bp($r),$r=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Tt.current&1)!==0?Kt===0&&(Kt=3):Wp())),s.updateQueue!==null&&(s.flags|=4),wn(s),null);case 4:return Ja(),xp(i,s),i===null&&uu(s.stateNode.containerInfo),wn(s),null;case 10:return sp(s.type._context),wn(s),null;case 17:return Bn(s.type)&&Wc(),wn(s),null;case 19:if(dt(Tt),g=s.memoizedState,g===null)return wn(s),null;if(d=(s.flags&128)!==0,_=g.rendering,_===null)if(d)Eu(g,!1);else{if(Kt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=nd(i),_!==null){for(s.flags|=128,Eu(g,!1),d=_.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,i=d,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,i=_.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return at(Tt,Tt.current&1|2),s.child}i=i.sibling}g.tail!==null&&it()>nl&&(s.flags|=128,d=!0,Eu(g,!1),s.lanes=4194304)}else{if(!d)if(i=nd(_),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Eu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!wt)return wn(s),null}else 2*it()-g.renderingStartTime>nl&&l!==1073741824&&(s.flags|=128,d=!0,Eu(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(l=g.last,l!==null?l.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=it(),s.sibling=null,l=Tt.current,at(Tt,d?l&1|2:l&1),s):(wn(s),null);case 22:case 23:return Hp(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(ar&1073741824)!==0&&(wn(s),s.subtreeFlags&6&&(s.flags|=8192)):wn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function bI(i,s){switch(Zf(s),s.tag){case 1:return Bn(s.type)&&Wc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ja(),dt(Un),dt(gn),hp(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return cp(s),null;case 13:if(dt(Tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ka()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return dt(Tt),null;case 4:return Ja(),null;case 10:return sp(s.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var dd=!1,vn=!1,CI=typeof WeakSet=="function"?WeakSet:Set,we=null;function el(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){kt(i,s,d)}else l.current=null}function Np(i,s,l){try{l()}catch(d){kt(i,s,d)}}var Tv=!1;function II(i,s){if(Hf=As,i=ew(),Vf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,A=-1,L=-1,q=0,re=0,ie=i,ne=null;t:for(;;){for(var pe;ie!==l||f!==0&&ie.nodeType!==3||(A=_+f),ie!==g||d!==0&&ie.nodeType!==3||(L=_+d),ie.nodeType===3&&(_+=ie.nodeValue.length),(pe=ie.firstChild)!==null;)ne=ie,ie=pe;for(;;){if(ie===i)break t;if(ne===l&&++q===f&&(A=_),ne===g&&++re===d&&(L=_),(pe=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=pe}l=A===-1||L===-1?null:{start:A,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wf={focusedElem:i,selectionRange:l},As=!1,we=s;we!==null;)if(s=we,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,we=i;else for(;we!==null;){s=we;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,xt=ve.memoizedState,B=s.stateNode,M=B.getSnapshotBeforeUpdate(s.elementType===s.type?_e:Ur(s.type,_e),xt);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){kt(s,s.return,ue)}if(i=s.sibling,i!==null){i.return=s.return,we=i;break}we=s.return}return ve=Tv,Tv=!1,ve}function Tu(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&i)===i){var g=f.destroy;f.destroy=void 0,g!==void 0&&Np(s,l,g)}f=f.next}while(f!==d)}}function hd(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Op(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function bv(i){var s=i.alternate;s!==null&&(i.alternate=null,bv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[hi],delete s[du],delete s[Qf],delete s[aI],delete s[lI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Cv(i){return i.tag===5||i.tag===3||i.tag===4}function Iv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Cv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=zc));else if(d!==4&&(i=i.child,i!==null))for(Dp(i,s,l),i=i.sibling;i!==null;)Dp(i,s,l),i=i.sibling}function Lp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Lp(i,s,l),i=i.sibling;i!==null;)Lp(i,s,l),i=i.sibling}var cn=null,Br=!1;function Fs(i,s,l){for(l=l.child;l!==null;)Sv(i,s,l),l=l.sibling}function Sv(i,s,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Ui,l)}catch{}switch(l.tag){case 5:vn||el(l,s);case 6:var d=cn,f=Br;cn=null,Fs(i,s,l),cn=d,Br=f,cn!==null&&(Br?(i=cn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):cn.removeChild(l.stateNode));break;case 18:cn!==null&&(Br?(i=cn,l=l.stateNode,i.nodeType===8?Kf(i.parentNode,l):i.nodeType===1&&Kf(i,l),Mr(i)):Kf(cn,l.stateNode));break;case 4:d=cn,f=Br,cn=l.stateNode.containerInfo,Br=!0,Fs(i,s,l),cn=d,Br=f;break;case 0:case 11:case 14:case 15:if(!vn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&Np(l,s,_),f=f.next}while(f!==d)}Fs(i,s,l);break;case 1:if(!vn&&(el(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){kt(l,s,A)}Fs(i,s,l);break;case 21:Fs(i,s,l);break;case 22:l.mode&1?(vn=(d=vn)||l.memoizedState!==null,Fs(i,s,l),vn=d):Fs(i,s,l);break;default:Fs(i,s,l)}}function Rv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new CI),s.forEach(function(d){var f=DI.bind(null,i,d);l.has(d)||(l.add(d),d.then(f,f))})}}function zr(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=i,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 5:cn=A.stateNode,Br=!1;break e;case 3:cn=A.stateNode.containerInfo,Br=!0;break e;case 4:cn=A.stateNode.containerInfo,Br=!0;break e}A=A.return}if(cn===null)throw Error(n(160));Sv(g,_,f),cn=null,Br=!1;var L=f.alternate;L!==null&&(L.return=null),f.return=null}catch(q){kt(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)kv(s,i),s=s.sibling}function kv(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(zr(s,i),mi(i),d&4){try{Tu(3,i,i.return),hd(3,i)}catch(_e){kt(i,i.return,_e)}try{Tu(5,i,i.return)}catch(_e){kt(i,i.return,_e)}}break;case 1:zr(s,i),mi(i),d&512&&l!==null&&el(l,l.return);break;case 5:if(zr(s,i),mi(i),d&512&&l!==null&&el(l,l.return),i.flags&32){var f=i.stateNode;try{ti(f,"")}catch(_e){kt(i,i.return,_e)}}if(d&4&&(f=i.stateNode,f!=null)){var g=i.memoizedProps,_=l!==null?l.memoizedProps:g,A=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&xi(f,g),Co(A,_);var q=Co(A,g);for(_=0;_<L.length;_+=2){var re=L[_],ie=L[_+1];re==="style"?To(f,ie):re==="dangerouslySetInnerHTML"?_o(f,ie):re==="children"?ti(f,ie):K(f,re,ie,q)}switch(A){case"input":Ni(f,g);break;case"textarea":Di(f,g);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?mr(f,!!g.multiple,pe,!1):ne!==!!g.multiple&&(g.defaultValue!=null?mr(f,!!g.multiple,g.defaultValue,!0):mr(f,!!g.multiple,g.multiple?[]:"",!1))}f[du]=g}catch(_e){kt(i,i.return,_e)}}break;case 6:if(zr(s,i),mi(i),d&4){if(i.stateNode===null)throw Error(n(162));f=i.stateNode,g=i.memoizedProps;try{f.nodeValue=g}catch(_e){kt(i,i.return,_e)}}break;case 3:if(zr(s,i),mi(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Mr(s.containerInfo)}catch(_e){kt(i,i.return,_e)}break;case 4:zr(s,i),mi(i);break;case 13:zr(s,i),mi(i),f=i.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Fp=it())),d&4&&Rv(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(vn=(q=vn)||re,zr(s,i),vn=q):zr(s,i),mi(i),d&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!re&&(i.mode&1)!==0)for(we=i,re=i.child;re!==null;){for(ie=we=re;we!==null;){switch(ne=we,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Tu(4,ne,ne.return);break;case 1:el(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){d=ne,l=ne.return;try{s=d,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(_e){kt(d,l,_e)}}break;case 5:el(ne,ne.return);break;case 22:if(ne.memoizedState!==null){xv(ie);continue}}pe!==null?(pe.return=ne,we=pe):xv(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ie.stateNode,L=ie.memoizedProps.style,_=L!=null&&L.hasOwnProperty("display")?L.display:null,A.style.display=Eo("display",_))}catch(_e){kt(i,i.return,_e)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=q?"":ie.memoizedProps}catch(_e){kt(i,i.return,_e)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:zr(s,i),mi(i),d&4&&Rv(i);break;case 21:break;default:zr(s,i),mi(i)}}function mi(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Cv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(ti(f,""),d.flags&=-33);var g=Iv(i);Lp(i,g,f);break;case 3:case 4:var _=d.stateNode.containerInfo,A=Iv(i);Dp(i,A,_);break;default:throw Error(n(161))}}catch(L){kt(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function SI(i,s,l){we=i,Av(i)}function Av(i,s,l){for(var d=(i.mode&1)!==0;we!==null;){var f=we,g=f.child;if(f.tag===22&&d){var _=f.memoizedState!==null||dd;if(!_){var A=f.alternate,L=A!==null&&A.memoizedState!==null||vn;A=dd;var q=vn;if(dd=_,(vn=L)&&!q)for(we=f;we!==null;)_=we,L=_.child,_.tag===22&&_.memoizedState!==null?Nv(f):L!==null?(L.return=_,we=L):Nv(f);for(;g!==null;)we=g,Av(g),g=g.sibling;we=f,dd=A,vn=q}Pv(i)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,we=g):Pv(i)}}function Pv(i){for(;we!==null;){var s=we;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:vn||hd(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!vn)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Ur(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&xw(s,g,d);break;case 3:var _=s.updateQueue;if(_!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}xw(s,_,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var re=q.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Mr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vn||s.flags&512&&Op(s)}catch(ne){kt(s,s.return,ne)}}if(s===i){we=null;break}if(l=s.sibling,l!==null){l.return=s.return,we=l;break}we=s.return}}function xv(i){for(;we!==null;){var s=we;if(s===i){we=null;break}var l=s.sibling;if(l!==null){l.return=s.return,we=l;break}we=s.return}}function Nv(i){for(;we!==null;){var s=we;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{hd(4,s)}catch(L){kt(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(L){kt(s,f,L)}}var g=s.return;try{Op(s)}catch(L){kt(s,g,L)}break;case 5:var _=s.return;try{Op(s)}catch(L){kt(s,_,L)}}}catch(L){kt(s,s.return,L)}if(s===i){we=null;break}var A=s.sibling;if(A!==null){A.return=s.return,we=A;break}we=s.return}}var RI=Math.ceil,fd=Z.ReactCurrentDispatcher,Vp=Z.ReactCurrentOwner,Sr=Z.ReactCurrentBatchConfig,Xe=0,en=null,$t=null,dn=0,ar=0,tl=Os(0),Kt=0,bu=null,Bo=0,pd=0,Mp=0,Cu=null,Hn=null,Fp=0,nl=1/0,Zi=null,md=!1,jp=null,js=null,gd=!1,$s=null,yd=0,Iu=0,$p=null,wd=-1,vd=0;function Pn(){return(Xe&6)!==0?it():wd!==-1?wd:wd=it()}function Us(i){return(i.mode&1)===0?1:(Xe&2)!==0&&dn!==0?dn&-dn:cI.transition!==null?(vd===0&&(vd=mn()),vd):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:Zl(i.type)),i)}function Hr(i,s,l,d){if(50<Iu)throw Iu=0,$p=null,Error(n(185));Is(i,l,d),((Xe&2)===0||i!==en)&&(i===en&&((Xe&2)===0&&(pd|=l),Kt===4&&Bs(i,dn)),Wn(i,d),l===1&&Xe===0&&(s.mode&1)===0&&(nl=it()+500,Gc&&Ls()))}function Wn(i,s){var l=i.callbackNode;nr(i,s);var d=Wt(i,i===en?dn:0);if(d===0)l!==null&&ko(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&ko(l),s===1)i.tag===0?uI(Dv.bind(null,i)):vw(Dv.bind(null,i)),sI(function(){(Xe&6)===0&&Ls()}),l=null;else{switch(Rs(d)){case 1:l=tr;break;case 4:l=oi;break;case 16:l=Fn;break;case 536870912:l=ba;break;default:l=Fn}l=Bv(l,Ov.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Ov(i,s){if(wd=-1,vd=0,(Xe&6)!==0)throw Error(n(327));var l=i.callbackNode;if(rl()&&i.callbackNode!==l)return null;var d=Wt(i,i===en?dn:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=_d(i,d);else{s=d;var f=Xe;Xe|=2;var g=Vv();(en!==i||dn!==s)&&(Zi=null,nl=it()+500,Ho(i,s));do try{PI();break}catch(A){Lv(i,A)}while(!0);ip(),fd.current=g,Xe=f,$t!==null?s=0:(en=null,dn=0,s=Kt)}if(s!==0){if(s===2&&(f=Ft(i),f!==0&&(d=f,s=Up(i,f))),s===1)throw l=bu,Ho(i,0),Bs(i,d),Wn(i,it()),l;if(s===6)Bs(i,d);else{if(f=i.current.alternate,(d&30)===0&&!kI(f)&&(s=_d(i,d),s===2&&(g=Ft(i),g!==0&&(d=g,s=Up(i,g))),s===1))throw l=bu,Ho(i,0),Bs(i,d),Wn(i,it()),l;switch(i.finishedWork=f,i.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Wo(i,Hn,Zi);break;case 3:if(Bs(i,d),(d&130023424)===d&&(s=Fp+500-it(),10<s)){if(Wt(i,0)!==0)break;if(f=i.suspendedLanes,(f&d)!==d){Pn(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=Gf(Wo.bind(null,i,Hn,Zi),s);break}Wo(i,Hn,Zi);break;case 4:if(Bs(i,d),(d&4194240)===d)break;for(s=i.eventTimes,f=-1;0<d;){var _=31-Rt(d);g=1<<_,_=s[_],_>f&&(f=_),d&=~g}if(d=f,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*RI(d/1960))-d,10<d){i.timeoutHandle=Gf(Wo.bind(null,i,Hn,Zi),d);break}Wo(i,Hn,Zi);break;case 5:Wo(i,Hn,Zi);break;default:throw Error(n(329))}}}return Wn(i,it()),i.callbackNode===l?Ov.bind(null,i):null}function Up(i,s){var l=Cu;return i.current.memoizedState.isDehydrated&&(Ho(i,s).flags|=256),i=_d(i,s),i!==2&&(s=Hn,Hn=l,s!==null&&Bp(s)),i}function Bp(i){Hn===null?Hn=i:Hn.push.apply(Hn,i)}function kI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!jr(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Bs(i,s){for(s&=~Mp,s&=~pd,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Rt(s),d=1<<l;i[l]=-1,s&=~d}}function Dv(i){if((Xe&6)!==0)throw Error(n(327));rl();var s=Wt(i,0);if((s&1)===0)return Wn(i,it()),null;var l=_d(i,s);if(i.tag!==0&&l===2){var d=Ft(i);d!==0&&(s=d,l=Up(i,d))}if(l===1)throw l=bu,Ho(i,0),Bs(i,s),Wn(i,it()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Wo(i,Hn,Zi),Wn(i,it()),null}function zp(i,s){var l=Xe;Xe|=1;try{return i(s)}finally{Xe=l,Xe===0&&(nl=it()+500,Gc&&Ls())}}function zo(i){$s!==null&&$s.tag===0&&(Xe&6)===0&&rl();var s=Xe;Xe|=1;var l=Sr.transition,d=Ke;try{if(Sr.transition=null,Ke=1,i)return i()}finally{Ke=d,Sr.transition=l,Xe=s,(Xe&6)===0&&Ls()}}function Hp(){ar=tl.current,dt(tl)}function Ho(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,iI(l)),$t!==null)for(l=$t.return;l!==null;){var d=l;switch(Zf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Wc();break;case 3:Ja(),dt(Un),dt(gn),hp();break;case 5:cp(d);break;case 4:Ja();break;case 13:dt(Tt);break;case 19:dt(Tt);break;case 10:sp(d.type._context);break;case 22:case 23:Hp()}l=l.return}if(en=i,$t=i=zs(i.current,null),dn=ar=s,Kt=0,bu=null,Mp=pd=Bo=0,Hn=Cu=null,jo!==null){for(s=0;s<jo.length;s++)if(l=jo[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var _=g.next;g.next=f,d.next=_}l.pending=d}jo=null}return i}function Lv(i,s){do{var l=$t;try{if(ip(),rd.current=ad,id){for(var d=bt.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}id=!1}if(Uo=0,Zt=Gt=bt=null,yu=!1,wu=0,Vp.current=null,l===null||l.return===null){Kt=1,bu=s,$t=null;break}e:{var g=i,_=l.return,A=l,L=s;if(s=dn,A.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,re=A,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var pe=ov(_);if(pe!==null){pe.flags&=-257,av(pe,_,A,g,s),pe.mode&1&&sv(g,q,s),s=pe,L=q;var ve=s.updateQueue;if(ve===null){var _e=new Set;_e.add(L),s.updateQueue=_e}else ve.add(L);break e}else{if((s&1)===0){sv(g,q,s),Wp();break e}L=Error(n(426))}}else if(wt&&A.mode&1){var xt=ov(_);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),av(xt,_,A,g,s),np(Za(L,A));break e}}g=L=Za(L,A),Kt!==4&&(Kt=2),Cu===null?Cu=[g]:Cu.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=rv(g,L,s);Pw(g,B);break e;case 1:A=L;var M=g.type,H=g.stateNode;if((g.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(js===null||!js.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ue=iv(g,A,s);Pw(g,ue);break e}}g=g.return}while(g!==null)}Fv(l)}catch(Ee){s=Ee,$t===l&&l!==null&&($t=l=l.return);continue}break}while(!0)}function Vv(){var i=fd.current;return fd.current=ad,i===null?ad:i}function Wp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),en===null||(Bo&268435455)===0&&(pd&268435455)===0||Bs(en,dn)}function _d(i,s){var l=Xe;Xe|=2;var d=Vv();(en!==i||dn!==s)&&(Zi=null,Ho(i,s));do try{AI();break}catch(f){Lv(i,f)}while(!0);if(ip(),Xe=l,fd.current=d,$t!==null)throw Error(n(261));return en=null,dn=0,Kt}function AI(){for(;$t!==null;)Mv($t)}function PI(){for(;$t!==null&&!Ta();)Mv($t)}function Mv(i){var s=Uv(i.alternate,i,ar);i.memoizedProps=i.pendingProps,s===null?Fv(i):$t=s,Vp.current=null}function Fv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=TI(l,s,ar),l!==null){$t=l;return}}else{if(l=bI(l,s),l!==null){l.flags&=32767,$t=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Kt=6,$t=null;return}}if(s=s.sibling,s!==null){$t=s;return}$t=s=i}while(s!==null);Kt===0&&(Kt=5)}function Wo(i,s,l){var d=Ke,f=Sr.transition;try{Sr.transition=null,Ke=1,xI(i,s,l,d)}finally{Sr.transition=f,Ke=d}return null}function xI(i,s,l,d){do rl();while($s!==null);if((Xe&6)!==0)throw Error(n(327));l=i.finishedWork;var f=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var g=l.lanes|l.childLanes;if(st(i,g),i===en&&($t=en=null,dn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gd||(gd=!0,Bv(Fn,function(){return rl(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Sr.transition,Sr.transition=null;var _=Ke;Ke=1;var A=Xe;Xe|=4,Vp.current=null,II(i,l),kv(l,i),XC(Wf),As=!!Hf,Wf=Hf=null,i.current=l,SI(l),Yl(),Xe=A,Ke=_,Sr.transition=g}else i.current=l;if(gd&&(gd=!1,$s=i,yd=f),g=i.pendingLanes,g===0&&(js=null),Ca(l.stateNode),Wn(i,it()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(md)throw md=!1,i=jp,jp=null,i;return(yd&1)!==0&&i.tag!==0&&rl(),g=i.pendingLanes,(g&1)!==0?i===$p?Iu++:(Iu=0,$p=i):Iu=0,Ls(),null}function rl(){if($s!==null){var i=Rs(yd),s=Sr.transition,l=Ke;try{if(Sr.transition=null,Ke=16>i?16:i,$s===null)var d=!1;else{if(i=$s,$s=null,yd=0,(Xe&6)!==0)throw Error(n(331));var f=Xe;for(Xe|=4,we=i.current;we!==null;){var g=we,_=g.child;if((we.flags&16)!==0){var A=g.deletions;if(A!==null){for(var L=0;L<A.length;L++){var q=A[L];for(we=q;we!==null;){var re=we;switch(re.tag){case 0:case 11:case 15:Tu(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,we=ie;else for(;we!==null;){re=we;var ne=re.sibling,pe=re.return;if(bv(re),re===q){we=null;break}if(ne!==null){ne.return=pe,we=ne;break}we=pe}}}var ve=g.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var xt=_e.sibling;_e.sibling=null,_e=xt}while(_e!==null)}}we=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,we=_;else e:for(;we!==null;){if(g=we,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Tu(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,we=B;break e}we=g.return}}var M=i.current;for(we=M;we!==null;){_=we;var H=_.child;if((_.subtreeFlags&2064)!==0&&H!==null)H.return=_,we=H;else e:for(_=M;we!==null;){if(A=we,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:hd(9,A)}}catch(Ee){kt(A,A.return,Ee)}if(A===_){we=null;break e}var ue=A.sibling;if(ue!==null){ue.return=A.return,we=ue;break e}we=A.return}}if(Xe=f,Ls(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Ui,i)}catch{}d=!0}return d}finally{Ke=l,Sr.transition=s}}return!1}function jv(i,s,l){s=Za(l,s),s=rv(i,s,1),i=Ms(i,s,1),s=Pn(),i!==null&&(Is(i,1,s),Wn(i,s))}function kt(i,s,l){if(i.tag===3)jv(i,i,l);else for(;s!==null;){if(s.tag===3){jv(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))){i=Za(l,i),i=iv(s,i,1),s=Ms(s,i,1),i=Pn(),s!==null&&(Is(s,1,i),Wn(s,i));break}}s=s.return}}function NI(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=Pn(),i.pingedLanes|=i.suspendedLanes&l,en===i&&(dn&l)===l&&(Kt===4||Kt===3&&(dn&130023424)===dn&&500>it()-Fp?Ho(i,0):Mp|=l),Wn(i,s)}function $v(i,s){s===0&&((i.mode&1)===0?s=1:(s=Be,Be<<=1,(Be&130023424)===0&&(Be=4194304)));var l=Pn();i=Yi(i,s),i!==null&&(Is(i,s,l),Wn(i,l))}function OI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),$v(i,l)}function DI(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),$v(i,l)}var Uv;Uv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Un.current)zn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return zn=!1,EI(i,s,l);zn=(i.flags&131072)!==0}else zn=!1,wt&&(s.flags&1048576)!==0&&_w(s,Qc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;cd(i,s),i=s.pendingProps;var f=Wa(s,gn.current);Xa(s,l),f=mp(null,s,d,i,f,l);var g=gp();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Bn(d)?(g=!0,qc(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,lp(s),f.updater=ld,s.stateNode=f,f._reactInternals=s,Tp(s,d,i,l),s=Sp(null,s,d,!0,g,l)):(s.tag=0,wt&&g&&Jf(s),An(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(cd(i,s),i=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=VI(d),i=Ur(d,i),f){case 0:s=Ip(null,s,d,i,l);break e;case 1:s=fv(null,s,d,i,l);break e;case 11:s=lv(null,s,d,i,l);break e;case 14:s=uv(null,s,d,Ur(d.type,i),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Ur(d,f),Ip(i,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Ur(d,f),fv(i,s,d,f,l);case 3:e:{if(pv(s),i===null)throw Error(n(387));d=s.pendingProps,g=s.memoizedState,f=g.element,Aw(i,s),td(s,d,null,l);var _=s.memoizedState;if(d=_.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Za(Error(n(423)),s),s=mv(i,s,d,l,f);break e}else if(d!==f){f=Za(Error(n(424)),s),s=mv(i,s,d,l,f);break e}else for(or=Ns(s.stateNode.containerInfo.firstChild),sr=s,wt=!0,$r=null,l=Rw(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ka(),d===f){s=Ji(i,s,l);break e}An(i,s,d,l)}s=s.child}return s;case 5:return Nw(s),i===null&&tp(s),d=s.type,f=s.pendingProps,g=i!==null?i.memoizedProps:null,_=f.children,qf(d,f)?_=null:g!==null&&qf(d,g)&&(s.flags|=32),hv(i,s),An(i,s,_,l),s.child;case 6:return i===null&&tp(s),null;case 13:return gv(i,s,l);case 4:return up(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Qa(s,null,d,l):An(i,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Ur(d,f),lv(i,s,d,f,l);case 7:return An(i,s,s.pendingProps,l),s.child;case 8:return An(i,s,s.pendingProps.children,l),s.child;case 12:return An(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,at(Jc,d._currentValue),d._currentValue=_,g!==null)if(jr(g.value,_)){if(g.children===f.children&&!Un.current){s=Ji(i,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){_=g.child;for(var L=A.firstContext;L!==null;){if(L.context===d){if(g.tag===1){L=Xi(-1,l&-l),L.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var re=q.pending;re===null?L.next=L:(L.next=re.next,re.next=L),q.pending=L}}g.lanes|=l,L=g.alternate,L!==null&&(L.lanes|=l),op(g.return,l,s),A.lanes|=l;break}L=L.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=l,A=_.alternate,A!==null&&(A.lanes|=l),op(_,l,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}An(i,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,Xa(s,l),f=Cr(f),d=d(f),s.flags|=1,An(i,s,d,l),s.child;case 14:return d=s.type,f=Ur(d,s.pendingProps),f=Ur(d.type,f),uv(i,s,d,f,l);case 15:return cv(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Ur(d,f),cd(i,s),s.tag=1,Bn(d)?(i=!0,qc(s)):i=!1,Xa(s,l),tv(s,d,f),Tp(s,d,f,l),Sp(null,s,d,!0,i,l);case 19:return wv(i,s,l);case 22:return dv(i,s,l)}throw Error(n(156,s.tag))};function Bv(i,s){return $i(i,s)}function LI(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(i,s,l,d){return new LI(i,s,l,d)}function qp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function VI(i){if(typeof i=="function")return qp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Te)return 14}return 2}function zs(i,s){var l=i.alternate;return l===null?(l=Rr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Ed(i,s,l,d,f,g){var _=2;if(d=i,typeof i=="function")qp(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case R:return qo(l.children,f,g,s);case C:_=8,f|=8;break;case I:return i=Rr(12,l,s,f|2),i.elementType=I,i.lanes=g,i;case k:return i=Rr(13,l,s,f),i.elementType=k,i.lanes=g,i;case me:return i=Rr(19,l,s,f),i.elementType=me,i.lanes=g,i;case te:return Td(l,f,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:_=10;break e;case V:_=9;break e;case j:_=11;break e;case Te:_=14;break e;case ye:_=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return s=Rr(_,l,s,f),s.elementType=i,s.type=d,s.lanes=g,s}function qo(i,s,l,d){return i=Rr(7,i,d,s),i.lanes=l,i}function Td(i,s,l,d){return i=Rr(22,i,d,s),i.elementType=te,i.lanes=l,i.stateNode={isHidden:!1},i}function Gp(i,s,l){return i=Rr(6,i,null,s),i.lanes=l,i}function Kp(i,s,l){return s=Rr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function MI(i,s,l,d,f){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cs(0),this.expirationTimes=Cs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Qp(i,s,l,d,f,g,_,A,L){return i=new MI(i,s,l,A,L),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Rr(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},lp(g),i}function FI(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function zv(i){if(!i)return Ds;i=i._reactInternals;e:{if(St(i)!==i||i.tag!==1)throw Error(n(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Bn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(Bn(l))return yw(i,l,s)}return s}function Hv(i,s,l,d,f,g,_,A,L){return i=Qp(l,d,!0,i,f,g,_,A,L),i.context=zv(null),l=i.current,d=Pn(),f=Us(l),g=Xi(d,f),g.callback=s??null,Ms(l,g,f),i.current.lanes=f,Is(i,f,d),Wn(i,d),i}function bd(i,s,l,d){var f=s.current,g=Pn(),_=Us(f);return l=zv(l),s.context===null?s.context=l:s.pendingContext=l,s=Xi(g,_),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=Ms(f,s,_),i!==null&&(Hr(i,f,_,g),ed(i,f,_)),_}function Cd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Wv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Yp(i,s){Wv(i,s),(i=i.alternate)&&Wv(i,s)}function jI(){return null}var qv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Xp(i){this._internalRoot=i}Id.prototype.render=Xp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));bd(i,s,null,null)},Id.prototype.unmount=Xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;zo(function(){bd(null,i,null,null)}),s[qi]=null}};function Id(i){this._internalRoot=i}Id.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ic();i={blockedOn:null,target:i,priority:s};for(var l=0;l<li.length&&s!==0&&s<li[l].priority;l++);li.splice(l,0,i),l===0&&kc(i)}};function Jp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Sd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function $I(i,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var q=Cd(_);g.call(q)}}var _=Hv(s,d,i,0,null,!1,!1,"",Gv);return i._reactRootContainer=_,i[qi]=_.current,uu(i.nodeType===8?i.parentNode:i),zo(),_}for(;f=i.lastChild;)i.removeChild(f);if(typeof d=="function"){var A=d;d=function(){var q=Cd(L);A.call(q)}}var L=Qp(i,0,!1,null,null,!1,!1,"",Gv);return i._reactRootContainer=L,i[qi]=L.current,uu(i.nodeType===8?i.parentNode:i),zo(function(){bd(s,L,l,d)}),L}function Rd(i,s,l,d,f){var g=l._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var A=f;f=function(){var L=Cd(_);A.call(L)}}bd(s,_,i,f)}else _=$I(l,s,i,f,d);return Cd(_)}bc=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=gt(s.pendingLanes);l!==0&&(Ss(s,l|1),Wn(s,it()),(Xe&6)===0&&(nl=it()+500,Ls()))}break;case 13:zo(function(){var d=Yi(i,1);if(d!==null){var f=Pn();Hr(d,i,1,f)}}),Yp(i,1)}},Ra=function(i){if(i.tag===13){var s=Yi(i,134217728);if(s!==null){var l=Pn();Hr(s,i,134217728,l)}Yp(i,134217728)}},Cc=function(i){if(i.tag===13){var s=Us(i),l=Yi(i,s);if(l!==null){var d=Pn();Hr(l,i,s,d)}Yp(i,s)}},Ic=function(){return Ke},Sc=function(i,s){var l=Ke;try{return Ke=i,s()}finally{Ke=l}},vs=function(i,s,l){switch(s){case"input":if(Ni(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var f=Hc(d);if(!f)throw Error(n(90));Et(d),Ni(d,f)}}}break;case"textarea":Di(i,l);break;case"select":s=l.value,s!=null&&mr(i,!!l.multiple,s,!1)}},ii=zp,_s=zo;var UI={usingClientEntryPoint:!1,Events:[hu,za,Hc,yr,Io,zp]},Su={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BI={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=bs(i),i===null?null:i.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||jI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{Ui=kd.inject(BI),Rn=kd}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UI,qn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(s))throw Error(n(200));return FI(i,s,null,l)},qn.createRoot=function(i,s){if(!Jp(i))throw Error(n(299));var l=!1,d="",f=qv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Qp(i,1,!1,null,null,l,!1,d,f),i[qi]=s.current,uu(i.nodeType===8?i.parentNode:i),new Xp(s)},qn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=bs(s),i=i===null?null:i.stateNode,i},qn.flushSync=function(i){return zo(i)},qn.hydrate=function(i,s,l){if(!Sd(s))throw Error(n(200));return Rd(null,i,s,!0,l)},qn.hydrateRoot=function(i,s,l){if(!Jp(i))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",_=qv;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),s=Hv(s,null,i,1,l??null,f,!1,g,_),i[qi]=s.current,uu(i),d)for(i=0;i<d.length;i++)l=d[i],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Id(s)},qn.render=function(i,s,l){if(!Sd(s))throw Error(n(200));return Rd(null,i,s,!1,l)},qn.unmountComponentAtNode=function(i){if(!Sd(i))throw Error(n(40));return i._reactRootContainer?(zo(function(){Rd(null,null,i,!1,function(){i._reactRootContainer=null,i[qi]=null})}),!0):!1},qn.unstable_batchedUpdates=zp,qn.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!Sd(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Rd(i,s,l,!1,d)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var t_;function XI(){if(t_)return tm.exports;t_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tm.exports=YI(),tm.exports}var n_;function JI(){if(n_)return Ad;n_=1;var t=XI();return Ad.createRoot=t.createRoot,Ad.hydrateRoot=t.hydrateRoot,Ad}var ZI=JI();const eS=()=>{};var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],h=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,h=c?t[o+1]:0,p=o+2<t.length,y=p?t[o+2]:0,w=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|y>>6,x=y&63;p||(x=64,c||(T=64)),r.push(n[w],n[E],n[T],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||E==null)throw new nS;const T=a<<2|h>>4;if(r.push(T),y!==64){const x=h<<4&240|y>>2;if(r.push(x),E!==64){const D=y<<6&192|E;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rS=function(t){const e=kE(t);return AE.encodeByteArray(e,!0)},lh=function(t){return rS(t).replace(/\./g,"")},PE=function(t){try{return AE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=()=>iS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof r_>"u")return;const t=r_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PE(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return eS()||sS()||oS()||aS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xE=t=>Gh()?.emulatorHosts?.[t],NE=t=>{const e=xE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OE=()=>Gh()?.config,DE=t=>Gh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[lh(JSON.stringify(n)),lh(JSON.stringify(c)),""].join(".")}const Mu={};function uS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?t.emulator.push(e):t.prod.push(e);return t}function cS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let i_=!1;function vg(t,e){if(typeof window>"u"||typeof document>"u"||!pa(window.location.host)||Mu[t]===e||Mu[t]||i_)return;Mu[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=uS().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{i_=!0,c()},T}function w(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=cS(r),x=n("text"),D=document.getElementById(x)||document.createElement("span"),F=n("learnmore"),O=document.getElementById(F)||document.createElement("a"),W=n("preprendIcon"),z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;h(K),w(O,F);const Z=y();p(z,W),K.append(z,D,O,Z),document.body.appendChild(K)}a?(D.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function hS(){const t=Gh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_S,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?ES(a,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Ai(o,h,r)}}function ES(t,e){return t.replace(TS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const TS=/\{\$([^}]+)}/g;function bS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],c=e[o];if(s_(a)&&s_(c)){if(!oo(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function s_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CS(t,e){const n=new IS(t,e);return n.subscribe.bind(n)}class IS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AS(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(t){return t===Qo?void 0:t}function AS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const xS={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},NS=We.INFO,OS={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},DS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=OS[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _g{constructor(e){this.name=e,this._logLevel=NS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const LS=(t,e)=>e.some(n=>t instanceof n);let o_,a_;function VS(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MS(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,km=new WeakMap,ME=new WeakMap,sm=new WeakMap,Eg=new WeakMap;function FS(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(eo(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,t)}).catch(()=>{}),Eg.set(e,t),e}function jS(t){if(km.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});km.set(t,e)}let Am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ME.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $S(t){Am=t(Am)}function US(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(om(this),e,...n);return ME.set(r,e.sort?e.sort():[e]),eo(r)}:MS().includes(t)?function(...e){return t.apply(om(this),e),eo(VE.get(this))}:function(...e){return eo(t.apply(om(this),e))}}function BS(t){return typeof t=="function"?US(t):(t instanceof IDBTransaction&&jS(t),LS(t,VS())?new Proxy(t,Am):t)}function eo(t){if(t instanceof IDBRequest)return FS(t);if(sm.has(t))return sm.get(t);const e=BS(t);return e!==t&&(sm.set(t,e),Eg.set(e,t)),e}const om=t=>Eg.get(t);function zS(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),h=eo(c);return r&&c.addEventListener("upgradeneeded",p=>{r(eo(c.result),p.oldVersion,p.newVersion,eo(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const HS=["get","getKey","getAll","getAllKeys","count"],WS=["put","add","delete","clear"],am=new Map;function l_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=WS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||HS.includes(n)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&p.done]))[0]};return am.set(e,a),a}$S(t=>({...t,get:(e,n,r)=>l_(e,n)||t.get(e,n,r),has:(e,n)=>!!l_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GS(t){return t.getComponent()?.type==="VERSION"}const Pm="@firebase/app",u_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new _g("@firebase/app"),KS="@firebase/app-compat",QS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",JS="@firebase/app-check",ZS="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",rR="@firebase/database-compat",iR="@firebase/functions",sR="@firebase/functions-compat",oR="@firebase/installations",aR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",dR="@firebase/performance-compat",hR="@firebase/remote-config",fR="@firebase/remote-config-compat",pR="@firebase/storage",mR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/ai",wR="@firebase/firestore-compat",vR="firebase",_R="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",ER={[Pm]:"fire-core",[KS]:"fire-core-compat",[YS]:"fire-analytics",[QS]:"fire-analytics-compat",[JS]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[rR]:"fire-rtdb-compat",[iR]:"fire-fn",[sR]:"fire-fn-compat",[oR]:"fire-iid",[aR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[dR]:"fire-perf-compat",[hR]:"fire-rc",[fR]:"fire-rc-compat",[pR]:"fire-gcs",[mR]:"fire-gcs-compat",[gR]:"fire-fst",[wR]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[vR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,TR=new Map,Nm=new Map;function c_(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sa(t){const e=t.name;if(Nm.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(const n of uh.values())c_(n,t);for(const n of TR.values())c_(n,t);return!0}function Kh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new nc("app","Firebase",bR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=_R;function FE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw to.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw to.create("no-options");const a=uh.get(o);if(a){if(oo(n,a.options)&&oo(r,a.config))return a;throw to.create("duplicate-app",{appName:o})}const c=new PS(o);for(const p of Nm.values())c.addComponent(p);const h=new CR(n,r,c);return uh.set(o,h),h}function Tg(t=xm){const e=uh.get(t);if(!e&&t===xm&&OE())return FE();if(!e)throw to.create("no-app",{appName:t});return e}function vi(t,e,n){let r=ER[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(c.join(" "));return}sa(new ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebase-heartbeat-database",SR=1,qu="firebase-heartbeat-store";let lm=null;function jE(){return lm||(lm=zS(IR,SR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),lm}async function RR(t){try{const n=(await jE()).transaction(qu),r=await n.objectStore(qu).get($E(t));return await n.done,r}catch(e){if(e instanceof Ai)ls.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e?.message});ls.warn(n.message)}}}async function d_(t,e){try{const r=(await jE()).transaction(qu,"readwrite");await r.objectStore(qu).put(e,$E(t)),await r.done}catch(n){if(n instanceof Ai)ls.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n?.message});ls.warn(r.message)}}}function $E(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=1024,AR=30;class PR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>AR){const o=OR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:n,unsentEntries:r}=xR(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ls.warn(e),""}}}function h_(){return new Date().toISOString().substring(0,10)}function xR(t,e=kR){const n=[];let r=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),f_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function f_(t){return lh(JSON.stringify({version:2,heartbeats:t})).length}function OR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){sa(new ao("platform-logger",e=>new qS(e),"PRIVATE")),sa(new ao("heartbeat",e=>new PR(e),"PRIVATE")),vi(Pm,u_,t),vi(Pm,u_,"esm2020"),vi("fire-js","")}DR("");function UE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LR=UE,BE=new nc("auth","Firebase",UE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new _g("@firebase/auth");function VR(t,...e){ch.logLevel<=We.WARN&&ch.warn(`Auth (${ma}): ${t}`,...e)}function Hd(t,...e){ch.logLevel<=We.ERROR&&ch.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw Cg(t,...e)}function Kr(t,...e){return Cg(t,...e)}function bg(t,e,n){const r={...LR(),[e]:n};return new nc("auth","Firebase",r).create(e,{appName:t.name})}function is(t){return bg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(t,"argument-error"),bg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BE.create(t,...e)}function Pe(t,e,...n){if(!t)throw Cg(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function us(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){return typeof self<"u"&&self.location?.href||""}function FR(){return p_()==="http:"||p_()==="https:"}function p_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FR()||pS()||"connection"in navigator)?navigator.onLine:!0}function $R(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=dS()||mS()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zR=new ic(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xr(t,e,n,r,o={}){return HE(t,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=rc({key:t.config.apiKey,...c}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:p,...a};return fS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&pa(t.emulatorConfig.host)&&(y.credentials="include"),zE.fetch()(await WE(t,t.config.apiHost,n,h),y)})}async function HE(t,e,n){t._canInitEmulator=!1;const r={...UR,...e};try{const o=new WR(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Pd(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Pd(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Pd(t,"user-disabled",c);const w=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bg(t,w,y);Ar(t,w)}}catch(o){if(o instanceof Ai)throw o;Ar(t,"network-request-failed",{message:String(o)})}}async function sc(t,e,n,r,o={}){const a=await Xr(t,e,n,r,o);return"mfaPendingCredential"in a&&Ar(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function WE(t,e,n,r){const o=`${e}${n}?${r}`,a=t,c=a.config.emulator?Ig(t.config,o):`${t.config.apiScheme}://${o}`;return BR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function HR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),zR.get())})}}function Pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Kr(t,e,r);return o.customData._tokenResponse=n,o}function m_(t){return t!==void 0&&t.enterprise!==void 0}class qR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GR(t,e){return Xr(t,"GET","/v2/recaptchaConfig",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e){return Xr(t,"POST","/v1/accounts:delete",e)}async function dh(t,e){return Xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QR(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),o=Sg(r);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:Fu(um(o.auth_time)),issuedAtTime:Fu(um(o.iat)),expirationTime:Fu(um(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function um(t){return Number(t)*1e3}function Sg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const o=PE(n);return o?JSON.parse(o):(Hd("Failed to decode base64 JWT payload"),null)}catch(o){return Hd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g_(t){const e=Sg(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&YR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){const e=t.auth,n=await t.getIdToken(),r=await oa(t,dh(e,{idToken:n}));Pe(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?qE(o.providerUserInfo):[],c=ZR(t.providerData,a),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!c?.length,y=h?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function JR(t){const e=Lt(t);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZR(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function qE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t,e){const n=await HE(t,{},async()=>{const r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=await WE(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return t.emulatorConfig&&pa(t.emulatorConfig.host)&&(p.credentials="include"),zE.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tk(t,e){return Xr(t,"POST","/v2/accounts:revokeToken",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=g_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await ek(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,c=new hl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Pe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Pe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new XR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QR(this,e)}reload(){return JR(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await oa(this,KR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:x,providerData:D,stsTokenManager:F}=n;Pe(E&&F,e,"internal-error");const O=hl.fromJSON(this.name,F);Pe(typeof E=="string",e,"internal-error"),Ws(r,e.name),Ws(o,e.name),Pe(typeof T=="boolean",e,"internal-error"),Pe(typeof x=="boolean",e,"internal-error"),Ws(a,e.name),Ws(c,e.name),Ws(h,e.name),Ws(p,e.name),Ws(y,e.name),Ws(w,e.name);const W=new Wr({uid:E,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:O,createdAt:y,lastLoginAt:w});return D&&Array.isArray(D)&&(W.providerData=D.map(z=>({...z}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new hl;o.updateFromServerResponse(n);const a=new Wr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await hh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?qE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new hl;h.updateFromIdToken(r);const p=new Wr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function rs(t){us(t instanceof Function,"Expected a class definition");let e=y_.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GE.type="NONE";const w_=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Wd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Wd("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?Wr._fromGetAccountInfoResponse(this.auth,n,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fl(rs(w_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||rs(w_);const c=Wd(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const w=await y._get(c);if(w){let E;if(typeof w=="string"){const T=await dh(e,{idToken:w}).catch(()=>{});if(!T)break;E=await Wr._fromGetAccountInfoResponse(e,T,w)}else E=Wr._fromJSON(e,w);y!==a&&(h=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new fl(a,e,r):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new fl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZE(e))return"Blackberry";if(e1(e))return"Webos";if(QE(e))return"Safari";if((e.includes("chrome/")||YE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function KE(t=Cn()){return/firefox\//i.test(t)}function QE(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YE(t=Cn()){return/crios\//i.test(t)}function XE(t=Cn()){return/iemobile/i.test(t)}function JE(t=Cn()){return/android/i.test(t)}function ZE(t=Cn()){return/blackberry/i.test(t)}function e1(t=Cn()){return/webos/i.test(t)}function Rg(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nk(t=Cn()){return Rg(t)&&!!window.navigator?.standalone}function rk(){return gS()&&document.documentMode===10}function t1(t=Cn()){return Rg(t)||JE(t)||e1(t)||ZE(t)||/windows phone/i.test(t)||XE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e=[]){let n;switch(t){case"Browser":n=v_(Cn());break;case"Worker":n=`${v_(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e={}){return Xr(t,"GET","/v2/passwordPolicy",ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=6;class ak{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ok,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(is(this));const n=e?Lt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sk(this),n=new ak(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ms(t){return Lt(t)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=CS(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uk(t){Qh=t}function r1(t){return Qh.loadJS(t)}function ck(){return Qh.recaptchaEnterpriseScript}function dk(){return Qh.gapiScript}function hk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fk{constructor(){this.enterprise=new pk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mk="recaptcha-enterprise",i1="NO_RECAPTCHA";class gk{constructor(e){this.type=mk,this.auth=ms(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{GR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new qR(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;m_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(i1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fk().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&m_(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ck();p.length!==0&&(p+=h),r1(p).then(()=>{o(h,a,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function E_(t,e,n,r=!1,o=!1){const a=new gk(t);let c;if(o)c=i1;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function fh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await E_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await E_(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e){const n=Kh(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(oo(a,e??{}))return o;Ar(o,"already-initialized")}return n.initialize({options:e})}function wk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vk(t,e,n){const r=ms(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=s1(e),{host:c,port:h}=_k(e),p=h===null?"":`:${h}`,y={url:`${a}//${c}${p}/`},w=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(oo(y,r.config.emulator)&&oo(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,pa(c)?(wg(`${a}//${c}${p}`),vg("Auth",!0)):Ek()}function s1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _k(t){const e=s1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:T_(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:T_(c)}}}function T_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ek(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function Tk(t,e){return Xr(t,"POST","/v1/accounts:update",e)}async function bk(t,e){return Xr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,e){return sc(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}async function Ik(t,e){return Xr(t,"POST","/v1/accounts:sendOobCode",ps(t,e))}async function Sk(t,e){return Ik(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function kk(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends kg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,n,"signInWithPassword",Ck);case"emailLink":return Rk(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,r,"signUpPassword",bk);case"emailLink":return kk(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e){return sc(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="http://localhost";class aa extends kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const c=new aa(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:Ak,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xk(t){const e=Pu(xu(t)).link,n=e?Pu(xu(e)).deep_link_id:null,r=Pu(xu(t)).deep_link_id;return(r?Pu(xu(r)).link:null)||r||n||e||t}class Ag{constructor(e){const n=Pu(xu(e)),r=n.apiKey??null,o=n.oobCode??null,a=Pk(n.mode??null);Pe(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xk(e);try{return new Ag(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,n){return Gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ag.parseLink(n);return Pe(r,"argument-error"),Gu._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends oc{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends oc{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends oc{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return sc(t,"POST","/v1/accounts:signUp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await Wr._fromIdTokenResponse(e,r,o),c=b_(r);return new la({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=b_(r);return new la({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function b_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Ai{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new ph(e,n,r,o)}}function o1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(t,a,e,r):a})}async function Ok(t,e,n=!1){const r=await oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(is(r));const o="reauthenticate";try{const a=await oa(t,o1(r,o,e,t),n);Pe(a.idToken,r,"internal-error");const c=Sg(a.idToken);Pe(c,r,"internal-error");const{sub:h}=c;return Pe(t.uid===h,r,"user-mismatch"),la._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(t,e,n=!1){if(Kn(t.app))return Promise.reject(is(t));const r="signIn",o=await o1(t,r,e),a=await la._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function Lk(t,e){return a1(ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(t){const e=ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vk(t,e,n){const r=ms(t);await fh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Sk)}async function Mk(t,e,n){if(Kn(t.app))return Promise.reject(is(t));const r=ms(t),c=await fh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&l1(t),p}),h=await la._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function Fk(t,e,n){return Kn(t.app)?Promise.reject(is(t)):Lk(Lt(t),Ll.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&l1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e){return Xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Lt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await oa(r,jk(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function $k(t,e){return Uk(Lt(t),null,e)}async function Uk(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const c=await oa(t,Tk(r,a));await t._updateTokensIfNecessary(c,!0)}function Bk(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function zk(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function Hk(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}function xg(t){return Lt(t).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=1e3,qk=10;class d1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);rk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qk):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d1.type="LOCAL";const Gk=d1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h1.type="SESSION";const f1=h1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async y=>y(n.origin,a)),p=await Kk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const y=Ng("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function Yk(t){_i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function Xk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jk(){return navigator?.serviceWorker?.controller||null}function Zk(){return p1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebaseLocalStorageDb",eA=1,gh="firebaseLocalStorage",g1="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(t,e){return t.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function tA(){const t=indexedDB.deleteDatabase(m1);return new ac(t).toPromise()}function Lm(){const t=indexedDB.open(m1,eA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gh,{keyPath:g1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await tA(),e(await Lm()))})})}async function C_(t,e,n){const r=Xh(t,!0).put({[g1]:e,value:n});return new ac(r).toPromise()}async function nA(t,e){const n=Xh(t,!1).get(e),r=await new ac(n).toPromise();return r===void 0?null:r.value}function I_(t,e){const n=Xh(t,!0).delete(e);return new ac(n).toPromise()}const rA=800,iA=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(Zk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Xk(),!this.activeServiceWorker)return;this.sender=new Qk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await C_(e,mh,"1"),await I_(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Xh(o,!1).getAll();return new ac(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const sA=y1;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t,e){return e?rs(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oA(t){return a1(t.auth,new Og(t),t.bypassAuthState)}function aA(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Dk(n,new Og(t),t.bypassAuthState)}async function lA(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Ok(n,new Og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oA;case"linkViaPopup":case"linkViaRedirect":return lA;case"reauthViaPopup":case"reauthViaRedirect":return aA;default:Ar(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new ic(2e3,1e4);async function cA(t,e,n){if(Kn(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=ms(t);MR(t,e,Pg);const o=w1(r,n);return new Jo(r,"signInViaPopup",e,o).executeNotNull()}class Jo extends v1{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uA.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="pendingRedirect",qd=new Map;class hA extends v1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const r=await fA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fA(t,e){const n=gA(e),r=mA(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function pA(t,e){qd.set(t._key(),e)}function mA(t){return rs(t._redirectPersistence)}function gA(t){return Wd(dA,t.config.apiKey,t.name)}async function yA(t,e,n=!1){if(Kn(t.app))return Promise.reject(is(t));const r=ms(t),o=w1(r,e),c=await new hA(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=600*1e3;class vA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_A(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Kr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wA&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function _A(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e={}){return Xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bA=/^https?/;async function CA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EA(t);for(const n of e)try{if(IA(n))return}catch{}Ar(t,"unauthorized-domain")}function IA(t){const e=Om(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!bA.test(n))return!1;if(TA.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new ic(3e4,6e4);function R_(){const t=_i().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RA(t){return new Promise((e,n)=>{function r(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(Kr(t,"network-request-failed"))},timeout:SA.get()})}if(_i().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_i().gapi?.load)r();else{const o=hk("iframefcb");return _i()[o]=()=>{gapi.load?r():n(Kr(t,"network-request-failed"))},r1(`${dk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function kA(t){return Gd=Gd||RA(t),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new ic(5e3,15e3),PA="__/auth/iframe",xA="emulator/auth/iframe",NA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DA(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ig(e,xA):`https://${t.config.authDomain}/${PA}`,r={apiKey:e.apiKey,appName:t.name,v:ma},o=OA.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${rc(r).slice(1)}`}async function LA(t){const e=await kA(t),n=_i().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:DA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NA,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=Kr(t,"network-request-failed"),h=_i().setTimeout(()=>{a(c)},AA.get());function p(){_i().clearTimeout(h),o(r)}r.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MA=500,FA=600,jA="_blank",$A="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UA(t,e,n,r=MA,o=FA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...VA,width:r.toString(),height:o.toString(),top:a,left:c},y=Cn().toLowerCase();n&&(h=YE(y)?jA:n),KE(y)&&(e=e||$A,p.scrollbars="yes");const w=Object.entries(p).reduce((T,[x,D])=>`${T}${x}=${D},`,"");if(nk(y)&&h!=="_self")return BA(e||"",h),new k_(null);const E=window.open(e||"",h,w);Pe(E,t,"popup-blocked");try{E.focus()}catch{}return new k_(E)}function BA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="__/auth/handler",HA="emulator/auth/handler",WA=encodeURIComponent("fac");async function A_(t,e,n,r,o,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ma,eventId:o};if(e instanceof Pg){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",bS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))c[w]=E}if(e instanceof oc){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(c.scopes=w.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await t._getAppCheckToken(),y=p?`#${WA}=${encodeURIComponent(p)}`:"";return`${qA(t)}?${rc(h).slice(1)}${y}`}function qA({config:t}){return t.emulator?Ig(t,HA):`https://${t.authDomain}/${zA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class GA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=yA,this._overrideRedirectResult=pA}async _openPopup(e,n,r,o){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await A_(e,n,r,Om(),o);return UA(e,a,Ng())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await A_(e,n,r,Om(),o);return Yk(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(us(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LA(e),r=new vA(e);return n.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cm,{type:cm},o=>{const a=o?.[0]?.[cm];a!==void 0&&n(!!a),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t1()||QE()||Rg()}}const KA=GA;var P_="@firebase/auth",x_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XA(t){sa(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(t)},y=new lk(r,o,a,p);return wk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sa(new ao("auth-internal",e=>{const n=ms(e.getProvider("auth").getImmediate());return(r=>new QA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(P_,x_,YA(t)),vi(P_,x_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=300,ZA=DE("authIdTokenMaxAge")||JA;let N_=null;const e2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZA)return;const o=n?.token;N_!==o&&(N_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ga(t=Tg()){const e=Kh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yk(t,{popupRedirectResolver:KA,persistence:[sA,Gk,f1]}),r=DE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=e2(a.toString());zk(n,c,()=>c(n.currentUser)),Bk(n,h=>c(h))}}const o=xE("auth");return o&&vk(n,`http://${o}`),n}function t2(){return document.getElementsByTagName("head")?.[0]??document}uk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Kr("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",t2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XA("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,E1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function I(){}I.prototype=C.prototype,R.D=C.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(N,V,j){for(var k=Array(arguments.length-2),me=2;me<arguments.length;me++)k[me-2]=arguments[me];return C.prototype[V].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,C,I){I||(I=0);var N=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)N[V]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=R.g[0],I=R.g[1],V=R.g[2];var j=R.g[3],k=C+(j^I&(V^j))+N[0]+3614090360&4294967295;C=I+(k<<7&4294967295|k>>>25),k=j+(V^C&(I^V))+N[1]+3905402710&4294967295,j=C+(k<<12&4294967295|k>>>20),k=V+(I^j&(C^I))+N[2]+606105819&4294967295,V=j+(k<<17&4294967295|k>>>15),k=I+(C^V&(j^C))+N[3]+3250441966&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+(j^I&(V^j))+N[4]+4118548399&4294967295,C=I+(k<<7&4294967295|k>>>25),k=j+(V^C&(I^V))+N[5]+1200080426&4294967295,j=C+(k<<12&4294967295|k>>>20),k=V+(I^j&(C^I))+N[6]+2821735955&4294967295,V=j+(k<<17&4294967295|k>>>15),k=I+(C^V&(j^C))+N[7]+4249261313&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+(j^I&(V^j))+N[8]+1770035416&4294967295,C=I+(k<<7&4294967295|k>>>25),k=j+(V^C&(I^V))+N[9]+2336552879&4294967295,j=C+(k<<12&4294967295|k>>>20),k=V+(I^j&(C^I))+N[10]+4294925233&4294967295,V=j+(k<<17&4294967295|k>>>15),k=I+(C^V&(j^C))+N[11]+2304563134&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+(j^I&(V^j))+N[12]+1804603682&4294967295,C=I+(k<<7&4294967295|k>>>25),k=j+(V^C&(I^V))+N[13]+4254626195&4294967295,j=C+(k<<12&4294967295|k>>>20),k=V+(I^j&(C^I))+N[14]+2792965006&4294967295,V=j+(k<<17&4294967295|k>>>15),k=I+(C^V&(j^C))+N[15]+1236535329&4294967295,I=V+(k<<22&4294967295|k>>>10),k=C+(V^j&(I^V))+N[1]+4129170786&4294967295,C=I+(k<<5&4294967295|k>>>27),k=j+(I^V&(C^I))+N[6]+3225465664&4294967295,j=C+(k<<9&4294967295|k>>>23),k=V+(C^I&(j^C))+N[11]+643717713&4294967295,V=j+(k<<14&4294967295|k>>>18),k=I+(j^C&(V^j))+N[0]+3921069994&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(V^j&(I^V))+N[5]+3593408605&4294967295,C=I+(k<<5&4294967295|k>>>27),k=j+(I^V&(C^I))+N[10]+38016083&4294967295,j=C+(k<<9&4294967295|k>>>23),k=V+(C^I&(j^C))+N[15]+3634488961&4294967295,V=j+(k<<14&4294967295|k>>>18),k=I+(j^C&(V^j))+N[4]+3889429448&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(V^j&(I^V))+N[9]+568446438&4294967295,C=I+(k<<5&4294967295|k>>>27),k=j+(I^V&(C^I))+N[14]+3275163606&4294967295,j=C+(k<<9&4294967295|k>>>23),k=V+(C^I&(j^C))+N[3]+4107603335&4294967295,V=j+(k<<14&4294967295|k>>>18),k=I+(j^C&(V^j))+N[8]+1163531501&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(V^j&(I^V))+N[13]+2850285829&4294967295,C=I+(k<<5&4294967295|k>>>27),k=j+(I^V&(C^I))+N[2]+4243563512&4294967295,j=C+(k<<9&4294967295|k>>>23),k=V+(C^I&(j^C))+N[7]+1735328473&4294967295,V=j+(k<<14&4294967295|k>>>18),k=I+(j^C&(V^j))+N[12]+2368359562&4294967295,I=V+(k<<20&4294967295|k>>>12),k=C+(I^V^j)+N[5]+4294588738&4294967295,C=I+(k<<4&4294967295|k>>>28),k=j+(C^I^V)+N[8]+2272392833&4294967295,j=C+(k<<11&4294967295|k>>>21),k=V+(j^C^I)+N[11]+1839030562&4294967295,V=j+(k<<16&4294967295|k>>>16),k=I+(V^j^C)+N[14]+4259657740&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(I^V^j)+N[1]+2763975236&4294967295,C=I+(k<<4&4294967295|k>>>28),k=j+(C^I^V)+N[4]+1272893353&4294967295,j=C+(k<<11&4294967295|k>>>21),k=V+(j^C^I)+N[7]+4139469664&4294967295,V=j+(k<<16&4294967295|k>>>16),k=I+(V^j^C)+N[10]+3200236656&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(I^V^j)+N[13]+681279174&4294967295,C=I+(k<<4&4294967295|k>>>28),k=j+(C^I^V)+N[0]+3936430074&4294967295,j=C+(k<<11&4294967295|k>>>21),k=V+(j^C^I)+N[3]+3572445317&4294967295,V=j+(k<<16&4294967295|k>>>16),k=I+(V^j^C)+N[6]+76029189&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(I^V^j)+N[9]+3654602809&4294967295,C=I+(k<<4&4294967295|k>>>28),k=j+(C^I^V)+N[12]+3873151461&4294967295,j=C+(k<<11&4294967295|k>>>21),k=V+(j^C^I)+N[15]+530742520&4294967295,V=j+(k<<16&4294967295|k>>>16),k=I+(V^j^C)+N[2]+3299628645&4294967295,I=V+(k<<23&4294967295|k>>>9),k=C+(V^(I|~j))+N[0]+4096336452&4294967295,C=I+(k<<6&4294967295|k>>>26),k=j+(I^(C|~V))+N[7]+1126891415&4294967295,j=C+(k<<10&4294967295|k>>>22),k=V+(C^(j|~I))+N[14]+2878612391&4294967295,V=j+(k<<15&4294967295|k>>>17),k=I+(j^(V|~C))+N[5]+4237533241&4294967295,I=V+(k<<21&4294967295|k>>>11),k=C+(V^(I|~j))+N[12]+1700485571&4294967295,C=I+(k<<6&4294967295|k>>>26),k=j+(I^(C|~V))+N[3]+2399980690&4294967295,j=C+(k<<10&4294967295|k>>>22),k=V+(C^(j|~I))+N[10]+4293915773&4294967295,V=j+(k<<15&4294967295|k>>>17),k=I+(j^(V|~C))+N[1]+2240044497&4294967295,I=V+(k<<21&4294967295|k>>>11),k=C+(V^(I|~j))+N[8]+1873313359&4294967295,C=I+(k<<6&4294967295|k>>>26),k=j+(I^(C|~V))+N[15]+4264355552&4294967295,j=C+(k<<10&4294967295|k>>>22),k=V+(C^(j|~I))+N[6]+2734768916&4294967295,V=j+(k<<15&4294967295|k>>>17),k=I+(j^(V|~C))+N[13]+1309151649&4294967295,I=V+(k<<21&4294967295|k>>>11),k=C+(V^(I|~j))+N[4]+4149444226&4294967295,C=I+(k<<6&4294967295|k>>>26),k=j+(I^(C|~V))+N[11]+3174756917&4294967295,j=C+(k<<10&4294967295|k>>>22),k=V+(C^(j|~I))+N[2]+718787259&4294967295,V=j+(k<<15&4294967295|k>>>17),k=I+(j^(V|~C))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var I=C-this.blockSize,N=this.B,V=this.h,j=0;j<C;){if(V==0)for(;j<=I;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<C;)if(N[V++]=R.charCodeAt(j++),V==this.blockSize){o(this,N),V=0;break}}else for(;j<C;)if(N[V++]=R[j++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var I=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=I&255,I/=256;for(this.u(R),R=Array(16),C=I=0;4>C;++C)for(var N=0;32>N;N+=8)R[I++]=this.g[C]>>>N&255;return R};function a(R,C){var I=h;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=C(R)}function c(R,C){this.h=C;for(var I=[],N=!0,V=R.length-1;0<=V;V--){var j=R[V]|0;N&&j==C||(I[V]=j,N=!1)}this.g=I}var h={};function p(R){return-128<=R&&128>R?a(R,function(C){return new c([C|0],0>C?-1:0)}):new c([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return E;if(0>R)return O(y(-R));for(var C=[],I=1,N=0;R>=I;N++)C[N]=R/I|0,I*=4294967296;return new c(C,0)}function w(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return O(w(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(C,8)),N=E,V=0;V<R.length;V+=8){var j=Math.min(8,R.length-V),k=parseInt(R.substring(V,V+j),C);8>j?(j=y(Math.pow(C,j)),N=N.j(j).add(y(k))):(N=N.j(I),N=N.add(y(k)))}return N}var E=p(0),T=p(1),x=p(16777216);t=c.prototype,t.m=function(){if(F(this))return-O(this).m();for(var R=0,C=1,I=0;I<this.g.length;I++){var N=this.i(I);R+=(0<=N?N:4294967296+N)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(F(this))return"-"+O(this).toString(R);for(var C=y(Math.pow(R,6)),I=this,N="";;){var V=Z(I,C).g;I=W(I,V.j(C));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=V,D(I))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function F(R){return R.h==-1}t.l=function(R){return R=W(this,R),F(R)?-1:D(R)?0:1};function O(R){for(var C=R.g.length,I=[],N=0;N<C;N++)I[N]=~R.g[N];return new c(I,~R.h).add(T)}t.abs=function(){return F(this)?O(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0,V=0;V<=C;V++){var j=N+(this.i(V)&65535)+(R.i(V)&65535),k=(j>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);N=k>>>16,j&=65535,k&=65535,I[V]=k<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function W(R,C){return R.add(O(C))}t.j=function(R){if(D(this)||D(R))return E;if(F(this))return F(R)?O(this).j(O(R)):O(O(this).j(R));if(F(R))return O(this.j(O(R)));if(0>this.l(x)&&0>R.l(x))return y(this.m()*R.m());for(var C=this.g.length+R.g.length,I=[],N=0;N<2*C;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<R.g.length;V++){var j=this.i(N)>>>16,k=this.i(N)&65535,me=R.i(V)>>>16,Te=R.i(V)&65535;I[2*N+2*V]+=k*Te,z(I,2*N+2*V),I[2*N+2*V+1]+=j*Te,z(I,2*N+2*V+1),I[2*N+2*V+1]+=k*me,z(I,2*N+2*V+1),I[2*N+2*V+2]+=j*me,z(I,2*N+2*V+2)}for(N=0;N<C;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=C;N<2*C;N++)I[N]=0;return new c(I,0)};function z(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function K(R,C){this.g=R,this.h=C}function Z(R,C){if(D(C))throw Error("division by zero");if(D(R))return new K(E,E);if(F(R))return C=Z(O(R),C),new K(O(C.g),O(C.h));if(F(C))return C=Z(R,O(C)),new K(O(C.g),C.h);if(30<R.g.length){if(F(R)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var I=T,N=C;0>=N.l(R);)I=ce(I),N=ce(N);var V=se(I,1),j=se(N,1);for(N=se(N,2),I=se(I,2);!D(N);){var k=j.add(N);0>=k.l(R)&&(V=V.add(I),j=k),N=se(N,1),I=se(I,1)}return C=W(R,V.j(C)),new K(V,C)}for(V=E;0<=R.l(C);){for(I=Math.max(1,Math.floor(R.m()/C.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=y(I),k=j.j(C);F(k)||0<k.l(R);)I-=N,j=y(I),k=j.j(C);D(j)&&(j=T),V=V.add(j),R=W(R,k)}return new K(V,R)}t.A=function(R){return Z(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)&R.i(N);return new c(I,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)|R.i(N);return new c(I,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)^R.i(N);return new c(I,this.h^R.h)};function ce(R){for(var C=R.g.length+1,I=[],N=0;N<C;N++)I[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(I,R.h)}function se(R,C){var I=C>>5;C%=32;for(var N=R.g.length-I,V=[],j=0;j<N;j++)V[j]=0<C?R.i(j+I)>>>C|R.i(j+I+1)<<32-C:R.i(j+I);return new c(V,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,E1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,no=c}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T1,Nu,b1,Kd,Vm,C1,I1,S1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,b=!1,U={next:function(){if(!b&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:E,T.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function D(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,U,Q){for(var de=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)de[rt-2]=arguments[rt];return m.prototype[U].apply(b,de)}}function F(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function O(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const U=u.length||0,Q=b.length||0;u.length=U+Q;for(let de=0;de<Q;de++)u[U+de]=b[de]}else u.push(b)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Z(u){return Z[" "](u),u}Z[" "]=function(){};var ce=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function se(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function R(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function C(u){const m={};for(const v in u)m[v]=u[v];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let Q=0;Q<I.length;Q++)v=I[Q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){h.setTimeout(()=>{throw u},0)}function k(){var u=oe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const b=Te.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Te=new W(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,X=!1,oe=new me,ae=()=>{const u=h.Promise.resolve(void 0);te=()=>{u.then($)}};var $=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){j(v)}var m=Te;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}X=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u})();function Ne(u,m){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ce){e:{try{Z(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}D(Ne,he);var Oe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function $e(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++Me,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _t(u){this.src=u,this.g={},this.h=0}_t.prototype.add=function(u,m,v,b,U){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var de=Xn(u,m,b,U);return-1<de?(m=u[de],v||(m.fa=!1)):(m=new $e(m,this.src,Q,!!b,U),m.fa=v,u.push(m)),m};function Et(u,m){var v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(b,U,1),Q&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Xn(u,m,v,b){for(var U=0;U<u.length;++U){var Q=u[U];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==b)return U}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),ei={};function xi(u,m,v,b,U){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)xi(u,m[Q],v,b,U);return null}return v=vo(v),u&&u[Fe]?u.K(m,v,y(b)?!!b.capture:!1,U):Ni(u,m,v,!1,b,U)}function Ni(u,m,v,b,U,Q){if(!m)throw Error("Invalid event type");var de=y(U)?!!U.capture:!!U,rt=Oi(u);if(rt||(u[pr]=rt=new _t(u)),v=rt.add(m,v,b,de,Q),v.proxy)return v;if(b=pt(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)Ce||(U=de),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(mr(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pt(){function u(v){return m.call(u.src,u.listener,v)}const m=ys;return u}function gs(u,m,v,b,U){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)gs(u,m[Q],v,b,U);else b=y(b)?!!b.capture:!!b,v=vo(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=Xn(Q,v,b,U),-1<v&&(ot(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Oi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Xn(m,v,b,U)),(v=-1<u?m[u]:null)&&Ln(v))}function Ln(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])Et(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(mr(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Oi(m))?(Et(v,u),v.h==0&&(v.src=null,m[pr]=null)):ot(u)}}}function mr(u){return u in ei?ei[u]:ei[u]="on"+u}function ys(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&Ln(u),u=v.call(b,m)}return u}function Oi(u){return u=u[pr],u instanceof _t?u:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(u){return typeof u=="function"?u:(u[Di]||(u[Di]=function(m){return u.handleEvent(m)}),u[Di])}function At(){G.call(this),this.i=new _t(this),this.M=this,this.F=null}D(At,G),At.prototype[Fe]=!0,At.prototype.removeEventListener=function(u,m,v,b){gs(this,u,m,v,b)};function It(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new he(m,u);else if(m instanceof he)m.target=m.target||u;else{var U=m;m=new he(b,u),N(m,U)}if(U=!0,v)for(var Q=v.length-1;0<=Q;Q--){var de=m.g=v[Q];U=Jn(de,b,!0,m)&&U}if(de=m.g=u,U=Jn(de,b,!0,m)&&U,U=Jn(de,b,!1,m)&&U,v)for(Q=0;Q<v.length;Q++)de=m.g=v[Q],U=Jn(de,b,!1,m)&&U}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)ot(v[b]);delete u.g[m],u.h--}}this.F=null},At.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},At.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Jn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,Q=0;Q<m.length;++Q){var de=m[Q];if(de&&!de.da&&de.capture==v){var rt=de.listener,qt=de.ha||de.src;de.fa&&Et(u.i,de),U=rt.call(qt,b)!==!1&&U}}return U&&!b.defaultPrevented}function _o(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function ti(u){u.g=_o(()=>{u.g=null,u.i&&(u.i=!1,ti(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ni extends G{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(u){G.call(this),this.h=u,this.g={}}D(ri,G);var Eo=[];function To(u){se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ln(m)},u),u.g={}}ri.prototype.N=function(){ri.aa.N.call(this),To(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ws=h.JSON.stringify,bo=h.JSON.parse,Co=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Li(){}Li.prototype.h=null;function Vi(u){return u.h||(u.h=u.i())}function vs(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){he.call(this,"d")}D(Zn,he);function gr(){he.call(this,"c")}D(gr,he);var yr={},Io=null;function ii(){return Io=Io||new At}yr.La="serverreachability";function _s(u){he.call(this,yr.La,u)}D(_s,he);function wr(u){const m=ii();It(m,new _s(m))}yr.STAT_EVENT="statevent";function Es(u,m){he.call(this,yr.STAT_EVENT,u),this.stat=m}D(Es,he);function mt(u){const m=ii();It(m,new Es(m,u))}yr.Ma="timingevent";function Mi(u,m){he.call(this,yr.Ma,u),this.size=m}D(Mi,he);function Vn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function Fi(u,m,v,b,U,Q){u.info(function(){if(u.g)if(Q)for(var de="",rt=Q.split("&"),qt=0;qt<rt.length;qt++){var Qe=rt[qt].split("=");if(1<Qe.length){var Jt=Qe[0];Qe=Qe[1];var jt=Jt.split("_");de=2<=jt.length&&jt[1]=="type"?de+(Jt+"="+Qe+"&"):de+(Jt+"=redacted&")}}else de=null;else de=Q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+de})}function Ts(u,m,v,b,U,Q,de){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+Q+" "+de})}function Mt(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+So(u,v)+(b?" "+b:"")})}function an(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function So(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var de=1;de<U.length;de++)U[de]=""}}}}return ws(v)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ro={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},St;function Mn(){}D(Mn,Li),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},St=new Mn;function er(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}var bs={},Or={};function $i(u,m,v){u.L=1,u.v=Ss(Ft(m)),u.m=v,u.P=!0,ko(u,null)}function ko(u,m){u.F=Date.now(),it(u),u.A=Ft(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),ks(v.i,"t",b),u.C=0,v=u.j.J,u.h=new vr,u.g=Dc(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ni(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Eo[0]=U.toString()),U=Eo);for(var Q=0;Q<U.length;Q++){var de=xi(v,U[Q],b||m.handleEvent,!1,m.h||m);if(!de)break;m.g[de.key]=de}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wr(),Fi(u.i,u.u,u.A,u.l,u.R,u.m)}er.prototype.ca=function(u){u=u.target;const m=this.M;m&&$n(u)==3?m.j():this.Y(u)},er.prototype.Y=function(u){try{if(u==this.g)e:{const jt=$n(this.g);var m=this.g.Ba();const Er=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||eu(this.g)))){this.J||jt!=4||m==7||(m==8||0>=Er?wr(3):wr(2)),tr(this);var v=this.g.Z();this.X=v;t:if(Ta(this)){var b=eu(this.g);u="";var U=b.length,Q=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),oi(this);var de="";break t}this.h.i=new h.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Q&&m==U-1)});b.length=0,this.h.g+=u,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=v==200,Ts(this.i,this.u,this.A,this.l,this.R,jt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,qt=this.g;if((rt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(rt)){var Qe=rt;break t}}Qe=null}if(v=Qe)Mt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ao(this,v);else{this.o=!1,this.s=3,mt(12),Fn(this),oi(this);break e}}if(this.P){v=!0;let ir;for(;!this.J&&this.C<de.length;)if(ir=Yl(this,de),ir==Or){jt==4&&(this.s=4,mt(14),v=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==bs){this.s=4,mt(15),Mt(this.i,this.l,de,"[Invalid Chunk]"),v=!1;break}else Mt(this.i,this.l,ir,null),Ao(this,ir);if(Ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||de.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Mt(this.i,this.l,de,"[Invalid Chunked Response]"),Fn(this),oi(this);else if(0<de.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),nu(Jt),Jt.M=!0,mt(11))}}else Mt(this.i,this.l,de,null),Ao(this,de);jt==4&&Fn(this),this.o&&!this.J&&(jt==4?La(this.j,this):(this.o=!1,it(this)))}else Pa(this.g),v==400&&0<de.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Fn(this),oi(this)}}}catch{}finally{}};function Ta(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yl(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Or:(v=Number(m.substring(v,b)),isNaN(v)?bs:(b+=1,b+v>m.length?Or:(m=m.slice(b,b+v),u.C=b+v,m)))}er.prototype.cancel=function(){this.J=!0,Fn(this)};function it(u){u.S=Date.now()+u.I,Pt(u,u.I)}function Pt(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Vn(T(u.ba,u),m)}function tr(u){u.B&&(h.clearTimeout(u.B),u.B=null)}er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(an(this.i,this.A),this.L!=2&&(wr(),mt(17)),Fn(this),this.s=2,oi(this)):Pt(this,this.S-u)};function oi(u){u.j.G==0||u.J||La(u.j,u)}function Fn(u){tr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,To(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ao(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Rt(v.h,u))){if(!u.K&&Rt(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Da(v),Fr(v);else break e;Oa(v),mt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vn(T(v.Za,v),6e3));if(1>=Ca(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Wi(v,11)}else if((u.K||v.g==u)&&Da(v),!z(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];if(v.T=Qe[0],Qe=Qe[1],v.G==2)if(Qe[0]=="c"){v.K=Qe[1],v.ia=Qe[2];const Jt=Qe[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const jt=Qe[4];jt!=null&&(v.Aa=jt,v.j.info("SVER="+v.Aa));const Er=Qe[5];Er!=null&&typeof Er=="number"&&0<Er&&(b=1.5*Er,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ir=u.g;if(ir){const Do=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var Q=b.h;Q.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Po(Q,Q.h),Q.h=null))}if(b.D){const Ma=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(b.ya=Ma,st(b.I,b.D,Ma))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var de=u;if(b.qa=Oc(b,b.J?b.ia:null,b.W),de.K){Ia(b.h,de);var rt=de,qt=b.L;qt&&(rt.I=qt),rt.B&&(tr(rt),it(rt)),b.g=de}else Oo(b);0<v.i.length&&ci(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Wi(v,7);else v.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Wi(v,7):un(v):Qe[0]!="noop"&&v.l&&v.l.ta(Qe),v.v=0)}}wr(4)}catch{}}var ba=class{constructor(u,m){this.g=u,this.map=m}};function Ui(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ca(u){return u.h?1:u.g?u.g.size:0}function Rt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Po(u,m){u.g?u.g.add(m):u.h=m}function Ia(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ui.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return F(u.i)}function Ie(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function Be(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function gt(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Be(u),b=Ie(u),U=b.length,Q=0;Q<U;Q++)m.call(void 0,b[Q],v&&v[Q],u)}var Wt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ae(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),U=null;if(0<=b){var Q=u[v].substring(0,b);U=u[v].substring(b+1)}else Q=u[v];m(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof nr){this.h=u.h,mn(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.s),this.l=u.l;var m=u.i,v=new ai;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Is(this,v),this.m=u.m}else u&&(m=String(u).match(Wt))?(this.h=!1,mn(this,m[1]||"",!0),this.o=Ke(m[2]||""),this.g=Ke(m[3]||"",!0),Cs(this,m[4]),this.l=Ke(m[5]||"",!0),Is(this,m[6]||"",!0),this.m=Ke(m[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}nr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Rs(m,Ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rs(m,Ra,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rs(v,v.charAt(0)=="/"?Ic:Cc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rs(v,Xl)),u.join("")};function Ft(u){return new nr(u)}function mn(u,m,v){u.j=v?Ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Is(u,m,v){m instanceof ai?(u.i=m,li(u.i,u.h)):(v||(m=Rs(m,Sc)),u.i=new ai(m,u.h))}function st(u,m,v){u.i.set(m,v)}function Ss(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ra=/[#\/\?@]/g,Cc=/[#\?:]/g,Ic=/[#\?]/g,Sc=/[#\?@]/g,Xl=/#/g;function ai(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&Ae(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=ai.prototype,t.add=function(u,m){ln(this),this.i=null,u=_r(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Dr(u,m){ln(u),m=_r(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Lr(u,m){return ln(u),m=_r(u,m),u.g.has(m)}t.forEach=function(u,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)},t.na=function(){ln(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const U=u[b];for(let Q=0;Q<U.length;Q++)v.push(m[b])}return v},t.V=function(u){ln(this);let m=[];if(typeof u=="string")Lr(this,u)&&(m=m.concat(this.g.get(_r(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return ln(this),this.i=null,u=_r(this,u),Lr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ks(u,m,v){Dr(u,m),0<v.length&&(u.i=null,u.g.set(_r(u,m),F(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const Q=encodeURIComponent(String(b)),de=this.V(b);for(b=0;b<de.length;b++){var U=Q;de[b]!==""&&(U+="="+encodeURIComponent(String(de[b]))),u.push(U)}}return this.i=u.join("&")};function _r(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function li(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,b){var U=b.toLowerCase();b!=U&&(Dr(this,b),ks(this,U,v))},u)),u.j=m}function Pf(u,m){const v=new si;if(h.Image){const b=new Image;b.onload=x(jn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=x(jn,v,"TestLoadImage: error",!1,m,b),b.onabort=x(jn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=x(jn,v,"TestLoadImage: timeout",!1,m,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Rc(u,m){const v=new si,b=new AbortController,U=setTimeout(()=>{b.abort(),jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(U),Q.ok?jn(v,"TestPingServer: ok",!0,m):jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),jn(v,"TestPingServer: error",!1,m)})}function jn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function xf(){this.g=new Co}function kc(u,m,v){const b=v||"";try{gt(u,function(U,Q){let de=U;y(U)&&(de=ws(U)),m.push(b+Q+"="+encodeURIComponent(de))})}catch(U){throw m.push(b+"type="+encodeURIComponent("_badmap")),U}}function Bi(u){this.l=u.Ub||null,this.j=u.eb||!1}D(Bi,Li),Bi.prototype.g=function(){return new xo(this.l,this.j)},Bi.prototype.i=(function(u){return function(){return u}})({});function xo(u,m){At.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(xo,At),t=xo.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Mr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ac(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ac(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vr(this):Mr(this),this.readyState==3&&Ac(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Vr(this))},t.Qa=function(u){this.g&&(this.response=u,Vr(this))},t.ga=function(){this.g&&Vr(this)};function Vr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Mr(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Mr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zi(u){let m="";return se(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function As(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=zi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):st(u,m,v))}function yt(u){At.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(yt,At);var Nf=/^https?$/i,Jl=["POST","PUT"];t=yt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():St.g(),this.v=this.o?Vi(this.o):Vi(St),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){No(this,Q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Jl,m,void 0))||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of v)this.g.setRequestHeader(Q,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){No(this,Q)}};function No(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ka(u),rr(u)}function ka(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),rr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zl(this):this.bb())},t.bb=function(){Zl(this)};function Zl(u){if(u.h&&typeof c<"u"&&(!u.v[1]||$n(u)!=4||u.Z()!=2)){if(u.u&&$n(u)==4)_o(u.Ea,0,u);else if(It(u,"readystatechange"),$n(u)==4){u.h=!1;try{const de=u.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=de===0){var U=String(u.D).match(Wt)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),b=!Nf.test(U?U.toLowerCase():"")}v=b}if(v)It(u,"complete"),It(u,"success");else{u.m=6;try{var Q=2<$n(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",ka(u)}}finally{rr(u)}}}}function rr(u,m){if(u.g){Aa(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||It(u,"ready");try{v.onreadystatechange=b}catch{}}}function Aa(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bo(m)}};function eu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(u){const m={};u=(u.g&&2<=$n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(z(u[b]))continue;var v=V(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[U]||[];m[U]=Q,Q.push(v)}R(m,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function tu(u){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ui("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ui("baseRetryDelayMs",5e3,u),this.cb=ui("retryDelaySeedMs",1e4,u),this.Wa=ui("forwardChannelMaxRetries",2,u),this.wa=ui("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(u&&u.concurrentRequestLimit),this.Da=new xf,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tu.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,b){mt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Oc(this,null,this.W),ci(this)};function un(u){if(xa(u),u.G==3){var m=u.U++,v=Ft(u.I);if(st(v,"SID",u.K),st(v,"RID",m),st(v,"TYPE","terminate"),Hi(u,v),m=new er(u,u.j,m),m.L=2,m.v=Ss(Ft(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=Dc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),it(m)}Nc(u)}function Fr(u){u.g&&(nu(u),u.g.cancel(),u.g=null)}function xa(u){Fr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Da(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ci(u){if(!Rn(u.h)&&!u.s){u.s=!0;var m=u.Ga;te||ae(),X||(te(),X=!0),oe.add(m,u),u.B=0}}function Of(u,m){return Ca(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Vn(T(u.Ga,u,m),xc(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new er(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=C(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ps(this,U,m),v=Ft(this.I),st(v,"RID",u),st(v,"CVER",22),this.D&&st(v,"X-HTTP-Session-Id",this.D),Hi(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(zi(Q)))+"&"+m:this.m&&As(v,this.m,Q)),Po(this.h,U),this.Ua&&st(v,"TYPE","init"),this.P?(st(v,"$req",m),st(v,"SID","null"),U.T=!0,$i(U,v,null)):$i(U,v,m),this.G=2}}else this.G==3&&(u?Na(this,u):this.i.length==0||Rn(this.h)||Na(this))};function Na(u,m){var v;m?v=m.l:v=u.U++;const b=Ft(u.I);st(b,"SID",u.K),st(b,"RID",v),st(b,"AID",u.T),Hi(u,b),u.m&&u.o&&As(b,u.m,u.o),v=new er(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ps(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Po(u.h,v),$i(v,b,m)}function Hi(u,m){u.H&&se(u.H,function(v,b){st(m,b,v)}),u.l&&gt({},function(v,b){st(m,b,v)})}function Ps(u,m,v){v=Math.min(u.i.length,v);var b=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let Q=-1;for(;;){const de=["count="+v];Q==-1?0<v?(Q=U[0].g,de.push("ofs="+Q)):Q=0:de.push("ofs="+Q);let rt=!0;for(let qt=0;qt<v;qt++){let Qe=U[qt].g;const Jt=U[qt].map;if(Qe-=Q,0>Qe)Q=Math.max(0,U[qt].g-100),rt=!1;else try{kc(Jt,de,"req"+Qe+"_")}catch{b&&b(Jt)}}if(rt){b=de.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,b}function Oo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;te||ae(),X||(te(),X=!0),oe.add(m,u),u.v=0}}function Oa(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Vn(T(u.Fa,u),xc(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Vn(T(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Fr(this),Pc(this))};function nu(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Pc(u){u.g=new er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Ft(u.qa);st(m,"RID","rpc"),st(m,"SID",u.K),st(m,"AID",u.T),st(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(m,"TO",u.ja),st(m,"TYPE","xmlhttp"),Hi(u,m),u.m&&u.o&&As(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ss(Ft(m)),v.m=null,v.P=!0,ko(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Fr(this),Oa(this),mt(19))};function Da(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function La(u,m){var v=null;if(u.g==m){Da(u),nu(u),u.g=null;var b=2}else if(Rt(u.h,m))v=m.D,Ia(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;b=ii(),It(b,new Mi(b,v)),ci(u)}else Oo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(b==1&&Of(u,m)||b==2&&Oa(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Wi(u,5);break;case 4:Wi(u,10);break;case 3:Wi(u,6);break;default:Wi(u,2)}}}function xc(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Wi(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),b=u.Xa;const U=!b;b=new nr(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||mn(b,"https"),Ss(b),U?Pf(b.toString(),v):Rc(b.toString(),v)}else mt(2);u.G=0,u.l&&u.l.sa(m),Nc(u),xa(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Nc(u){if(u.G=0,u.ka=[],u.l){const m=Sa(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Oc(u,m,v){var b=v instanceof nr?Ft(v):new nr(v);if(b.g!="")m&&(b.g=m+"."+b.g),Cs(b,b.s);else{var U=h.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var Q=new nr(null);b&&mn(Q,b),m&&(Q.g=m),U&&Cs(Q,U),v&&(Q.l=v),b=Q}return v=u.D,m=u.ya,v&&m&&st(b,v,m),st(b,"VER",u.la),Hi(u,b),b}function Dc(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new yt(new Bi({eb:v})):new yt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}t=ru.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(u,m){return new kn(u,m)};function kn(u,m){At.call(this),this.g=new tu(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new di(this)}D(kn,At),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){un(this.g)},kn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ws(u),u=v);m.i.push(new ba(m.Ya++,u)),m.G==3&&ci(m)},kn.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,kn.aa.N.call(this)};function Lc(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(Lc,Zn);function Vc(){gr.call(this),this.status=1}D(Vc,gr);function di(u){this.g=u}D(di,ru),di.prototype.ua=function(){It(this.g,"a")},di.prototype.ta=function(u){It(this.g,new Lc(u))},di.prototype.sa=function(u){It(this.g,new Vc)},di.prototype.ra=function(){It(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,S1=function(){return new Va},I1=function(){return ii()},C1=yr,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,Kd=ji,Ro.COMPLETE="complete",b1=Ro,vs.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",At.prototype.listen=At.prototype.K,Nu=vs,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,T1=yt}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",L_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new _g("@firebase/firestore");function ol(){return ua.logLevel}function ge(t,...e){if(ua.logLevel<=We.DEBUG){const n=e.map(Dg);ua.debug(`Firestore (${Vl}): ${t}`,...n)}}function cs(t,...e){if(ua.logLevel<=We.ERROR){const n=e.map(Dg);ua.error(`Firestore (${Vl}): ${t}`,...n)}}function vl(t,...e){if(ua.logLevel<=We.WARN){const n=e.map(Dg);ua.warn(`Firestore (${Vl}): ${t}`,...n)}}function Dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,R1(t,r,n)}function R1(t,e,n){let r=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function nt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||R1(e,o,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class r2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class i2{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ss,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ss)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new k1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class s2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=l2(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Mm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return dm(o)===dm(a)?qe(o,a):dm(o)?1:-1}return qe(t.length,e.length)}const u2=55296,c2=57343;function dm(t){const e=t.charCodeAt(0);return e>=u2&&e<=c2}function _l(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__name__";class gi{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=gi.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return qe(e.length,n.length)}static compareSegments(e,n){const r=gi.isNumericId(e),o=gi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?gi.extractNumericId(e).compare(gi.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class lt extends gi{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const d2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends gi{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return d2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new fn([M_])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(a(),o++)}if(a(),c)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(lt.fromString(e))}static fromName(e){return new be(lt.fromString(e).popFirst(5))}static empty(){return new be(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h2(t,e,n,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F_(t){if(!be.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j_(t){if(be.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function P1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(t);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function lc(t,e){if(!P1(t))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,U_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*U_);return new ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$_)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ht("string",ft._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new ft(0,0))}static max(){return new Le(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function f2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new lo(o,be.empty(),e)}function p2(t){return new lo(t.readTime,t.key,Ku)}class lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lo(Le.min(),be.empty(),Ku)}static max(){return new lo(Le.max(),be.empty(),Ku)}}function m2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==g2)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&n()}),(p=>r(p)))})),c=!0,a===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((o=>o?ee.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const y=p;n(e[y]).next((w=>{c[y]=w,++h,h===a&&r(c)}),(w=>o(w)))}}))}static doWhile(e,n){return new ee(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function w2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=-1;function ef(t){return t==null}function yh(t){return t===0&&1/t==-1/0}function v2(t){return typeof t=="number"&&Number.isInteger(t)&&!yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function _2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=B_(e)),e=E2(t.get(n),e);return B_(e)}function E2(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case x1:n+="";break;default:n+=a}}return n}function B_(t){return t+x1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??hn.RED,this.left=o??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new hn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new Yt(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new O1("Invalid base64 string: "+a):a}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=T2.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",L1="__type__",V1="__previous_value__",M1="__local_write_time__";function Mg(t){return(t?.mapValue?.fields||{})[L1]?.stringValue===D1}function tf(t){const e=t.mapValue.fields[V1];return Mg(e)?tf(e):e}function Qu(t){const e=uo(t.mapValue.fields[M1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,o,a,c,h,p,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const wh="(default)";class Yu{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="__type__",C2="__max__",Od={mapValue:{}},j1="__vector__",vh="value";function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mg(t)?4:S2(t)?9007199254740991:I2(t)?10:11:xe(28295,{value:t})}function Si(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=uo(o.timestampValue),h=uo(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return co(o.bytesValue).isEqual(co(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Ot(o.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Ot(o.integerValue)===Ot(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Ot(o.doubleValue),h=Ot(a.doubleValue);return c===h?yh(c)===yh(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return _l(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(z_(c)!==z_(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Si(c[p],h[p])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Xu(t,e){return(t.values||[]).find((n=>Si(n,e)))!==void 0}function El(t,e){if(t===e)return 0;const n=ho(t),r=ho(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=Ot(a.integerValue||a.doubleValue),p=Ot(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return W_(t.timestampValue,e.timestampValue);case 4:return W_(Qu(t),Qu(e));case 5:return Mm(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=co(a),p=co(c);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const w=qe(h[y],p[y]);if(w!==0)return w}return qe(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(Ot(a.latitude),Ot(c.latitude));return h!==0?h:qe(Ot(a.longitude),Ot(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return q_(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},p=c.fields||{},y=h[vh]?.arrayValue,w=p[vh]?.arrayValue,E=qe(y?.values?.length||0,w?.values?.length||0);return E!==0?E:q_(y,w)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Od.mapValue&&c===Od.mapValue)return 0;if(a===Od.mapValue)return 1;if(c===Od.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const T=Mm(p[E],w[E]);if(T!==0)return T;const x=El(h[p[E]],y[w[E]]);if(x!==0)return x}return qe(p.length,w.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function W_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=uo(t),r=uo(e),o=qe(n.seconds,r.seconds);return o!==0?o:qe(n.nanos,r.nanos)}function q_(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=El(n[o],r[o]);if(a)return a}return qe(n.length,r.length)}function Tl(t){return Fm(t)}function Fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=uo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return co(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=Fm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${Fm(n.fields[c])}`;return o+"}"})(t.mapValue):xe(61005,{value:t})}function Qd(t){switch(ho(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(t);return e?16+Qd(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Qd(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return mo(r.fields,((a,c)=>{o+=a.length+Qd(c)})),o})(t.mapValue);default:throw xe(13486,{value:t})}}function G_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jm(t){return!!t&&"integerValue"in t}function Fg(t){return!!t&&"arrayValue"in t}function K_(t){return!!t&&"nullValue"in t}function Q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yd(t){return!!t&&"mapValue"in t}function I2(t){return(t?.mapValue?.fields||{})[F1]?.stringValue===j1}function ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ju(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ju(t.arrayValue.values[n]);return e}return{...t}}function S2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===C2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(n)}setAll(e){let n=fn.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=h.popLast()}c?r[h.lastSegment()]=ju(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());Yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Yd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){mo(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Qn(ju(this.value))}}function $1(t){const e=[];return mo(t.fields,((n,r)=>{const o=new fn([n]);if(Yd(r)){const a=$1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,o,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Le.min(),Le.min(),Le.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,o){return new Tn(e,1,n,Le.min(),r,o,0)}static newNoDocument(e,n){return new Tn(e,2,n,Le.min(),Le.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Le.min(),Le.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Y_(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?r=be.comparator(be.fromName(c.referenceValue),n.key):r=El(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function X_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function R2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class zt extends U1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A2(e,n,r):n==="array-contains"?new N2(e,r):n==="in"?new O2(e,r):n==="not-in"?new D2(e,r):n==="array-contains-any"?new L2(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P2(e,r):new x2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(El(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends U1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yr(e,n)}matches(e){return B1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B1(t){return t.op==="and"}function z1(t){return k2(t)&&B1(t)}function k2(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function $m(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(z1(t))return t.filters.map((e=>$m(e))).join(",");{const e=t.filters.map((n=>$m(n))).join(",");return`${t.op}(${e})`}}function H1(t,e){return t instanceof zt?(function(r,o){return o instanceof zt&&r.op===o.op&&r.field.isEqual(o.field)&&Si(r.value,o.value)})(t,e):t instanceof Yr?(function(r,o){return o instanceof Yr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,h)=>a&&H1(c,o.filters[h])),!0):!1})(t,e):void xe(19439)}function W1(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof Yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(W1).join(" ,")+"}"})(t):"Filter"}class A2 extends zt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class P2 extends zt{constructor(e,n){super(e,"in",n),this.keys=q1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class x2 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=q1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function q1(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class N2 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fg(n)&&Xu(n.arrayValue,this.value)}}class O2 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xu(this.value.arrayValue,n)}}class D2 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xu(this.value.arrayValue,n)}}class L2 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n=null,r=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function J_(t,e=null,n=[],r=[],o=null,a=null,c=null){return new V2(t,e,n,r,o,a,c)}function jg(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$m(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Tl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Tl(r))).join(",")),e.Te=n}return e.Te}function $g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X_(t.startAt,e.startAt)&&X_(t.endAt,e.endAt)}function Um(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n=null,r=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M2(t,e,n,r,o,a,c,h){return new uc(t,e,n,r,o,a,c,h)}function Ug(t){return new uc(t)}function Z_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G1(t){return t.collectionGroup!==null}function $u(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Yt(fn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Eh(a,r))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Eh(fn.keyField(),r))}return e.Ie}function Ei(t){const e=Ve(t);return e.Ee||(e.Ee=F2(e,$u(t))),e.Ee}function F2(t,e){if(t.limitType==="F")return J_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Eh(o.field,a)}));const n=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;return J_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bm(t,e){const n=t.filters.concat([e]);return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zm(t,e,n){return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nf(t,e){return $g(Ei(t),Ei(e))&&t.limitType===e.limitType}function K1(t){return`${jg(Ei(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>W1(o))).join(", ")}]`),ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Tl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Tl(o))).join(",")),`Target(${r})`})(Ei(t))}; limitType=${t.limitType})`}function rf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of $u(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,p){const y=Y_(c,h,p);return c.inclusive?y<=0:y<0})(r.startAt,$u(r),o)||r.endAt&&!(function(c,h,p){const y=Y_(c,h,p);return c.inclusive?y>=0:y>0})(r.endAt,$u(r),o))})(t,e)}function j2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q1(t){return(e,n)=>{let r=!1;for(const o of $u(t)){const a=$2(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function $2(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):(function(a,c,h){const p=c.data.field(a),y=h.data.field(a);return p!==null&&y!==null?El(p,y):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return N1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Ct(be.comparator);function hs(){return U2}const Y1=new Ct(be.comparator);function Ou(...t){let e=Y1;for(const n of t)e=e.insert(n.key,n);return e}function X1(t){let e=Y1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Zo(){return Uu()}function J1(){return Uu()}function Uu(){return new ya((t=>t.toString()),((t,e)=>t.isEqual(e)))}const B2=new Ct(be.comparator),z2=new Yt(be.comparator);function Ge(...t){let e=z2;for(const n of t)e=e.add(n);return e}const H2=new Yt(qe);function W2(){return H2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function Z1(t){return{integerValue:""+t}}function q2(t,e){return v2(e)?Z1(e):Bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function G2(t,e,n){return t instanceof Th?(function(o,a){const c={fields:{[L1]:{stringValue:D1},[M1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Mg(a)&&(a=tf(a)),a&&(c.fields[V1]=a),{mapValue:c}})(n,e):t instanceof bl?tT(t,e):t instanceof Ju?nT(t,e):(function(o,a){const c=eT(o,a),h=e0(c)+e0(o.Ae);return jm(c)&&jm(o.Ae)?Z1(h):Bg(o.serializer,h)})(t,e)}function K2(t,e,n){return t instanceof bl?tT(t,e):t instanceof Ju?nT(t,e):n}function eT(t,e){return t instanceof bh?(function(r){return jm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Th extends sf{}class bl extends sf{constructor(e){super(),this.elements=e}}function tT(t,e){const n=rT(e);for(const r of t.elements)n.some((o=>Si(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ju extends sf{constructor(e){super(),this.elements=e}}function nT(t,e){let n=rT(e);for(const r of t.elements)n=n.filter((o=>!Si(o,r)));return{arrayValue:{values:n}}}class bh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function e0(t){return Ot(t.integerValue||t.doubleValue)}function rT(t){return Fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.field=e,this.transform=n}}function Y2(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof bl&&o instanceof bl||r instanceof Ju&&o instanceof Ju?_l(r.elements,o.elements,Si):r instanceof bh&&o instanceof bh?Si(r.Ae,o.Ae):r instanceof Th&&o instanceof Th})(t.transform,e.transform)}class X2{constructor(e,n){this.version=e,this.transformResults=n}}class Ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class of{}function iT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oT(t.key,Ti.none()):new cc(t.key,t.data,Ti.none());{const n=t.data,r=Qn.empty();let o=new Yt(fn.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new go(t.key,r,new ur(o.toArray()),Ti.none())}}function J2(t,e,n){t instanceof cc?(function(o,a,c){const h=o.value.clone(),p=n0(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof go?(function(o,a,c){if(!Xd(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=n0(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(sT(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Bu(t,e,n,r){return t instanceof cc?(function(a,c,h,p){if(!Xd(a.precondition,c))return h;const y=a.value.clone(),w=r0(a.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof go?(function(a,c,h,p){if(!Xd(a.precondition,c))return h;const y=r0(a.fieldTransforms,p,c),w=c.data;return w.setAll(sT(a)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(a,c,h){return Xd(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function Z2(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=eT(r.transform,o||null);a!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,a))}return n||null}function t0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&_l(r,o,((a,c)=>Y2(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cc extends of{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class go extends of{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function n0(t,e,n){const r=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,h=e.data.field(a.field);r.set(a.field,K2(c,h,n[o]))}return r}function r0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);r.set(o.field,G2(a,c,e))}return r}class oT extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eP extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&J2(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J1();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(o.key)?null:h;const p=iT(c,h);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((n,r)=>t0(n,r)))&&_l(this.baseMutations,e.baseMutations,((n,r)=>t0(n,r)))}}class zg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return B2})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new zg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ye;function iP(t){switch(t){case J.OK:return xe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function aT(t){if(t===void 0)return cs("GRPC error has no .code"),J.UNKNOWN;switch(t){case Ut.OK:return J.OK;case Ut.CANCELLED:return J.CANCELLED;case Ut.UNKNOWN:return J.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return J.INTERNAL;case Ut.UNAVAILABLE:return J.UNAVAILABLE;case Ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ut.NOT_FOUND:return J.NOT_FOUND;case Ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ut.ABORTED:return J.ABORTED;case Ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ut.DATA_LOSS:return J.DATA_LOSS;default:return xe(39323,{code:t})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new no([4294967295,4294967295],0);function i0(t){const e=sP().encode(t),n=new E1;return n.update(e),new Uint8Array(n.digest())}function s0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new no([n,r],0),new no([o,a],0)]}class Hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=no.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(no.fromNumber(r)));return o.compare(oP)===1&&(o=new no([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=i0(e),[r,o]=s0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Hg(a,o,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=i0(e),[r,o]=s0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new af(Le.min(),o,new Ct(qe),hs(),Ge())}}class dc{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dc(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class lT{constructor(e,n){this.targetId=e,this.Ce=n}}class uT{constructor(e,n,r=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class o0{constructor(){this.ve=0,this.Fe=a0(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:a})}})),new dc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=a0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aP{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=Dd(),this.He=Dd(),this.Ye=new Ct(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Um(a))if(r===0){const c=new be(a.path);this.et(n,c,Tn.newNoDocument(c,Le.min()))}else nt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),p=h?this.ct(h,e,c):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let c,h;try{c=co(r).toUint8Array()}catch(p){if(p instanceof O1)return vl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Hg(c,o,a)}catch(p){return vl(p instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&Um(h.target)){const p=new be(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Tn.newNoDocument(p,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=Ge();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new af(e,n,this.Ye,this.je,r);return this.je=hs(),this.Je=Dd(),this.He=Dd(),this.Ye=new Ct(qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new o0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dd(){return new Ct(be.comparator)}function a0(){return new Ct(be.comparator)}const lP={asc:"ASCENDING",desc:"DESCENDING"},uP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cP={and:"AND",or:"OR"};class dP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(t,e){return t.useProto3Json||ef(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hP(t,e){return Ch(t,e.toTimestamp())}function bi(t){return nt(!!t,49232),Le.fromTimestamp((function(n){const r=uo(n);return new ft(r.seconds,r.nanos)})(t))}function Wg(t,e){return Wm(t,e).canonicalString()}function Wm(t,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dT(t){const e=lt.fromString(t);return nt(gT(e),10190,{key:e.toString()}),e}function qm(t,e){return Wg(t.databaseId,e.path)}function hm(t,e){const n=dT(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(fT(n))}function hT(t,e){return Wg(t.databaseId,e)}function fP(t){const e=dT(t);return e.length===4?lt.emptyPath():fT(e)}function Gm(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fT(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l0(t,e,n){return{name:qm(t,e),fields:n.value.mapValue.fields}}function pP(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,w){return y.useProto3Json?(nt(w===void 0||typeof w=="string",58123),pn.fromBase64String(w||"")):(nt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),pn.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(y){const w=y.code===void 0?J.UNKNOWN:aT(y.code);return new fe(w,y.message||"")})(c);n=new uT(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=hm(t,r.document.name),a=bi(r.document.updateTime),c=r.document.createTime?bi(r.document.createTime):Le.min(),h=new Qn({mapValue:{fields:r.document.fields}}),p=Tn.newFoundDocument(o,a,c,h),y=r.targetIds||[],w=r.removedTargetIds||[];n=new Jd(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=hm(t,r.document),a=r.readTime?bi(r.readTime):Le.min(),c=Tn.newNoDocument(o,a),h=r.removedTargetIds||[];n=new Jd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=hm(t,r.document),a=r.removedTargetIds||[];n=new Jd([],a,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new rP(o,a),h=r.targetId;n=new lT(h,c)}}return n}function mP(t,e){let n;if(e instanceof cc)n={update:l0(t,e.key,e.value)};else if(e instanceof oT)n={delete:qm(t,e.key)};else if(e instanceof go)n={update:l0(t,e.key,e.data),updateMask:CP(e.fieldMask)};else{if(!(e instanceof eP))return xe(16599,{Vt:e.type});n={verify:qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof Th)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof bl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:hP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)})(t,e.precondition)),n}function gP(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(o,a){let c=o.updateTime?bi(o.updateTime):bi(a);return c.isEqual(Le.min())&&(c=bi(a)),new X2(c,o.transformResults||[])})(n,e)))):[]}function yP(t,e){return{documents:[hT(t,e.path)]}}function wP(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hT(t,o);const a=(function(y){if(y.length!==0)return mT(Yr.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(y){if(y.length!==0)return y.map((w=>(function(T){return{field:ll(T.field),direction:EP(T.dir)}})(w)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Hm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function vP(t){let e=fP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){nt(r===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(E){const T=pT(E);return T instanceof Yr&&z1(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((T=>(function(D){return new Eh(ul(D.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(E){let T;return T=typeof E=="object"?E.value:E,ef(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(E){const T=!!E.before,x=E.values||[];return new _h(x,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const T=!E.before,x=E.values||[];return new _h(x,T)})(n.endAt)),M2(e,o,c,a,h,"F",p,y)}function _P(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ul(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ul(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ul(n.unaryFilter.field);return zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ul(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(ul(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yr.create(n.compositeFilter.filters.map((r=>pT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function EP(t){return lP[t]}function TP(t){return uP[t]}function bP(t){return cP[t]}function ll(t){return{fieldPath:t.canonicalString()}}function ul(t){return fn.fromServerFormat(t.fieldPath)}function mT(t){return t instanceof zt?(function(n){if(n.op==="=="){if(Q_(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(K_(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q_(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(K_(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:TP(n.op),value:n.value}}})(t):t instanceof Yr?(function(n){const r=n.getFilters().map((o=>mT(o)));return r.length===1?r[0]:{compositeFilter:{op:bP(n.op),filters:r}}})(t):xe(54877,{filter:t})}function CP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,o,a=Le.min(),c=Le.min(),h=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.yt=e}}function SP(t){const e=vP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.Cn=new kP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(lo.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class kP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Yt(lt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Yt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(yT,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="LruGarbageCollector",AP=1048576;function d0([t,e],[n,r]){const o=qe(t,n);return o===0?qe(e,r):o}class PP{constructor(e){this.Ir=e,this.buffer=new Yt(d0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(c0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fl(n)?ge(c0,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Vr(3e5)}))}}class NP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Zh.ce);const r=new PP(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(u0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,c,h,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,h=Date.now(),this.removeTargets(e,r,n)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),ol()<=We.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function OP(t,e){return new NP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.changes=new ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Bu(r.mutation,o,ur.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const o=Zo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let c=Ou();return a.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Zo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,o){let a=hs();const c=Uu(),h=(function(){return Uu()})();return n.forEach(((p,y)=>{const w=r.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof go)?a=a.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Bu(w.mutation,y,w.mutation.getFieldMask(),ft.now())):c.set(y.key,ur.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((y,w)=>c.set(y,w))),n.forEach(((y,w)=>h.set(y,new LP(w,c.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Uu();let o=new Ct(((c,h)=>c-h)),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let w=r.get(p)||ur.empty();w=h.applyToLocalView(y,w),r.set(p,w);const E=(o.get(h.batchId)||Ge()).add(p);o=o.insert(h.batchId,E)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,w=p.value,E=J1();w.forEach((T=>{if(!a.has(T)){const x=iT(n.get(T),r.get(T));x!==null&&E.set(T,x),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ee.resolve(Zo());let h=Ku,p=a;return c.next((y=>ee.forEach(y,((w,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(w)?ee.resolve():this.remoteDocumentCache.getEntry(e,w).next((T=>{p=p.insert(w,T)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,p,y,Ge()))).next((w=>({batchId:h,changes:X1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let o=Ou();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,a).next((h=>ee.forEach(h,(p=>{const y=(function(E,T){return new uc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((w=>{w.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((c=>{a.forEach(((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,Tn.newInvalidDocument(w)))}));let h=Ou();return c.forEach(((p,y)=>{const w=a.get(p);w!==void 0&&Bu(w.mutation,y,ur.empty(),ft.now()),rf(n,y)&&(h=h.insert(p,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:SP(o.bundledQuery),readTime:bi(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.overlays=new Ct(be.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zo();return ee.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=Zo(),a=n.length+1,c=new be(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Ct(((y,w)=>y-w));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let w=a.get(y.largestBatchId);w===null&&(w=Zo(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=Zo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>h.set(y,w))),!(h.size()>=o)););return ee.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new nP(n,r));let a=this.qr.get(n);a===void 0&&(a=Ge(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Qr=new Yt(nn.$r),this.Ur=new Yt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new lt([])),r=new nn(n,e),o=new nn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new lt([])),r=new nn(n,e),o=new nn(n,e+1);let a=Ge();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new nn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(nn.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tP(a,n,r,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new nn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Vg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const h=this.Xr(c.Yr);a.push(h)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(qe);return n.forEach((o=>{const a=new nn(o,0),c=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const c=new nn(new be(a),0);let h=new Yt(qe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.Yr)),!0)}),c),ee.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(o=>{const a=new nn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nn(n,0),o=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.ri=e,this.docs=(function(){return new Ct(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Tn.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=hs();const c=n.path,h=new be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||m2(p2(w),r)<=0||(o.has(w.key)||rf(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,o){xe(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new BP(this)}getSize(e){return ee.resolve(this.size)}}class BP extends DP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.persistence=e,this.si=new ya((n=>jg(n)),$g),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new qg,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ee.waitFor(a).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new jP,this.referenceDelegate=e(this),this.Pi=new zP(this),this.indexManager=new RP,this.remoteDocumentCache=(function(o){return new UP(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IP(n),this.Ii=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $P(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new HP(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class HP extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new qg,this.Vi=null}static mi(e){return new Gg(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const o=be.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new ya((r=>_2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=OP(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ee.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,a.removeEntry(c,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qd(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ge(),o=Ge();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Kg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yS()?8:w2(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new WP;return this.Ss(e,n,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(ol()<=We.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(ol()<=We.DEBUG&&ge("QueryEngine","Query:",al(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ol()<=We.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):ee.resolve())}ys(e,n){if(Z_(n))return ee.resolve(null);let r=Ei(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zm(n,null,"F"),r=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Ge(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,h);return this.Cs(n,y,c,p.readTime)?this.ys(e,zm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,o){return Z_(n)||o.isEqual(Le.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,o)?ee.resolve(null):(ol()<=We.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(n)),this.vs(e,c,n,f2(o,Ku)).next((h=>h)))}))}Ds(e,n){let r=new Yt(Q1(e));return n.forEach(((o,a)=>{rf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return ol()<=We.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,lo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="LocalStore",GP=3e8;class KP{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ct(qe),this.xs=new ya((a=>jg(a)),$g),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function QP(t,e,n,r){return new KP(t,e,n,r)}async function vT(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let p=Ge();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of a){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:h})))}))}))}function YP(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,y,w){const E=y.batch,T=E.keys();let x=ee.resolve();return T.forEach((D=>{x=x.next((()=>w.getEntry(p,D))).next((F=>{const O=y.docVersions.get(D);nt(O!==null,48541),F.version.compareTo(O)<0&&(E.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),w.addEntry(F)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(p,E)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=Ge();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function _T(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function XP(t,e){const n=Ve(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((w,E)=>{const T=o.get(E);if(!T)return;h.push(n.Pi.removeMatchingKeys(a,w.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(a,w.addedDocuments,E))));let x=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(pn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):w.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(w.resumeToken,r)),o=o.insert(E,x),(function(F,O,W){return F.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=GP?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,x,w)&&h.push(n.Pi.updateTargetData(a,x))}));let p=hs(),y=Ge();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(JP(a,c,e.documentUpdates).next((w=>{p=w.ks,y=w.qs}))),!r.isEqual(Le.min())){const w=n.Pi.getLastRemoteSnapshotVersion(a).next((E=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return ee.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,p,y))).next((()=>p))})).then((a=>(n.Ms=o,a)))}function JP(t,e,n){let r=Ge(),o=Ge();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=hs();return n.forEach(((h,p)=>{const y=a.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):ge(Qg,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function ZP(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Vg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ex(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ee.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new Xs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Km(t,e,n){const r=Ve(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Fl(c))throw c;ge(Qg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function h0(t,e,n){const r=Ve(t);let o=Le.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,w){const E=Ve(p),T=E.xs.get(w);return T!==void 0?ee.resolve(E.Ms.get(T)):E.Pi.getTargetData(y,w)})(r,c,Ei(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:Le.min(),n?a:Ge()))).next((h=>(tx(r,j2(e),h),{documents:h,Qs:a})))))}function tx(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class f0{constructor(){this.activeTargetIds=W2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nx{constructor(){this.Mo=new f0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="ConnectivityMonitor";class m0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(p0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(p0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function Qm(){return Ld===null?Ld=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="RestConnection",ix={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===wh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const c=Qm(),h=this.zo(e,n.toUriEncodedString());ge(fm,`Sending RPC '${e}' ${c}:`,h,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:y}=new URL(h),w=pa(y);return this.Jo(e,h,p,r,w).then((E=>(ge(fm,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw vl(fm,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",r),E}))}Ho(e,n,r,o,a,c){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=ix[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class ax extends sx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const c=Qm();return new Promise(((h,p)=>{const y=new T1;y.setWithCredentials(!0),y.listenOnce(b1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kd.NO_ERROR:const E=y.getResponseJson();ge(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case Kd.TIMEOUT:ge(_n,`RPC '${e}' ${c} timed out`),p(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Kd.HTTP_ERROR:const T=y.getStatus();if(ge(_n,`RPC '${e}' ${c} failed with status:`,T,"response text:",y.getResponseText()),T>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x?.error;if(D&&D.status&&D.message){const F=(function(W){const z=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN})(D.status);p(new fe(F,D.message))}else p(new fe(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(J.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(_n,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);ge(_n,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",w,r,15)}))}T_(e,n,r){const o=Qm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=S1(),h=I1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const w=a.join("");ge(_n,`Creating RPC '${e}' stream ${o}: ${w}`,p);const E=c.createWebChannel(w,p);this.I_(E);let T=!1,x=!1;const D=new ox({Yo:O=>{x?ge(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(ge(_n,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),ge(_n,`RPC '${e}' stream ${o} sending:`,O),E.send(O))},Zo:()=>E.close()}),F=(O,W,z)=>{O.listen(W,(K=>{try{z(K)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return F(E,Nu.EventType.OPEN,(()=>{x||(ge(_n,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),F(E,Nu.EventType.CLOSE,(()=>{x||(x=!0,ge(_n,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(E))})),F(E,Nu.EventType.ERROR,(O=>{x||(x=!0,vl(_n,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),D.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),F(E,Nu.EventType.MESSAGE,(O=>{if(!x){const W=O.data[0];nt(!!W,16349);const z=W,K=z?.error||z[0]?.error;if(K){ge(_n,`RPC '${e}' stream ${o} received error:`,K);const Z=K.status;let ce=(function(C){const I=Ut[C];if(I!==void 0)return aT(I)})(Z),se=K.message;ce===void 0&&(ce=J.INTERNAL,se="Unknown error status: "+Z+" with message "+K.message),x=!0,D.a_(new fe(ce,se)),E.close()}else ge(_n,`RPC '${e}' stream ${o} received:`,W),D.u_(W)}})),F(h,C1.STAT_EVENT,(O=>{O.stat===Vm.PROXY?ge(_n,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Vm.NOPROXY&&ge(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){return new dP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="PersistentStream";class TT{constructor(e,n,r,o,a,c,h,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ET(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(g0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(g0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lx extends TT{constructor(e,n,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pP(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?bi(c.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Gm(this.serializer),n.addTarget=(function(a,c){let h;const p=c.target;if(h=Um(p)?{documents:yP(a,p)}:{query:wP(a,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=cT(a,c.resumeToken);const y=Hm(a,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(Le.min())>0){h.readTime=Ch(a,c.snapshotVersion.toTimestamp());const y=Hm(a,c.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=_P(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.q_(n)}}class ux extends TT{constructor(e,n,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gP(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Gm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mP(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{}class dx extends cx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Wm(n,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(J.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Wm(n,r),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class fx{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{wa(this)&&(ge(ca,"Restarting streams for network reachability change."),await(async function(p){const y=Ve(p);y.Ea.add(4),await hc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await uf(y)})(this))}))})),this.Ra=new hx(r,o)}}async function uf(t){if(wa(t))for(const e of t.da)await e(!0)}async function hc(t){for(const e of t.da)await e(!1)}function bT(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zg(n)?Jg(n):jl(n).O_()&&Xg(n,e))}function Yg(t,e){const n=Ve(t),r=jl(n);n.Ia.delete(e),r.O_()&&CT(n,e),n.Ia.size===0&&(r.O_()?r.L_():wa(n)&&n.Ra.set("Unknown"))}function Xg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Y_(e)}function CT(t,e){t.Va.Ue(e),jl(t).Z_(e)}function Jg(t){t.Va=new aP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Ra.ua()}function Zg(t){return wa(t)&&!jl(t).x_()&&t.Ia.size>0}function wa(t){return Ve(t).Ea.size===0}function IT(t){t.Va=void 0}async function px(t){t.Ra.set("Online")}async function mx(t){t.Ia.forEach(((e,n)=>{Xg(t,e)}))}async function gx(t,e){IT(t),Zg(t)?(t.Ra.ha(e),Jg(t)):t.Ra.set("Unknown")}async function yx(t,e,n){if(t.Ra.set("Online"),e instanceof uT&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){ge(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(t,r)}else if(e instanceof Jd?t.Va.Ze(e):e instanceof lT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await _T(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.Ia.get(y);w&&a.Ia.set(y,w.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,y)=>{const w=a.Ia.get(p);if(!w)return;a.Ia.set(p,w.withResumeToken(pn.EMPTY_BYTE_STRING,w.snapshotVersion)),CT(a,p);const E=new Xs(w.target,p,y,w.sequenceNumber);Xg(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ge(ca,"Failed to raise snapshot:",r),await Sh(t,r)}}async function Sh(t,e,n){if(!Fl(e))throw e;t.Ea.add(1),await hc(t),t.Ra.set("Offline"),n||(n=()=>_T(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(ca,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await uf(t)}))}function ST(t,e){return e().catch((n=>Sh(t,n,e)))}async function cf(t){const e=Ve(t),n=fo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vg;for(;wx(e);)try{const o=await ZP(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,vx(e,o)}catch(o){await Sh(e,o)}RT(e)&&kT(e)}function wx(t){return wa(t)&&t.Ta.length<10}function vx(t,e){t.Ta.push(e);const n=fo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RT(t){return wa(t)&&!fo(t).x_()&&t.Ta.length>0}function kT(t){fo(t).start()}async function _x(t){fo(t).ra()}async function Ex(t){const e=fo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Tx(t,e,n){const r=t.Ta.shift(),o=zg.from(r,e,n);await ST(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await cf(t)}async function bx(t,e){e&&fo(t).X_&&await(async function(r,o){if((function(c){return iP(c)&&c!==J.ABORTED})(o.code)){const a=r.Ta.shift();fo(r).B_(),await ST(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await cf(r)}})(t,e),RT(t)&&kT(t)}async function y0(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ge(ca,"RemoteStore received new credentials");const r=wa(n);n.Ea.add(3),await hc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function Cx(t,e){const n=Ve(t);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await hc(n),n.Ra.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,r,o){const a=Ve(n);return a.sa(),new lx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:px.bind(null,t),t_:mx.bind(null,t),r_:gx.bind(null,t),H_:yx.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Zg(t)?Jg(t):t.Ra.set("Unknown")):(await t.ma.stop(),IT(t))}))),t.ma}function fo(t){return t.fa||(t.fa=(function(n,r,o){const a=Ve(n);return a.sa(),new ux(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_x.bind(null,t),r_:bx.bind(null,t),ta:Ex.bind(null,t),na:Tx.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await cf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(ca,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const c=Date.now()+r,h=new ey(e,n,c,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(t,e){if(cs("AsyncQueue",`${e}: ${t}`),Fl(t))return new fe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Ou(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.ga=new Ct(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Il{constructor(e,n,r,o,a,c,h,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Il(e,n,ml.emptySet(n),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Sx{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ve(n),a=o.queries;o.queries=v0(),a.forEach(((c,h)=>{for(const p of h.Sa)p.onError(r)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function v0(){return new ya((t=>K1(t)),nf)}async function AT(t,e){const n=Ve(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new Ix,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=ty(c,`Initialization of query '${al(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&ny(n)}async function PT(t,e){const n=Ve(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rx(t,e){const n=Ve(t);let r=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const h of c.Sa)h.Fa(o)&&(r=!0);c.wa=o}}r&&ny(n)}function kx(t,e,n){const r=Ve(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function ny(t){t.Ca.forEach((e=>{e.next()}))}var Ym,_0;(_0=Ym||(Ym={})).Ma="default",_0.Cache="cache";class xT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class Ax{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Q1(e),this.tu=new ml(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new w0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const T=o.get(w),x=rf(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),F=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;T&&x?T.data.isEqual(x.data)?D!==F&&(r.track({type:3,doc:x}),O=!0):this.su(T,x)||(r.track({type:2,doc:x}),O=!0,(p&&this.eu(x,p)>0||y&&this.eu(x,y)<0)&&(h=!0)):!T&&x?(r.track({type:0,doc:x}),O=!0):T&&!x&&(r.track({type:1,doc:T}),O=!0,(p||y)&&(h=!0)),O&&(x?(c=c.add(x),a=F?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,E)=>(function(x,D){const F=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:O})}};return F(x)-F(D)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Il(this.query,e.tu,a,c,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new OT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new NT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ry="SyncEngine";class Px{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xx{constructor(e){this.key=e,this.hu=!1}}class Nx{constructor(e,n,r,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ya((h=>K1(h)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(be.comparator),this.Au=new Map,this.Ru=new qg,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ox(t,e,n=!0){const r=jT(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await DT(r,e,n,!0),o}async function Dx(t,e){const n=jT(t);await DT(n,e,!0,!1)}async function DT(t,e,n,r){const o=await ex(t.localStore,Ei(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await Lx(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&bT(t.remoteStore,o),h}async function Lx(t,e,n,r,o){t.pu=(E,T,x)=>(async function(F,O,W,z){let K=O.view.ru(W);K.Cs&&(K=await h0(F.localStore,O.query,!1).then((({documents:R})=>O.view.ru(R,K))));const Z=z&&z.targetChanges.get(O.targetId),ce=z&&z.targetMismatches.get(O.targetId)!=null,se=O.view.applyChanges(K,F.isPrimaryClient,Z,ce);return T0(F,O.targetId,se.au),se.snapshot})(t,E,T,x);const a=await h0(t.localStore,e,!0),c=new Ax(e,a.Qs),h=c.ru(a.documents),p=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=c.applyChanges(h,t.isPrimaryClient,p);T0(t,n,y.au);const w=new Px(e,n,c);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function Vx(t,e,n){const r=Ve(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!nf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Yg(r.remoteStore,o.targetId),Xm(r,o.targetId)})).catch(Ml)):(Xm(r,o.targetId),await Km(r.localStore,o.targetId,!0))}async function Mx(t,e){const n=Ve(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(n.remoteStore,r.targetId))}async function Fx(t,e,n){const r=Wx(t);try{const o=await(function(c,h){const p=Ve(c),y=ft.now(),w=h.reduce(((x,D)=>x.add(D.key)),Ge());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let D=hs(),F=Ge();return p.Ns.getEntries(x,w).next((O=>{D=O,D.forEach(((W,z)=>{z.isValidDocument()||(F=F.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,D))).next((O=>{E=O;const W=[];for(const z of h){const K=Z2(z,E.get(z.key).overlayedDocument);K!=null&&W.push(new go(z.key,K,$1(K.value.mapValue),Ti.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,W,h)})).next((O=>{T=O;const W=O.applyToLocalDocumentSet(E,F);return p.documentOverlayCache.saveOverlays(x,O.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:X1(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new Ct(qe)),y=y.insert(h,p),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,n),await fc(r,o.changes),await cf(r.remoteStore)}catch(o){const a=ty(o,"Failed to persist write");n.reject(a)}}async function LT(t,e){const n=Ve(t);try{const r=await XP(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=n.Au.get(a);c&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?nt(c.hu,14607):o.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await fc(n,r,e)}catch(r){await Ml(r)}}function E0(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=Ve(c);p.onlineState=h;let y=!1;p.queries.forEach(((w,E)=>{for(const T of E.Sa)T.va(h)&&(y=!0)})),y&&ny(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jx(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new Ct(be.comparator);c=c.insert(a,Tn.newNoDocument(a,Le.min()));const h=Ge().add(a),p=new af(Le.min(),new Map,new Ct(qe),c,h);await LT(r,p),r.du=r.du.remove(a),r.Au.delete(e),iy(r)}else await Km(r.localStore,e,!1).then((()=>Xm(r,e,n))).catch(Ml)}async function $x(t,e){const n=Ve(t),r=e.batch.batchId;try{const o=await YP(n.localStore,e);MT(n,r,null),VT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fc(n,o)}catch(o){await Ml(o)}}async function Ux(t,e,n){const r=Ve(t);try{const o=await(function(c,h){const p=Ve(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,h).next((E=>(nt(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(r.localStore,e);MT(r,e,n),VT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fc(r,o)}catch(o){await Ml(o)}}function VT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function MT(t,e,n){const r=Ve(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||FT(t,r)}))}function FT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),iy(t))}function T0(t,e,n){for(const r of n)r instanceof NT?(t.Ru.addReference(r.key,e),Bx(t,r)):r instanceof OT?(ge(ry,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||FT(t,r.key)):xe(19791,{wu:r})}function Bx(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(ry,"New document in limbo: "+n),t.Eu.add(r),iy(t))}function iy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(lt.fromString(e)),r=t.fu.next();t.Au.set(r,new xx(n)),t.du=t.du.insert(n,r),bT(t.remoteStore,new Xs(Ei(Ug(n.path)),r,"TargetPurposeLimboResolution",Zh.ce))}}async function fc(t,e,n){const r=Ve(t),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,p)=>{c.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Kg.As(p.targetId,y);a.push(w)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,y){const w=Ve(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(y,(T=>ee.forEach(T.Es,(x=>w.persistence.referenceDelegate.addReference(E,T.targetId,x))).next((()=>ee.forEach(T.ds,(x=>w.persistence.referenceDelegate.removeReference(E,T.targetId,x)))))))))}catch(E){if(!Fl(E))throw E;ge(Qg,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const x=w.Ms.get(T),D=x.snapshotVersion,F=x.withLastLimboFreeSnapshotVersion(D);w.Ms=w.Ms.insert(T,F)}}})(r.localStore,a))}async function zx(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ge(ry,"User change. New user:",e.toKey());const r=await vT(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((p=>{p.reject(new fe(J.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fc(n,r.Ls)}}function Hx(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const a=n.Iu.get(e);if(!a)return o;for(const c of a){const h=n.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function jT(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jx.bind(null,e),e.Pu.H_=Rx.bind(null,e.eventManager),e.Pu.yu=kx.bind(null,e.eventManager),e}function Wx(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$x.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ux.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QP(this.persistence,new qP,e.initialUser,this.serializer)}Cu(e){return new wT(Gg.mi,this.serializer)}Du(e){return new nx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class qx extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new wT((r=>Ih.mi(r,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zx.bind(null,this.syncEngine),await Cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Sx})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),r=(function(a){return new ax(a)})(e.databaseInfo);return(function(a,c,h,p){return new dx(a,c,h,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,c,h){return new fx(r,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>E0(this.syncEngine,n,0)),(function(){return m0.v()?new m0:new rx})())}createSyncEngine(e,n){return(function(o,a,c,h,p,y,w){const E=new Nx(o,a,c,h,p,y);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);ge(ca,"RemoteStore shutting down."),r.Ea.add(5),await hc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class Gx{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{ge(po,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ge(po,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ty(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mm(t,e){t.asyncQueue.verifyOperationInProgress(),ge(po,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await vT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function b0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kx(t);ge(po,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>y0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>y0(e.remoteStore,o))),t._onlineComponents=e}async function Kx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(po,"Using user provided OfflineComponentProvider");try{await mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await mm(t,new Rh)}}else ge(po,"Using default OfflineComponentProvider"),await mm(t,new qx(void 0));return t._offlineComponents}async function UT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(po,"Using user provided OnlineComponentProvider"),await b0(t,t._uninitializedComponentsProvider._online)):(ge(po,"Using default OnlineComponentProvider"),await b0(t,new Jm))),t._onlineComponents}function Qx(t){return UT(t).then((e=>e.syncEngine))}async function BT(t){const e=await UT(t),n=e.eventManager;return n.onListen=Ox.bind(null,e.syncEngine),n.onUnlisten=Vx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Dx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mx.bind(null,e.syncEngine),n}function Yx(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,y){const w=new $T({next:T=>{w.Nu(),c.enqueueAndForget((()=>PT(a,E)));const x=T.docs.has(h);!x&&T.fromCache?y.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&p&&p.source==="server"?y.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new xT(Ug(h.path),w,{includeMetadataChanges:!0,qa:!0});return AT(a,E)})(await BT(t),t.asyncQueue,e,n,r))),r.promise}function Xx(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,y){const w=new $T({next:T=>{w.Nu(),c.enqueueAndForget((()=>PT(a,E))),T.fromCache&&p.source==="server"?y.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new xT(h,w,{includeMetadataChanges:!0,qa:!0});return AT(a,E)})(await BT(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firestore.googleapis.com",I0=!0;class S0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=I0}else this.host=e.host,this.ssl=e.ssl??I0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AP)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new n2;switch(r.type){case"firstParty":return new o2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=C0.get(n);r&&(ge("ComponentProvider","Removing Datastore"),C0.delete(n),r.terminate())})(this),Promise.resolve()}}function Jx(t,e,n,r={}){t=ds(t,df);const o=pa(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(wg(`https://${h}`),vg("Firestore",!0)),a.host!==HT&&a.host!==h&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:h,ssl:o,emulatorOptions:r};if(!oo(p,c)&&(t._setSettings(p),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=En.MOCK_USER;else{y=LE(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new En(E)}t._authCredentials=new r2(new k1(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lc(n,Dt._jsonSchema))return new Dt(e,r||null,new be(lt.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Ht("string",Dt._jsonSchemaVersion),referencePath:Ht("string")};class ro extends $l{constructor(e,n,r){super(e,n,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new be(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}function Zm(t,e,...n){if(t=Lt(t),A1("collection","path",e),t instanceof df){const r=lt.fromString(e,...n);return j_(r),new ro(t,null,r)}{if(!(t instanceof Dt||t instanceof ro))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return j_(r),new ro(t.firestore,null,r)}}function Nn(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=Lg.newId()),A1("doc","path",e),t instanceof df){const r=lt.fromString(e,...n);return F_(r),new Dt(t,null,new be(r))}{if(!(t instanceof Dt||t instanceof ro))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return F_(r),new Dt(t.firestore,t instanceof ro?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ET(this,"async_queue_retry"),this._c=()=>{const r=pm();r&&ge(R0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fl(e))throw e;ge(R0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",A0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ey.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:A0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function A0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pc extends df{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new k0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function yo(t,e){const n=typeof t=="object"?t:Tg(),r=typeof t=="string"?t:wh,o=Kh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=NE("firestore");a&&Jx(o,...a)}return o}function sy(t){if(t._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zx(t),t._firestoreClient}function Zx(t){const e=t._freezeSettings(),n=(function(o,a,c,h){return new b2(o,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Gx(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(pn.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kr(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,kr._jsonSchema))return kr.fromBase64String(e.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:Ht("string",kr._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(lc(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ht("string",Ci._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ii(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ht("string",Ii._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=/^__.*__$/;class tN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}class WT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class pf{constructor(e,n,r,o,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qT(this.Ac)&&eN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lf(e)}Cc(e,n,r,o=!1){return new pf({Ac:e,methodName:n,Dc:r,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oy(t){const e=t._freezeSettings(),n=lf(t._databaseId);return new nN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rN(t,e,n,r,o,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);ly("Data must be an object, but it was:",c,r);const h=GT(r,c);let p,y;if(a.merge)p=new ur(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const E of a.mergeFields){const T=eg(e,E,n);if(!c.contains(T))throw new fe(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);QT(w,T)||w.push(T)}p=new ur(w),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new tN(new Qn(h),p,y)}class mf extends ff{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function iN(t,e,n){return new pf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ay extends ff{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=iN(this,e,!0),r=this.vc.map((a=>Ul(a,n))),o=new bl(r);return new Q2(e.path,o)}isEqual(e){return e instanceof ay&&oo(this.vc,e.vc)}}function sN(t,e,n,r){const o=t.Cc(1,e,n);ly("Data must be an object, but it was:",o,r);const a=[],c=Qn.empty();mo(r,((p,y)=>{const w=uy(e,p,n);y=Lt(y);const E=o.yc(w);if(y instanceof mf)a.push(w);else{const T=Ul(y,E);T!=null&&(a.push(w),c.set(w,T))}}));const h=new ur(a);return new WT(c,h,o.fieldTransforms)}function oN(t,e,n,r,o,a){const c=t.Cc(1,e,n),h=[eg(e,r,n)],p=[o];if(a.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(eg(e,a[T])),p.push(a[T+1]);const y=[],w=Qn.empty();for(let T=h.length-1;T>=0;--T)if(!QT(y,h[T])){const x=h[T];let D=p[T];D=Lt(D);const F=c.yc(x);if(D instanceof mf)y.push(x);else{const O=Ul(D,F);O!=null&&(y.push(x),w.set(x,O))}}const E=new ur(y);return new WT(w,E,c.fieldTransforms)}function aN(t,e,n,r=!1){return Ul(n,t.Cc(r?4:3,e))}function Ul(t,e){if(KT(t=Lt(t)))return ly("Unsupported field value:",e,t),GT(t,e);if(t instanceof ff)return(function(r,o){if(!qT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const h of r){let p=Ul(h,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ft.fromDate(r);return{timestampValue:Ch(o.serializer,a)}}if(r instanceof ft){const a=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,a)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kr)return{bytesValue:cT(o.serializer,r._byteString)};if(r instanceof Dt){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ii)return(function(c,h){return{mapValue:{fields:{[F1]:{stringValue:j1},[vh]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return Bg(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Jh(r)}`)})(t,e)}function GT(t,e){const n={};return N1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(t,((r,o)=>{const a=Ul(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function KT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Ci||t instanceof kr||t instanceof Dt||t instanceof ff||t instanceof Ii)}function ly(t,e,n){if(!KT(n)||!P1(n)){const r=Jh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function eg(t,e,n){if((e=Lt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return uy(t,e);throw kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const lN=new RegExp("[~\\*/\\[\\]]");function uy(t,e,n){if(e.search(lN)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kh(t,e,n,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new fe(J.INVALID_ARGUMENT,h+t+p)}function QT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uN extends YT{data(){return super.data()}}function cy(t,e){return typeof e=="string"?uy(t,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dy{}class dN extends dy{}function hN(t,e,...n){let r=[];e instanceof dy&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((p=>p instanceof hy)).length,h=a.filter((p=>p instanceof gf)).length;if(c>1||c>0&&h>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class gf extends dN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gf(e,n,r)}_apply(e){const n=this._parse(e);return XT(e._query,n),new $l(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=oy(e.firestore);return(function(a,c,h,p,y,w,E){let T;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){x0(E,w);const D=[];for(const F of E)D.push(P0(p,a,F));T={arrayValue:{values:D}}}else T=P0(p,a,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||x0(E,w),T=aN(h,c,E,w==="in"||w==="not-in");return zt.create(y,w,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fN(t,e,n){const r=e,o=cy("where",t);return gf._create(o,r,n)}class hy extends dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const p of h)XT(c,p),c=Bm(c,p)})(e._query,n),new $l(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P0(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(e)&&n.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!be.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G_(t,new be(r))}if(n instanceof Dt)return G_(t,n._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function x0(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XT(t,e){const n=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pN{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mo(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Ii(n)}convertGeoPoint(e){return new Ci(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const n=uo(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);nt(gT(r),9688,{name:e});const o=new Yu(r.get(1),r.get(3)),a=new be(r.popFirst(5));return o.isEqual(n)||cs(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends YT{constructor(e,n,r,o,a,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Ht("string",ta._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Zd extends ta{data(e={}){return super.data(e)}}class gl{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Lu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zd(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new Zd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Lu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const p=new Zd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Lu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:gN(h.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){t=ds(t,Dt);const e=ds(t.firestore,pc);return Yx(sy(e),t._key).then((n=>yN(e,t,n)))}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Ht("string",gl._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class JT extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function tg(t){t=ds(t,$l);const e=ds(t.firestore,pc),n=sy(e),r=new JT(e);return cN(t._query),Xx(n,t._query).then((o=>new gl(e,r,t,o)))}function N0(t,e,n){t=ds(t,Dt);const r=ds(t.firestore,pc),o=mN(t.converter,e,n);return ZT(r,[rN(oy(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Ti.none())])}function cl(t,e,n,...r){t=ds(t,Dt);const o=ds(t.firestore,pc),a=oy(o);let c;return c=typeof(e=Lt(e))=="string"||e instanceof hf?oN(a,"updateDoc",t._key,e,n,r):sN(a,"updateDoc",t._key,e),ZT(o,[c.toMutation(t._key,Ti.exists(!0))])}function ZT(t,e){return(function(r,o){const a=new ss;return r.asyncQueue.enqueueAndForget((async()=>Fx(await Qx(r),o,a))),a.promise})(sy(t),e)}function yN(t,e,n){const r=n.docs.get(e._key),o=new JT(t);return new ta(t,o,e._key,r,new Lu(n.hasPendingWrites,n.fromCache),e.converter)}function wN(...t){return new ay("arrayUnion",t)}(function(e,n=!0){(function(o){Vl=o})(ma),sa(new ao("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new pc(new i2(r.getProvider("auth-internal")),new a2(c,r.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(y.options.projectId,w)})(c,o),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),vi(D_,L_,e),vi(D_,L_,"esm2020")})();var vN="firebase",_N="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(vN,_N,"app");const EN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},dr=FE(EN);yo(dr);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O0="popstate";function TN(t={}){function e(o,a){let{pathname:c="/",search:h="",hash:p=""}=va(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ng("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");h=y===-1?p:p.slice(0,y)}return h+"#"+(typeof a=="string"?a:Zu(a))}function r(o,a){Pr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return CN(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substring(2,10)}function D0(t,e){return{usr:t.state,key:t.key,idx:e}}function ng(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:n,key:e&&e.key||r||bN()}}function Zu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function CN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,h="POP",p=null,y=w();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function w(){return(c.state||{idx:null}).idx}function E(){h="POP";let O=w(),W=O==null?null:O-y;y=O,p&&p({action:h,location:F.location,delta:W})}function T(O,W){h="PUSH";let z=ng(F.location,O,W);n&&n(z,O),y=w()+1;let K=D0(z,y),Z=F.createHref(z);try{c.pushState(K,"",Z)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(Z)}a&&p&&p({action:h,location:F.location,delta:1})}function x(O,W){h="REPLACE";let z=ng(F.location,O,W);n&&n(z,O),y=w();let K=D0(z,y),Z=F.createHref(z);c.replaceState(K,"",Z),a&&p&&p({action:h,location:F.location,delta:0})}function D(O){return IN(O)}let F={get action(){return h},get location(){return t(o,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(O0,E),p=O,()=>{o.removeEventListener(O0,E),p=null}},createHref(O){return e(o,O)},createURL:D,encodeLocation(O){let W=D(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:x,go(O){return c.go(O)}};return F}function IN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function eb(t,e,n="/"){return SN(t,e,n,!1)}function SN(t,e,n,r){let o=typeof e=="string"?va(e):e,a=fs(o.pathname||"/",n);if(a==null)return null;let c=tb(t);RN(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=FN(a);h=VN(c[p],y,r)}return h}function tb(t,e=[],n=[],r="",o=!1){let a=(c,h,p=o,y)=>{let w={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&p)return;vt(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let E=os([r,w.relativePath]),T=n.concat(w);c.children&&c.children.length>0&&(vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),tb(c.children,e,T,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:DN(E,c.index),routesMeta:T})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let p of nb(c.path))a(c,h,!0,p)}),e}function nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=nb(r.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function RN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kN=/^:[\w-]+$/,AN=3,PN=2,xN=1,NN=10,ON=-2,L0=t=>t==="*";function DN(t,e){let n=t.split("/"),r=n.length;return n.some(L0)&&(r+=ON),e&&(r+=PN),n.filter(o=>!L0(o)).reduce((o,a)=>o+(kN.test(a)?AN:a===""?xN:NN),r)}function LN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function VN(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],y=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",E=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),T=p.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:os([a,E.pathname]),pathnameBase:BN(os([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=os([a,E.pathnameBase]))}return c}function Ah(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:w,isOptional:E},T)=>{if(w==="*"){let D=h[T]||"";c=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const x=h[T];return E&&!x?y[w]=void 0:y[w]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:t}}function MN(t,e=!1,n=!0){Pr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function FN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?va(t):t;return{pathname:n?n.startsWith("/")?n:$N(n,e):e,search:zN(r),hash:HN(o)}}function $N(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fy(t){let e=UN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function py(t,e,n,r=!1){let o;typeof t=="string"?o=va(t):(o={...t},vt(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let p=jN(o,h),y=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var os=t=>t.join("/").replace(/\/\/+/g,"/"),BN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rb=["POST","PUT","PATCH","DELETE"];new Set(rb);var qN=["GET",...rb];new Set(qN);var Bl=S.createContext(null);Bl.displayName="DataRouter";var yf=S.createContext(null);yf.displayName="DataRouterState";S.createContext(!1);var ib=S.createContext({isTransitioning:!1});ib.displayName="ViewTransition";var GN=S.createContext(new Map);GN.displayName="Fetchers";var KN=S.createContext(null);KN.displayName="Await";var Jr=S.createContext(null);Jr.displayName="Navigation";var mc=S.createContext(null);mc.displayName="Location";var Zr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var my=S.createContext(null);my.displayName="RouteError";function QN(t,{relative:e}={}){vt(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Jr),{hash:o,pathname:a,search:c}=gc(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:os([n,a])),r.createHref({pathname:h,search:c,hash:o})}function zl(){return S.useContext(mc)!=null}function wo(){return vt(zl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(mc).location}var sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ob(t){S.useContext(Jr).static||S.useLayoutEffect(t)}function gy(){let{isDataRoute:t}=S.useContext(Zr);return t?uO():YN()}function YN(){vt(zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Bl),{basename:e,navigator:n}=S.useContext(Jr),{matches:r}=S.useContext(Zr),{pathname:o}=wo(),a=JSON.stringify(fy(r)),c=S.useRef(!1);return ob(()=>{c.current=!0}),S.useCallback((p,y={})=>{if(Pr(c.current,sb),!c.current)return;if(typeof p=="number"){n.go(p);return}let w=py(p,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:os([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,a,o,t])}S.createContext(null);function XN(){let{matches:t}=S.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function gc(t,{relative:e}={}){let{matches:n}=S.useContext(Zr),{pathname:r}=wo(),o=JSON.stringify(fy(n));return S.useMemo(()=>py(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function JN(t,e){return ab(t,e)}function ab(t,e,n,r,o){vt(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Jr),{matches:c}=S.useContext(Zr),h=c[c.length-1],p=h?h.params:{},y=h?h.pathname:"/",w=h?h.pathnameBase:"/",E=h&&h.route;{let z=E&&E.path||"";lb(y,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=wo(),x;if(e){let z=typeof e=="string"?va(e):e;vt(w==="/"||z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=T;let D=x.pathname||"/",F=D;if(w!=="/"){let z=w.replace(/^\//,"").split("/");F="/"+D.replace(/^\//,"").split("/").slice(z.length).join("/")}let O=eb(t,{pathname:F});Pr(E||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=rO(O&&O.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:os([w,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?w:os([w,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,n,r,o);return e&&W?S.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function ZN(){let t=lO(),e=WN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,c)}var eO=S.createElement(ZN,null),tO=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Zr.Provider,{value:this.props.routeContext},S.createElement(my.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nO({routeContext:t,match:e,children:n}){let r=S.useContext(Bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Zr.Provider,{value:t},n)}function rO(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let y=a.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,p=-1;if(n)for(let y=0;y<a.length;y++){let w=a[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:E,errors:T}=n,x=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!T||T[w.route.id]===void 0);if(w.route.lazy||x){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((y,w,E)=>{let T,x=!1,D=null,F=null;n&&(T=c&&w.route.id?c[w.route.id]:void 0,D=w.route.errorElement||eO,h&&(p<0&&E===0?(lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,F=null):p===E&&(x=!0,F=w.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,E+1)),W=()=>{let z;return T?z=D:x?z=F:w.route.Component?z=S.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=y,S.createElement(nO,{match:w,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?S.createElement(tO,{location:n.location,revalidation:n.revalidation,component:D,error:T,children:W(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):W()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iO(t){let e=S.useContext(Bl);return vt(e,yy(t)),e}function sO(t){let e=S.useContext(yf);return vt(e,yy(t)),e}function oO(t){let e=S.useContext(Zr);return vt(e,yy(t)),e}function wy(t){let e=oO(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aO(){return wy("useRouteId")}function lO(){let t=S.useContext(my),e=sO("useRouteError"),n=wy("useRouteError");return t!==void 0?t:e.errors?.[n]}function uO(){let{router:t}=iO("useNavigate"),e=wy("useNavigate"),n=S.useRef(!1);return ob(()=>{n.current=!0}),S.useCallback(async(o,a={})=>{Pr(n.current,sb),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var V0={};function lb(t,e,n){!e&&!V0[t]&&(V0[t]=!0,Pr(!1,n))}S.memo(cO);function cO({routes:t,future:e,state:n,unstable_onError:r}){return ab(t,void 0,n,r,e)}function il({to:t,replace:e,state:n,relative:r}){vt(zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Jr);Pr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(Zr),{pathname:c}=wo(),h=gy(),p=py(t,fy(a),c,r==="path"),y=JSON.stringify(p);return S.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function Yo(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){vt(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=va(n));let{pathname:p="/",search:y="",hash:w="",state:E=null,key:T="default"}=n,x=S.useMemo(()=>{let D=fs(p,c);return D==null?null:{location:{pathname:D,search:y,hash:w,state:E,key:T},navigationType:r}},[c,p,y,w,E,T,r]);return Pr(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(Jr.Provider,{value:h},S.createElement(mc.Provider,{children:e,value:x}))}function hO({children:t,location:e}){return JN(rg(t),e)}function rg(t,e=[]){let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let a=[...e,o];if(r.type===S.Fragment){n.push.apply(n,rg(r.props.children,a));return}vt(r.type===Yo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=rg(r.props.children,a)),n.push(c)}),n}var eh="get",th="application/x-www-form-urlencoded";function wf(t){return t!=null&&typeof t.tagName=="string"}function fO(t){return wf(t)&&t.tagName.toLowerCase()==="button"}function pO(t){return wf(t)&&t.tagName.toLowerCase()==="form"}function mO(t){return wf(t)&&t.tagName.toLowerCase()==="input"}function gO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yO(t,e){return t.button===0&&(!e||e==="_self")&&!gO(t)}var Vd=null;function wO(){if(Vd===null)try{new FormData(document.createElement("form"),0),Vd=!1}catch{Vd=!0}return Vd}var vO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(t){return t!=null&&!vO.has(t)?(Pr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):t}function _O(t,e){let n,r,o,a,c;if(pO(t)){let h=t.getAttribute("action");r=h?fs(h,e):null,n=t.getAttribute("method")||eh,o=ym(t.getAttribute("enctype"))||th,a=new FormData(t)}else if(fO(t)||mO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(r=p?fs(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||eh,o=ym(t.getAttribute("formenctype"))||ym(h.getAttribute("enctype"))||th,a=new FormData(h,t),!wO()){let{name:y,type:w,value:E}=t;if(w==="image"){let T=y?`${y}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else y&&a.append(y,E)}}else{if(wf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,r=null,o=th,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&fs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function TO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CO(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await TO(a,n);return c.links?c.links():[]}return[]}));return kO(r.flat(1).filter(bO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function M0(t,e,n,r,o,a){let c=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,h=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return a==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):a==="data"?e.filter((p,y)=>{let w=r.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function IO(t,e,{includeHydrateFallback:n}={}){return SO(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function SO(t){return[...new Set(t)]}function RO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kO(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(RO(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function ub(){let t=S.useContext(Bl);return vy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AO(){let t=S.useContext(yf);return vy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _y=S.createContext(void 0);_y.displayName="FrameworkContext";function cb(){let t=S.useContext(_y);return vy(t,"You must render this element inside a <HydratedRouter> element"),t}function PO(t,e){let n=S.useContext(_y),[r,o]=S.useState(!1),[a,c]=S.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:E}=e,T=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let F=W=>{W.forEach(z=>{c(z.isIntersecting)})},O=new IntersectionObserver(F,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[t]),S.useEffect(()=>{if(r){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[r]);let x=()=>{o(!0)},D=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:ku(h,x),onBlur:ku(p,D),onMouseEnter:ku(y,x),onMouseLeave:ku(w,D),onTouchStart:ku(E,x)}]:[!1,T,{}]}function ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xO({page:t,...e}){let{router:n}=ub(),r=S.useMemo(()=>eb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(OO,{page:t,matches:r,...e}):null}function NO(t){let{manifest:e,routeModules:n}=cb(),[r,o]=S.useState([]);return S.useEffect(()=>{let a=!1;return CO(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),r}function OO({page:t,matches:e,...n}){let r=wo(),{manifest:o,routeModules:a}=cb(),{basename:c}=ub(),{loaderData:h,matches:p}=AO(),y=S.useMemo(()=>M0(t,e,p,o,r,"data"),[t,e,p,o,r]),w=S.useMemo(()=>M0(t,e,p,o,r,"assets"),[t,e,p,o,r]),E=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,F=!1;if(e.forEach(W=>{let z=o.routes[W.route.id];!z||!z.hasLoader||(!y.some(K=>K.route.id===W.route.id)&&W.route.id in h&&a[W.route.id]?.shouldRevalidate||z.hasClientLoader?F=!0:D.add(W.route.id))}),D.size===0)return[];let O=EO(t,c,"data");return F&&D.size>0&&O.searchParams.set("_routes",e.filter(W=>D.has(W.route.id)).map(W=>W.route.id).join(",")),[O.pathname+O.search]},[c,h,r,o,y,e,t,a]),T=S.useMemo(()=>IO(w,o),[w,o]),x=NO(w);return S.createElement(S.Fragment,null,E.map(D=>S.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),T.map(D=>S.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:F})=>S.createElement("link",{key:D,nonce:n.nonce,...F})))}function DO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{db&&(window.__reactRouterVersion="7.8.2")}catch{}function LO({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=TN({window:n,v5Compat:!0}));let o=r.current,[a,c]=S.useState({action:o.action,location:o.location}),h=S.useCallback(p=>{S.startTransition(()=>c(p))},[c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(dO,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:y,preventScrollReset:w,viewTransition:E,...T},x){let{basename:D}=S.useContext(Jr),F=typeof y=="string"&&hb.test(y),O,W=!1;if(typeof y=="string"&&F&&(O=y,db))try{let I=new URL(window.location.href),N=y.startsWith("//")?new URL(I.protocol+y):new URL(y),V=fs(N.pathname,D);N.origin===I.origin&&V!=null?y=V+N.search+N.hash:W=!0}catch{Pr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=QN(y,{relative:o}),[K,Z,ce]=PO(r,T),se=jO(y,{replace:c,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:E});function R(I){e&&e(I),I.defaultPrevented||se(I)}let C=S.createElement("a",{...T,...ce,href:O||z,onClick:W||a?e:R,ref:DO(x,Z),target:p,"data-discover":!F&&n==="render"?"true":void 0});return K&&!F?S.createElement(S.Fragment,null,C,S.createElement(xO,{page:z})):C});sn.displayName="Link";var VO=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...y},w){let E=gc(c,{relative:y.relative}),T=wo(),x=S.useContext(yf),{navigator:D,basename:F}=S.useContext(Jr),O=x!=null&&HO(E)&&h===!0,W=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,z=T.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(z=z.toLowerCase(),K=K?K.toLowerCase():null,W=W.toLowerCase()),K&&F&&(K=fs(K,F)||K);const Z=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ce=z===W||!o&&z.startsWith(W)&&z.charAt(Z)==="/",se=K!=null&&(K===W||!o&&K.startsWith(W)&&K.charAt(W.length)==="/"),R={isActive:ce,isPending:se,isTransitioning:O},C=ce?e:void 0,I;typeof r=="function"?I=r(R):I=[r,ce?"active":null,se?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(R):a;return S.createElement(sn,{...y,"aria-current":C,className:I,ref:w,style:N,to:c,viewTransition:h},typeof p=="function"?p(R):p)});VO.displayName="NavLink";var MO=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:c=eh,action:h,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:E,...T},x)=>{let D=BO(),F=zO(h,{relative:y}),O=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&hb.test(h),z=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,ce=Z?.getAttribute("formmethod")||c;D(Z||K.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:E})};return S.createElement("form",{ref:x,method:O,action:F,onSubmit:r?p:z,...T,"data-discover":!W&&t==="render"?"true":void 0})});MO.displayName="Form";function FO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fb(t){let e=S.useContext(Bl);return vt(e,FO(t)),e}function jO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=gy(),p=wo(),y=gc(t,{relative:a});return S.useCallback(w=>{if(yO(w,e)){w.preventDefault();let E=n!==void 0?n:Zu(p)===Zu(y);h(t,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,y,n,r,e,t,o,a,c])}var $O=0,UO=()=>`__${String(++$O)}__`;function BO(){let{router:t}=fb("useSubmit"),{basename:e}=S.useContext(Jr),n=aO();return S.useCallback(async(r,o={})=>{let{action:a,method:c,encType:h,formData:p,body:y}=_O(r,e);if(o.navigate===!1){let w=o.fetcherKey||UO();await t.fetch(w,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function zO(t,{relative:e}={}){let{basename:n}=S.useContext(Jr),r=S.useContext(Zr);vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...gc(t||".",{relative:e})},c=wo();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:os([n,a.pathname])),Zu(a)}function HO(t,{relative:e}={}){let n=S.useContext(ib);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fb("useViewTransitionState"),o=gc(t,{relative:e});if(!n.isTransitioning)return!1;let a=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ah(o.pathname,c)!=null||Ah(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function pb(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function WO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function F0(t,e){return t.get(pb(t,e))}function qO(t,e,n){WO(t,e),e.set(t,n)}function GO(t,e,n){return t.set(pb(t,e),n),n}const KO=100,ke={},QO=()=>{ke.previousActiveElement instanceof HTMLElement?(ke.previousActiveElement.focus(),ke.previousActiveElement=null):document.body&&document.body.focus()},YO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ke.restoreFocusTimeout=setTimeout(()=>{QO(),e()},KO),window.scrollTo(n,r)}),mb="swal2-",XO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=XO.reduce((t,e)=>(t[e]=mb+e,t),{}),JO=["success","warning","info","question","error"],Ph=JO.reduce((t,e)=>(t[e]=mb+e,t),{}),gb="SweetAlert2:",Ey=t=>t.charAt(0).toUpperCase()+t.slice(1),On=t=>{console.warn(`${gb} ${typeof t=="object"?t.join(" "):t}`)},_a=t=>{console.error(`${gb} ${t}`)},j0=[],ZO=t=>{j0.includes(t)||(j0.push(t),On(t))},yb=(t,e=null)=>{ZO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},vf=t=>typeof t=="function"?t():t,Ty=t=>t&&typeof t.toPromise=="function",yc=t=>Ty(t)?t.toPromise():Promise.resolve(t),by=t=>t&&Promise.resolve(t)===t,Dn=()=>document.body.querySelector(`.${Y.container}`),wc=t=>{const e=Dn();return e?e.querySelector(t):null},hr=t=>wc(`.${t}`),Ze=()=>hr(Y.popup),Hl=()=>hr(Y.icon),eD=()=>hr(Y["icon-content"]),wb=()=>hr(Y.title),Cy=()=>hr(Y["html-container"]),vb=()=>hr(Y.image),Iy=()=>hr(Y["progress-steps"]),_f=()=>hr(Y["validation-message"]),Ri=()=>wc(`.${Y.actions} .${Y.confirm}`),Wl=()=>wc(`.${Y.actions} .${Y.cancel}`),Ea=()=>wc(`.${Y.actions} .${Y.deny}`),tD=()=>hr(Y["input-label"]),ql=()=>wc(`.${Y.loader}`),vc=()=>hr(Y.actions),_b=()=>hr(Y.footer),Ef=()=>hr(Y["timer-progress-bar"]),Sy=()=>hr(Y.close),nD=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ry=()=>{const t=Ze();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),p=parseInt(c.getAttribute("tabindex")||"0");return h>p?1:h<p?-1:0}),r=t.querySelectorAll(nD),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>Yn(a))},ky=()=>as(document.body,Y.shown)&&!as(document.body,Y["toast-shown"])&&!as(document.body,Y["no-backdrop"]),Tf=()=>{const t=Ze();return t?as(t,Y.toast):!1},rD=()=>{const t=Ze();return t?t.hasAttribute("data-loading"):!1},fr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(c=>{t.appendChild(c)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},as=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},iD=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Y).includes(n)&&!Object.values(Ph).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},cr=(t,e,n)=>{if(iD(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){On(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}et(t,r)}},bf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return t.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return t.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||t.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return t.querySelector(`.${Y.popup} > .${Y.range} input`);default:return t.querySelector(`.${Y.popup} > .${Y.input}`)}},Eb=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},Tb=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},et=(t,e)=>{Tb(t,e,!0)},xr=(t,e)=>{Tb(t,e,!1)},Js=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&as(o,e))return o}},na=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},on=(t,e="flex")=>{t&&(t.style.display=e)},In=t=>{t&&(t.style.display="none")},Ay=(t,e="block")=>{t&&new MutationObserver(()=>{_c(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},$0=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},_c=(t,e,n="flex")=>{e?on(t,n):In(t)},Yn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),sD=()=>!Yn(Ri())&&!Yn(Ea())&&!Yn(Wl()),ig=t=>t.scrollHeight>t.clientHeight,oD=(t,e)=>{let n=t;for(;n&&n!==e;){if(ig(n))return!0;n=n.parentElement}return!1},bb=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Py=(t,e=!1)=>{const n=Ef();n&&Yn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},aD=()=>{const t=Ef();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},lD=()=>typeof window>"u"||typeof document>"u",uD=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),cD=()=>{const t=Dn();return t?(t.remove(),xr([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},Go=()=>{ke.currentInstance.resetValidationMessage()},dD=()=>{const t=Ze(),e=Js(t,Y.input),n=Js(t,Y.file),r=t.querySelector(`.${Y.range} input`),o=t.querySelector(`.${Y.range} output`),a=Js(t,Y.select),c=t.querySelector(`.${Y.checkbox} input`),h=Js(t,Y.textarea);e.oninput=Go,n.onchange=Go,a.onchange=Go,c.onchange=Go,h.oninput=Go,r.oninput=()=>{Go(),o.value=r.value},r.onchange=()=>{Go(),o.value=r.value}},hD=t=>typeof t=="string"?document.querySelector(t):t,fD=t=>{const e=Ze();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},pD=t=>{window.getComputedStyle(t).direction==="rtl"&&et(Dn(),Y.rtl)},mD=t=>{const e=cD();if(lD()){_a("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Y.container,e&&et(n,Y["no-transition"]),fr(n,uD),n.dataset.swal2Theme=t.theme;const r=hD(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),fD(t),pD(r),dD()},xy=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?gD(t,e):t&&fr(e,t)},gD=(t,e)=>{t.jquery?yD(e,t):fr(e,t.toString())},yD=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},wD=(t,e)=>{const n=vc(),r=ql();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?In(n):on(n),cr(n,e,"actions"),vD(n,r,e),fr(r,e.loaderHtml||""),cr(r,e,"loader"))};function vD(t,e,n){const r=Ri(),o=Ea(),a=Wl();!r||!o||!a||(vm(r,"confirm",n),vm(o,"deny",n),vm(a,"cancel",n),_D(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function _D(t,e,n,r){if(!r.buttonsStyling){xr([t,e,n],Y.styled);return}et([t,e,n],Y.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),wm(t),wm(e),wm(n)}function wm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function vm(t,e,n){const r=Ey(e);_c(t,n[`show${r}Button`],"inline-block"),fr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Y[e],cr(t,n,`${e}Button`)}const ED=(t,e)=>{const n=Sy();n&&(fr(n,e.closeButtonHtml||""),cr(n,e,"closeButton"),_c(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},TD=(t,e)=>{const n=Dn();n&&(bD(n,e.backdrop),CD(n,e.position),ID(n,e.grow),cr(n,e,"container"))};function bD(t,e){typeof e=="string"?t.style.background=e:e||et([document.documentElement,document.body],Y["no-backdrop"])}function CD(t,e){e&&(e in Y?et(t,Y[e]):(On('The "position" parameter is not valid, defaulting to "center"'),et(t,Y.center)))}function ID(t,e){e&&et(t,Y[`grow-${e}`])}var ut={innerParams:new WeakMap,domCache:new WeakMap};const SD=["input","file","range","select","radio","checkbox","textarea"],RD=(t,e)=>{const n=Ze();if(!n)return;const r=ut.innerParams.get(t),o=!r||e.input!==r.input;SD.forEach(a=>{const c=Js(n,Y[a]);c&&(PD(a,e.inputAttributes),c.className=Y[a],o&&In(c))}),e.input&&(o&&kD(e),xD(e))},kD=t=>{if(!t.input)return;if(!Nt[t.input]){_a(`Unexpected type of input! Expected ${Object.keys(Nt).join(" | ")}, got "${t.input}"`);return}const e=Cb(t.input);if(!e)return;const n=Nt[t.input](e,t);on(e),t.inputAutoFocus&&setTimeout(()=>{Eb(n)})},AD=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},PD=(t,e)=>{const n=Ze();if(!n)return;const r=bf(n,t);if(r){AD(r);for(const o in e)r.setAttribute(o,e[o])}},xD=t=>{if(!t.input)return;const e=Cb(t.input);e&&cr(e,t,"input")},Ny=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Ec=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=Y["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&et(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},Cb=t=>{const e=Ze();if(e)return Js(e,Y[t]||Y.input)},xh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:by(e)||On(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Nt={};Nt.text=Nt.email=Nt.password=Nt.number=Nt.tel=Nt.url=Nt.search=Nt.date=Nt["datetime-local"]=Nt.time=Nt.week=Nt.month=(t,e)=>(xh(t,e.inputValue),Ec(t,t,e),Ny(t,e),t.type=e.input,t);Nt.file=(t,e)=>(Ec(t,t,e),Ny(t,e),t);Nt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return xh(n,e.inputValue),n.type=e.input,xh(r,e.inputValue),Ec(n,t,e),t};Nt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");fr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Ec(t,t,e),t};Nt.radio=t=>(t.textContent="",t);Nt.checkbox=(t,e)=>{const n=bf(Ze(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return fr(r,e.inputPlaceholder||e.inputLabel),n};Nt.textarea=(t,e)=>{xh(t,e.inputValue),Ny(t,e),Ec(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Ze()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?Ze().style.width=`${a}px`:na(Ze(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const ND=(t,e)=>{const n=Cy();n&&(Ay(n),cr(n,e,"htmlContainer"),e.html?(xy(e.html,n),on(n,"block")):e.text?(n.textContent=e.text,on(n,"block")):In(n),RD(t,e))},OD=(t,e)=>{const n=_b();n&&(Ay(n),_c(n,e.footer,"block"),e.footer&&xy(e.footer,n),cr(n,e,"footer"))},DD=(t,e)=>{const n=ut.innerParams.get(t),r=Hl();if(!r)return;if(n&&e.icon===n.icon){B0(r,e),U0(r,e);return}if(!e.icon&&!e.iconHtml){In(r);return}if(e.icon&&Object.keys(Ph).indexOf(e.icon)===-1){_a(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),In(r);return}on(r),B0(r,e),U0(r,e),et(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ib)},U0=(t,e)=>{for(const[n,r]of Object.entries(Ph))e.icon!==n&&xr(t,r);et(t,e.icon&&Ph[e.icon]),MD(t,e),Ib(),cr(t,e,"icon")},Ib=()=>{const t=Ze();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},LD=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,VD=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,B0=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=z0(e.iconHtml):e.icon==="success"?(r=LD(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=VD:e.icon&&(r=z0({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&fr(t,r)},MD=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])$0(t,n,"background-color",e.iconColor);$0(t,".swal2-success-ring","border-color",e.iconColor)}},z0=t=>`<div class="${Y["icon-content"]}">${t}</div>`,FD=(t,e)=>{const n=vb();if(n){if(!e.imageUrl){In(n);return}on(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),na(n,"width",e.imageWidth),na(n,"height",e.imageHeight),n.className=Y.image,cr(n,e,"image")}};let Oy=!1,Sb=0,Rb=0,kb=0,Ab=0;const jD=t=>{t.addEventListener("mousedown",Nh),document.body.addEventListener("mousemove",Oh),t.addEventListener("mouseup",Dh),t.addEventListener("touchstart",Nh),document.body.addEventListener("touchmove",Oh),t.addEventListener("touchend",Dh)},$D=t=>{t.removeEventListener("mousedown",Nh),document.body.removeEventListener("mousemove",Oh),t.removeEventListener("mouseup",Dh),t.removeEventListener("touchstart",Nh),document.body.removeEventListener("touchmove",Oh),t.removeEventListener("touchend",Dh)},Nh=t=>{const e=Ze();if(t.target===e||Hl().contains(t.target)){Oy=!0;const n=Pb(t);Sb=n.clientX,Rb=n.clientY,kb=parseInt(e.style.insetInlineStart)||0,Ab=parseInt(e.style.insetBlockStart)||0,et(e,"swal2-dragging")}},Oh=t=>{const e=Ze();if(Oy){let{clientX:n,clientY:r}=Pb(t);e.style.insetInlineStart=`${kb+(n-Sb)}px`,e.style.insetBlockStart=`${Ab+(r-Rb)}px`}},Dh=()=>{const t=Ze();Oy=!1,xr(t,"swal2-dragging")},Pb=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},UD=(t,e)=>{const n=Dn(),r=Ze();if(!(!n||!r)){if(e.toast){na(n,"width",e.width),r.style.width="100%";const o=ql();o&&r.insertBefore(o,Hl())}else na(r,"width",e.width);na(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),In(_f()),BD(r,e),e.draggable&&!e.toast?(et(r,Y.draggable),jD(r)):(xr(r,Y.draggable),$D(r))}},BD=(t,e)=>{const n=e.showClass||{};t.className=`${Y.popup} ${Yn(t)?n.popup:""}`,e.toast?(et([document.documentElement,document.body],Y["toast-shown"]),et(t,Y.toast)):et(t,Y.modal),cr(t,e,"popup"),typeof e.customClass=="string"&&et(t,e.customClass),e.icon&&et(t,Y[`icon-${e.icon}`])},zD=(t,e)=>{const n=Iy();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){In(n);return}on(n),n.textContent="",o>=r.length&&On("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,c)=>{const h=HD(a);if(n.appendChild(h),c===o&&et(h,Y["active-progress-step"]),c!==r.length-1){const p=WD(e);n.appendChild(p)}})},HD=t=>{const e=document.createElement("li");return et(e,Y["progress-step"]),fr(e,t),e},WD=t=>{const e=document.createElement("li");return et(e,Y["progress-step-line"]),t.progressStepsDistance&&na(e,"width",t.progressStepsDistance),e},qD=(t,e)=>{const n=wb();n&&(Ay(n),_c(n,e.title||e.titleText,"block"),e.title&&xy(e.title,n),e.titleText&&(n.innerText=e.titleText),cr(n,e,"title"))},xb=(t,e)=>{UD(t,e),TD(t,e),zD(t,e),DD(t,e),FD(t,e),qD(t,e),ED(t,e),ND(t,e),wD(t,e),OD(t,e);const n=Ze();typeof e.didRender=="function"&&n&&e.didRender(n),ke.eventEmitter.emit("didRender",n)},GD=()=>Yn(Ze()),Nb=()=>{var t;return(t=Ri())===null||t===void 0?void 0:t.click()},KD=()=>{var t;return(t=Ea())===null||t===void 0?void 0:t.click()},QD=()=>{var t;return(t=Wl())===null||t===void 0?void 0:t.click()},Gl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ob=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},YD=(t,e,n)=>{Ob(t),e.toast||(t.keydownHandler=r=>JD(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:Ze(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},sg=(t,e)=>{var n;const r=Ry();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=Ze())===null||n===void 0||n.focus()},Db=["ArrowRight","ArrowDown"],XD=["ArrowLeft","ArrowUp"],JD=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?ZD(e,t):e.key==="Tab"?eL(e):[...Db,...XD].includes(e.key)?tL(e.key):e.key==="Escape"&&nL(e,t,n)))},ZD=(t,e)=>{if(!vf(e.allowEnterKey))return;const n=bf(Ze(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Nb(),t.preventDefault()}},eL=t=>{const e=t.target,n=Ry();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?sg(r,-1):sg(r,1),t.stopPropagation(),t.preventDefault()},tL=t=>{const e=vc(),n=Ri(),r=Ea(),o=Wl();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const c=Db.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let p=0;p<e.children.length;p++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&Yn(h))break}h instanceof HTMLButtonElement&&h.focus()}},nL=(t,e,n)=>{t.preventDefault(),vf(e.allowEscapeKey)&&n(Gl.esc)};var Sl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const rL=()=>{const t=Dn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Lb=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Vb=typeof window<"u"&&!!window.GestureEvent,iL=()=>{if(Vb&&!as(document.body,Y.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,et(document.body,Y.iosfix),sL()}},sL=()=>{const t=Dn();if(!t)return;let e;t.ontouchstart=n=>{e=oL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},oL=t=>{const e=t.target,n=Dn(),r=Cy();return!n||!r||aL(t)||lL(t)?!1:e===n||!ig(n)&&e instanceof HTMLElement&&!oD(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(ig(r)&&r.contains(e))},aL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",lL=t=>t.touches&&t.touches.length>1,uL=()=>{if(as(document.body,Y.iosfix)){const t=parseInt(document.body.style.top,10);xr(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},cL=()=>{const t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let yl=null;const dL=t=>{yl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(yl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${yl+cL()}px`)},hL=()=>{yl!==null&&(document.body.style.paddingRight=`${yl}px`,yl=null)};function Mb(t,e,n,r){Tf()?H0(t,r):(YO(n).then(()=>H0(t,r)),Ob(ke)),Vb?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ky()&&(hL(),uL(),Lb()),fL()}function fL(){xr([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function Zs(t){t=mL(t);const e=Sl.swalPromiseResolve.get(this),n=pL(this);this.isAwaitingPromise?t.isDismissed||(Tc(this),e(t)):n&&e(t)}const pL=t=>{const e=Ze();if(!e)return!1;const n=ut.innerParams.get(t);if(!n||as(e,n.hideClass.popup))return!1;xr(e,n.showClass.popup),et(e,n.hideClass.popup);const r=Dn();return xr(r,n.showClass.backdrop),et(r,n.hideClass.backdrop),gL(t,e,n),!0};function Fb(t){const e=Sl.swalPromiseReject.get(this);Tc(this),e&&e(t)}const Tc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ut.innerParams.get(t)||t._destroy())},mL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),gL=(t,e,n)=>{var r;const o=Dn(),a=bb(e);typeof n.willClose=="function"&&n.willClose(e),(r=ke.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?yL(t,e,o,n.returnFocus,n.didClose):Mb(t,o,n.returnFocus,n.didClose)},yL=(t,e,n,r,o)=>{ke.swalCloseEventFinishedCallback=Mb.bind(null,t,n,r,o);const a=function(c){if(c.target===e){var h;(h=ke.swalCloseEventFinishedCallback)===null||h===void 0||h.call(ke),delete ke.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},H0=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ke.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Rl=t=>{let e=Ze();if(e||new xn,e=Ze(),!e)return;const n=ql();Tf()?In(Hl()):wL(e,t),on(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},wL=(t,e)=>{const n=vc(),r=ql();!n||!r||(!e&&Yn(Ri())&&(e=Ri()),on(n),e&&(In(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),et([t,n],Y.loading))},vL=(t,e)=>{e.input==="select"||e.input==="radio"?CL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Ty(e.inputValue)||by(e.inputValue))&&(Rl(Ri()),IL(t,e))},_L=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return EL(n);case"radio":return TL(n);case"file":return bL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},EL=t=>t.checked?1:0,TL=t=>t.checked?t.value:null,bL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,CL=(t,e)=>{const n=Ze();if(!n)return;const r=o=>{e.input==="select"?SL(n,Lh(o),e):e.input==="radio"&&RL(n,Lh(o),e)};Ty(e.inputOptions)||by(e.inputOptions)?(Rl(Ri()),yc(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):_a(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},IL=(t,e)=>{const n=t.getInput();n&&(In(n),yc(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,on(n),n.focus(),t.hideLoading()}).catch(r=>{_a(`Error in inputValue promise: ${r}`),n.value="",on(n),n.focus(),t.hideLoading()}))};function SL(t,e,n){const r=Js(t,Y.select);if(!r)return;const o=(a,c,h)=>{const p=document.createElement("option");p.value=h,fr(p,c),p.selected=jb(h,n.inputValue),a.appendChild(p)};e.forEach(a=>{const c=a[0],h=a[1];if(Array.isArray(h)){const p=document.createElement("optgroup");p.label=c,p.disabled=!1,r.appendChild(p),h.forEach(y=>o(p,y[1],y[0]))}else o(r,h,c)}),r.focus()}function RL(t,e,n){const r=Js(t,Y.radio);if(!r)return;e.forEach(a=>{const c=a[0],h=a[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=Y.radio,p.value=c,jb(c,n.inputValue)&&(p.checked=!0);const w=document.createElement("span");fr(w,h),w.className=Y.label,y.appendChild(p),y.appendChild(w),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Lh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Lh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Lh(r)),e.push([n,r])}),e},jb=(t,e)=>!!e&&e.toString()===t.toString(),kL=t=>{const e=ut.innerParams.get(t);t.disableButtons(),e.input?$b(t,"confirm"):Ly(t,!0)},AL=t=>{const e=ut.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?$b(t,"deny"):Dy(t,!1)},PL=(t,e)=>{t.disableButtons(),e(Gl.cancel)},$b=(t,e)=>{const n=ut.innerParams.get(t);if(!n.input){_a(`The "input" parameter is needed to be set when using returnInputValueOn${Ey(e)}`);return}const r=t.getInput(),o=_L(t,n);n.inputValidator?xL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Dy(t,o):Ly(t,o)},xL=(t,e,n)=>{const r=ut.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>yc(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Dy(t,e):Ly(t,e)})},Dy=(t,e)=>{const n=ut.innerParams.get(t||void 0);n.showLoaderOnDeny&&Rl(Ea()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>yc(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Tc(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>Ub(t||void 0,o))):t.close({isDenied:!0,value:e})},W0=(t,e)=>{t.close({isConfirmed:!0,value:e})},Ub=(t,e)=>{t.rejectPromise(e)},Ly=(t,e)=>{const n=ut.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Rl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>yc(n.preConfirm(e,n.validationMessage))).then(o=>{Yn(_f())||o===!1?(t.hideLoading(),Tc(t)):W0(t,typeof o>"u"?e:o)}).catch(o=>Ub(t||void 0,o))):W0(t,e)};function Vh(){const t=ut.innerParams.get(this);if(!t)return;const e=ut.domCache.get(this);In(e.loader),Tf()?t.icon&&on(Hl()):NL(e),xr([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const NL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?on(e[0],"inline-block"):sD()&&In(t.actions)};function Bb(){const t=ut.innerParams.get(this),e=ut.domCache.get(this);return e?bf(e.popup,t.input):null}function zb(t,e,n){const r=ut.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function Hb(t,e){const n=Ze();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Y.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function Wb(){zb(this,["confirmButton","denyButton","cancelButton"],!1)}function qb(){zb(this,["confirmButton","denyButton","cancelButton"],!0)}function Gb(){Hb(this.getInput(),!1)}function Kb(){Hb(this.getInput(),!0)}function Qb(t){const e=ut.domCache.get(this),n=ut.innerParams.get(this);fr(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&et(e.validationMessage,n.customClass.validationMessage),on(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Y["validation-message"]),Eb(r),et(r,Y.inputerror))}function Yb(){const t=ut.domCache.get(this);t.validationMessage&&In(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),xr(e,Y.inputerror))}const wl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},OL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],DL={allowEnterKey:void 0},LL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Xb=t=>Object.prototype.hasOwnProperty.call(wl,t),Jb=t=>OL.indexOf(t)!==-1,Zb=t=>DL[t],VL=t=>{Xb(t)||On(`Unknown parameter "${t}"`)},ML=t=>{LL.includes(t)&&On(`The parameter "${t}" is incompatible with toasts`)},FL=t=>{const e=Zb(t);e&&yb(t,e)},eC=t=>{t.backdrop===!1&&t.allowOutsideClick&&On('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&On(`Invalid theme "${t.theme}"`);for(const e in t)VL(e),t.toast&&ML(e),FL(e)};function tC(t){const e=Dn(),n=Ze(),r=ut.innerParams.get(this);if(!n||as(n,r.hideClass.popup)){On("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=jL(t),a=Object.assign({},r,o);eC(a),e.dataset.swal2Theme=a.theme,xb(this,a),ut.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const jL=t=>{const e={};return Object.keys(t).forEach(n=>{Jb(n)?e[n]=t[n]:On(`Invalid parameter to update: ${n}`)}),e};function nC(){const t=ut.domCache.get(this),e=ut.innerParams.get(this);if(!e){rC(this);return}t.popup&&ke.swalCloseEventFinishedCallback&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ke.eventEmitter.emit("didDestroy"),$L(this)}const $L=t=>{rC(t),delete t.params,delete ke.keydownHandler,delete ke.keydownTarget,delete ke.currentInstance},rC=t=>{t.isAwaitingPromise?(_m(ut,t),t.isAwaitingPromise=!0):(_m(Sl,t),_m(ut,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},_m=(t,e)=>{for(const n in t)t[n].delete(e)};var UL=Object.freeze({__proto__:null,_destroy:nC,close:Zs,closeModal:Zs,closePopup:Zs,closeToast:Zs,disableButtons:qb,disableInput:Kb,disableLoading:Vh,enableButtons:Wb,enableInput:Gb,getInput:Bb,handleAwaitingPromise:Tc,hideLoading:Vh,rejectPromise:Fb,resetValidationMessage:Yb,showValidationMessage:Qb,update:tC});const BL=(t,e,n)=>{t.toast?zL(t,e,n):(WL(e),qL(e),GL(t,e,n))},zL=(t,e,n)=>{e.popup.onclick=()=>{t&&(HL(t)||t.timer||t.input)||n(Gl.close)}},HL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Mh=!1;const WL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Mh=!0)}}},qL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Mh=!0)}}},GL=(t,e,n)=>{e.container.onclick=r=>{if(Mh){Mh=!1;return}r.target===e.container&&vf(t.allowOutsideClick)&&n(Gl.backdrop)}},KL=t=>typeof t=="object"&&t.jquery,q0=t=>t instanceof Element||KL(t),QL=t=>{const e={};return typeof t[0]=="object"&&!q0(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||q0(o)?e[n]=o:o!==void 0&&_a(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function YL(...t){return new this(...t)}function XL(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const JL=()=>ke.timeout&&ke.timeout.getTimerLeft(),iC=()=>{if(ke.timeout)return aD(),ke.timeout.stop()},sC=()=>{if(ke.timeout){const t=ke.timeout.start();return Py(t),t}},ZL=()=>{const t=ke.timeout;return t&&(t.running?iC():sC())},eV=t=>{if(ke.timeout){const e=ke.timeout.increase(t);return Py(e,!0),e}},tV=()=>!!(ke.timeout&&ke.timeout.isRunning());let G0=!1;const og={};function nV(t="data-swal-template"){og[t]=this,G0||(document.body.addEventListener("click",rV),G0=!0)}const rV=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in og){const r=e.getAttribute(n);if(r){og[n].fire({template:r});return}}};class iV{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ke.eventEmitter=new iV;const sV=(t,e)=>{ke.eventEmitter.on(t,e)},oV=(t,e)=>{ke.eventEmitter.once(t,e)},aV=(t,e)=>{if(!t){ke.eventEmitter.reset();return}e?ke.eventEmitter.removeListener(t,e):ke.eventEmitter.removeAllListeners(t)};var lV=Object.freeze({__proto__:null,argsToParams:QL,bindClickHandler:nV,clickCancel:QD,clickConfirm:Nb,clickDeny:KD,enableLoading:Rl,fire:YL,getActions:vc,getCancelButton:Wl,getCloseButton:Sy,getConfirmButton:Ri,getContainer:Dn,getDenyButton:Ea,getFocusableElements:Ry,getFooter:_b,getHtmlContainer:Cy,getIcon:Hl,getIconContent:eD,getImage:vb,getInputLabel:tD,getLoader:ql,getPopup:Ze,getProgressSteps:Iy,getTimerLeft:JL,getTimerProgressBar:Ef,getTitle:wb,getValidationMessage:_f,increaseTimer:eV,isDeprecatedParameter:Zb,isLoading:rD,isTimerRunning:tV,isUpdatableParameter:Jb,isValidParameter:Xb,isVisible:GD,mixin:XL,off:aV,on:sV,once:oV,resumeTimer:sC,showLoading:Rl,stopTimer:iC,toggleTimer:ZL});class uV{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const oC=["swal-title","swal-html","swal-footer"],cV=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return wV(n),Object.assign(dV(n),hV(n),fV(n),pV(n),mV(n),gV(n),yV(n,oC))},dV=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{da(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof wl[o]=="boolean"?e[o]=a!=="false":typeof wl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},hV=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},fV=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{da(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Ey(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},pV=t=>{const e={},n=t.querySelector("swal-image");return n&&(da(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},mV=t=>{const e={},n=t.querySelector("swal-icon");return n&&(da(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},gV=t=>{const e={},n=t.querySelector("swal-input");n&&(da(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{da(o,["value"]);const a=o.getAttribute("value");if(!a)return;const c=o.innerHTML;e.inputOptions[a]=c})),e},yV=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(da(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},wV=t=>{const e=oC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||On(`Unrecognized element <${r}>`)})},da=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&On([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},aC=10,vV=t=>{const e=Dn(),n=Ze();typeof t.willOpen=="function"&&t.willOpen(n),ke.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;TV(e,n,t),setTimeout(()=>{_V(e,n)},aC),ky()&&(EV(e,t.scrollbarPadding,o),rL()),!Tf()&&!ke.previousActiveElement&&(ke.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ke.eventEmitter.emit("didOpen",n),xr(e,Y["no-transition"])},Fh=t=>{const e=Ze();if(t.target!==e)return;const n=Dn();e.removeEventListener("animationend",Fh),e.removeEventListener("transitionend",Fh),n.style.overflowY="auto"},_V=(t,e)=>{bb(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Fh),e.addEventListener("transitionend",Fh)):t.style.overflowY="auto"},EV=(t,e,n)=>{iL(),e&&n!=="hidden"&&dL(n),setTimeout(()=>{t.scrollTop=0})},TV=(t,e,n)=>{et(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),on(e,"grid"),setTimeout(()=>{et(e,n.showClass.popup),e.style.removeProperty("opacity")},aC)):on(e,"grid"),et([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&et([document.documentElement,document.body],Y["height-auto"])};var K0={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function bV(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=K0.email),t.input==="url"&&(t.inputValidator=K0.url))}function CV(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(On('Target parameter is not valid, defaulting to "body"'),t.target="body")}function IV(t){bV(t),t.showLoaderOnConfirm&&!t.preConfirm&&On(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),CV(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),mD(t)}let yi;var Md=new WeakMap;class Vt{constructor(...e){if(qO(this,Md,void 0),typeof window>"u")return;yi=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,GO(Md,this,this._main(yi.params))}_main(e,n={}){if(eC(Object.assign({},n,e)),ke.currentInstance){const a=Sl.swalPromiseResolve.get(ke.currentInstance),{isAwaitingPromise:c}=ke.currentInstance;ke.currentInstance._destroy(),c||a({isDismissed:!0}),ky()&&Lb()}ke.currentInstance=yi;const r=RV(e,n);IV(r),Object.freeze(r),ke.timeout&&(ke.timeout.stop(),delete ke.timeout),clearTimeout(ke.restoreFocusTimeout);const o=kV(yi);return xb(yi,r),ut.innerParams.set(yi,r),SV(yi,o,r)}then(e){return F0(Md,this).then(e)}finally(e){return F0(Md,this).finally(e)}}const SV=(t,e,n)=>new Promise((r,o)=>{const a=c=>{t.close({isDismissed:!0,dismiss:c})};Sl.swalPromiseResolve.set(t,r),Sl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{kL(t)},e.denyButton.onclick=()=>{AL(t)},e.cancelButton.onclick=()=>{PL(t,a)},e.closeButton.onclick=()=>{a(Gl.close)},BL(n,e,a),YD(ke,n,a),vL(t,n),vV(n),AV(ke,n,a),PV(e,n),setTimeout(()=>{e.container.scrollTop=0})}),RV=(t,e)=>{const n=cV(t),r=Object.assign({},wl,e,n,t);return r.showClass=Object.assign({},wl.showClass,r.showClass),r.hideClass=Object.assign({},wl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},kV=t=>{const e={popup:Ze(),container:Dn(),actions:vc(),confirmButton:Ri(),denyButton:Ea(),cancelButton:Wl(),loader:ql(),closeButton:Sy(),validationMessage:_f(),progressSteps:Iy()};return ut.domCache.set(t,e),e},AV=(t,e,n)=>{const r=Ef();In(r),e.timer&&(t.timeout=new uV(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(on(r),cr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Py(e.timer)})))},PV=(t,e)=>{if(!e.toast){if(!vf(e.allowEnterKey)){yb("allowEnterKey"),OV();return}xV(t)||NV(t,e)||sg(-1,1)}},xV=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Yn(n))return n.focus(),!0;return!1},NV=(t,e)=>e.focusDeny&&Yn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Yn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Yn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,OV=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Vt.prototype.disableButtons=qb;Vt.prototype.enableButtons=Wb;Vt.prototype.getInput=Bb;Vt.prototype.disableInput=Kb;Vt.prototype.enableInput=Gb;Vt.prototype.hideLoading=Vh;Vt.prototype.disableLoading=Vh;Vt.prototype.showValidationMessage=Qb;Vt.prototype.resetValidationMessage=Yb;Vt.prototype.close=Zs;Vt.prototype.closePopup=Zs;Vt.prototype.closeModal=Zs;Vt.prototype.closeToast=Zs;Vt.prototype.rejectPromise=Fb;Vt.prototype.update=tC;Vt.prototype._destroy=nC;Object.assign(Vt,lV);Object.keys(UL).forEach(t=>{Vt[t]=function(...e){return yi&&yi[t]?yi[t](...e):null}});Vt.DismissReason=Gl;Vt.version="11.23.0";const xn=Vt;xn.default=xn;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const kl="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",qr="/Fantasy-Casadillos/SinPerfil.jpg",DV="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",LV="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",VV="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",MV="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Au=ga(dr),Q0=yo(dr),FV=new ts,jV=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[o,a]=S.useState(DV),c=gy();S.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async w=>{w.preventDefault();const E=new FormData(w.currentTarget),T=E.get("email"),x=E.get("password");if(n)try{const{user:D}=await Mk(Au,T,x),F=E.get("nick");await u1(Au.currentUser,{displayName:F});const O={nick:F,correo:T,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await N0(Nn(Q0,"usuarios",D.uid),O,{merge:!0})}catch(D){console.error("Error registrando usuario:",D);let F="No se pudo crear la cuenta. Revisa los datos.";D.code==="auth/email-already-in-use"?F="Ya existe una cuenta con este correo.":D.code==="auth/weak-password"?F="La contraseña debe tener al menos 6 caracteres.":D.code==="auth/invalid-email"?F="El correo electrónico no es válido.":F=`Error desconocido: ${D.code}`,xn.fire({icon:"error",title:"Error",text:F})}else try{await Fk(Au,T,x),console.log("Inicio de sesión exitoso"),c("/home")}catch(D){console.error("Error iniciando sesión:",D);let F="Error al iniciar sesión.";(D.code==="auth/invalid-credential"||D.code==="auth/wrong-password"||D.code==="auth/user-not-found")&&(F="Correo o contraseña incorrectos."),xn.fire({icon:"error",title:"Error al iniciar sesión",text:F})}},p=async()=>{const{value:w}=await xn.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:E=>{if(!E)return"El correo es obligatorio"}});if(w)try{await Vk(Au,w),xn.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(E){xn.fire("Error",E.message,"error")}},y=async()=>{try{const w=await cA(Au,FV);if(!w?.user)throw new Error("No se obtuvo el usuario de Google.");const E=w.user,T=Nn(Q0,"usuarios",E.uid);(await io(T)).exists()||await N0(T,{nick:E.displayName||"",correo:E.email,puntos:0,rol:"usuario",dinero:1e8,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[0],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(w){if(w.code==="auth/popup-closed-by-user"||w.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",w),xn.fire({icon:"error",title:"Error",text:w.message||"No se pudo iniciar sesión con Google"})}};return P.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${kl})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),P.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[P.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),P.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:P.jsx("label",{style:{cursor:"default",display:"inline-block"},children:P.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),P.jsxs("form",{onSubmit:h,children:[P.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&P.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),P.jsxs("div",{className:"cajaContainerContraseña",children:[P.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),P.jsx("img",{src:t?VV:MV,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(w=>!w)})]}),!n&&P.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:P.jsx("button",{type:"button",onClick:p,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?P.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):P.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[P.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),P.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),P.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[P.jsx("img",{src:LV,alt:"Google"}),"Google"]})]})]}),P.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",P.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},ag={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebasestorage.googleapis.com",$V="storageBucket",UV=120*1e3,BV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ai{constructor(e,n,r=0){super(Em(e),`Firebase Storage: ${n} (${Em(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function Em(t){return"storage/"+t}function zV(){const t="An unknown error occurred, please check the error payload for server response.";return new Pi(ki.UNKNOWN,t)}function HV(){return new Pi(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WV(){return new Pi(ki.CANCELED,"User canceled the upload/download.")}function qV(t){return new Pi(ki.INVALID_URL,"Invalid URL '"+t+"'.")}function GV(t){return new Pi(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Y0(t){return new Pi(ki.INVALID_ARGUMENT,t)}function uC(){return new Pi(ki.APP_DELETED,"The Firebase app was deleted.")}function KV(t){return new Pi(ki.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gr.makeFromUrl(e,n)}catch{return new Gr(e,"")}if(r.path==="")return r;throw GV(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(Z){Z.path_=decodeURIComponent(Z.path)}const w="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${E}/${w}/b/${o}/o${T}`,"i"),D={bucket:1,path:3},F=n===lC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",W=new RegExp(`^https?://${F}/${o}/${O}`,"i"),K=[{regex:h,indices:p,postModify:a},{regex:x,indices:D,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let Z=0;Z<K.length;Z++){const ce=K[Z],se=ce.regex.exec(e);if(se){const R=se[ce.indices.bucket];let C=se[ce.indices.path];C||(C=""),r=new Gr(R,C),ce.postModify(r);break}}if(r==null)throw qV(e);return r}}class QV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e,n){let r=1,o=null,a=null,c=!1,h=0;function p(){return h===2}let y=!1;function w(...O){y||(y=!0,e.apply(null,O))}function E(O){o=setTimeout(()=>{o=null,t(x,p())},O)}function T(){a&&clearTimeout(a)}function x(O,...W){if(y){T();return}if(O){T(),w.call(null,O,...W);return}if(p()||c){T(),w.call(null,O,...W);return}r<64&&(r*=2);let K;h===1?(h=2,K=0):K=(r+Math.random())*1e3,E(K)}let D=!1;function F(O){D||(D=!0,T(),!y&&(o!==null?(O||(h=2),clearTimeout(o),E(0)):O||(h=1)))}return E(0),a=setTimeout(()=>{c=!0,F(!0)},n),F}function XV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){return t!==void 0}function X0(t,e,n,r){if(r<e)throw Y0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Y0(`Invalid value for '${t}'. Expected ${n} or less.`)}function ZV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var jh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jh||(jh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r,o,a,c,h,p,y,w,E,T=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,F)=>{this.resolve_=D,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Fd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const p=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===jh.NO_ERROR,p=a.getStatus();if(!h||e5(p,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===jh.ABORT;r(!1,new Fd(!1,null,w));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new Fd(y,a))})},n=(r,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());JV(p)?a(p):a()}catch(p){c(p)}else if(h!==null){const p=zV();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(o.canceled){const p=this.appDelete_?uC():WV();c(p)}else{const p=HV();c(p)}};this.canceled_?n(!1,new Fd(!1,null,!0)):this.backoffId_=YV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function n5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function r5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function i5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function o5(t,e,n,r,o,a,c=!0,h=!1){const p=ZV(t.urlParams),y=t.url+p,w=Object.assign({},t.headers);return i5(w,e),n5(w,n),r5(w,a),s5(w,r),new t5(y,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function l5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this._service=e,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $h(e,n)}get root(){const e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l5(this._location.path)}get storage(){return this._service}get parent(){const e=a5(this._location.path);if(e===null)return null;const n=new Gr(this._location.bucket,e);return new $h(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KV(e)}}function J0(t,e){const n=e?.[$V];return n==null?null:Gr.makeFromBucketSpec(n,t)}function u5(t,e,n,r={}){t.host=`${e}:${n}`;const o=pa(e);o&&(wg(`https://${t.host}/b`),vg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:LE(a,t.app.options.projectId))}class c5{constructor(e,n,r,o,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=lC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UV,this._maxUploadRetryTime=BV,this._requests=new Set,o!=null?this._bucket=Gr.makeFromBucketSpec(o,this._host):this._bucket=J0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=J0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){X0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){X0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $h(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new QV(uC());{const c=o5(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Z0="@firebase/storage",eE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="storage";function d5(t=Tg(),e){t=Lt(t);const r=Kh(t,cC).getImmediate({identifier:e}),o=NE("storage");return o&&h5(r,...o),r}function h5(t,e,n,r={}){u5(t,e,n,r)}function f5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new c5(n,r,o,e,ma)}function p5(){sa(new ao(cC,f5,"PUBLIC").setMultipleInstances(!0)),vi(Z0,eE,""),vi(Z0,eE,"esm2020")}p5();function Vy({usuario:t,openModal:e,setOpenModal:n}){const r=ga(),o=yo();d5();const a=t?.fotoPerfil||qr,[c,h]=S.useState(!1),[p,y]=S.useState(!1),[w,E]=S.useState(a),[T,x]=S.useState(null),[D,F]=S.useState(t.nick),[O,W]=S.useState(t.correo),[z,K]=S.useState(""),[Z,ce]=S.useState(!1),[se,R]=S.useState(""),[C,I]=S.useState(""),N=S.useRef();S.useEffect(()=>{e&&(E(t.fotoPerfil),x(null),F(t.nick),W(t.correo),K(""),R(t.nick),I(t.correo))},[e,t]),S.useEffect(()=>{const ye=D!==se||O!==C||z.length>0||T!==null;y(ye)},[D,O,z,T,se,C]);const V=ye=>{ye.target===N.current&&n(!1)},j=ye=>{if(!ye)return"";const te=10,X=ye.indexOf(" ");let oe;return X!==-1&&X<=te?(oe=X,ye.slice(0,oe)+"..."):ye.length>te?(oe=te-3,ye.slice(0,oe)+"..."):ye},k=ye=>{const te=ye.target.files[0];if(!te)return;x(te);const X=new FileReader;X.onloadend=()=>E(X.result),X.readAsDataURL(te)},me=async()=>{try{ce(!0);const ye=r.currentUser;let te=t.fotoPerfil;if(T){if(T.size>1*1024*1024){await xn.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const oe=new FormData;oe.append("file",T),oe.append("upload_preset","perfil_preset");const he=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:oe})).json();if(he.secure_url)te=he.secure_url;else{xn.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}D!==t.nick&&await u1(ye,{displayName:D}),z&&await $k(ye,z);const X=Nn(o,"usuarios",ye.uid);await cl(X,{fotoPerfil:te,nick:D}),await xn.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(ye){console.error("Error guardando perfil:",ye),alert("No se pudo guardar los cambios: "+ye.message)}finally{ce(!1),window.location.reload()}},Te=async()=>{if((await xn.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{ce(!0),await borrarCuenta(),await xn.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success"),window.location.href="/logout"}catch(te){console.error("Error al borrar la cuenta:",te),xn.fire("Error","No se pudo borrar la cuenta: "+te.message,"error")}finally{ce(!1)}};return e?P.jsx("div",{className:"modal-overlay",ref:N,onClick:V,children:P.jsxs("div",{className:"modal-perfil",children:[P.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),P.jsxs("div",{className:"modal-header",children:[P.jsxs("label",{className:"modal-avatar",children:[P.jsx("img",{src:w,alt:"Avatar"}),P.jsx("input",{type:"file",accept:"image/*",onChange:k})]}),P.jsxs("div",{className:"modal-userinfo",children:[P.jsx("h2",{children:window.innerWidth<450?j(t.nick):t.nick}),P.jsx("small",{children:t.correo})]})]}),P.jsx("hr",{}),P.jsxs("div",{className:"modal-body",children:[P.jsxs("div",{className:"field-group",children:[P.jsxs("label",{children:["Nick ",P.jsx("small",{children:"(Recomendado máximo 10 caracteres)"})]}),P.jsxs("div",{className:"field-with-icon",children:[P.jsx("input",{type:"text",value:D,onChange:ye=>F(ye.target.value),disabled:!c}),P.jsx("button",{className:"icon-pencil",onClick:()=>h(!c),title:"Editar nick",children:"✎"})]})]}),P.jsxs("div",{className:"field-group",children:[P.jsx("label",{children:"Correo"}),P.jsx("input",{type:"email",value:O,onChange:ye=>W(ye.target.value),disabled:!0})]}),P.jsxs("div",{className:"field-group",children:[P.jsx("label",{children:"Nueva contraseña"}),P.jsx("input",{type:"password",placeholder:"••••••••",value:z,onChange:ye=>K(ye.target.value)})]})]}),P.jsxs("div",{className:"modal-footer",children:[p&&P.jsx("button",{className:"modal-save-btn",onClick:me,disabled:Z,children:Z?"Guardando…":"Guardar cambios"}),P.jsx("button",{className:"modal-delete-btn",onClick:Te,disabled:Z,children:"Borrar cuenta"})]})]})}):null}const Ko=yo(dr),tE=ga(dr);function m5({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),h=t?.fotoPerfil||qr,p=t?.equipo?.titulares||[];t?.equipo?.banquillo;const[y,w]=S.useState([]),E=t?.equipo?.capitan||"",T=Object.keys(ag),[x,D]=S.useState(t?.equipo?.formacion||"2-1-1"),[F,O]=S.useState(x),[W,z]=S.useState(!1),[K,Z]=S.useState(t?.equipocreado),[ce,se]=S.useState(!1),[R,C]=S.useState(!1),I=S.useRef(null),N=()=>xg(tE);S.useEffect(()=>{const te=X=>{I.current&&!I.current.contains(X.target)&&C(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]);const V=te=>{O(te.target.value)},j=async()=>{try{z(!0);const te=Nn(Ko,"usuarios",t.uid);await cl(te,{"equipo.formacion":F}),D(F)}catch(te){console.error("Error al guardar formación:",te)}finally{z(!1)}},k=()=>{c(!a)},me=te=>te>=1e6?(te/1e6).toFixed(2)+"M":te>=1e3?(te/1e3).toFixed(2)+"K":te.toFixed(2),Te=te=>{if(!te)return"";const X=10,oe=te.indexOf(" ");let ae;return oe!==-1&&oe<=X?(ae=oe,te.slice(0,ae)+"..."):te.length>X?(ae=X-3,te.slice(0,ae)+"..."):te},ye=async()=>{try{z(!0);const te=await tg(Zm(Ko,"jugadores"));let X=[];if(te.forEach(G=>{const he=G.data();he.stockLibre>0&&X.push({id:G.id,...he})}),console.log(X.length),X.length<4){alert("No hay suficientes jugadores disponibles"),z(!1);return}let oe=[];for(let G=0;G<4;G++){const he=Math.floor(Math.random()*X.length);oe.push(X[he]),X.splice(he,1)}const ae=oe.map(async G=>{const he=Nn(Ko,"jugadores",G.id);return cl(he,{stockLibre:G.stockLibre-1,dueños:wN(t.uid)})});await Promise.all(ae);const $=Nn(Ko,"usuarios",t.uid);await cl($,{"equipo.titulares":oe.map(G=>G.id),equipocreado:!0}),Z(!0)}catch(te){console.error("Error al crear equipo:",te)}finally{z(!1)}};return S.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const X=setTimeout(async()=>{try{const oe=Nn(Ko,"usuarios",tE.currentUser.uid);await cl(oe,{onboarding:!0}),window.location.reload()}catch(oe){console.error("Error actualizando onboarding:",oe)}},500);return()=>clearTimeout(X)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const X=Nn(Ko,"usuarios",t.uid);io(X).then(oe=>{oe.exists()&&o(oe.data().dinero)})}(async()=>{if(!p||p.length===0)return;const X=Zm(Ko,"jugadores"),oe=hN(X,fN("__name__","in",p)),$=(await tg(oe)).docs.map(G=>({id:G.id,...G.data()}));w($)})()},[t],[p]),K?P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:h,onError:te=>{te.currentTarget.onerror=null,te.currentTarget.src=qr},alt:"Foto de perfil",onClick:()=>C(!R),onMouseEnter:()=>C(!0)}),R&&P.jsxs("div",{className:"perfil-bocadillo",ref:I,onMouseLeave:()=>C(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{se(!0),C(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:me(r)})]})]})]}),P.jsx("button",{onClick:k,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${kl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),ce&&P.jsx(Vy,{usuario:t,openModal:ce,setOpenModal:se}),P.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[P.jsxs("div",{className:"formacion-selector",children:[P.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),P.jsx("select",{id:"formacion-select",value:F,onChange:V,children:T.map(te=>P.jsx("option",{value:te,children:te},te))}),F!==x&&P.jsx("button",{onClick:j,disabled:W,children:W?"Guardando...":"Guardar cambios"})]}),P.jsx("div",{className:"campo",children:ag[F]?.map((te,X)=>{const oe=p[X],ae=y.find($=>$.id===oe);return P.jsxs("div",{className:"jugador",style:{position:"absolute",top:te.top,left:te.left,transform:"translate(-50%, -50%)"},children:[P.jsxs("div",{className:"jugador-wrapper",children:[P.jsx("img",{src:ae?.foto||qr,alt:ae?.nombre||"Vacío",className:"jugador-img"}),E===ae?.id&&P.jsx("div",{className:"capitan-badge",children:"C"})]}),P.jsx("p",{className:"jugador-nombre",children:ae?.nombre||"Vacío"})]},ae?.id||X)})})]})]}),e&&P.jsx("div",{className:"onboarding-overlay",children:P.jsx("div",{className:"loader",children:"Cargando..."})})]}):P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:h,onError:te=>{te.currentTarget.onerror=null,te.currentTarget.src=qr},alt:"Foto de perfil",onClick:()=>C(!R),onMouseEnter:()=>C(!0)}),R&&P.jsxs("div",{className:"perfil-bocadillo",ref:I,onMouseLeave:()=>C(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{se(!0),C(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:Te(t?.nick||t?.displayName)}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:me(r)})]})]})]}),P.jsx("button",{onClick:k,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${kl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),P.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:P.jsx("div",{className:"campo",children:P.jsx("button",{className:"crear-equipo-btn",onClick:ye,disabled:W,children:W?"Creando equipo...":"Crear equipo"})})})]}),e&&P.jsx("div",{className:"onboarding-overlay",children:P.jsx("div",{className:"loader",children:"Cargando..."})})]})}const nE="/Fantasy-Casadillos/assets/SinPerfil-HNB6URqh.jpg",g5=yo(dr);ga(dr);function y5({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),h=t?.fotoPerfil||nE,p=()=>{c(!a)},y=E=>E>=1e6?(E/1e6).toFixed(2)+"M":E>=1e3?(E/1e3).toFixed(2)+"K":E.toFixed(2),w=E=>{if(!E)return"";const T=12,x=E.indexOf(" ");let D;return x!==-1&&x<=T?(D=x,E.slice(0,D)):E.length>T?(D=T-3,E.slice(0,D)+"..."):E};return S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const E=Nn(g5,"usuarios",t.uid);io(E).then(T=>{T.exists()&&o(T.data().dinero)})}},[t]),P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsx("div",{className:"img-profile-small",children:P.jsx("img",{src:h,onError:E=>{E.currentTarget.onerror=null,E.currentTarget.src=nE},alt:"Foto de perfil"})}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:w(t?.nick||t?.displayName)}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:y(r)})]})]})]}),P.jsx("button",{onClick:p,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${kl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),P.jsx("div",{className:"form-card-Home",style:{textAlign:"center",position:"relative",zIndex:1}})]}),P.jsxs("div",{className:"contenido-negro",children:[P.jsx("h2",{children:"Contenido debajo del fondo"}),P.jsx("p",{children:"Aquí puedes seguir añadiendo secciones."})]})]})}var bn=function(){return bn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bn.apply(this,arguments)};function Uh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var ht="-ms-",zu="-moz-",tt="-webkit-",dC="comm",Cf="rule",My="decl",w5="@import",hC="@keyframes",v5="@layer",fC=Math.abs,Fy=String.fromCharCode,lg=Object.assign;function _5(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function pC(t){return t.trim()}function es(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function nh(t,e,n){return t.indexOf(e,n)}function rn(t,e){return t.charCodeAt(e)|0}function Al(t,e,n){return t.slice(e,n)}function wi(t){return t.length}function mC(t){return t.length}function Vu(t,e){return e.push(t),t}function E5(t,e){return t.map(e).join("")}function rE(t,e){return t.filter(function(n){return!es(n,e)})}var If=1,Pl=1,gC=0,Nr=0,Bt=0,Kl="";function Sf(t,e,n,r,o,a,c,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:If,column:Pl,length:c,return:"",siblings:h}}function qs(t,e){return lg(Sf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function sl(t){for(;t.root;)t=qs(t.root,{children:[t]});Vu(t,t.siblings)}function T5(){return Bt}function b5(){return Bt=Nr>0?rn(Kl,--Nr):0,Pl--,Bt===10&&(Pl=1,If--),Bt}function Qr(){return Bt=Nr<gC?rn(Kl,Nr++):0,Pl++,Bt===10&&(Pl=1,If++),Bt}function ra(){return rn(Kl,Nr)}function rh(){return Nr}function Rf(t,e){return Al(Kl,t,e)}function ug(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C5(t){return If=Pl=1,gC=wi(Kl=t),Nr=0,[]}function I5(t){return Kl="",t}function Tm(t){return pC(Rf(Nr-1,cg(t===91?t+2:t===40?t+1:t)))}function S5(t){for(;(Bt=ra())&&Bt<33;)Qr();return ug(t)>2||ug(Bt)>3?"":" "}function R5(t,e){for(;--e&&Qr()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return Rf(t,rh()+(e<6&&ra()==32&&Qr()==32))}function cg(t){for(;Qr();)switch(Bt){case t:return Nr;case 34:case 39:t!==34&&t!==39&&cg(Bt);break;case 40:t===41&&cg(t);break;case 92:Qr();break}return Nr}function k5(t,e){for(;Qr()&&t+Bt!==57;)if(t+Bt===84&&ra()===47)break;return"/*"+Rf(e,Nr-1)+"*"+Fy(t===47?t:Qr())}function A5(t){for(;!ug(ra());)Qr();return Rf(t,Nr)}function P5(t){return I5(ih("",null,null,null,[""],t=C5(t),0,[0],t))}function ih(t,e,n,r,o,a,c,h,p){for(var y=0,w=0,E=c,T=0,x=0,D=0,F=1,O=1,W=1,z=0,K="",Z=o,ce=a,se=r,R=K;O;)switch(D=z,z=Qr()){case 40:if(D!=108&&rn(R,E-1)==58){nh(R+=je(Tm(z),"&","&\f"),"&\f",fC(y?h[y-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:R+=Tm(z);break;case 9:case 10:case 13:case 32:R+=S5(D);break;case 92:R+=R5(rh()-1,7);continue;case 47:switch(ra()){case 42:case 47:Vu(x5(k5(Qr(),rh()),e,n,p),p);break;default:R+="/"}break;case 123*F:h[y++]=wi(R)*W;case 125*F:case 59:case 0:switch(z){case 0:case 125:O=0;case 59+w:W==-1&&(R=je(R,/\f/g,"")),x>0&&wi(R)-E&&Vu(x>32?sE(R+";",r,n,E-1,p):sE(je(R," ","")+";",r,n,E-2,p),p);break;case 59:R+=";";default:if(Vu(se=iE(R,e,n,y,w,o,h,K,Z=[],ce=[],E,a),a),z===123)if(w===0)ih(R,e,se,se,Z,a,E,h,ce);else switch(T===99&&rn(R,3)===110?100:T){case 100:case 108:case 109:case 115:ih(t,se,se,r&&Vu(iE(t,se,se,0,0,o,h,K,o,Z=[],E,ce),ce),o,ce,E,h,r?Z:ce);break;default:ih(R,se,se,se,[""],ce,0,h,ce)}}y=w=x=0,F=W=1,K=R="",E=c;break;case 58:E=1+wi(R),x=D;default:if(F<1){if(z==123)--F;else if(z==125&&F++==0&&b5()==125)continue}switch(R+=Fy(z),z*F){case 38:W=w>0?1:(R+="\f",-1);break;case 44:h[y++]=(wi(R)-1)*W,W=1;break;case 64:ra()===45&&(R+=Tm(Qr())),T=ra(),w=E=wi(K=R+=A5(rh())),z++;break;case 45:D===45&&wi(R)==2&&(F=0)}}return a}function iE(t,e,n,r,o,a,c,h,p,y,w,E){for(var T=o-1,x=o===0?a:[""],D=mC(x),F=0,O=0,W=0;F<r;++F)for(var z=0,K=Al(t,T+1,T=fC(O=c[F])),Z=t;z<D;++z)(Z=pC(O>0?x[z]+" "+K:je(K,/&\f/g,x[z])))&&(p[W++]=Z);return Sf(t,e,n,o===0?Cf:h,p,y,w,E)}function x5(t,e,n,r){return Sf(t,e,n,dC,Fy(T5()),Al(t,2,-2),0,r)}function sE(t,e,n,r,o){return Sf(t,e,n,My,Al(t,0,r),Al(t,r+1,-1),r,o)}function yC(t,e,n){switch(_5(t,e)){case 5103:return tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+t+t;case 4789:return zu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+t+zu+t+ht+t+t;case 5936:switch(rn(t,e+11)){case 114:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tt+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return tt+t+ht+t+t;case 6165:return tt+t+ht+"flex-"+t+t;case 5187:return tt+t+je(t,/(\w+).+(:[^]+)/,tt+"box-$1$2"+ht+"flex-$1$2")+t;case 5443:return tt+t+ht+"flex-item-"+je(t,/flex-|-self/g,"")+(es(t,/flex-|baseline/)?"":ht+"grid-row-"+je(t,/flex-|-self/g,""))+t;case 4675:return tt+t+ht+"flex-line-pack"+je(t,/align-content|flex-|-self/g,"")+t;case 5548:return tt+t+ht+je(t,"shrink","negative")+t;case 5292:return tt+t+ht+je(t,"basis","preferred-size")+t;case 6060:return tt+"box-"+je(t,"-grow","")+tt+t+ht+je(t,"grow","positive")+t;case 4554:return tt+je(t,/([^-])(transform)/g,"$1"+tt+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+t+t;case 4200:if(!es(t,/flex-|baseline/))return ht+"grid-column-align"+Al(t,e)+t;break;case 2592:case 3360:return ht+je(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,es(r.props,/grid-\w+-end/)})?~nh(t+(n=n[e].value),"span",0)?t:ht+je(t,"-start","")+t+ht+"grid-row-span:"+(~nh(n,"span",0)?es(n,/\d+/):+es(n,/\d+/)-+es(t,/\d+/))+";":ht+je(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return es(r.props,/grid-\w+-start/)})?t:ht+je(je(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wi(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+zu+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~nh(t,"stretch",0)?yC(je(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return je(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,c,h,p,y){return ht+o+":"+a+y+(c?ht+o+"-span:"+(h?p:+p-+a)+y:"")+t});case 4949:if(rn(t,e+6)===121)return je(t,":",":"+tt)+t;break;case 6444:switch(rn(t,rn(t,14)===45?18:11)){case 120:return je(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tt+(rn(t,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+ht+"$2box$3")+t;case 100:return je(t,":",":"+ht)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(t,"scroll-","scroll-snap-")+t}return t}function Bh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function N5(t,e,n,r){switch(t.type){case v5:if(t.children.length)break;case w5:case My:return t.return=t.return||t.value;case dC:return"";case hC:return t.return=t.value+"{"+Bh(t.children,r)+"}";case Cf:if(!wi(t.value=t.props.join(",")))return""}return wi(n=Bh(t.children,r))?t.return=t.value+"{"+n+"}":""}function O5(t){var e=mC(t);return function(n,r,o,a){for(var c="",h=0;h<e;h++)c+=t[h](n,r,o,a)||"";return c}}function D5(t){return function(e){e.root||(e=e.return)&&t(e)}}function L5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case My:t.return=yC(t.value,t.length,n);return;case hC:return Bh([qs(t,{value:je(t.value,"@","@"+tt)})],r);case Cf:if(t.length)return E5(n=t.props,function(o){switch(es(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":sl(qs(t,{props:[je(o,/:(read-\w+)/,":"+zu+"$1")]})),sl(qs(t,{props:[o]})),lg(t,{props:rE(n,r)});break;case"::placeholder":sl(qs(t,{props:[je(o,/:(plac\w+)/,":"+tt+"input-$1")]})),sl(qs(t,{props:[je(o,/:(plac\w+)/,":"+zu+"$1")]})),sl(qs(t,{props:[je(o,/:(plac\w+)/,ht+"input-$1")]})),sl(qs(t,{props:[o]})),lg(t,{props:rE(n,r)});break}return""})}}var V5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lr={},xl=typeof process<"u"&&lr!==void 0&&(lr.REACT_APP_SC_ATTR||lr.SC_ATTR)||"data-styled",wC="active",vC="data-styled-version",kf="6.1.19",jy=`/*!sc*/
`,zh=typeof window<"u"&&typeof document<"u",M5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&lr!==void 0&&lr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&lr.REACT_APP_SC_DISABLE_SPEEDY!==""?lr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&lr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&lr!==void 0&&lr.SC_DISABLE_SPEEDY!==void 0&&lr.SC_DISABLE_SPEEDY!==""&&lr.SC_DISABLE_SPEEDY!=="false"&&lr.SC_DISABLE_SPEEDY),Af=Object.freeze([]),Nl=Object.freeze({});function F5(t,e,n){return n===void 0&&(n=Nl),t.theme!==n.theme&&t.theme||e||n.theme}var _C=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),j5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,$5=/(^-|-$)/g;function oE(t){return t.replace(j5,"-").replace($5,"")}var U5=/(a)(d)/gi,jd=52,aE=function(t){return String.fromCharCode(t+(t>25?39:97))};function dg(t){var e,n="";for(e=Math.abs(t);e>jd;e=e/jd|0)n=aE(e%jd)+n;return(aE(e%jd)+n).replace(U5,"$1-$2")}var bm,EC=5381,dl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},TC=function(t){return dl(EC,t)};function B5(t){return dg(TC(t)>>>0)}function z5(t){return t.displayName||t.name||"Component"}function Cm(t){return typeof t=="string"&&!0}var bC=typeof Symbol=="function"&&Symbol.for,CC=bC?Symbol.for("react.memo"):60115,H5=bC?Symbol.for("react.forward_ref"):60112,W5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},q5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},IC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},G5=((bm={})[H5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bm[CC]=IC,bm);function lE(t){return("type"in(e=t)&&e.type.$$typeof)===CC?IC:"$$typeof"in t?G5[t.$$typeof]:W5;var e}var K5=Object.defineProperty,Q5=Object.getOwnPropertyNames,uE=Object.getOwnPropertySymbols,Y5=Object.getOwnPropertyDescriptor,X5=Object.getPrototypeOf,cE=Object.prototype;function SC(t,e,n){if(typeof e!="string"){if(cE){var r=X5(e);r&&r!==cE&&SC(t,r,n)}var o=Q5(e);uE&&(o=o.concat(uE(e)));for(var a=lE(t),c=lE(e),h=0;h<o.length;++h){var p=o[h];if(!(p in q5||n&&n[p]||c&&p in c||a&&p in a)){var y=Y5(e,p);try{K5(t,p,y)}catch{}}}}return t}function ha(t){return typeof t=="function"}function $y(t){return typeof t=="object"&&"styledComponentId"in t}function ea(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function dE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function ec(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function hg(t,e,n){if(n===void 0&&(n=!1),!n&&!ec(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=hg(t[r],e[r]);else if(ec(e))for(var r in e)t[r]=hg(t[r],e[r]);return t}function Uy(t,e){Object.defineProperty(t,"toString",{value:e})}function fa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var J5=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw fa(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var c=o;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(e+1),p=(c=0,n.length);c<p;c++)this.tag.insertRule(h,n[c])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,c=o;c<a;c++)n+="".concat(this.tag.getRule(c)).concat(jy);return n},t})(),sh=new Map,Hh=new Map,oh=1,$d=function(t){if(sh.has(t))return sh.get(t);for(;Hh.has(oh);)oh++;var e=oh++;return sh.set(t,e),Hh.set(e,t),e},Z5=function(t,e){oh=e+1,sh.set(t,e),Hh.set(e,t)},eM="style[".concat(xl,"][").concat(vC,'="').concat(kf,'"]'),tM=new RegExp("^".concat(xl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),nM=function(t,e,n){for(var r,o=n.split(","),a=0,c=o.length;a<c;a++)(r=o[a])&&t.registerName(e,r)},rM=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(jy),o=[],a=0,c=r.length;a<c;a++){var h=r[a].trim();if(h){var p=h.match(tM);if(p){var y=0|parseInt(p[1],10),w=p[2];y!==0&&(Z5(w,y),nM(t,w,p[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},hE=function(t){for(var e=document.querySelectorAll(eM),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(xl)!==wC&&(rM(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function iM(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var RC=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(xl,"]")));return p[p.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(xl,wC),r.setAttribute(vC,kf);var c=iM();return c&&r.setAttribute("nonce",c),n.insertBefore(r,a),r},sM=(function(){function t(e){this.element=RC(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var c=r[o];if(c.ownerNode===n)return c}throw fa(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),oM=(function(){function t(e){this.element=RC(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),aM=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),fE=zh,lM={isServer:!zh,useCSSOMInjection:!M5},kC=(function(){function t(e,n,r){e===void 0&&(e=Nl),n===void 0&&(n={});var o=this;this.options=bn(bn({},lM),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&zh&&fE&&(fE=!1,hE(this)),Uy(this,function(){return(function(a){for(var c=a.getTag(),h=c.length,p="",y=function(E){var T=(function(W){return Hh.get(W)})(E);if(T===void 0)return"continue";var x=a.names.get(T),D=c.getGroup(E);if(x===void 0||!x.size||D.length===0)return"continue";var F="".concat(xl,".g").concat(E,'[id="').concat(T,'"]'),O="";x!==void 0&&x.forEach(function(W){W.length>0&&(O+="".concat(W,","))}),p+="".concat(D).concat(F,'{content:"').concat(O,'"}').concat(jy)},w=0;w<h;w++)y(w);return p})(o)})}return t.registerId=function(e){return $d(e)},t.prototype.rehydrate=function(){!this.server&&zh&&hE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(bn(bn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new aM(o):r?new sM(o):new oM(o)})(this.options),new J5(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if($d(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules($d(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup($d(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),uM=/&/g,cM=/^\s*\/\/.*$/gm;function AC(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=AC(n.children,e)),n})}function dM(t){var e,n,r,o=Nl,a=o.options,c=a===void 0?Nl:a,h=o.plugins,p=h===void 0?Af:h,y=function(T,x,D){return D.startsWith(n)&&D.endsWith(n)&&D.replaceAll(n,"").length>0?".".concat(e):T},w=p.slice();w.push(function(T){T.type===Cf&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(uM,n).replace(r,y))}),c.prefix&&w.push(L5),w.push(N5);var E=function(T,x,D,F){x===void 0&&(x=""),D===void 0&&(D=""),F===void 0&&(F="&"),e=F,n=x,r=new RegExp("\\".concat(n,"\\b"),"g");var O=T.replace(cM,""),W=P5(D||x?"".concat(D," ").concat(x," { ").concat(O," }"):O);c.namespace&&(W=AC(W,c.namespace));var z=[];return Bh(W,O5(w.concat(D5(function(K){return z.push(K)})))),z};return E.hash=p.length?p.reduce(function(T,x){return x.name||fa(15),dl(T,x.name)},EC).toString():"",E}var hM=new kC,fg=dM(),PC=Ue.createContext({shouldForwardProp:void 0,styleSheet:hM,stylis:fg});PC.Consumer;Ue.createContext(void 0);function pE(){return S.useContext(PC)}var fM=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=fg);var c=r.name+a.hash;o.hasNameForId(r.id,c)||o.insertRules(r.id,c,a(r.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Uy(this,function(){throw fa(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=fg),this.name+e.hash},t})(),pM=function(t){return t>="A"&&t<="Z"};function mE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;pM(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var xC=function(t){return t==null||t===!1||t===""},NC=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!xC(a)&&(Array.isArray(a)&&a.isCss||ha(a)?r.push("".concat(mE(o),":"),a,";"):ec(a)?r.push.apply(r,Uh(Uh(["".concat(o," {")],NC(a),!1),["}"],!1)):r.push("".concat(mE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in V5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ia(t,e,n,r){if(xC(t))return[];if($y(t))return[".".concat(t.styledComponentId)];if(ha(t)){if(!ha(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ia(o,e,n,r)}var a;return t instanceof fM?n?(t.inject(n,r),[t.getName(r)]):[t]:ec(t)?NC(t):Array.isArray(t)?Array.prototype.concat.apply(Af,t.map(function(c){return ia(c,e,n,r)})):[t.toString()]}function mM(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ha(n)&&!$y(n))return!1}return!0}var gM=TC(kf),yM=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&mM(e),this.componentId=n,this.baseHash=dl(gM,n),this.baseStyle=r,kC.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ea(o,this.staticRulesId);else{var a=dE(ia(this.rules,e,n,r)),c=dg(dl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,c)){var h=r(a,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,h)}o=ea(o,c),this.staticRulesId=c}else{for(var p=dl(this.baseHash,r.hash),y="",w=0;w<this.rules.length;w++){var E=this.rules[w];if(typeof E=="string")y+=E;else if(E){var T=dE(ia(E,e,n,r));p=dl(p,T+w),y+=T}}if(y){var x=dg(p>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,r(y,".".concat(x),void 0,this.componentId)),o=ea(o,x)}}return o},t})(),Wh=Ue.createContext(void 0);Wh.Consumer;function wM(t){var e=Ue.useContext(Wh),n=S.useMemo(function(){return(function(r,o){if(!r)throw fa(14);if(ha(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw fa(8);return o?bn(bn({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?Ue.createElement(Wh.Provider,{value:n},t.children):null}var Im={};function vM(t,e,n){var r=$y(t),o=t,a=!Cm(t),c=e.attrs,h=c===void 0?Af:c,p=e.componentId,y=p===void 0?(function(Z,ce){var se=typeof Z!="string"?"sc":oE(Z);Im[se]=(Im[se]||0)+1;var R="".concat(se,"-").concat(B5(kf+se+Im[se]));return ce?"".concat(ce,"-").concat(R):R})(e.displayName,e.parentComponentId):p,w=e.displayName,E=w===void 0?(function(Z){return Cm(Z)?"styled.".concat(Z):"Styled(".concat(z5(Z),")")})(t):w,T=e.displayName&&e.componentId?"".concat(oE(e.displayName),"-").concat(e.componentId):e.componentId||y,x=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,D=e.shouldForwardProp;if(r&&o.shouldForwardProp){var F=o.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;D=function(Z,ce){return F(Z,ce)&&O(Z,ce)}}else D=F}var W=new yM(n,T,r?o.componentStyle:void 0);function z(Z,ce){return(function(se,R,C){var I=se.attrs,N=se.componentStyle,V=se.defaultProps,j=se.foldedComponentIds,k=se.styledComponentId,me=se.target,Te=Ue.useContext(Wh),ye=pE(),te=se.shouldForwardProp||ye.shouldForwardProp,X=F5(R,Te,V)||Nl,oe=(function(Ne,Oe,Fe){for(var Me,$e=bn(bn({},Oe),{className:void 0,theme:Fe}),ot=0;ot<Ne.length;ot+=1){var _t=ha(Me=Ne[ot])?Me($e):Me;for(var Et in _t)$e[Et]=Et==="className"?ea($e[Et],_t[Et]):Et==="style"?bn(bn({},$e[Et]),_t[Et]):_t[Et]}return Oe.className&&($e.className=ea($e.className,Oe.className)),$e})(I,R,X),ae=oe.as||me,$={};for(var G in oe)oe[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&oe.theme===X||(G==="forwardedAs"?$.as=oe.forwardedAs:te&&!te(G,ae)||($[G]=oe[G]));var he=(function(Ne,Oe){var Fe=pE(),Me=Ne.generateAndInjectStyles(Oe,Fe.styleSheet,Fe.stylis);return Me})(N,oe),Ce=ea(j,k);return he&&(Ce+=" "+he),oe.className&&(Ce+=" "+oe.className),$[Cm(ae)&&!_C.has(ae)?"class":"className"]=Ce,C&&($.ref=C),S.createElement(ae,$)})(K,Z,ce)}z.displayName=E;var K=Ue.forwardRef(z);return K.attrs=x,K.componentStyle=W,K.displayName=E,K.shouldForwardProp=D,K.foldedComponentIds=r?ea(o.foldedComponentIds,o.styledComponentId):"",K.styledComponentId=T,K.target=r?o.target:t,Object.defineProperty(K,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Z){this._foldedDefaultProps=r?(function(ce){for(var se=[],R=1;R<arguments.length;R++)se[R-1]=arguments[R];for(var C=0,I=se;C<I.length;C++)hg(ce,I[C],!0);return ce})({},o.defaultProps,Z):Z}}),Uy(K,function(){return".".concat(K.styledComponentId)}),a&&SC(K,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),K}function gE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var yE=function(t){return Object.assign(t,{isCss:!0})};function Xt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ha(t)||ec(t))return yE(ia(gE(Af,Uh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ia(r):yE(ia(gE(r,e)))}function pg(t,e,n){if(n===void 0&&(n=Nl),!e)throw fa(1,e);var r=function(o){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(e,n,Xt.apply(void 0,Uh([o],a,!1)))};return r.attrs=function(o){return pg(t,e,bn(bn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return pg(t,e,bn(bn({},n),o))},r}var OC=function(t){return pg(vM,t)},He=OC;_C.forEach(function(t){He[t]=OC(t)});var so;function Ol(t,e){return t[e]}function _M(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function EM(t=[],e,n="id"){const r=t.slice(),o=Ol(e,n);return o?r.splice(r.findIndex((a=>Ol(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function wE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Hu(t,e){return Math.ceil(t/e)}function Sm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(so||(so={}));const Qt=()=>null;function DC(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function ah(t,e=[],n="id"){const r=Ol(t,n);return r?e.some((o=>Ol(o,n)===r)):e.some((o=>o===t))}function Ud(t,e){return e?t.findIndex((n=>Wu(n.id,e))):-1}function Wu(t,e){return t==e}function TM(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:c}=e,h=!t.allSelected,p=!t.toggleOnSelectedRowsChange;if(c){const y=h?[...t.selectedRows,...o.filter((w=>!ah(w,t.selectedRows,r)))]:t.selectedRows.filter((w=>!ah(w,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:p})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:p})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:c,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:EM(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===c,selectedRows:_M(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:c}=e;if(c){const h=[...t.selectedRows,...o.filter((p=>!ah(p,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:c}=e,h=o&&c,p=o&&!c||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),p&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const bM=Xt`
	pointer-events: none;
	opacity: 0.4;
`,CM=He.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&bM};
	${({theme:t})=>t.table.style};
`,IM=Xt`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,SM=He.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&IM};
	${({theme:t})=>t.head.style};
`,RM=He.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,LC=(t,...e)=>Xt`
		@media screen and (max-width: ${599}px) {
			${Xt(t,...e)}
		}
	`,kM=(t,...e)=>Xt`
		@media screen and (max-width: ${959}px) {
			${Xt(t,...e)}
		}
	`,AM=(t,...e)=>Xt`
		@media screen and (max-width: ${1280}px) {
			${Xt(t,...e)}
		}
	`,PM=t=>(e,...n)=>Xt`
			@media screen and (max-width: ${t}px) {
				${Xt(e,...n)}
			}
		`,Ql=He.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,VC=He(Ql)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&Xt`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&LC`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&kM`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&AM`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&PM(t)`
    display: none;
  `};
`,xM=Xt`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,NM=He(VC).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&xM};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var OM=S.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:p,onDragEnter:y,onDragLeave:w}){const{conditionalStyle:E,classNames:T}=DC(n,e.conditionalCellStyles,["rdt_TableCell"]);return S.createElement(NM,{id:t,"data-column-id":e.id,role:"cell",className:T,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:E,$isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:p,onDragEnter:y,onDragLeave:w},!e.cell&&S.createElement("div",{"data-tag":o},(function(x,D,F,O){return D?F&&typeof F=="function"?F(x,O):D(x,O):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const vE="input";var MC=S.memo((function({name:t,component:e=vE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:c=Qt}){const h=e,p=h!==vE?n.style:(w=>Object.assign(Object.assign({fontSize:"18px"},!w&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=S.useMemo((()=>(function(w,...E){let T;return Object.keys(w).map((x=>w[x])).forEach(((x,D)=>{typeof x=="function"&&(T=Object.assign(Object.assign({},w),{[Object.keys(w)[D]]:x(...E)}))})),T||w})(n,r)),[n,r]);return S.createElement(h,Object.assign({type:"checkbox",ref:w=>{w&&(w.indeterminate=r)},style:p,onClick:a?Qt:c,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:Qt}))}));const DM=He(Ql)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function LM({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:c,selectableRowsSingle:h,selectableRowDisabled:p,onSelectedRow:y}){const w=!(!p||!p(n));return S.createElement(DM,{onClick:E=>E.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},S.createElement(MC,{name:t,component:a,componentOptions:c,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:w}))}const VM=He.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function MM({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const c=e?n.expanded:n.collapsed;return S.createElement(VM,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}const FM=He(Ql)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function jM({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return S.createElement(FM,{onClick:c=>c.stopPropagation(),$noPadding:!0},S.createElement(MM,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const $M=He.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var UM=S.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((c=>c!=="rdt_TableRow"))].join(" ");return S.createElement($M,{className:a,$extendedRowStyle:r},S.createElement(e,Object.assign({data:t},n)))}));const Rm="allowRowEvents";var qh,mg,_E;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(qh||(qh={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(mg||(mg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(_E||(_E={}));const BM=Xt`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,zM=Xt`
	&:hover {
		cursor: pointer;
	}
`,HM=He.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&BM};
	${({$pointerOnHover:t})=>t&&zM};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function WM({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:c=!1,expandableRowsComponent:h,expandableRowsComponentProps:p,expandableRowsHideExpander:y,expandOnRowClicked:w=!1,expandOnRowDoubleClicked:E=!1,highlightOnHover:T=!1,id:x,expandableInheritConditionalStyles:D,keyField:F,onRowClicked:O=Qt,onRowDoubleClicked:W=Qt,onRowMouseEnter:z=Qt,onRowMouseLeave:K=Qt,onRowExpandToggled:Z=Qt,onSelectedRow:ce=Qt,pointerOnHover:se=!1,row:R,rowCount:C,rowIndex:I,selectableRowDisabled:N=null,selectableRows:V=!1,selectableRowsComponent:j,selectableRowsComponentProps:k,selectableRowsHighlight:me=!1,selectableRowsSingle:Te=!1,selected:ye,striped:te=!1,draggingColumnId:X,onDragStart:oe,onDragOver:ae,onDragEnd:$,onDragEnter:G,onDragLeave:he}){const[Ce,Ne]=S.useState(n);S.useEffect((()=>{Ne(n)}),[n]);const Oe=S.useCallback((()=>{Ne(!Ce),Z(!Ce,R)}),[Ce,Z,R]),Fe=se||c&&(w||E),Me=S.useCallback((pt=>{pt.target.getAttribute("data-tag")===Rm&&(O(R,pt),!r&&c&&w&&Oe())}),[r,w,c,Oe,O,R]),$e=S.useCallback((pt=>{pt.target.getAttribute("data-tag")===Rm&&(W(R,pt),!r&&c&&E&&Oe())}),[r,E,c,Oe,W,R]),ot=S.useCallback((pt=>{z(R,pt)}),[z,R]),_t=S.useCallback((pt=>{K(R,pt)}),[K,R]),Et=Ol(R,F),{conditionalStyle:Xn,classNames:pr}=DC(R,e,["rdt_TableRow"]),ei=me&&ye,xi=D?Xn:{},Ni=te&&I%2==0;return S.createElement(S.Fragment,null,S.createElement(HM,{id:`row-${x}`,role:"row",$striped:Ni,$highlightOnHover:T,$pointerOnHover:!r&&Fe,$dense:o,onClick:Me,onDoubleClick:$e,onMouseEnter:ot,onMouseLeave:_t,className:pr,$selected:ei,$conditionalStyle:Xn},V&&S.createElement(LM,{name:`select-row-${Et}`,keyField:F,row:R,rowCount:C,selected:ye,selectableRowsComponent:j,selectableRowsComponentProps:k,selectableRowDisabled:N,selectableRowsSingle:Te,onSelectedRow:ce}),c&&!y&&S.createElement(jM,{id:Et,expandableIcon:a,expanded:Ce,row:R,onToggled:Oe,disabled:r}),t.map((pt=>pt.omit?null:S.createElement(OM,{id:`cell-${pt.id}-${Et}`,key:`cell-${pt.id}-${Et}`,dataTag:pt.ignoreRowClick||pt.button?null:Rm,column:pt,row:R,rowIndex:I,isDragging:Wu(X,pt.id),onDragStart:oe,onDragOver:ae,onDragEnd:$,onDragEnter:G,onDragLeave:he})))),c&&Ce&&S.createElement(UM,{key:`expander-${Et}`,data:R,extendedRowStyle:xi,extendedClassNames:pr,ExpanderComponent:h,expanderComponentProps:p}))}const qM=He.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,GM=({sortActive:t,sortDirection:e})=>Ue.createElement(qM,{$sortActive:t,$sortDirection:e},"▲"),KM=He(VC)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,QM=Xt`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&Xt`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,YM=He.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&QM};
`,XM=He.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var JM=S.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:c,pagination:h,paginationServer:p,persistSelectedOnSort:y,selectableRowsVisibleOnly:w,onSort:E,onDragStart:T,onDragOver:x,onDragEnd:D,onDragEnter:F,onDragLeave:O}){S.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[W,z]=S.useState(!1),K=S.useRef(null);if(S.useEffect((()=>{K.current&&z(K.current.scrollWidth>K.current.clientWidth)}),[W]),t.omit)return null;const Z=()=>{if(!t.sortable&&!t.selector)return;let k=o;Wu(r.id,t.id)&&(k=o===so.ASC?so.DESC:so.ASC),E({type:"SORT_CHANGE",sortDirection:k,selectedColumn:t,clearSelectedOnSort:h&&p&&!y||c||w})},ce=k=>S.createElement(GM,{sortActive:k,sortDirection:o}),se=()=>S.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),R=!(!t.sortable||!Wu(r.id,t.id)),C=!t.sortable||e,I=t.sortable&&!a&&!t.right,N=t.sortable&&!a&&t.right,V=t.sortable&&a&&!t.right,j=t.sortable&&a&&t.right;return S.createElement(KM,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Wu(t.id,n),onDragStart:T,onDragOver:x,onDragEnd:D,onDragEnter:F,onDragLeave:O},t.name&&S.createElement(YM,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:C?void 0:Z,onKeyPress:C?void 0:k=>{k.key==="Enter"&&Z()},$sortActive:!C&&R,disabled:C},!C&&j&&se(),!C&&N&&ce(R),typeof t.name=="string"?S.createElement(XM,{title:W?t.name:void 0,ref:K,"data-column-id":t.id},t.name):t.name,!C&&V&&se(),!C&&I&&ce(R)))}));const ZM=He(Ql)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function e4({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:c,selectableRowsComponentProps:h,selectableRowDisabled:p,onSelectAllRows:y}){const w=a.length>0&&!r,E=p?e.filter((D=>!p(D))):e,T=E.length===0,x=Math.min(e.length,E.length);return S.createElement(ZM,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},S.createElement(MC,{name:"select-all-rows",component:c,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:E,rowCount:x,mergeSelections:o,keyField:n})},checked:r,indeterminate:w,disabled:T}))}function FC(t=qh.AUTO){const e=typeof window=="object",[n,r]=S.useState(!1);return S.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],c=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||c.dir==="rtl";r(o&&h)}}),[t,e]),n}const t4=He.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,n4=He.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,EE=He.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function r4({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=FC(o),c=r>0;return n?S.createElement(EE,{$visible:c},S.cloneElement(n,{selectedCount:r})):S.createElement(EE,{$visible:c,$rtl:a},S.createElement(t4,null,((h,p,y)=>{if(p===0)return null;const w=p===1?h.singular:h.plural;return y?`${p} ${h.message||""} ${w}`:`${p} ${w} ${h.message||""}`})(t,r,a)),S.createElement(n4,null,e))}const i4=He.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,s4=He.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,o4=He.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,a4=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:c,showMenu:h=!0})=>S.createElement(i4,{className:"rdt_TableHeader",role:"heading","aria-level":1},S.createElement(s4,null,t),e&&S.createElement(o4,null,e),h&&S.createElement(r4,{contextMessage:n,contextActions:r,contextComponent:o,direction:c,selectedCount:a}));function jC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const l4={left:"flex-start",right:"flex-end",center:"center"},u4=He.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>l4[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,c4=t=>{var{align:e="right",wrapContent:n=!0}=t,r=jC(t,["align","wrapContent"]);return S.createElement(u4,Object.assign({align:e,$wrapContent:n},r))},d4=He.div`
	display: flex;
	flex-direction: column;
`,h4=He.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&Xt`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&Xt`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,TE=He.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,f4=He.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,p4=He(Ql)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,m4=He.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,g4=()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ue.createElement("path",{d:"M7 10l5 5 5-5z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),y4=He.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,w4=He.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,v4=t=>{var{defaultValue:e,onChange:n}=t,r=jC(t,["defaultValue","onChange"]);return S.createElement(w4,null,S.createElement(y4,Object.assign({onChange:n,defaultValue:e},r)),S.createElement(g4,null))},le={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return Ue.createElement("div",null,"To add an expander pass in a component instance via ",Ue.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:Ue.createElement((()=>Ue.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ue.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),Ue.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:Ue.createElement((()=>Ue.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ue.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),Ue.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:Ue.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:Ue.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:mg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),Ue.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),Ue.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:Ue.createElement((()=>Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ue.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),Ue.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:qh.AUTO,onChangePage:Qt,onChangeRowsPerPage:Qt,onRowClicked:Qt,onRowDoubleClicked:Qt,onRowMouseEnter:Qt,onRowMouseLeave:Qt,onRowExpandToggled:Qt,onSelectedRowsChange:Qt,onSort:Qt,onColumnOrderChange:Qt},_4={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},E4=He.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Bd=He.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,T4=He.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${LC`
    width: 100%;
    justify-content: space-around;
  `};
`,$C=He.span`
	flex-shrink: 1;
	user-select: none;
`,b4=He($C)`
	margin: 0 24px;
`,C4=He($C)`
	margin: 0 4px;
`;var I4=S.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=le.direction,paginationRowsPerPageOptions:o=le.paginationRowsPerPageOptions,paginationIconLastPage:a=le.paginationIconLastPage,paginationIconFirstPage:c=le.paginationIconFirstPage,paginationIconNext:h=le.paginationIconNext,paginationIconPrevious:p=le.paginationIconPrevious,paginationComponentOptions:y=le.paginationComponentOptions,onChangeRowsPerPage:w=le.onChangeRowsPerPage,onChangePage:E=le.onChangePage}){const T=(()=>{const k=typeof window=="object";function me(){return{width:k?window.innerWidth:void 0,height:k?window.innerHeight:void 0}}const[Te,ye]=S.useState(me);return S.useEffect((()=>{if(!k)return()=>null;function te(){ye(me())}return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)}),[]),Te})(),x=FC(r),D=T.width&&T.width>599,F=Hu(e,t),O=n*t,W=O-t+1,z=n===1,K=n===F,Z=Object.assign(Object.assign({},_4),y),ce=n===F?`${W}-${e} ${Z.rangeSeparatorText} ${e}`:`${W}-${O} ${Z.rangeSeparatorText} ${e}`,se=S.useCallback((()=>E(n-1)),[n,E]),R=S.useCallback((()=>E(n+1)),[n,E]),C=S.useCallback((()=>E(1)),[E]),I=S.useCallback((()=>E(Hu(e,t))),[E,e,t]),N=S.useCallback((k=>w(Number(k.target.value),n)),[n,w]),V=o.map((k=>S.createElement("option",{key:k,value:k},k)));Z.selectAllRowsItem&&V.push(S.createElement("option",{key:-1,value:e},Z.selectAllRowsItemText));const j=S.createElement(v4,{onChange:N,defaultValue:t,"aria-label":Z.rowsPerPageText},V);return S.createElement(E4,{className:"rdt_Pagination"},!Z.noRowsPerPage&&D&&S.createElement(S.Fragment,null,S.createElement(C4,null,Z.rowsPerPageText),j),D&&S.createElement(b4,null,ce),S.createElement(T4,null,S.createElement(Bd,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":z,onClick:C,disabled:z,$isRTL:x},c),S.createElement(Bd,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":z,onClick:se,disabled:z,$isRTL:x},p),!Z.noRowsPerPage&&!D&&j,S.createElement(Bd,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":K,onClick:R,disabled:K,$isRTL:x},h),S.createElement(Bd,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":K,onClick:I,disabled:K,$isRTL:x},a)))}));const Xo=(t,e)=>{const n=S.useRef(!0);S.useEffect((()=>{n.current?n.current=!1:t()}),e)};function S4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R4=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===k4})(e)})(t)},k4=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function tc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Dl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function A4(t,e,n){return t.concat(e).map((function(r){return tc(r,n)}))}function bE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function CE(t,e){try{return e in t}catch{return!1}}function P4(t,e,n){var r={};return n.isMergeableObject(t)&&bE(t).forEach((function(o){r[o]=tc(t[o],n)})),bE(e).forEach((function(o){(function(a,c){return CE(a,c)&&!(Object.hasOwnProperty.call(a,c)&&Object.propertyIsEnumerable.call(a,c))})(t,o)||(CE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,c){if(!c.customMerge)return Dl;var h=c.customMerge(a);return typeof h=="function"?h:Dl})(o,n)(t[o],e[o],n):r[o]=tc(e[o],n))})),r}function Dl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||A4,n.isMergeableObject=n.isMergeableObject||R4,n.cloneUnlessOtherwiseSpecified=tc;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):P4(t,e,n):tc(e,n)}Dl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Dl(n,r,e)}),{})};var gg=S4(Dl);const IE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Gs={default:IE,light:IE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function x4(t="default",e,n="default"){return Gs[t]||(Gs[t]=gg(Gs[n],e||{})),Gs[t]=gg(Gs[t],e||{}),Gs[t]}function N4(t,e,n,r){const[o,a]=S.useState((()=>wE(t))),[c,h]=S.useState(""),p=S.useRef("");Xo((()=>{a(wE(t))}),[t]);const y=S.useCallback((O=>{var W,z,K;const{attributes:Z}=O.target,ce=(W=Z.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;ce&&(p.current=((K=(z=o[Ud(o,ce)])===null||z===void 0?void 0:z.id)===null||K===void 0?void 0:K.toString())||"",h(p.current))}),[o]),w=S.useCallback((O=>{var W;const{attributes:z}=O.target,K=(W=z.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;if(K&&p.current&&K!==p.current){const Z=Ud(o,p.current),ce=Ud(o,K),se=[...o];se[Z]=o[ce],se[ce]=o[Z],a(se),e(se)}}),[e,o]),E=S.useCallback((O=>{O.preventDefault()}),[]),T=S.useCallback((O=>{O.preventDefault()}),[]),x=S.useCallback((O=>{O.preventDefault(),p.current="",h("")}),[]),D=(function(O=!1){return O?so.ASC:so.DESC})(r),F=S.useMemo((()=>o[Ud(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:c,handleDragStart:y,handleDragEnter:w,handleDragOver:E,handleDragLeave:T,handleDragEnd:x,defaultSortDirection:D,defaultSortColumn:F}}var O4=S.memo((function(t){const{data:e=le.data,columns:n=le.columns,title:r=le.title,actions:o=le.actions,keyField:a=le.keyField,striped:c=le.striped,highlightOnHover:h=le.highlightOnHover,pointerOnHover:p=le.pointerOnHover,dense:y=le.dense,selectableRows:w=le.selectableRows,selectableRowsSingle:E=le.selectableRowsSingle,selectableRowsHighlight:T=le.selectableRowsHighlight,selectableRowsNoSelectAll:x=le.selectableRowsNoSelectAll,selectableRowsVisibleOnly:D=le.selectableRowsVisibleOnly,selectableRowSelected:F=le.selectableRowSelected,selectableRowDisabled:O=le.selectableRowDisabled,selectableRowsComponent:W=le.selectableRowsComponent,selectableRowsComponentProps:z=le.selectableRowsComponentProps,onRowExpandToggled:K=le.onRowExpandToggled,onSelectedRowsChange:Z=le.onSelectedRowsChange,expandableIcon:ce=le.expandableIcon,onChangeRowsPerPage:se=le.onChangeRowsPerPage,onChangePage:R=le.onChangePage,paginationServer:C=le.paginationServer,paginationServerOptions:I=le.paginationServerOptions,paginationTotalRows:N=le.paginationTotalRows,paginationDefaultPage:V=le.paginationDefaultPage,paginationResetDefaultPage:j=le.paginationResetDefaultPage,paginationPerPage:k=le.paginationPerPage,paginationRowsPerPageOptions:me=le.paginationRowsPerPageOptions,paginationIconLastPage:Te=le.paginationIconLastPage,paginationIconFirstPage:ye=le.paginationIconFirstPage,paginationIconNext:te=le.paginationIconNext,paginationIconPrevious:X=le.paginationIconPrevious,paginationComponent:oe=le.paginationComponent,paginationComponentOptions:ae=le.paginationComponentOptions,responsive:$=le.responsive,progressPending:G=le.progressPending,progressComponent:he=le.progressComponent,persistTableHead:Ce=le.persistTableHead,noDataComponent:Ne=le.noDataComponent,disabled:Oe=le.disabled,noTableHead:Fe=le.noTableHead,noHeader:Me=le.noHeader,fixedHeader:$e=le.fixedHeader,fixedHeaderScrollHeight:ot=le.fixedHeaderScrollHeight,pagination:_t=le.pagination,subHeader:Et=le.subHeader,subHeaderAlign:Xn=le.subHeaderAlign,subHeaderWrap:pr=le.subHeaderWrap,subHeaderComponent:ei=le.subHeaderComponent,noContextMenu:xi=le.noContextMenu,contextMessage:Ni=le.contextMessage,contextActions:pt=le.contextActions,contextComponent:gs=le.contextComponent,expandableRows:Ln=le.expandableRows,onRowClicked:mr=le.onRowClicked,onRowDoubleClicked:ys=le.onRowDoubleClicked,onRowMouseEnter:Oi=le.onRowMouseEnter,onRowMouseLeave:Di=le.onRowMouseLeave,sortIcon:vo=le.sortIcon,onSort:At=le.onSort,sortFunction:It=le.sortFunction,sortServer:Jn=le.sortServer,expandableRowsComponent:_o=le.expandableRowsComponent,expandableRowsComponentProps:ti=le.expandableRowsComponentProps,expandableRowDisabled:ni=le.expandableRowDisabled,expandableRowsHideExpander:ri=le.expandableRowsHideExpander,expandOnRowClicked:Eo=le.expandOnRowClicked,expandOnRowDoubleClicked:To=le.expandOnRowDoubleClicked,expandableRowExpanded:ws=le.expandableRowExpanded,expandableInheritConditionalStyles:bo=le.expandableInheritConditionalStyles,defaultSortFieldId:Co=le.defaultSortFieldId,defaultSortAsc:Li=le.defaultSortAsc,clearSelectedRows:Vi=le.clearSelectedRows,conditionalRowStyles:vs=le.conditionalRowStyles,theme:Sn=le.theme,customStyles:Zn=le.customStyles,direction:gr=le.direction,onColumnOrderChange:yr=le.onColumnOrderChange,className:Io,ariaLabel:ii}=t,{tableColumns:_s,draggingColumnId:wr,handleDragStart:Es,handleDragEnter:mt,handleDragOver:Mi,handleDragLeave:Vn,handleDragEnd:si,defaultSortDirection:Fi,defaultSortColumn:Ts}=N4(n,yr,Co,Li),[{rowsPerPage:Mt,currentPage:an,selectedRows:So,allSelected:ji,selectedCount:Ro,selectedColumn:St,sortDirection:Mn,toggleOnSelectedRowsChange:er},vr]=S.useReducer(TM,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ts,toggleOnSelectedRowsChange:!1,sortDirection:Fi,currentPage:V,rowsPerPage:k,selectedRowsFlag:!1,contextMessage:le.contextMessage}),{persistSelectedOnSort:bs=!1,persistSelectedOnPageChange:Or=!1}=I,$i=!(!C||!Or&&!bs),ko=_t&&!G&&e.length>0,Ta=oe||I4,Yl=S.useMemo((()=>((Ie={},Be="default",gt="default")=>{const Wt=Gs[Be]?Be:gt;return gg({table:{style:{color:(Ae=Gs[Wt]).text.primary,backgroundColor:Ae.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Ae.background.default,minHeight:"52px"}},head:{style:{color:Ae.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Ae.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Ae.context.background,fontSize:"18px",fontWeight:400,color:Ae.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Ae.text.primary,backgroundColor:Ae.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Ae.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Ae.selected.text,backgroundColor:Ae.selected.default,borderBottomColor:Ae.background.default}},highlightOnHoverStyle:{color:Ae.highlightOnHover.text,backgroundColor:Ae.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Ae.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Ae.background.default},stripedStyle:{color:Ae.striped.text,backgroundColor:Ae.striped.default}},expanderRow:{style:{color:Ae.text.primary,backgroundColor:Ae.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Ae.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Ae.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Ae.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Ae.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Ae.button.default,fill:Ae.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Ae.button.disabled,fill:Ae.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Ae.button.hover},"&:focus":{outline:"none",backgroundColor:Ae.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Ae.text.primary,backgroundColor:Ae.background.default}}},Ie);var Ae})(Zn,Sn)),[Zn,Sn]),it=S.useMemo((()=>Object.assign({},gr!=="auto"&&{dir:gr})),[gr]),Pt=S.useMemo((()=>{if(Jn)return e;if(St?.sortFunction&&typeof St.sortFunction=="function"){const Ie=St.sortFunction,Be=Mn===so.ASC?Ie:(gt,Wt)=>-1*Ie(gt,Wt);return[...e].sort(Be)}return(function(Ie,Be,gt,Wt){return Be?Wt&&typeof Wt=="function"?Wt(Ie.slice(0),Be,gt):Ie.slice(0).sort(((Ae,nr)=>{const Ft=Be(Ae),mn=Be(nr);if(gt==="asc"){if(Ft<mn)return-1;if(Ft>mn)return 1}if(gt==="desc"){if(Ft>mn)return-1;if(Ft<mn)return 1}return 0})):Ie})(e,St?.selector,Mn,It)}),[Jn,St,Mn,e,It]),tr=S.useMemo((()=>{if(_t&&!C){const Ie=an*Mt,Be=Ie-Mt;return Pt.slice(Be,Ie)}return Pt}),[an,_t,C,Mt,Pt]),oi=S.useCallback((Ie=>{vr(Ie)}),[]),Fn=S.useCallback((Ie=>{vr(Ie)}),[]),Ao=S.useCallback((Ie=>{vr(Ie)}),[]),ba=S.useCallback(((Ie,Be)=>mr(Ie,Be)),[mr]),Ui=S.useCallback(((Ie,Be)=>ys(Ie,Be)),[ys]),Rn=S.useCallback(((Ie,Be)=>Oi(Ie,Be)),[Oi]),Ca=S.useCallback(((Ie,Be)=>Di(Ie,Be)),[Di]),Rt=S.useCallback((Ie=>vr({type:"CHANGE_PAGE",page:Ie,paginationServer:C,visibleOnly:D,persistSelectedOnPageChange:Or})),[C,Or,D]),Po=S.useCallback((Ie=>{const Be=Hu(N||tr.length,Ie),gt=Sm(an,Be);C||Rt(gt),vr({type:"CHANGE_ROWS_PER_PAGE",page:gt,rowsPerPage:Ie})}),[an,Rt,C,N,tr.length]);if(_t&&!C&&Pt.length>0&&tr.length===0){const Ie=Hu(Pt.length,Mt),Be=Sm(an,Ie);Rt(Be)}Xo((()=>{Z({allSelected:ji,selectedCount:Ro,selectedRows:So.slice(0)})}),[er]),Xo((()=>{At(St,Mn,Pt.slice(0))}),[St,Mn]),Xo((()=>{R(an,N||Pt.length)}),[an]),Xo((()=>{se(Mt,an)}),[Mt]),Xo((()=>{Rt(V)}),[V,j]),Xo((()=>{if(_t&&C&&N>0){const Ie=Hu(N,Mt),Be=Sm(an,Ie);an!==Be&&Rt(Be)}}),[N]),S.useEffect((()=>{vr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Vi})}),[E,Vi]),S.useEffect((()=>{if(!F)return;const Ie=Pt.filter((gt=>F(gt))),Be=E?Ie.slice(0,1):Ie;vr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Be,totalRows:Pt.length,mergeSelections:$i})}),[e,F]);const Ia=D?tr:Pt,Sa=Or||E||x;return S.createElement(wM,{theme:Yl},!Me&&(!!r||!!o)&&S.createElement(a4,{title:r,actions:o,showMenu:!xi,selectedCount:Ro,direction:gr,contextActions:pt,contextComponent:gs,contextMessage:Ni}),Et&&S.createElement(c4,{align:Xn,wrapContent:pr},ei),S.createElement(h4,Object.assign({$responsive:$,$fixedHeader:$e,$fixedHeaderScrollHeight:ot,className:Io},it),S.createElement(f4,null,G&&!Ce&&S.createElement(TE,null,he),S.createElement(CM,Object.assign({disabled:Oe,className:"rdt_Table",role:"table"},ii&&{"aria-label":ii}),!Fe&&(!!Ce||Pt.length>0&&!G)&&S.createElement(SM,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:$e},S.createElement(RM,{className:"rdt_TableHeadRow",role:"row",$dense:y},w&&(Sa?S.createElement(Ql,{style:{flex:"0 0 48px"}}):S.createElement(e4,{allSelected:ji,selectedRows:So,selectableRowsComponent:W,selectableRowsComponentProps:z,selectableRowDisabled:O,rowData:Ia,keyField:a,mergeSelections:$i,onSelectAllRows:Fn})),Ln&&!ri&&S.createElement(p4,null),_s.map((Ie=>S.createElement(JM,{key:Ie.id,column:Ie,selectedColumn:St,disabled:G||Pt.length===0,pagination:_t,paginationServer:C,persistSelectedOnSort:bs,selectableRowsVisibleOnly:D,sortDirection:Mn,sortIcon:vo,sortServer:Jn,onSort:oi,onDragStart:Es,onDragOver:Mi,onDragEnd:si,onDragEnter:mt,onDragLeave:Vn,draggingColumnId:wr}))))),!Pt.length&&!G&&S.createElement(m4,null,Ne),G&&Ce&&S.createElement(TE,null,he),!G&&Pt.length>0&&S.createElement(d4,{className:"rdt_TableBody",role:"rowgroup"},tr.map(((Ie,Be)=>{const gt=Ol(Ie,a),Wt=(function(mn=""){return typeof mn!="number"&&(!mn||mn.length===0)})(gt)?Be:gt,Ae=ah(Ie,So,a),nr=!!(Ln&&ws&&ws(Ie)),Ft=!!(Ln&&ni&&ni(Ie));return S.createElement(WM,{id:Wt,key:Wt,keyField:a,"data-row-id":Wt,columns:_s,row:Ie,rowCount:Pt.length,rowIndex:Be,selectableRows:w,expandableRows:Ln,expandableIcon:ce,highlightOnHover:h,pointerOnHover:p,dense:y,expandOnRowClicked:Eo,expandOnRowDoubleClicked:To,expandableRowsComponent:_o,expandableRowsComponentProps:ti,expandableRowsHideExpander:ri,defaultExpanderDisabled:Ft,defaultExpanded:nr,expandableInheritConditionalStyles:bo,conditionalRowStyles:vs,selected:Ae,selectableRowsHighlight:T,selectableRowsComponent:W,selectableRowsComponentProps:z,selectableRowDisabled:O,selectableRowsSingle:E,striped:c,onRowExpandToggled:K,onRowClicked:ba,onRowDoubleClicked:Ui,onRowMouseEnter:Rn,onRowMouseLeave:Ca,onSelectedRow:Ao,draggingColumnId:wr,onDragStart:Es,onDragOver:Mi,onDragEnd:si,onDragEnter:mt,onDragLeave:Vn})})))))),ko&&S.createElement("div",null,S.createElement(Ta,{onChangePage:Rt,onChangeRowsPerPage:Po,rowCount:N||Pt.length,currentPage:an,rowsPerPage:Mt,direction:gr,paginationRowsPerPageOptions:me,paginationIconLastPage:Te,paginationIconFirstPage:ye,paginationIconNext:te,paginationIconPrevious:X,paginationComponentOptions:ae})))}));const SE=yo(dr),D4=ga(dr);x4("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function L4({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,c]=S.useState(!1),[h,p]=S.useState(!1),[y,w]=S.useState(!1),E=S.useRef(null),T=()=>xg(D4);S.useEffect(()=>{const I=N=>{E.current&&!E.current.contains(N.target)&&w(!1)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const x=I=>parseInt(I),D=t?.fotoPerfil||qr,F=[{when:I=>I.pos==="1º",style:{backgroundColor:"#FFD700",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>I.pos==="2º",style:{backgroundColor:"#C0C0C0",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>I.pos==="3º",style:{backgroundColor:"#CD7F32",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>x(I.pos)>3&&x(I.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:I=>x(I.pos)>3&&x(I.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],O=[{name:"Pos.",selector:I=>I.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:I=>I.jugador,cell:I=>P.jsxs(sn,{to:`/equipo/${I.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit"},children:[P.jsx("img",{src:I.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%"}}),P.jsx("span",{children:I.jugador})]})},{name:"Puntos",selector:I=>I.puntos,width:"5.5rem",center:!0}],W=()=>{c(!a)},z=I=>I>=1e6?(I/1e6).toFixed(2)+"M":I>=1e3?(I/1e3).toFixed(2)+"K":I.toFixed(2),K=I=>{if(!I)return"";const N=10,V=I.indexOf(" ");let j;return V!==-1&&V<=N?(j=V,I.slice(0,j)+"..."):I.length>N?(j=N-3,I.slice(0,j)+"..."):I};S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const I=Nn(SE,"usuarios",t.uid);io(I).then(N=>{N.exists()&&o(N.data().dinero)})}},[t]);const[Z,ce]=S.useState([]),[se,R]=S.useState(!1);S.useEffect(()=>{(async()=>{R(!0);try{const N=Zm(SE,"usuarios");let k=(await tg(N)).docs.map(me=>({id:me.id,...me.data()})).sort((me,Te)=>(Te.puntos||0)-(me.puntos||0)).map((me,Te)=>({id:me.id,pos:`${Te+1}º`,jugador:me.nick||"Sin nombre",puntos:me.puntos||0,fotoPerfil:me.fotoPerfil||qr}));ce(k)}catch(N){console.error("Error al cargar usuarios:",N)}finally{R(!1)}})()},[]);const C={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:D,onError:I=>{I.currentTarget.onerror=null,I.currentTarget.src=qr},alt:"Foto de perfil",onClick:()=>w(!y),onMouseEnter:()=>w(!0)}),y&&P.jsxs("div",{className:"perfil-bocadillo",ref:E,onMouseLeave:()=>w(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{p(!0),w(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:T,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:K(t?.nick||t?.displayName)}),r!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:z(r)})]})]})]}),P.jsx("button",{onClick:W,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${kl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&P.jsx(Vy,{usuario:t,openModal:h,setOpenModal:p}),P.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:P.jsx(O4,{title:"CLASIFICACIÓN",columns:O,data:Z,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:se,progressComponent:P.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:F,customStyles:C,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:P.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}const zd=yo(dr),RE=ga(dr);function V4({usuario:t}){const{jugadorId:e}=XN(),[n,r]=S.useState(!0),[o,a]=S.useState(null),[c,h]=S.useState(!1),[p,y]=S.useState(!1),[w,E]=S.useState(null),T=t?.fotoPerfil||qr,x=o?.equipo?.titulares||[];o?.equipo?.banquillo;const[D,F]=S.useState([]),O=o?.equipo?.capitan||"",[W,z]=S.useState(o?.equipo?.formacion||"2-1-1"),[K,Z]=S.useState(W),[ce,se]=S.useState(!1),[R,C]=S.useState(!1),I=useRef(null),N=()=>xg(RE);S.useEffect(()=>{const me=Te=>{I.current&&!I.current.contains(Te.target)&&C(!1)};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[]),S.useEffect(()=>{(async()=>{r(!0);const Te=await io(Nn(zd,"usuarios",e));Te.exists()&&a({id:Te.id,...Te.data()}),r(!1)})()},[e]);const V=()=>{h(!c)},j=me=>me>=1e6?(me/1e6).toFixed(2)+"M":me>=1e3?(me/1e3).toFixed(2)+"K":me.toFixed(2),k=me=>{if(!me)return"";const Te=10,ye=me.indexOf(" ");let te;return ye!==-1&&ye<=Te?(te=ye,me.slice(0,te)+"..."):me.length>Te?(te=Te-3,me.slice(0,te)+"..."):me};return S.useEffect(()=>{if(t&&t?.onboarding===!1){y(!0);const Te=setTimeout(async()=>{try{const ye=Nn(zd,"usuarios",RE.currentUser.uid);await cl(ye,{onboarding:!0}),window.location.reload()}catch(ye){console.error("Error actualizando onboarding:",ye)}},500);return()=>clearTimeout(Te)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const Te=Nn(zd,"usuarios",t.uid);io(Te).then(ye=>{ye.exists()&&E(ye.data().dinero)})}(async()=>{r(!0);try{const Te=await io(Nn(zd,"usuarios",e));Te.exists()?a({id:Te.id,...Te.data()}):a(null)}catch(Te){console.error("Error fetching jugador:",Te)}finally{r(!1)}})()},[t],[x],[e]),n?P.jsx("h2",{children:"Cargando equipo…"}):o?P.jsxs("div",{children:[P.jsxs("header",{className:"Cabecera",children:[P.jsxs("div",{className:"container-profile",children:[P.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[P.jsx("img",{src:T,onError:me=>{me.currentTarget.onerror=null,me.currentTarget.src=qr},alt:"Foto de perfil",onClick:()=>C(!R),onMouseEnter:()=>C(!0)}),R&&P.jsxs("div",{className:"perfil-bocadillo",ref:I,onMouseLeave:()=>C(!1),children:[P.jsx("div",{className:"triangulo"}),P.jsx("button",{className:"btn-perfil",onClick:()=>{se(!0),C(!1)},children:"👤 Perfil"}),P.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),P.jsxs("div",{className:"info-profile",children:[P.jsx("h2",{className:"nombre-usuario",children:k(t?.nick||t?.displayName)}),w!==null&&P.jsxs("p",{className:"dinero-usuario",children:["💰",P.jsx("strong",{children:j(w)})]})]})]}),P.jsx("button",{onClick:V,className:"Cabecera-button",children:P.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:P.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),P.jsx("nav",{className:`Cabecera-nav ${c?"isActive":""}`,children:P.jsxs("ul",{className:"Cabecera-ul",children:[P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),P.jsx("li",{className:"Cabecera-li",children:P.jsx(sn,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),P.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${kl})`},children:[P.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),ce&&P.jsx(Vy,{usuario:t,openModal:ce,setOpenModal:se}),P.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[P.jsxs("h1",{children:["Equipo de ",o.nick]}),P.jsx("div",{className:"formacion-selector",children:P.jsxs("label",{htmlFor:"formacion-select",children:["Formación: ",K]})}),P.jsx("div",{className:"campo",children:ag[K]?.map((me,Te)=>{const ye=x[Te],te=D.find(X=>X.id===ye);return P.jsxs("div",{className:"jugador",style:{position:"absolute",top:me.top,left:me.left,transform:"translate(-50%, -50%)"},children:[P.jsxs("div",{className:"jugador-wrapper",children:[P.jsx("img",{src:te?.foto||qr,alt:te?.nombre||"Vacío",className:"jugador-img"}),O===te?.id&&P.jsx("div",{className:"capitan-badge",children:"C"})]}),P.jsx("p",{className:"jugador-nombre",children:te?.nombre||"Vacío"})]},te?.id||Te)})})]})]}),p&&P.jsx("div",{className:"onboarding-overlay",children:P.jsx("div",{className:"loader",children:"Cargando..."})})]}):P.jsx("h2",{children:"Jugador no encontrado"})}const M4=ga(dr),F4=yo(dr);function j4(){const[t,e]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{const o=Hk(M4,async a=>{if(a)try{const c=await io(Nn(F4,"usuarios",a.uid));c.exists()?e({uid:a.uid,...c.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(c){console.error("Error obteniendo datos de usuario:",c),e(null)}else e(null);r(!1)});return()=>o()},[]),n?P.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):P.jsx(LO,{children:P.jsxs(hO,{children:[P.jsx(Yo,{path:"/",element:t?P.jsx(il,{to:"/home",replace:!0}):P.jsx(jV,{})}),P.jsx(Yo,{path:"/home",element:t?P.jsx(m5,{usuario:t}):P.jsx(il,{to:"/",replace:!0})}),P.jsx(Yo,{path:"/mercado",element:t?P.jsx(y5,{usuario:t}):P.jsx(il,{to:"/",replace:!0})}),P.jsx(Yo,{path:"/clasificacion",element:t?P.jsx(L4,{usuario:t}):P.jsx(il,{to:"/",replace:!0})}),P.jsx(Yo,{path:"/equipo/:jugadorId",element:t?P.jsx(V4,{usuario:t}):P.jsx(il,{to:"/",replace:!0})}),P.jsx(Yo,{path:"*",element:P.jsx(il,{to:t?"/home":"/",replace:!0})})]})})}ZI.createRoot(document.getElementById("root")).render(P.jsx(S.StrictMode,{children:P.jsx(j4,{})}));
