(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function aI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cm={exports:{}},Dc={},um={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function lI(){if(l_)return Ge;l_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function O(N,F,ae){this.props=N,this.context=F,this.refs=j,this.updater=ae||k}O.prototype.isReactComponent={},O.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=O.prototype;function H(N,F,ae){this.props=N,this.context=F,this.refs=j,this.updater=ae||k}var J=H.prototype=new K;J.constructor=H,D(J,O.prototype),J.isPureReactComponent=!0;var ee=Array.isArray,de=Object.prototype.hasOwnProperty,se={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(N,F,ae){var fe,_e={},be=null,Ue=null;if(F!=null)for(fe in F.ref!==void 0&&(Ue=F.ref),F.key!==void 0&&(be=""+F.key),F)de.call(F,fe)&&!P.hasOwnProperty(fe)&&(_e[fe]=F[fe]);var Be=arguments.length-2;if(Be===1)_e.children=ae;else if(1<Be){for(var ze=Array(Be),dt=0;dt<Be;dt++)ze[dt]=arguments[dt+2];_e.children=ze}if(N&&N.defaultProps)for(fe in Be=N.defaultProps,Be)_e[fe]===void 0&&(_e[fe]=Be[fe]);return{$$typeof:t,type:N,key:be,ref:Ue,props:_e,_owner:se.current}}function R(N,F){return{$$typeof:t,type:N.type,key:F,ref:N.ref,props:N.props,_owner:N._owner}}function L(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function V(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return F[ae]})}var U=/\/+/g;function x(N,F){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):F.toString(36)}function Le(N,F,ae,fe,_e){var be=typeof N;(be==="undefined"||be==="boolean")&&(N=null);var Ue=!1;if(N===null)Ue=!0;else switch(be){case"string":case"number":Ue=!0;break;case"object":switch(N.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=N,_e=_e(Ue),N=fe===""?"."+x(Ue,0):fe,ee(_e)?(ae="",N!=null&&(ae=N.replace(U,"$&/")+"/"),Le(_e,F,ae,"",function(dt){return dt})):_e!=null&&(L(_e)&&(_e=R(_e,ae+(!_e.key||Ue&&Ue.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+N)),F.push(_e)),1;if(Ue=0,fe=fe===""?".":fe+":",ee(N))for(var Be=0;Be<N.length;Be++){be=N[Be];var ze=fe+x(be,Be);Ue+=Le(be,F,ae,ze,_e)}else if(ze=C(N),typeof ze=="function")for(N=ze.call(N),Be=0;!(be=N.next()).done;)be=be.value,ze=fe+x(be,Be++),Ue+=Le(be,F,ae,ze,_e);else if(be==="object")throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ue}function et(N,F,ae){if(N==null)return N;var fe=[],_e=0;return Le(N,fe,"","",function(be){return F.call(ae,be,_e++)}),fe}function Qe(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var re={current:null},W={transition:null},B={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:W,ReactCurrentOwner:se};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:et,forEach:function(N,F,ae){et(N,function(){F.apply(this,arguments)},ae)},count:function(N){var F=0;return et(N,function(){F++}),F},toArray:function(N){return et(N,function(F){return F})||[]},only:function(N){if(!L(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ge.Component=O,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=H,Ge.StrictMode=r,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Ge.act=Y,Ge.cloneElement=function(N,F,ae){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var fe=D({},N.props),_e=N.key,be=N.ref,Ue=N._owner;if(F!=null){if(F.ref!==void 0&&(be=F.ref,Ue=se.current),F.key!==void 0&&(_e=""+F.key),N.type&&N.type.defaultProps)var Be=N.type.defaultProps;for(ze in F)de.call(F,ze)&&!P.hasOwnProperty(ze)&&(fe[ze]=F[ze]===void 0&&Be!==void 0?Be[ze]:F[ze])}var ze=arguments.length-2;if(ze===1)fe.children=ae;else if(1<ze){Be=Array(ze);for(var dt=0;dt<ze;dt++)Be[dt]=arguments[dt+2];fe.children=Be}return{$$typeof:t,type:N.type,key:_e,ref:be,props:fe,_owner:Ue}},Ge.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Ge.createElement=T,Ge.createFactory=function(N){var F=T.bind(null,N);return F.type=N,F},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(N){return{$$typeof:h,render:N}},Ge.isValidElement=L,Ge.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:Qe}},Ge.memo=function(N,F){return{$$typeof:y,type:N,compare:F===void 0?null:F}},Ge.startTransition=function(N){var F=W.transition;W.transition={};try{N()}finally{W.transition=F}},Ge.unstable_act=Y,Ge.useCallback=function(N,F){return re.current.useCallback(N,F)},Ge.useContext=function(N){return re.current.useContext(N)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(N){return re.current.useDeferredValue(N)},Ge.useEffect=function(N,F){return re.current.useEffect(N,F)},Ge.useId=function(){return re.current.useId()},Ge.useImperativeHandle=function(N,F,ae){return re.current.useImperativeHandle(N,F,ae)},Ge.useInsertionEffect=function(N,F){return re.current.useInsertionEffect(N,F)},Ge.useLayoutEffect=function(N,F){return re.current.useLayoutEffect(N,F)},Ge.useMemo=function(N,F){return re.current.useMemo(N,F)},Ge.useReducer=function(N,F,ae){return re.current.useReducer(N,F,ae)},Ge.useRef=function(N){return re.current.useRef(N)},Ge.useState=function(N){return re.current.useState(N)},Ge.useSyncExternalStore=function(N,F,ae){return re.current.useSyncExternalStore(N,F,ae)},Ge.useTransition=function(){return re.current.useTransition()},Ge.version="18.3.1",Ge}var c_;function kg(){return c_||(c_=1,um.exports=lI()),um.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function cI(){if(u_)return Dc;u_=1;var t=kg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,y){var w,b={},C=null,k=null;y!==void 0&&(C=""+y),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(k=f.ref);for(w in f)r.call(f,w)&&!a.hasOwnProperty(w)&&(b[w]=f[w]);if(h&&h.defaultProps)for(w in f=h.defaultProps,f)b[w]===void 0&&(b[w]=f[w]);return{$$typeof:e,type:h,key:C,ref:k,props:b,_owner:o.current}}return Dc.Fragment=n,Dc.jsx=u,Dc.jsxs=u,Dc}var d_;function uI(){return d_||(d_=1,cm.exports=cI()),cm.exports}var v=uI(),S=kg();const qe=aI(S);var Ld={},dm={exports:{}},nr={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function dI(){return h_||(h_=1,(function(t){function e(W,B){var Y=W.length;W.push(B);e:for(;0<Y;){var N=Y-1>>>1,F=W[N];if(0<o(F,B))W[N]=B,W[Y]=F,Y=N;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var B=W[0],Y=W.pop();if(Y!==B){W[0]=Y;e:for(var N=0,F=W.length,ae=F>>>1;N<ae;){var fe=2*(N+1)-1,_e=W[fe],be=fe+1,Ue=W[be];if(0>o(_e,Y))be<F&&0>o(Ue,_e)?(W[N]=Ue,W[be]=Y,N=be):(W[N]=_e,W[fe]=Y,N=fe);else if(be<F&&0>o(Ue,Y))W[N]=Ue,W[be]=Y,N=be;else break e}}return B}function o(W,B){var Y=W.sortIndex-B.sortIndex;return Y!==0?Y:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],y=[],w=1,b=null,C=3,k=!1,D=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(W){for(var B=n(y);B!==null;){if(B.callback===null)r(y);else if(B.startTime<=W)r(y),B.sortIndex=B.expirationTime,e(f,B);else break;B=n(y)}}function ee(W){if(j=!1,J(W),!D)if(n(f)!==null)D=!0,Qe(de);else{var B=n(y);B!==null&&re(ee,B.startTime-W)}}function de(W,B){D=!1,j&&(j=!1,K(T),T=-1),k=!0;var Y=C;try{for(J(B),b=n(f);b!==null&&(!(b.expirationTime>B)||W&&!V());){var N=b.callback;if(typeof N=="function"){b.callback=null,C=b.priorityLevel;var F=N(b.expirationTime<=B);B=t.unstable_now(),typeof F=="function"?b.callback=F:b===n(f)&&r(f),J(B)}else r(f);b=n(f)}if(b!==null)var ae=!0;else{var fe=n(y);fe!==null&&re(ee,fe.startTime-B),ae=!1}return ae}finally{b=null,C=Y,k=!1}}var se=!1,P=null,T=-1,R=5,L=-1;function V(){return!(t.unstable_now()-L<R)}function U(){if(P!==null){var W=t.unstable_now();L=W;var B=!0;try{B=P(!0,W)}finally{B?x():(se=!1,P=null)}}else se=!1}var x;if(typeof H=="function")x=function(){H(U)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,et=Le.port2;Le.port1.onmessage=U,x=function(){et.postMessage(null)}}else x=function(){O(U,0)};function Qe(W){P=W,se||(se=!0,x())}function re(W,B){T=O(function(){W(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){D||k||(D=!0,Qe(de))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(W){switch(C){case 1:case 2:case 3:var B=3;break;default:B=C}var Y=C;C=B;try{return W()}finally{C=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=C;C=W;try{return B()}finally{C=Y}},t.unstable_scheduleCallback=function(W,B,Y){var N=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?N+Y:N):Y=N,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Y+F,W={id:w++,callback:B,priorityLevel:W,startTime:Y,expirationTime:F,sortIndex:-1},Y>N?(W.sortIndex=Y,e(y,W),n(f)===null&&W===n(y)&&(j?(K(T),T=-1):j=!0,re(ee,Y-N))):(W.sortIndex=F,e(f,W),D||k||(D=!0,Qe(de))),W},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(W){var B=C;return function(){var Y=C;C=B;try{return W.apply(this,arguments)}finally{C=Y}}}})(fm)),fm}var f_;function hI(){return f_||(f_=1,hm.exports=dI()),hm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function fI(){if(p_)return nr;p_=1;var t=kg(),e=hI();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function C(s){return f.call(b,s)?!0:f.call(w,s)?!1:y.test(s)?b[s]=!0:(w[s]=!0,!1)}function k(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,i,l,d){if(i===null||typeof i>"u"||k(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(s,i,l,d,p,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];O[i]=new j(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(K,H);O[i]=new j(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(K,H);O[i]=new j(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(K,H);O[i]=new j(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function J(s,i,l,d){var p=O.hasOwnProperty(i)?O[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(D(i,l,p,d)&&(l=null),d||p===null?C(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),se=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),W=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,N;function F(s){if(N===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+s}var ae=!1;function fe(s,i){if(!s||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Q){var d=Q}Reflect.construct(s,[],i)}else{try{i.call()}catch(Q){d=Q}s.call(i.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var p=Q.stack.split(`
`),g=d.stack.split(`
`),E=p.length-1,A=g.length-1;1<=E&&0<=A&&p[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(p[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||p[E]!==g[A]){var M=`
`+p[E].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=E&&0<=A);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?F(s):""}function _e(s){switch(s.tag){case 5:return F(s.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return s=fe(s.type,!1),s;case 11:return s=fe(s.type.render,!1),s;case 1:return s=fe(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case se:return"Portal";case R:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case Le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case et:return i=s.displayName||null,i!==null?i:be(s.type)||"Memo";case Qe:i=s._payload,s=s._init;try{return be(s(i))}catch{}}return null}function Ue(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dt(s){var i=ze(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function mt(s){s._valueTracker||(s._valueTracker=dt(s))}function vt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=ze(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function Oe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Re(s,i){var l=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function je(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Be(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fe(s,i){i=i.checked,i!=null&&J(s,"checked",i,!1)}function rt(s,i){Fe(s,i);var l=Be(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Ft(s,i.type,l):i.hasOwnProperty("defaultValue")&&Ft(s,i.type,Be(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Me(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Ft(s,i,l){(i!=="number"||Oe(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ce=Array.isArray;function st(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Be(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function qn(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Bs(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Ce(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Be(l)}}function zs(s,i){var l=Be(i.value),d=Be(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function Co(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function $t(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?$t(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var or,To=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=or.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function us(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(s){hs.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ds[i]=ds[s]})});function So(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ds.hasOwnProperty(s)&&ds[s]?(""+i).trim():i+"px"}function Io(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=So(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var Ti=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(s,i){if(i){if(Ti[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function ko(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=null;function qs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Si=null,Vn=null,ar=null;function Cr(s){if(s=wc(s)){if(typeof Si!="function")throw Error(n(280));var i=s.stateNode;i&&(i=Ju(i),Si(s.stateNode,s.type,i))}}function Tr(s){Vn?ar?ar.push(s):ar=[s]:Vn=s}function Ro(){if(Vn){var s=Vn,i=ar;if(ar=Vn=null,Cr(s),i)for(s=0;s<i.length;s++)Cr(i[s])}}function fs(s,i){return s(i)}function Ii(){}var Sr=!1;function xi(s,i,l){if(Sr)return s(i,l);Sr=!0;try{return fs(s,i,l)}finally{Sr=!1,(Vn!==null||ar!==null)&&(Ii(),Ro())}}function Tt(s,i){var l=s.stateNode;if(l===null)return null;var d=Ju(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Ws=!1;if(h)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Ws=!1}function ps(s,i,l,d,p,g,E,A,M){var Q=Array.prototype.slice.call(arguments,3);try{i.apply(l,Q)}catch(oe){this.onError(oe)}}var Gs=!1,ki=null,Gt=!1,wn=null,Po={onError:function(s){Gs=!0,ki=s}};function Ks(s,i,l,d,p,g,E,A,M){Gs=!1,ki=null,ps.apply(Po,arguments)}function Ao(s,i,l,d,p,g,E,A,M){if(Ks.apply(this,arguments),Gs){if(Gs){var Q=ki;Gs=!1,ki=null}else throw Error(n(198));Gt||(Gt=!0,wn=Q)}}function Mt(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Gn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function lr(s){if(Mt(s)!==s)throw Error(n(188))}function Ir(s){var i=s.alternate;if(!i){if(i=Mt(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return lr(p),s;if(g===d)return lr(p),i;g=g.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=g;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,d=g;break}if(A===d){E=!0,d=p,l=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===l){E=!0,l=g,d=p;break}if(A===d){E=!0,d=g,l=p;break}A=A.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Ri(s){return s=Ir(s),s!==null?Ur(s):null}function Ur(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Ur(s);if(i!==null)return i;s=s.sibling}return null}var Qs=e.unstable_scheduleCallback,No=e.unstable_cancelCallback,Ra=e.unstable_shouldYield,nc=e.unstable_requestPaint,ft=e.unstable_now,Ut=e.unstable_getCurrentPriorityLevel,cr=e.unstable_ImmediatePriority,ms=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,Do=e.unstable_LowPriority,Pa=e.unstable_IdlePriority,Js=null,jn=null;function Aa(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Js,s,void 0,(s.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Da,Oo=Math.log,Na=Math.LN2;function Da(s){return s>>>=0,s===0?32:31-(Oo(s)/Na|0)|0}var Se=64,We=4194304;function St(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function rn(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,g=s.pingedLanes,E=l&268435455;if(E!==0){var A=E&~p;A!==0?d=St(A):(g&=E,g!==0&&(d=St(g)))}else E=l&~p,E!==0?d=St(E):g!==0&&(d=St(g));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,g=i&-i,p>=g||p===16&&(g&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Vt(i),p=1<<l,d|=s[l],i&=~p;return d}function Pe(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes;0<g;){var E=31-Vt(g),A=1<<E,M=p[E];M===-1?((A&l)===0||(A&d)!==0)&&(p[E]=Pe(A,i)):M<=i&&(s.expiredLanes|=A),g&=~A}}function Kt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function In(){var s=Se;return Se<<=1,(Se&4194240)===0&&(Se=64),s}function Pi(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Ai(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Vt(i),s[i]=l}function pt(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Vt(l),g=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~g}}function Ni(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Vt(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var Ze=0;function Di(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ru,Oa,Pu,Au,Nu,rc=!1,gs=[],vn=null,Br=null,zr=null,Oi=new Map,xr=new Map,ys=[],$f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Du(s,i){switch(s){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Oi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(i.pointerId)}}function Qn(s,i,l,d,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},i!==null&&(i=wc(i),i!==null&&Oa(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Uf(s,i,l,d,p){switch(i){case"focusin":return vn=Qn(vn,s,i,l,d,p),!0;case"dragenter":return Br=Qn(Br,s,i,l,d,p),!0;case"mouseover":return zr=Qn(zr,s,i,l,d,p),!0;case"pointerover":var g=p.pointerId;return Oi.set(g,Qn(Oi.get(g)||null,s,i,l,d,p)),!0;case"gotpointercapture":return g=p.pointerId,xr.set(g,Qn(xr.get(g)||null,s,i,l,d,p)),!0}return!1}function Ou(s){var i=Fo(s.target);if(i!==null){var l=Mt(i);if(l!==null){if(i=l.tag,i===13){if(i=Gn(l),i!==null){s.blockedOn=i,Nu(s.priority,function(){Pu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ys(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=La(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Hs=d,l.target.dispatchEvent(d),Hs=null}else return i=wc(l),i!==null&&Oa(i),s.blockedOn=l,!1;i.shift()}return!0}function Lo(s,i,l){Ys(s)&&l.delete(i)}function Lu(){rc=!1,vn!==null&&Ys(vn)&&(vn=null),Br!==null&&Ys(Br)&&(Br=null),zr!==null&&Ys(zr)&&(zr=null),Oi.forEach(Lo),xr.forEach(Lo)}function Hr(s,i){s.blockedOn===i&&(s.blockedOn=null,rc||(rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lu)))}function qr(s){function i(p){return Hr(p,s)}if(0<gs.length){Hr(gs[0],s);for(var l=1;l<gs.length;l++){var d=gs[l];d.blockedOn===s&&(d.blockedOn=null)}}for(vn!==null&&Hr(vn,s),Br!==null&&Hr(Br,s),zr!==null&&Hr(zr,s),Oi.forEach(i),xr.forEach(i),l=0;l<ys.length;l++)d=ys[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<ys.length&&(l=ys[0],l.blockedOn===null);)Ou(l),l.blockedOn===null&&ys.shift()}var Xs=ee.ReactCurrentBatchConfig,Li=!0;function It(s,i,l,d){var p=Ze,g=Xs.transition;Xs.transition=null;try{Ze=1,sc(s,i,l,d)}finally{Ze=p,Xs.transition=g}}function Bf(s,i,l,d){var p=Ze,g=Xs.transition;Xs.transition=null;try{Ze=4,sc(s,i,l,d)}finally{Ze=p,Xs.transition=g}}function sc(s,i,l,d){if(Li){var p=La(s,i,l,d);if(p===null)Zf(s,i,d,Mo,l),Du(s,d);else if(Uf(p,s,i,l,d))d.stopPropagation();else if(Du(s,d),i&4&&-1<$f.indexOf(s)){for(;p!==null;){var g=wc(p);if(g!==null&&Ru(g),g=La(s,i,l,d),g===null&&Zf(s,i,d,Mo,l),g===p)break;p=g}p!==null&&d.stopPropagation()}else Zf(s,i,d,null,l)}}var Mo=null;function La(s,i,l,d){if(Mo=null,s=qs(d),s=Fo(s),s!==null)if(i=Mt(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Gn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Mo=s,null}function ic(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ut()){case cr:return 1;case ms:return 4;case Kn:case Do:return 16;case Pa:return 536870912;default:return 16}default:return 16}}var dr=null,Ma=null,Jn=null;function oc(){if(Jn)return Jn;var s,i=Ma,l=i.length,d,p="value"in dr?dr.value:dr.textContent,g=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[g-d];d++);return Jn=p.slice(s,1<d?1-d:void 0)}function Va(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function ws(){return!0}function ac(){return!1}function _n(s){function i(l,d,p,g,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ws:ac,this.isPropagationStopped=ac,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),i}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=_n(Wr),vs=Y({},Wr,{view:0,detail:0}),zf=_n(vs),Fa,Zs,Mi,Vo=Y({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Mi&&(Mi&&s.type==="mousemove"?(Fa=s.screenX-Mi.screenX,Zs=s.screenY-Mi.screenY):Zs=Fa=0,Mi=s),Fa)},movementY:function(s){return"movementY"in s?s.movementY:Zs}}),$a=_n(Vo),lc=Y({},Vo,{dataTransfer:0}),Mu=_n(lc),Ua=Y({},vs,{relatedTarget:0}),Ba=_n(Ua),Vu=Y({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=_n(Vu),ju=Y({},Wr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fu=_n(ju),$u=Y({},Wr,{data:0}),cc=_n($u),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Uu[s])?!!i[s]:!1}function _s(){return Bu}var c=Y({},vs,{key:function(s){if(s.key){var i=za[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(s){return s.type==="keypress"?Va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),m=_n(c),_=Y({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=_n(_),z=Y({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),X=_n(z),he=Y({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=_n(he),sn=Y({},Vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=_n(sn),dn=[9,13,27,32],Qt=h&&"CompositionEvent"in window,kr=null;h&&"documentMode"in document&&(kr=document.documentMode);var hr=h&&"TextEvent"in window&&!kr,jo=h&&(!Qt||kr&&8<kr&&11>=kr),Ha=" ",nw=!1;function rw(s,i){switch(s){case"keyup":return dn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qa=!1;function sS(s,i){switch(s){case"compositionend":return sw(i);case"keypress":return i.which!==32?null:(nw=!0,Ha);case"textInput":return s=i.data,s===Ha&&nw?null:s;default:return null}}function iS(s,i){if(qa)return s==="compositionend"||!Qt&&rw(s,i)?(s=oc(),Jn=Ma=dr=null,qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return jo&&i.locale!=="ko"?null:i.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!oS[s.type]:i==="textarea"}function ow(s,i,l,d){Tr(d),i=Gu(i,"onChange"),0<i.length&&(l=new ja("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var uc=null,dc=null;function aS(s){Tw(s,0)}function zu(s){var i=Ja(s);if(vt(i))return s}function lS(s,i){if(s==="change")return i}var aw=!1;if(h){var Hf;if(h){var qf="oninput"in document;if(!qf){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),qf=typeof lw.oninput=="function"}Hf=qf}else Hf=!1;aw=Hf&&(!document.documentMode||9<document.documentMode)}function cw(){uc&&(uc.detachEvent("onpropertychange",uw),dc=uc=null)}function uw(s){if(s.propertyName==="value"&&zu(dc)){var i=[];ow(i,dc,s,qs(s)),xi(aS,i)}}function cS(s,i,l){s==="focusin"?(cw(),uc=i,dc=l,uc.attachEvent("onpropertychange",uw)):s==="focusout"&&cw()}function uS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zu(dc)}function dS(s,i){if(s==="click")return zu(i)}function hS(s,i){if(s==="input"||s==="change")return zu(i)}function fS(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Gr=typeof Object.is=="function"?Object.is:fS;function hc(s,i){if(Gr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!Gr(s[p],i[p]))return!1}return!0}function dw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hw(s,i){var l=dw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dw(l)}}function fw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?fw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function pw(){for(var s=window,i=Oe();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Oe(s.document)}return i}function Wf(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function pS(s){var i=pw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&fw(l.ownerDocument.documentElement,l)){if(d!==null&&Wf(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!s.extend&&g>d&&(p=d,d=g,g=p),p=hw(l,g);var E=hw(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),g>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var mS=h&&"documentMode"in document&&11>=document.documentMode,Wa=null,Gf=null,fc=null,Kf=!1;function mw(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kf||Wa==null||Wa!==Oe(d)||(d=Wa,"selectionStart"in d&&Wf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fc&&hc(fc,d)||(fc=d,d=Gu(Gf,"onSelect"),0<d.length&&(i=new ja("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Wa)))}function Hu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Ga={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},Qf={},gw={};h&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function qu(s){if(Qf[s])return Qf[s];if(!Ga[s])return s;var i=Ga[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in gw)return Qf[s]=i[l];return s}var yw=qu("animationend"),ww=qu("animationiteration"),vw=qu("animationstart"),_w=qu("transitionend"),Ew=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(s,i){Ew.set(s,i),a(i,[s])}for(var Jf=0;Jf<bw.length;Jf++){var Yf=bw[Jf],gS=Yf.toLowerCase(),yS=Yf[0].toUpperCase()+Yf.slice(1);Vi(gS,"on"+yS)}Vi(yw,"onAnimationEnd"),Vi(ww,"onAnimationIteration"),Vi(vw,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(_w,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Cw(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Ao(d,i,void 0,s),s.currentTarget=null}function Tw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var g=void 0;if(i)for(var E=d.length-1;0<=E;E--){var A=d[E],M=A.instance,Q=A.currentTarget;if(A=A.listener,M!==g&&p.isPropagationStopped())break e;Cw(p,A,Q),g=M}else for(E=0;E<d.length;E++){if(A=d[E],M=A.instance,Q=A.currentTarget,A=A.listener,M!==g&&p.isPropagationStopped())break e;Cw(p,A,Q),g=M}}}if(Gt)throw s=wn,Gt=!1,wn=null,s}function _t(s,i){var l=i[ip];l===void 0&&(l=i[ip]=new Set);var d=s+"__bubble";l.has(d)||(Sw(i,s,2,!1),l.add(d))}function Xf(s,i,l){var d=0;i&&(d|=4),Sw(l,s,d,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function mc(s){if(!s[Wu]){s[Wu]=!0,r.forEach(function(l){l!=="selectionchange"&&(wS.has(l)||Xf(l,!1,s),Xf(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,Xf("selectionchange",!1,i))}}function Sw(s,i,l,d){switch(ic(i)){case 1:var p=It;break;case 4:p=Bf;break;default:p=sc}l=p.bind(null,i,l,s),p=void 0,!Ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Zf(s,i,l,d,p){var g=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;E=E.return}for(;A!==null;){if(E=Fo(A),E===null)return;if(M=E.tag,M===5||M===6){d=g=E;continue e}A=A.parentNode}}d=d.return}xi(function(){var Q=g,oe=qs(l),le=[];e:{var ie=Ew.get(s);if(ie!==void 0){var me=ja,we=s;switch(s){case"keypress":if(Va(l)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":we="focus",me=Ba;break;case"focusout":we="blur",me=Ba;break;case"beforeblur":case"afterblur":me=Ba;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=X;break;case yw:case ww:case vw:me=ei;break;case _w:me=ht;break;case"scroll":me=zf;break;case"wheel":me=tt;break;case"copy":case"cut":case"paste":me=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=I}var ve=(i&4)!==0,Bt=!ve&&s==="scroll",q=ve?ie!==null?ie+"Capture":null:ie;ve=[];for(var $=Q,G;$!==null;){G=$;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,q!==null&&(ue=Tt($,q),ue!=null&&ve.push(gc($,ue,G)))),Bt)break;$=$.return}0<ve.length&&(ie=new me(ie,we,null,l,oe),le.push({event:ie,listeners:ve}))}}if((i&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",ie&&l!==Hs&&(we=l.relatedTarget||l.fromElement)&&(Fo(we)||we[ti]))break e;if((me||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(we=l.relatedTarget||l.toElement,me=Q,we=we?Fo(we):null,we!==null&&(Bt=Mt(we),we!==Bt||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=Q),me!==we)){if(ve=$a,ue="onMouseLeave",q="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ve=I,ue="onPointerLeave",q="onPointerEnter",$="pointer"),Bt=me==null?ie:Ja(me),G=we==null?ie:Ja(we),ie=new ve(ue,$+"leave",me,l,oe),ie.target=Bt,ie.relatedTarget=G,ue=null,Fo(oe)===Q&&(ve=new ve(q,$+"enter",we,l,oe),ve.target=G,ve.relatedTarget=Bt,ue=ve),Bt=ue,me&&we)t:{for(ve=me,q=we,$=0,G=ve;G;G=Ka(G))$++;for(G=0,ue=q;ue;ue=Ka(ue))G++;for(;0<$-G;)ve=Ka(ve),$--;for(;0<G-$;)q=Ka(q),G--;for(;$--;){if(ve===q||q!==null&&ve===q.alternate)break t;ve=Ka(ve),q=Ka(q)}ve=null}else ve=null;me!==null&&Iw(le,ie,me,ve,!1),we!==null&&Bt!==null&&Iw(le,Bt,we,ve,!0)}}e:{if(ie=Q?Ja(Q):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var Ee=lS;else if(iw(ie))if(aw)Ee=hS;else{Ee=uS;var Ie=cS}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ee=dS);if(Ee&&(Ee=Ee(s,Q))){ow(le,Ee,l,oe);break e}Ie&&Ie(s,ie,Q),s==="focusout"&&(Ie=ie._wrapperState)&&Ie.controlled&&ie.type==="number"&&Ft(ie,"number",ie.value)}switch(Ie=Q?Ja(Q):window,s){case"focusin":(iw(Ie)||Ie.contentEditable==="true")&&(Wa=Ie,Gf=Q,fc=null);break;case"focusout":fc=Gf=Wa=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,mw(le,l,oe);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":mw(le,l,oe)}var xe;if(Qt)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else qa?rw(s,l)&&(De="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(jo&&l.locale!=="ko"&&(qa||De!=="onCompositionStart"?De==="onCompositionEnd"&&qa&&(xe=oc()):(dr=oe,Ma="value"in dr?dr.value:dr.textContent,qa=!0)),Ie=Gu(Q,De),0<Ie.length&&(De=new cc(De,s,null,l,oe),le.push({event:De,listeners:Ie}),xe?De.data=xe:(xe=sw(l),xe!==null&&(De.data=xe)))),(xe=hr?sS(s,l):iS(s,l))&&(Q=Gu(Q,"onBeforeInput"),0<Q.length&&(oe=new cc("onBeforeInput","beforeinput",null,l,oe),le.push({event:oe,listeners:Q}),oe.data=xe))}Tw(le,i)})}function gc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Gu(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Tt(s,l),g!=null&&d.unshift(gc(s,g,p)),g=Tt(s,i),g!=null&&d.push(gc(s,g,p))),s=s.return}return d}function Ka(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Iw(s,i,l,d,p){for(var g=i._reactName,E=[];l!==null&&l!==d;){var A=l,M=A.alternate,Q=A.stateNode;if(M!==null&&M===d)break;A.tag===5&&Q!==null&&(A=Q,p?(M=Tt(l,g),M!=null&&E.unshift(gc(l,M,A))):p||(M=Tt(l,g),M!=null&&E.push(gc(l,M,A)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var vS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function xw(s){return(typeof s=="string"?s:""+s).replace(vS,`
`).replace(_S,"")}function Ku(s,i,l){if(i=xw(i),xw(s)!==i&&l)throw Error(n(425))}function Qu(){}var ep=null,tp=null;function np(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,bS=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(s){return kw.resolve(null).then(s).catch(CS)}:rp;function CS(s){setTimeout(function(){throw s})}function sp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),qr(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);qr(i)}function ji(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Rw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Es="__reactFiber$"+Qa,yc="__reactProps$"+Qa,ti="__reactContainer$"+Qa,ip="__reactEvents$"+Qa,TS="__reactListeners$"+Qa,SS="__reactHandles$"+Qa;function Fo(s){var i=s[Es];if(i)return i;for(var l=s.parentNode;l;){if(i=l[ti]||l[Es]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Rw(s);s!==null;){if(l=s[Es])return l;s=Rw(s)}return i}s=l,l=s.parentNode}return null}function wc(s){return s=s[Es]||s[ti],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ja(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ju(s){return s[yc]||null}var op=[],Ya=-1;function Fi(s){return{current:s}}function Et(s){0>Ya||(s.current=op[Ya],op[Ya]=null,Ya--)}function gt(s,i){Ya++,op[Ya]=s.current,s.current=i}var $i={},xn=Fi($i),Yn=Fi(!1),$o=$i;function Xa(s,i){var l=s.type.contextTypes;if(!l)return $i;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=i[g];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function Xn(s){return s=s.childContextTypes,s!=null}function Yu(){Et(Yn),Et(xn)}function Pw(s,i,l){if(xn.current!==$i)throw Error(n(168));gt(xn,i),gt(Yn,l)}function Aw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Ue(s)||"Unknown",p));return Y({},l,d)}function Xu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||$i,$o=xn.current,gt(xn,s),gt(Yn,Yn.current),!0}function Nw(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=Aw(s,i,$o),d.__reactInternalMemoizedMergedChildContext=s,Et(Yn),Et(xn),gt(xn,s)):Et(Yn),gt(Yn,l)}var ni=null,Zu=!1,ap=!1;function Dw(s){ni===null?ni=[s]:ni.push(s)}function IS(s){Zu=!0,Dw(s)}function Ui(){if(!ap&&ni!==null){ap=!0;var s=0,i=Ze;try{var l=ni;for(Ze=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ni=null,Zu=!1}catch(p){throw ni!==null&&(ni=ni.slice(s+1)),Qs(cr,Ui),p}finally{Ze=i,ap=!1}}return null}var Za=[],el=0,ed=null,td=0,Rr=[],Pr=0,Uo=null,ri=1,si="";function Bo(s,i){Za[el++]=td,Za[el++]=ed,ed=s,td=i}function Ow(s,i,l){Rr[Pr++]=ri,Rr[Pr++]=si,Rr[Pr++]=Uo,Uo=s;var d=ri;s=si;var p=32-Vt(d)-1;d&=~(1<<p),l+=1;var g=32-Vt(i)+p;if(30<g){var E=p-p%5;g=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ri=1<<32-Vt(i)+p|l<<p|d,si=g+s}else ri=1<<g|l<<p|d,si=s}function lp(s){s.return!==null&&(Bo(s,1),Ow(s,1,0))}function cp(s){for(;s===ed;)ed=Za[--el],Za[el]=null,td=Za[--el],Za[el]=null;for(;s===Uo;)Uo=Rr[--Pr],Rr[Pr]=null,si=Rr[--Pr],Rr[Pr]=null,ri=Rr[--Pr],Rr[Pr]=null}var fr=null,pr=null,xt=!1,Kr=null;function Lw(s,i){var l=Or(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Mw(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,fr=s,pr=ji(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,fr=s,pr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Uo!==null?{id:ri,overflow:si}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Or(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,fr=s,pr=null,!0):!1;default:return!1}}function up(s){return(s.mode&1)!==0&&(s.flags&128)===0}function dp(s){if(xt){var i=pr;if(i){var l=i;if(!Mw(s,i)){if(up(s))throw Error(n(418));i=ji(l.nextSibling);var d=fr;i&&Mw(s,i)?Lw(d,l):(s.flags=s.flags&-4097|2,xt=!1,fr=s)}}else{if(up(s))throw Error(n(418));s.flags=s.flags&-4097|2,xt=!1,fr=s}}}function Vw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;fr=s}function nd(s){if(s!==fr)return!1;if(!xt)return Vw(s),xt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!np(s.type,s.memoizedProps)),i&&(i=pr)){if(up(s))throw jw(),Error(n(418));for(;i;)Lw(s,i),i=ji(i.nextSibling)}if(Vw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){pr=ji(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}pr=null}}else pr=fr?ji(s.stateNode.nextSibling):null;return!0}function jw(){for(var s=pr;s;)s=ji(s.nextSibling)}function tl(){pr=fr=null,xt=!1}function hp(s){Kr===null?Kr=[s]:Kr.push(s)}var xS=ee.ReactCurrentBatchConfig;function vc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,g=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var A=p.refs;E===null?delete A[g]:A[g]=E},i._stringRef=g,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function rd(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Fw(s){var i=s._init;return i(s._payload)}function $w(s){function i(q,$){if(s){var G=q.deletions;G===null?(q.deletions=[$],q.flags|=16):G.push($)}}function l(q,$){if(!s)return null;for(;$!==null;)i(q,$),$=$.sibling;return null}function d(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function p(q,$){return q=Qi(q,$),q.index=0,q.sibling=null,q}function g(q,$,G){return q.index=G,s?(G=q.alternate,G!==null?(G=G.index,G<$?(q.flags|=2,$):G):(q.flags|=2,$)):(q.flags|=1048576,$)}function E(q){return s&&q.alternate===null&&(q.flags|=2),q}function A(q,$,G,ue){return $===null||$.tag!==6?($=rm(G,q.mode,ue),$.return=q,$):($=p($,G),$.return=q,$)}function M(q,$,G,ue){var Ee=G.type;return Ee===P?oe(q,$,G.props.children,ue,G.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Qe&&Fw(Ee)===$.type)?(ue=p($,G.props),ue.ref=vc(q,$,G),ue.return=q,ue):(ue=xd(G.type,G.key,G.props,null,q.mode,ue),ue.ref=vc(q,$,G),ue.return=q,ue)}function Q(q,$,G,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=sm(G,q.mode,ue),$.return=q,$):($=p($,G.children||[]),$.return=q,$)}function oe(q,$,G,ue,Ee){return $===null||$.tag!==7?($=Jo(G,q.mode,ue,Ee),$.return=q,$):($=p($,G),$.return=q,$)}function le(q,$,G){if(typeof $=="string"&&$!==""||typeof $=="number")return $=rm(""+$,q.mode,G),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case de:return G=xd($.type,$.key,$.props,null,q.mode,G),G.ref=vc(q,null,$),G.return=q,G;case se:return $=sm($,q.mode,G),$.return=q,$;case Qe:var ue=$._init;return le(q,ue($._payload),G)}if(Ce($)||B($))return $=Jo($,q.mode,G,null),$.return=q,$;rd(q,$)}return null}function ie(q,$,G,ue){var Ee=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ee!==null?null:A(q,$,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case de:return G.key===Ee?M(q,$,G,ue):null;case se:return G.key===Ee?Q(q,$,G,ue):null;case Qe:return Ee=G._init,ie(q,$,Ee(G._payload),ue)}if(Ce(G)||B(G))return Ee!==null?null:oe(q,$,G,ue,null);rd(q,G)}return null}function me(q,$,G,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(G)||null,A($,q,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case de:return q=q.get(ue.key===null?G:ue.key)||null,M($,q,ue,Ee);case se:return q=q.get(ue.key===null?G:ue.key)||null,Q($,q,ue,Ee);case Qe:var Ie=ue._init;return me(q,$,G,Ie(ue._payload),Ee)}if(Ce(ue)||B(ue))return q=q.get(G)||null,oe($,q,ue,Ee,null);rd($,ue)}return null}function we(q,$,G,ue){for(var Ee=null,Ie=null,xe=$,De=$=0,pn=null;xe!==null&&De<G.length;De++){xe.index>De?(pn=xe,xe=null):pn=xe.sibling;var ot=ie(q,xe,G[De],ue);if(ot===null){xe===null&&(xe=pn);break}s&&xe&&ot.alternate===null&&i(q,xe),$=g(ot,$,De),Ie===null?Ee=ot:Ie.sibling=ot,Ie=ot,xe=pn}if(De===G.length)return l(q,xe),xt&&Bo(q,De),Ee;if(xe===null){for(;De<G.length;De++)xe=le(q,G[De],ue),xe!==null&&($=g(xe,$,De),Ie===null?Ee=xe:Ie.sibling=xe,Ie=xe);return xt&&Bo(q,De),Ee}for(xe=d(q,xe);De<G.length;De++)pn=me(xe,q,De,G[De],ue),pn!==null&&(s&&pn.alternate!==null&&xe.delete(pn.key===null?De:pn.key),$=g(pn,$,De),Ie===null?Ee=pn:Ie.sibling=pn,Ie=pn);return s&&xe.forEach(function(Ji){return i(q,Ji)}),xt&&Bo(q,De),Ee}function ve(q,$,G,ue){var Ee=B(G);if(typeof Ee!="function")throw Error(n(150));if(G=Ee.call(G),G==null)throw Error(n(151));for(var Ie=Ee=null,xe=$,De=$=0,pn=null,ot=G.next();xe!==null&&!ot.done;De++,ot=G.next()){xe.index>De?(pn=xe,xe=null):pn=xe.sibling;var Ji=ie(q,xe,ot.value,ue);if(Ji===null){xe===null&&(xe=pn);break}s&&xe&&Ji.alternate===null&&i(q,xe),$=g(Ji,$,De),Ie===null?Ee=Ji:Ie.sibling=Ji,Ie=Ji,xe=pn}if(ot.done)return l(q,xe),xt&&Bo(q,De),Ee;if(xe===null){for(;!ot.done;De++,ot=G.next())ot=le(q,ot.value,ue),ot!==null&&($=g(ot,$,De),Ie===null?Ee=ot:Ie.sibling=ot,Ie=ot);return xt&&Bo(q,De),Ee}for(xe=d(q,xe);!ot.done;De++,ot=G.next())ot=me(xe,q,De,ot.value,ue),ot!==null&&(s&&ot.alternate!==null&&xe.delete(ot.key===null?De:ot.key),$=g(ot,$,De),Ie===null?Ee=ot:Ie.sibling=ot,Ie=ot);return s&&xe.forEach(function(oI){return i(q,oI)}),xt&&Bo(q,De),Ee}function Bt(q,$,G,ue){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case de:e:{for(var Ee=G.key,Ie=$;Ie!==null;){if(Ie.key===Ee){if(Ee=G.type,Ee===P){if(Ie.tag===7){l(q,Ie.sibling),$=p(Ie,G.props.children),$.return=q,q=$;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Qe&&Fw(Ee)===Ie.type){l(q,Ie.sibling),$=p(Ie,G.props),$.ref=vc(q,Ie,G),$.return=q,q=$;break e}l(q,Ie);break}else i(q,Ie);Ie=Ie.sibling}G.type===P?($=Jo(G.props.children,q.mode,ue,G.key),$.return=q,q=$):(ue=xd(G.type,G.key,G.props,null,q.mode,ue),ue.ref=vc(q,$,G),ue.return=q,q=ue)}return E(q);case se:e:{for(Ie=G.key;$!==null;){if($.key===Ie)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){l(q,$.sibling),$=p($,G.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else i(q,$);$=$.sibling}$=sm(G,q.mode,ue),$.return=q,q=$}return E(q);case Qe:return Ie=G._init,Bt(q,$,Ie(G._payload),ue)}if(Ce(G))return we(q,$,G,ue);if(B(G))return ve(q,$,G,ue);rd(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,$!==null&&$.tag===6?(l(q,$.sibling),$=p($,G),$.return=q,q=$):(l(q,$),$=rm(G,q.mode,ue),$.return=q,q=$),E(q)):l(q,$)}return Bt}var nl=$w(!0),Uw=$w(!1),sd=Fi(null),id=null,rl=null,fp=null;function pp(){fp=rl=id=null}function mp(s){var i=sd.current;Et(sd),s._currentValue=i}function gp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function sl(s,i){id=s,fp=rl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Zn=!0),s.firstContext=null)}function Ar(s){var i=s._currentValue;if(fp!==s)if(s={context:s,memoizedValue:i,next:null},rl===null){if(id===null)throw Error(n(308));rl=s,id.dependencies={lanes:0,firstContext:s}}else rl=rl.next=s;return i}var zo=null;function yp(s){zo===null?zo=[s]:zo.push(s)}function Bw(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,yp(i)):(l.next=p.next,p.next=l),i.interleaved=l,ii(s,d)}function ii(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Bi=!1;function wp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function oi(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function zi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(it&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,ii(s,l)}return p=d.interleaved,p===null?(i.next=i,yp(d)):(i.next=p.next,p.next=i),d.interleaved=i,ii(s,l)}function od(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Ni(s,l)}}function Hw(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function ad(s,i,l,d){var p=s.updateQueue;Bi=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var M=A,Q=M.next;M.next=null,E===null?g=Q:E.next=Q,E=M;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,A=oe.lastBaseUpdate,A!==E&&(A===null?oe.firstBaseUpdate=Q:A.next=Q,oe.lastBaseUpdate=M))}if(g!==null){var le=p.baseState;E=0,oe=Q=M=null,A=g;do{var ie=A.lane,me=A.eventTime;if((d&ie)===ie){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var we=s,ve=A;switch(ie=i,me=l,ve.tag){case 1:if(we=ve.payload,typeof we=="function"){le=we.call(me,le,ie);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,ie=typeof we=="function"?we.call(me,le,ie):we,ie==null)break e;le=Y({},le,ie);break e;case 2:Bi=!0}}A.callback!==null&&A.lane!==0&&(s.flags|=64,ie=p.effects,ie===null?p.effects=[A]:ie.push(A))}else me={eventTime:me,lane:ie,tag:A.tag,payload:A.payload,callback:A.callback,next:null},oe===null?(Q=oe=me,M=le):oe=oe.next=me,E|=ie;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);if(oe===null&&(M=le),p.baseState=M,p.firstBaseUpdate=Q,p.lastBaseUpdate=oe,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else g===null&&(p.shared.lanes=0);Wo|=E,s.lanes=E,s.memoizedState=le}}function qw(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var _c={},bs=Fi(_c),Ec=Fi(_c),bc=Fi(_c);function Ho(s){if(s===_c)throw Error(n(174));return s}function vp(s,i){switch(gt(bc,i),gt(Ec,s),gt(bs,_c),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Lt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Lt(i,s)}Et(bs),gt(bs,i)}function il(){Et(bs),Et(Ec),Et(bc)}function Ww(s){Ho(bc.current);var i=Ho(bs.current),l=Lt(i,s.type);i!==l&&(gt(Ec,s),gt(bs,l))}function _p(s){Ec.current===s&&(Et(bs),Et(Ec))}var Nt=Fi(0);function ld(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ep=[];function bp(){for(var s=0;s<Ep.length;s++)Ep[s]._workInProgressVersionPrimary=null;Ep.length=0}var cd=ee.ReactCurrentDispatcher,Cp=ee.ReactCurrentBatchConfig,qo=0,Dt=null,on=null,hn=null,ud=!1,Cc=!1,Tc=0,kS=0;function kn(){throw Error(n(321))}function Tp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Gr(s[l],i[l]))return!1;return!0}function Sp(s,i,l,d,p,g){if(qo=g,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,cd.current=s===null||s.memoizedState===null?NS:DS,s=l(d,p),Cc){g=0;do{if(Cc=!1,Tc=0,25<=g)throw Error(n(301));g+=1,hn=on=null,i.updateQueue=null,cd.current=OS,s=l(d,p)}while(Cc)}if(cd.current=fd,i=on!==null&&on.next!==null,qo=0,hn=on=Dt=null,ud=!1,i)throw Error(n(300));return s}function Ip(){var s=Tc!==0;return Tc=0,s}function Cs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Dt.memoizedState=hn=s:hn=hn.next=s,hn}function Nr(){if(on===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=on.next;var i=hn===null?Dt.memoizedState:hn.next;if(i!==null)hn=i,on=s;else{if(s===null)throw Error(n(310));on=s,s={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?Dt.memoizedState=hn=s:hn=hn.next=s}return hn}function Sc(s,i){return typeof i=="function"?i(s):i}function xp(s){var i=Nr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=on,p=d.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}d.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,d=d.baseState;var A=E=null,M=null,Q=g;do{var oe=Q.lane;if((qo&oe)===oe)M!==null&&(M=M.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var le={lane:oe,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};M===null?(A=M=le,E=d):M=M.next=le,Dt.lanes|=oe,Wo|=oe}Q=Q.next}while(Q!==null&&Q!==g);M===null?E=d:M.next=A,Gr(d,i.memoizedState)||(Zn=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=M,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do g=p.lane,Dt.lanes|=g,Wo|=g,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function kp(s){var i=Nr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=s(g,E.action),E=E.next;while(E!==p);Gr(g,i.memoizedState)||(Zn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,d]}function Gw(){}function Kw(s,i){var l=Dt,d=Nr(),p=i(),g=!Gr(d.memoizedState,p);if(g&&(d.memoizedState=p,Zn=!0),d=d.queue,Rp(Yw.bind(null,l,d,s),[s]),d.getSnapshot!==i||g||hn!==null&&hn.memoizedState.tag&1){if(l.flags|=2048,Ic(9,Jw.bind(null,l,d,p,i),void 0,null),fn===null)throw Error(n(349));(qo&30)!==0||Qw(l,i,p)}return p}function Qw(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Dt.updateQueue,i===null?(i={lastEffect:null,stores:null},Dt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Jw(s,i,l,d){i.value=l,i.getSnapshot=d,Xw(i)&&Zw(s)}function Yw(s,i,l){return l(function(){Xw(i)&&Zw(s)})}function Xw(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Gr(s,l)}catch{return!0}}function Zw(s){var i=ii(s,1);i!==null&&Xr(i,s,1,-1)}function ev(s){var i=Cs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:s},i.queue=s,s=s.dispatch=AS.bind(null,Dt,s),[i.memoizedState,s]}function Ic(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=Dt.updateQueue,i===null?(i={lastEffect:null,stores:null},Dt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function tv(){return Nr().memoizedState}function dd(s,i,l,d){var p=Cs();Dt.flags|=s,p.memoizedState=Ic(1|i,l,void 0,d===void 0?null:d)}function hd(s,i,l,d){var p=Nr();d=d===void 0?null:d;var g=void 0;if(on!==null){var E=on.memoizedState;if(g=E.destroy,d!==null&&Tp(d,E.deps)){p.memoizedState=Ic(i,l,g,d);return}}Dt.flags|=s,p.memoizedState=Ic(1|i,l,g,d)}function nv(s,i){return dd(8390656,8,s,i)}function Rp(s,i){return hd(2048,8,s,i)}function rv(s,i){return hd(4,2,s,i)}function sv(s,i){return hd(4,4,s,i)}function iv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function ov(s,i,l){return l=l!=null?l.concat([s]):null,hd(4,4,iv.bind(null,i,s),l)}function Pp(){}function av(s,i){var l=Nr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Tp(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function lv(s,i){var l=Nr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Tp(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function cv(s,i,l){return(qo&21)===0?(s.baseState&&(s.baseState=!1,Zn=!0),s.memoizedState=l):(Gr(l,i)||(l=In(),Dt.lanes|=l,Wo|=l,s.baseState=!0),i)}function RS(s,i){var l=Ze;Ze=l!==0&&4>l?l:4,s(!0);var d=Cp.transition;Cp.transition={};try{s(!1),i()}finally{Ze=l,Cp.transition=d}}function uv(){return Nr().memoizedState}function PS(s,i,l){var d=Gi(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},dv(s))hv(i,l);else if(l=Bw(s,i,l,d),l!==null){var p=Un();Xr(l,s,d,p),fv(l,i,d)}}function AS(s,i,l){var d=Gi(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(dv(s))hv(i,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,A=g(E,l);if(p.hasEagerState=!0,p.eagerState=A,Gr(A,E)){var M=i.interleaved;M===null?(p.next=p,yp(i)):(p.next=M.next,M.next=p),i.interleaved=p;return}}catch{}finally{}l=Bw(s,i,p,d),l!==null&&(p=Un(),Xr(l,s,d,p),fv(l,i,d))}}function dv(s){var i=s.alternate;return s===Dt||i!==null&&i===Dt}function hv(s,i){Cc=ud=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function fv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Ni(s,l)}}var fd={readContext:Ar,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},NS={readContext:Ar,useCallback:function(s,i){return Cs().memoizedState=[s,i===void 0?null:i],s},useContext:Ar,useEffect:nv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,dd(4194308,4,iv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return dd(4194308,4,s,i)},useInsertionEffect:function(s,i){return dd(4,2,s,i)},useMemo:function(s,i){var l=Cs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Cs();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=PS.bind(null,Dt,s),[d.memoizedState,s]},useRef:function(s){var i=Cs();return s={current:s},i.memoizedState=s},useState:ev,useDebugValue:Pp,useDeferredValue:function(s){return Cs().memoizedState=s},useTransition:function(){var s=ev(!1),i=s[0];return s=RS.bind(null,s[1]),Cs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=Dt,p=Cs();if(xt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),fn===null)throw Error(n(349));(qo&30)!==0||Qw(d,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,nv(Yw.bind(null,d,g,s),[s]),d.flags|=2048,Ic(9,Jw.bind(null,d,g,l,i),void 0,null),l},useId:function(){var s=Cs(),i=fn.identifierPrefix;if(xt){var l=si,d=ri;l=(d&~(1<<32-Vt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Tc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=kS++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},DS={readContext:Ar,useCallback:av,useContext:Ar,useEffect:Rp,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:lv,useReducer:xp,useRef:tv,useState:function(){return xp(Sc)},useDebugValue:Pp,useDeferredValue:function(s){var i=Nr();return cv(i,on.memoizedState,s)},useTransition:function(){var s=xp(Sc)[0],i=Nr().memoizedState;return[s,i]},useMutableSource:Gw,useSyncExternalStore:Kw,useId:uv,unstable_isNewReconciler:!1},OS={readContext:Ar,useCallback:av,useContext:Ar,useEffect:Rp,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:lv,useReducer:kp,useRef:tv,useState:function(){return kp(Sc)},useDebugValue:Pp,useDeferredValue:function(s){var i=Nr();return on===null?i.memoizedState=s:cv(i,on.memoizedState,s)},useTransition:function(){var s=kp(Sc)[0],i=Nr().memoizedState;return[s,i]},useMutableSource:Gw,useSyncExternalStore:Kw,useId:uv,unstable_isNewReconciler:!1};function Qr(s,i){if(s&&s.defaultProps){i=Y({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Ap(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:Y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var pd={isMounted:function(s){return(s=s._reactInternals)?Mt(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Un(),p=Gi(s),g=oi(d,p);g.payload=i,l!=null&&(g.callback=l),i=zi(s,g,p),i!==null&&(Xr(i,s,p,d),od(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Un(),p=Gi(s),g=oi(d,p);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=zi(s,g,p),i!==null&&(Xr(i,s,p,d),od(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Un(),d=Gi(s),p=oi(l,d);p.tag=2,i!=null&&(p.callback=i),i=zi(s,p,d),i!==null&&(Xr(i,s,d,l),od(i,s,d))}};function pv(s,i,l,d,p,g,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,g,E):i.prototype&&i.prototype.isPureReactComponent?!hc(l,d)||!hc(p,g):!0}function mv(s,i,l){var d=!1,p=$i,g=i.contextType;return typeof g=="object"&&g!==null?g=Ar(g):(p=Xn(i)?$o:xn.current,d=i.contextTypes,g=(d=d!=null)?Xa(s,p):$i),i=new i(l,g),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=pd,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=g),i}function gv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&pd.enqueueReplaceState(i,i.state,null)}function Np(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},wp(s);var g=i.contextType;typeof g=="object"&&g!==null?p.context=Ar(g):(g=Xn(i)?$o:xn.current,p.context=Xa(s,g)),p.state=s.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Ap(s,i,g,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&pd.enqueueReplaceState(p,p.state,null),ad(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function ol(s,i){try{var l="",d=i;do l+=_e(d),d=d.return;while(d);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:s,source:i,stack:p,digest:null}}function Dp(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Op(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var LS=typeof WeakMap=="function"?WeakMap:Map;function yv(s,i,l){l=oi(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Ed||(Ed=!0,Qp=d),Op(s,i)},l}function wv(s,i,l){l=oi(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Op(s,i)}}var g=s.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Op(s,i),typeof d!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function vv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new LS;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=QS.bind(null,s,i,l),i.then(s,s))}function _v(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Ev(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=oi(-1,1),i.tag=2,zi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var MS=ee.ReactCurrentOwner,Zn=!1;function $n(s,i,l,d){i.child=s===null?Uw(i,null,l,d):nl(i,s.child,l,d)}function bv(s,i,l,d,p){l=l.render;var g=i.ref;return sl(i,p),d=Sp(s,i,l,d,g,p),l=Ip(),s!==null&&!Zn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ai(s,i,p)):(xt&&l&&lp(i),i.flags|=1,$n(s,i,d,p),i.child)}function Cv(s,i,l,d,p){if(s===null){var g=l.type;return typeof g=="function"&&!nm(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=g,Tv(s,i,g,d,p)):(s=xd(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,(s.lanes&p)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:hc,l(E,d)&&s.ref===i.ref)return ai(s,i,p)}return i.flags|=1,s=Qi(g,d),s.ref=i.ref,s.return=i,i.child=s}function Tv(s,i,l,d,p){if(s!==null){var g=s.memoizedProps;if(hc(g,d)&&s.ref===i.ref)if(Zn=!1,i.pendingProps=d=g,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Zn=!0);else return i.lanes=s.lanes,ai(s,i,p)}return Lp(s,i,l,d,p)}function Sv(s,i,l){var d=i.pendingProps,p=d.children,g=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(ll,mr),mr|=l;else{if((l&1073741824)===0)return s=g!==null?g.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,gt(ll,mr),mr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,gt(ll,mr),mr|=d}else g!==null?(d=g.baseLanes|l,i.memoizedState=null):d=l,gt(ll,mr),mr|=d;return $n(s,i,p,l),i.child}function Iv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Lp(s,i,l,d,p){var g=Xn(l)?$o:xn.current;return g=Xa(i,g),sl(i,p),l=Sp(s,i,l,d,g,p),d=Ip(),s!==null&&!Zn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ai(s,i,p)):(xt&&d&&lp(i),i.flags|=1,$n(s,i,l,p),i.child)}function xv(s,i,l,d,p){if(Xn(l)){var g=!0;Xu(i)}else g=!1;if(sl(i,p),i.stateNode===null)gd(s,i),mv(i,l,d),Np(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var M=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Ar(Q):(Q=Xn(l)?$o:xn.current,Q=Xa(i,Q));var oe=l.getDerivedStateFromProps,le=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";le||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||M!==Q)&&gv(i,E,d,Q),Bi=!1;var ie=i.memoizedState;E.state=ie,ad(i,d,E,p),M=i.memoizedState,A!==d||ie!==M||Yn.current||Bi?(typeof oe=="function"&&(Ap(i,l,oe,d),M=i.memoizedState),(A=Bi||pv(i,l,A,d,ie,M,Q))?(le||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=M),E.props=d,E.state=M,E.context=Q,d=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,zw(s,i),A=i.memoizedProps,Q=i.type===i.elementType?A:Qr(i.type,A),E.props=Q,le=i.pendingProps,ie=E.context,M=l.contextType,typeof M=="object"&&M!==null?M=Ar(M):(M=Xn(l)?$o:xn.current,M=Xa(i,M));var me=l.getDerivedStateFromProps;(oe=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==le||ie!==M)&&gv(i,E,d,M),Bi=!1,ie=i.memoizedState,E.state=ie,ad(i,d,E,p);var we=i.memoizedState;A!==le||ie!==we||Yn.current||Bi?(typeof me=="function"&&(Ap(i,l,me,d),we=i.memoizedState),(Q=Bi||pv(i,l,Q,d,ie,we,M)||!1)?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,we,M),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,we,M)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=we),E.props=d,E.state=we,E.context=M,d=Q):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),d=!1)}return Mp(s,i,l,d,g,p)}function Mp(s,i,l,d,p,g){Iv(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&Nw(i,l,!1),ai(s,i,g);d=i.stateNode,MS.current=i;var A=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=nl(i,s.child,null,g),i.child=nl(i,null,A,g)):$n(s,i,A,g),i.memoizedState=d.state,p&&Nw(i,l,!0),i.child}function kv(s){var i=s.stateNode;i.pendingContext?Pw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Pw(s,i.context,!1),vp(s,i.containerInfo)}function Rv(s,i,l,d,p){return tl(),hp(p),i.flags|=256,$n(s,i,l,d),i.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function jp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Pv(s,i,l){var d=i.pendingProps,p=Nt.current,g=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=s!==null&&s.memoizedState===null?!1:(p&2)!==0),A?(g=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),gt(Nt,p&1),s===null)return dp(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,g?(d=i.mode,g=i.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=kd(E,d,0,null),s=Jo(s,d,l,null),g.return=i,s.return=i,g.sibling=s,i.child=g,i.child.memoizedState=jp(l),i.memoizedState=Vp,s):Fp(i,E));if(p=s.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return VS(s,i,E,d,A,p,l);if(g){g=d.fallback,E=i.mode,p=s.child,A=p.sibling;var M={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=M,i.deletions=null):(d=Qi(p,M),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?g=Qi(A,g):(g=Jo(g,E,l,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,E=s.child.memoizedState,E=E===null?jp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=s.childLanes&~l,i.memoizedState=Vp,d}return g=s.child,s=g.sibling,d=Qi(g,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function Fp(s,i){return i=kd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function md(s,i,l,d){return d!==null&&hp(d),nl(i,s.child,null,l),s=Fp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function VS(s,i,l,d,p,g,E){if(l)return i.flags&256?(i.flags&=-257,d=Dp(Error(n(422))),md(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(g=d.fallback,p=i.mode,d=kd({mode:"visible",children:d.children},p,0,null),g=Jo(g,p,E,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,(i.mode&1)!==0&&nl(i,s.child,null,E),i.child.memoizedState=jp(E),i.memoizedState=Vp,g);if((i.mode&1)===0)return md(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,g=Error(n(419)),d=Dp(g,d,void 0),md(s,i,E,d)}if(A=(E&s.childLanes)!==0,Zn||A){if(d=fn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,ii(s,p),Xr(d,s,p,-1))}return tm(),d=Dp(Error(n(421))),md(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=JS.bind(null,s),p._reactRetry=i,null):(s=g.treeContext,pr=ji(p.nextSibling),fr=i,xt=!0,Kr=null,s!==null&&(Rr[Pr++]=ri,Rr[Pr++]=si,Rr[Pr++]=Uo,ri=s.id,si=s.overflow,Uo=i),i=Fp(i,d.children),i.flags|=4096,i)}function Av(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),gp(s.return,i,l)}function $p(s,i,l,d,p){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=p)}function Nv(s,i,l){var d=i.pendingProps,p=d.revealOrder,g=d.tail;if($n(s,i,d.children,l),d=Nt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Av(s,l,i);else if(s.tag===19)Av(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(gt(Nt,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&ld(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),$p(i,!1,p,l,g);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&ld(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}$p(i,!0,l,null,g);break;case"together":$p(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function gd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ai(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Wo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Qi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Qi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function jS(s,i,l){switch(i.tag){case 3:kv(i),tl();break;case 5:Ww(i);break;case 1:Xn(i.type)&&Xu(i);break;case 4:vp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;gt(sd,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(gt(Nt,Nt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Pv(s,i,l):(gt(Nt,Nt.current&1),s=ai(s,i,l),s!==null?s.sibling:null);gt(Nt,Nt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return Nv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(Nt,Nt.current),d)break;return null;case 22:case 23:return i.lanes=0,Sv(s,i,l)}return ai(s,i,l)}var Dv,Up,Ov,Lv;Dv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Up=function(){},Ov=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Ho(bs.current);var g=null;switch(l){case"input":p=Re(s,p),d=Re(s,d),g=[];break;case"select":p=Y({},p,{value:void 0}),d=Y({},d,{value:void 0}),g=[];break;case"textarea":p=qn(s,p),d=qn(s,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Qu)}xo(l,d);var E;l=null;for(Q in p)if(!d.hasOwnProperty(Q)&&p.hasOwnProperty(Q)&&p[Q]!=null)if(Q==="style"){var A=p[Q];for(E in A)A.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?g||(g=[]):(g=g||[]).push(Q,null));for(Q in d){var M=d[Q];if(A=p?.[Q],d.hasOwnProperty(Q)&&M!==A&&(M!=null||A!=null))if(Q==="style")if(A){for(E in A)!A.hasOwnProperty(E)||M&&M.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in M)M.hasOwnProperty(E)&&A[E]!==M[E]&&(l||(l={}),l[E]=M[E])}else l||(g||(g=[]),g.push(Q,l)),l=M;else Q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(g=g||[]).push(Q,M)):Q==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(Q,""+M):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(M!=null&&Q==="onScroll"&&_t("scroll",s),g||A===M||(g=[])):(g=g||[]).push(Q,M))}l&&(g=g||[]).push("style",l);var Q=g;(i.updateQueue=Q)&&(i.flags|=4)}},Lv=function(s,i,l,d){l!==d&&(i.flags|=4)};function xc(s,i){if(!xt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Rn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function FS(s,i,l){var d=i.pendingProps;switch(cp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(i),null;case 1:return Xn(i.type)&&Yu(),Rn(i),null;case 3:return d=i.stateNode,il(),Et(Yn),Et(xn),bp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(nd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kr!==null&&(Xp(Kr),Kr=null))),Up(s,i),Rn(i),null;case 5:_p(i);var p=Ho(bc.current);if(l=i.type,s!==null&&i.stateNode!=null)Ov(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Rn(i),null}if(s=Ho(bs.current),nd(i)){d=i.stateNode,l=i.type;var g=i.memoizedProps;switch(d[Es]=i,d[yc]=g,s=(i.mode&1)!==0,l){case"dialog":_t("cancel",d),_t("close",d);break;case"iframe":case"object":case"embed":_t("load",d);break;case"video":case"audio":for(p=0;p<pc.length;p++)_t(pc[p],d);break;case"source":_t("error",d);break;case"img":case"image":case"link":_t("error",d),_t("load",d);break;case"details":_t("toggle",d);break;case"input":je(d,g),_t("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},_t("invalid",d);break;case"textarea":Bs(d,g),_t("invalid",d)}xo(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?d.textContent!==A&&(g.suppressHydrationWarning!==!0&&Ku(d.textContent,A,s),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Ku(d.textContent,A,s),p=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&_t("scroll",d)}switch(l){case"input":mt(d),Me(d,g,!0);break;case"textarea":mt(d),Co(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Qu)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$t(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[Es]=i,s[yc]=d,Dv(s,i,!1,!1),i.stateNode=s;e:{switch(E=ko(l,d),l){case"dialog":_t("cancel",s),_t("close",s),p=d;break;case"iframe":case"object":case"embed":_t("load",s),p=d;break;case"video":case"audio":for(p=0;p<pc.length;p++)_t(pc[p],s);p=d;break;case"source":_t("error",s),p=d;break;case"img":case"image":case"link":_t("error",s),_t("load",s),p=d;break;case"details":_t("toggle",s),p=d;break;case"input":je(s,d),p=Re(s,d),_t("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=Y({},d,{value:void 0}),_t("invalid",s);break;case"textarea":Bs(s,d),p=qn(s,d),_t("invalid",s);break;default:p=d}xo(l,p),A=p;for(g in A)if(A.hasOwnProperty(g)){var M=A[g];g==="style"?Io(s,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&To(s,M)):g==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&us(s,M):typeof M=="number"&&us(s,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&_t("scroll",s):M!=null&&J(s,g,M,E))}switch(l){case"input":mt(s),Me(s,d,!1);break;case"textarea":mt(s),Co(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Be(d.value));break;case"select":s.multiple=!!d.multiple,g=d.value,g!=null?st(s,!!d.multiple,g,!1):d.defaultValue!=null&&st(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Qu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Rn(i),null;case 6:if(s&&i.stateNode!=null)Lv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Ho(bc.current),Ho(bs.current),nd(i)){if(d=i.stateNode,l=i.memoizedProps,d[Es]=i,(g=d.nodeValue!==l)&&(s=fr,s!==null))switch(s.tag){case 3:Ku(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ku(d.nodeValue,l,(s.mode&1)!==0)}g&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Es]=i,i.stateNode=d}return Rn(i),null;case 13:if(Et(Nt),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(xt&&pr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)jw(),tl(),i.flags|=98560,g=!1;else if(g=nd(i),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(n(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Es]=i}else tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rn(i),g=!1}else Kr!==null&&(Xp(Kr),Kr=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Nt.current&1)!==0?an===0&&(an=3):tm())),i.updateQueue!==null&&(i.flags|=4),Rn(i),null);case 4:return il(),Up(s,i),s===null&&mc(i.stateNode.containerInfo),Rn(i),null;case 10:return mp(i.type._context),Rn(i),null;case 17:return Xn(i.type)&&Yu(),Rn(i),null;case 19:if(Et(Nt),g=i.memoizedState,g===null)return Rn(i),null;if(d=(i.flags&128)!==0,E=g.rendering,E===null)if(d)xc(g,!1);else{if(an!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=ld(s),E!==null){for(i.flags|=128,xc(g,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)g=l,s=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=s,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,s=E.dependencies,g.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return gt(Nt,Nt.current&1|2),i.child}s=s.sibling}g.tail!==null&&ft()>cl&&(i.flags|=128,d=!0,xc(g,!1),i.lanes=4194304)}else{if(!d)if(s=ld(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),xc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!xt)return Rn(i),null}else 2*ft()-g.renderingStartTime>cl&&l!==1073741824&&(i.flags|=128,d=!0,xc(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(l=g.last,l!==null?l.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=ft(),i.sibling=null,l=Nt.current,gt(Nt,d?l&1|2:l&1),i):(Rn(i),null);case 22:case 23:return em(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(mr&1073741824)!==0&&(Rn(i),i.subtreeFlags&6&&(i.flags|=8192)):Rn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function $S(s,i){switch(cp(i),i.tag){case 1:return Xn(i.type)&&Yu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return il(),Et(Yn),Et(xn),bp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return _p(i),null;case 13:if(Et(Nt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));tl()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Et(Nt),null;case 4:return il(),null;case 10:return mp(i.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var yd=!1,Pn=!1,US=typeof WeakSet=="function"?WeakSet:Set,ye=null;function al(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){jt(s,i,d)}else l.current=null}function Bp(s,i,l){try{l()}catch(d){jt(s,i,d)}}var Mv=!1;function BS(s,i){if(ep=Li,s=pw(),Wf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,A=-1,M=-1,Q=0,oe=0,le=s,ie=null;t:for(;;){for(var me;le!==l||p!==0&&le.nodeType!==3||(A=E+p),le!==g||d!==0&&le.nodeType!==3||(M=E+d),le.nodeType===3&&(E+=le.nodeValue.length),(me=le.firstChild)!==null;)ie=le,le=me;for(;;){if(le===s)break t;if(ie===l&&++Q===p&&(A=E),ie===g&&++oe===d&&(M=E),(me=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=me}l=A===-1||M===-1?null:{start:A,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(tp={focusedElem:s,selectionRange:l},Li=!1,ye=i;ye!==null;)if(i=ye,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ye=s;else for(;ye!==null;){i=ye;try{var we=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var ve=we.memoizedProps,Bt=we.memoizedState,q=i.stateNode,$=q.getSnapshotBeforeUpdate(i.elementType===i.type?ve:Qr(i.type,ve),Bt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var G=i.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){jt(i,i.return,ue)}if(s=i.sibling,s!==null){s.return=i.return,ye=s;break}ye=i.return}return we=Mv,Mv=!1,we}function kc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var g=p.destroy;p.destroy=void 0,g!==void 0&&Bp(i,l,g)}p=p.next}while(p!==d)}}function wd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function zp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Vv(s){var i=s.alternate;i!==null&&(s.alternate=null,Vv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Es],delete i[yc],delete i[ip],delete i[TS],delete i[SS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function jv(s){return s.tag===5||s.tag===3||s.tag===4}function Fv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||jv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Qu));else if(d!==4&&(s=s.child,s!==null))for(Hp(s,i,l),s=s.sibling;s!==null;)Hp(s,i,l),s=s.sibling}function qp(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(qp(s,i,l),s=s.sibling;s!==null;)qp(s,i,l),s=s.sibling}var En=null,Jr=!1;function Hi(s,i,l){for(l=l.child;l!==null;)$v(s,i,l),l=l.sibling}function $v(s,i,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Js,l)}catch{}switch(l.tag){case 5:Pn||al(l,i);case 6:var d=En,p=Jr;En=null,Hi(s,i,l),En=d,Jr=p,En!==null&&(Jr?(s=En,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):En.removeChild(l.stateNode));break;case 18:En!==null&&(Jr?(s=En,l=l.stateNode,s.nodeType===8?sp(s.parentNode,l):s.nodeType===1&&sp(s,l),qr(s)):sp(En,l.stateNode));break;case 4:d=En,p=Jr,En=l.stateNode.containerInfo,Jr=!0,Hi(s,i,l),En=d,Jr=p;break;case 0:case 11:case 14:case 15:if(!Pn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Bp(l,i,E),p=p.next}while(p!==d)}Hi(s,i,l);break;case 1:if(!Pn&&(al(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){jt(l,i,A)}Hi(s,i,l);break;case 21:Hi(s,i,l);break;case 22:l.mode&1?(Pn=(d=Pn)||l.memoizedState!==null,Hi(s,i,l),Pn=d):Hi(s,i,l);break;default:Hi(s,i,l)}}function Uv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new US),i.forEach(function(d){var p=YS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Yr(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var g=s,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:En=A.stateNode,Jr=!1;break e;case 3:En=A.stateNode.containerInfo,Jr=!0;break e;case 4:En=A.stateNode.containerInfo,Jr=!0;break e}A=A.return}if(En===null)throw Error(n(160));$v(g,E,p),En=null,Jr=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(Q){jt(p,i,Q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Bv(i,s),i=i.sibling}function Bv(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yr(i,s),Ts(s),d&4){try{kc(3,s,s.return),wd(3,s)}catch(ve){jt(s,s.return,ve)}try{kc(5,s,s.return)}catch(ve){jt(s,s.return,ve)}}break;case 1:Yr(i,s),Ts(s),d&512&&l!==null&&al(l,l.return);break;case 5:if(Yr(i,s),Ts(s),d&512&&l!==null&&al(l,l.return),s.flags&32){var p=s.stateNode;try{us(p,"")}catch(ve){jt(s,s.return,ve)}}if(d&4&&(p=s.stateNode,p!=null)){var g=s.memoizedProps,E=l!==null?l.memoizedProps:g,A=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Fe(p,g),ko(A,E);var Q=ko(A,g);for(E=0;E<M.length;E+=2){var oe=M[E],le=M[E+1];oe==="style"?Io(p,le):oe==="dangerouslySetInnerHTML"?To(p,le):oe==="children"?us(p,le):J(p,oe,le,Q)}switch(A){case"input":rt(p,g);break;case"textarea":zs(p,g);break;case"select":var ie=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?st(p,!!g.multiple,me,!1):ie!==!!g.multiple&&(g.defaultValue!=null?st(p,!!g.multiple,g.defaultValue,!0):st(p,!!g.multiple,g.multiple?[]:"",!1))}p[yc]=g}catch(ve){jt(s,s.return,ve)}}break;case 6:if(Yr(i,s),Ts(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,g=s.memoizedProps;try{p.nodeValue=g}catch(ve){jt(s,s.return,ve)}}break;case 3:if(Yr(i,s),Ts(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{qr(i.containerInfo)}catch(ve){jt(s,s.return,ve)}break;case 4:Yr(i,s),Ts(s);break;case 13:Yr(i,s),Ts(s),p=s.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Kp=ft())),d&4&&Uv(s);break;case 22:if(oe=l!==null&&l.memoizedState!==null,s.mode&1?(Pn=(Q=Pn)||oe,Yr(i,s),Pn=Q):Yr(i,s),Ts(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!oe&&(s.mode&1)!==0)for(ye=s,oe=s.child;oe!==null;){for(le=ye=oe;ye!==null;){switch(ie=ye,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:kc(4,ie,ie.return);break;case 1:al(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){d=ie,l=ie.return;try{i=d,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(ve){jt(d,l,ve)}}break;case 5:al(ie,ie.return);break;case 22:if(ie.memoizedState!==null){qv(le);continue}}me!==null?(me.return=ie,ye=me):qv(le)}oe=oe.sibling}e:for(oe=null,le=s;;){if(le.tag===5){if(oe===null){oe=le;try{p=le.stateNode,Q?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=le.stateNode,M=le.memoizedProps.style,E=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=So("display",E))}catch(ve){jt(s,s.return,ve)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Q?"":le.memoizedProps}catch(ve){jt(s,s.return,ve)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Yr(i,s),Ts(s),d&4&&Uv(s);break;case 21:break;default:Yr(i,s),Ts(s)}}function Ts(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(jv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(us(p,""),d.flags&=-33);var g=Fv(s);qp(s,g,p);break;case 3:case 4:var E=d.stateNode.containerInfo,A=Fv(s);Hp(s,A,E);break;default:throw Error(n(161))}}catch(M){jt(s,s.return,M)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function zS(s,i,l){ye=s,zv(s)}function zv(s,i,l){for(var d=(s.mode&1)!==0;ye!==null;){var p=ye,g=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||yd;if(!E){var A=p.alternate,M=A!==null&&A.memoizedState!==null||Pn;A=yd;var Q=Pn;if(yd=E,(Pn=M)&&!Q)for(ye=p;ye!==null;)E=ye,M=E.child,E.tag===22&&E.memoizedState!==null?Wv(p):M!==null?(M.return=E,ye=M):Wv(p);for(;g!==null;)ye=g,zv(g),g=g.sibling;ye=p,yd=A,Pn=Q}Hv(s)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,ye=g):Hv(s)}}function Hv(s){for(;ye!==null;){var i=ye;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Pn||wd(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Pn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Qr(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&qw(i,g,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}qw(i,E,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Q=i.alternate;if(Q!==null){var oe=Q.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&qr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pn||i.flags&512&&zp(i)}catch(ie){jt(i,i.return,ie)}}if(i===s){ye=null;break}if(l=i.sibling,l!==null){l.return=i.return,ye=l;break}ye=i.return}}function qv(s){for(;ye!==null;){var i=ye;if(i===s){ye=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ye=l;break}ye=i.return}}function Wv(s){for(;ye!==null;){var i=ye;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{wd(4,i)}catch(M){jt(i,l,M)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(M){jt(i,p,M)}}var g=i.return;try{zp(i)}catch(M){jt(i,g,M)}break;case 5:var E=i.return;try{zp(i)}catch(M){jt(i,E,M)}}}catch(M){jt(i,i.return,M)}if(i===s){ye=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ye=A;break}ye=i.return}}var HS=Math.ceil,vd=ee.ReactCurrentDispatcher,Wp=ee.ReactCurrentOwner,Dr=ee.ReactCurrentBatchConfig,it=0,fn=null,Jt=null,bn=0,mr=0,ll=Fi(0),an=0,Rc=null,Wo=0,_d=0,Gp=0,Pc=null,er=null,Kp=0,cl=1/0,li=null,Ed=!1,Qp=null,qi=null,bd=!1,Wi=null,Cd=0,Ac=0,Jp=null,Td=-1,Sd=0;function Un(){return(it&6)!==0?ft():Td!==-1?Td:Td=ft()}function Gi(s){return(s.mode&1)===0?1:(it&2)!==0&&bn!==0?bn&-bn:xS.transition!==null?(Sd===0&&(Sd=In()),Sd):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:ic(s.type)),s)}function Xr(s,i,l,d){if(50<Ac)throw Ac=0,Jp=null,Error(n(185));Ai(s,l,d),((it&2)===0||s!==fn)&&(s===fn&&((it&2)===0&&(_d|=l),an===4&&Ki(s,bn)),tr(s,d),l===1&&it===0&&(i.mode&1)===0&&(cl=ft()+500,Zu&&Ui()))}function tr(s,i){var l=s.callbackNode;ur(s,i);var d=rn(s,s===fn?bn:0);if(d===0)l!==null&&No(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&No(l),i===1)s.tag===0?IS(Kv.bind(null,s)):Dw(Kv.bind(null,s)),bS(function(){(it&6)===0&&Ui()}),l=null;else{switch(Di(d)){case 1:l=cr;break;case 4:l=ms;break;case 16:l=Kn;break;case 536870912:l=Pa;break;default:l=Kn}l=n_(l,Gv.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Gv(s,i){if(Td=-1,Sd=0,(it&6)!==0)throw Error(n(327));var l=s.callbackNode;if(ul()&&s.callbackNode!==l)return null;var d=rn(s,s===fn?bn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Id(s,d);else{i=d;var p=it;it|=2;var g=Jv();(fn!==s||bn!==i)&&(li=null,cl=ft()+500,Ko(s,i));do try{GS();break}catch(A){Qv(s,A)}while(!0);pp(),vd.current=g,it=p,Jt!==null?i=0:(fn=null,bn=0,i=an)}if(i!==0){if(i===2&&(p=Kt(s),p!==0&&(d=p,i=Yp(s,p))),i===1)throw l=Rc,Ko(s,0),Ki(s,d),tr(s,ft()),l;if(i===6)Ki(s,d);else{if(p=s.current.alternate,(d&30)===0&&!qS(p)&&(i=Id(s,d),i===2&&(g=Kt(s),g!==0&&(d=g,i=Yp(s,g))),i===1))throw l=Rc,Ko(s,0),Ki(s,d),tr(s,ft()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Qo(s,er,li);break;case 3:if(Ki(s,d),(d&130023424)===d&&(i=Kp+500-ft(),10<i)){if(rn(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Un(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=rp(Qo.bind(null,s,er,li),i);break}Qo(s,er,li);break;case 4:if(Ki(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-Vt(d);g=1<<E,E=i[E],E>p&&(p=E),d&=~g}if(d=p,d=ft()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*HS(d/1960))-d,10<d){s.timeoutHandle=rp(Qo.bind(null,s,er,li),d);break}Qo(s,er,li);break;case 5:Qo(s,er,li);break;default:throw Error(n(329))}}}return tr(s,ft()),s.callbackNode===l?Gv.bind(null,s):null}function Yp(s,i){var l=Pc;return s.current.memoizedState.isDehydrated&&(Ko(s,i).flags|=256),s=Id(s,i),s!==2&&(i=er,er=l,i!==null&&Xp(i)),s}function Xp(s){er===null?er=s:er.push.apply(er,s)}function qS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],g=p.getSnapshot;p=p.value;try{if(!Gr(g(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(s,i){for(i&=~Gp,i&=~_d,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Vt(i),d=1<<l;s[l]=-1,i&=~d}}function Kv(s){if((it&6)!==0)throw Error(n(327));ul();var i=rn(s,0);if((i&1)===0)return tr(s,ft()),null;var l=Id(s,i);if(s.tag!==0&&l===2){var d=Kt(s);d!==0&&(i=d,l=Yp(s,d))}if(l===1)throw l=Rc,Ko(s,0),Ki(s,i),tr(s,ft()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Qo(s,er,li),tr(s,ft()),null}function Zp(s,i){var l=it;it|=1;try{return s(i)}finally{it=l,it===0&&(cl=ft()+500,Zu&&Ui())}}function Go(s){Wi!==null&&Wi.tag===0&&(it&6)===0&&ul();var i=it;it|=1;var l=Dr.transition,d=Ze;try{if(Dr.transition=null,Ze=1,s)return s()}finally{Ze=d,Dr.transition=l,it=i,(it&6)===0&&Ui()}}function em(){mr=ll.current,Et(ll)}function Ko(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,ES(l)),Jt!==null)for(l=Jt.return;l!==null;){var d=l;switch(cp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Yu();break;case 3:il(),Et(Yn),Et(xn),bp();break;case 5:_p(d);break;case 4:il();break;case 13:Et(Nt);break;case 19:Et(Nt);break;case 10:mp(d.type._context);break;case 22:case 23:em()}l=l.return}if(fn=s,Jt=s=Qi(s.current,null),bn=mr=i,an=0,Rc=null,Gp=_d=Wo=0,er=Pc=null,zo!==null){for(i=0;i<zo.length;i++)if(l=zo[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,d.next=E}l.pending=d}zo=null}return s}function Qv(s,i){do{var l=Jt;try{if(pp(),cd.current=fd,ud){for(var d=Dt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}ud=!1}if(qo=0,hn=on=Dt=null,Cc=!1,Tc=0,Wp.current=null,l===null||l.return===null){an=1,Rc=i,Jt=null;break}e:{var g=s,E=l.return,A=l,M=i;if(i=bn,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=M,oe=A,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=_v(E);if(me!==null){me.flags&=-257,Ev(me,E,A,g,i),me.mode&1&&vv(g,Q,i),i=me,M=Q;var we=i.updateQueue;if(we===null){var ve=new Set;ve.add(M),i.updateQueue=ve}else we.add(M);break e}else{if((i&1)===0){vv(g,Q,i),tm();break e}M=Error(n(426))}}else if(xt&&A.mode&1){var Bt=_v(E);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),Ev(Bt,E,A,g,i),hp(ol(M,A));break e}}g=M=ol(M,A),an!==4&&(an=2),Pc===null?Pc=[g]:Pc.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var q=yv(g,M,i);Hw(g,q);break e;case 1:A=M;var $=g.type,G=g.stateNode;if((g.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(qi===null||!qi.has(G)))){g.flags|=65536,i&=-i,g.lanes|=i;var ue=wv(g,A,i);Hw(g,ue);break e}}g=g.return}while(g!==null)}Xv(l)}catch(Ee){i=Ee,Jt===l&&l!==null&&(Jt=l=l.return);continue}break}while(!0)}function Jv(){var s=vd.current;return vd.current=fd,s===null?fd:s}function tm(){(an===0||an===3||an===2)&&(an=4),fn===null||(Wo&268435455)===0&&(_d&268435455)===0||Ki(fn,bn)}function Id(s,i){var l=it;it|=2;var d=Jv();(fn!==s||bn!==i)&&(li=null,Ko(s,i));do try{WS();break}catch(p){Qv(s,p)}while(!0);if(pp(),it=l,vd.current=d,Jt!==null)throw Error(n(261));return fn=null,bn=0,an}function WS(){for(;Jt!==null;)Yv(Jt)}function GS(){for(;Jt!==null&&!Ra();)Yv(Jt)}function Yv(s){var i=t_(s.alternate,s,mr);s.memoizedProps=s.pendingProps,i===null?Xv(s):Jt=i,Wp.current=null}function Xv(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=FS(l,i,mr),l!==null){Jt=l;return}}else{if(l=$S(l,i),l!==null){l.flags&=32767,Jt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{an=6,Jt=null;return}}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=s}while(i!==null);an===0&&(an=5)}function Qo(s,i,l){var d=Ze,p=Dr.transition;try{Dr.transition=null,Ze=1,KS(s,i,l,d)}finally{Dr.transition=p,Ze=d}return null}function KS(s,i,l,d){do ul();while(Wi!==null);if((it&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var g=l.lanes|l.childLanes;if(pt(s,g),s===fn&&(Jt=fn=null,bn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||bd||(bd=!0,n_(Kn,function(){return ul(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Dr.transition,Dr.transition=null;var E=Ze;Ze=1;var A=it;it|=4,Wp.current=null,BS(s,l),Bv(l,s),pS(tp),Li=!!ep,tp=ep=null,s.current=l,zS(l),nc(),it=A,Ze=E,Dr.transition=g}else s.current=l;if(bd&&(bd=!1,Wi=s,Cd=p),g=s.pendingLanes,g===0&&(qi=null),Aa(l.stateNode),tr(s,ft()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ed)throw Ed=!1,s=Qp,Qp=null,s;return(Cd&1)!==0&&s.tag!==0&&ul(),g=s.pendingLanes,(g&1)!==0?s===Jp?Ac++:(Ac=0,Jp=s):Ac=0,Ui(),null}function ul(){if(Wi!==null){var s=Di(Cd),i=Dr.transition,l=Ze;try{if(Dr.transition=null,Ze=16>s?16:s,Wi===null)var d=!1;else{if(s=Wi,Wi=null,Cd=0,(it&6)!==0)throw Error(n(331));var p=it;for(it|=4,ye=s.current;ye!==null;){var g=ye,E=g.child;if((ye.flags&16)!==0){var A=g.deletions;if(A!==null){for(var M=0;M<A.length;M++){var Q=A[M];for(ye=Q;ye!==null;){var oe=ye;switch(oe.tag){case 0:case 11:case 15:kc(8,oe,g)}var le=oe.child;if(le!==null)le.return=oe,ye=le;else for(;ye!==null;){oe=ye;var ie=oe.sibling,me=oe.return;if(Vv(oe),oe===Q){ye=null;break}if(ie!==null){ie.return=me,ye=ie;break}ye=me}}}var we=g.alternate;if(we!==null){var ve=we.child;if(ve!==null){we.child=null;do{var Bt=ve.sibling;ve.sibling=null,ve=Bt}while(ve!==null)}}ye=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,ye=E;else e:for(;ye!==null;){if(g=ye,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:kc(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,ye=q;break e}ye=g.return}}var $=s.current;for(ye=$;ye!==null;){E=ye;var G=E.child;if((E.subtreeFlags&2064)!==0&&G!==null)G.return=E,ye=G;else e:for(E=$;ye!==null;){if(A=ye,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:wd(9,A)}}catch(Ee){jt(A,A.return,Ee)}if(A===E){ye=null;break e}var ue=A.sibling;if(ue!==null){ue.return=A.return,ye=ue;break e}ye=A.return}}if(it=p,Ui(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Js,s)}catch{}d=!0}return d}finally{Ze=l,Dr.transition=i}}return!1}function Zv(s,i,l){i=ol(l,i),i=yv(s,i,1),s=zi(s,i,1),i=Un(),s!==null&&(Ai(s,1,i),tr(s,i))}function jt(s,i,l){if(s.tag===3)Zv(s,s,l);else for(;i!==null;){if(i.tag===3){Zv(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(qi===null||!qi.has(d))){s=ol(l,s),s=wv(i,s,1),i=zi(i,s,1),s=Un(),i!==null&&(Ai(i,1,s),tr(i,s));break}}i=i.return}}function QS(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Un(),s.pingedLanes|=s.suspendedLanes&l,fn===s&&(bn&l)===l&&(an===4||an===3&&(bn&130023424)===bn&&500>ft()-Kp?Ko(s,0):Gp|=l),tr(s,i)}function e_(s,i){i===0&&((s.mode&1)===0?i=1:(i=We,We<<=1,(We&130023424)===0&&(We=4194304)));var l=Un();s=ii(s,i),s!==null&&(Ai(s,i,l),tr(s,l))}function JS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),e_(s,l)}function YS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),e_(s,l)}var t_;t_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||Yn.current)Zn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return Zn=!1,jS(s,i,l);Zn=(s.flags&131072)!==0}else Zn=!1,xt&&(i.flags&1048576)!==0&&Ow(i,td,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;gd(s,i),s=i.pendingProps;var p=Xa(i,xn.current);sl(i,l),p=Sp(null,i,d,s,p,l);var g=Ip();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Xn(d)?(g=!0,Xu(i)):g=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,wp(i),p.updater=pd,i.stateNode=p,p._reactInternals=i,Np(i,d,s,l),i=Mp(null,i,d,!0,g,l)):(i.tag=0,xt&&g&&lp(i),$n(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(gd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=ZS(d),s=Qr(d,s),p){case 0:i=Lp(null,i,d,s,l);break e;case 1:i=xv(null,i,d,s,l);break e;case 11:i=bv(null,i,d,s,l);break e;case 14:i=Cv(null,i,d,Qr(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Qr(d,p),Lp(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Qr(d,p),xv(s,i,d,p,l);case 3:e:{if(kv(i),s===null)throw Error(n(387));d=i.pendingProps,g=i.memoizedState,p=g.element,zw(s,i),ad(i,d,null,l);var E=i.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){p=ol(Error(n(423)),i),i=Rv(s,i,d,l,p);break e}else if(d!==p){p=ol(Error(n(424)),i),i=Rv(s,i,d,l,p);break e}else for(pr=ji(i.stateNode.containerInfo.firstChild),fr=i,xt=!0,Kr=null,l=Uw(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(tl(),d===p){i=ai(s,i,l);break e}$n(s,i,d,l)}i=i.child}return i;case 5:return Ww(i),s===null&&dp(i),d=i.type,p=i.pendingProps,g=s!==null?s.memoizedProps:null,E=p.children,np(d,p)?E=null:g!==null&&np(d,g)&&(i.flags|=32),Iv(s,i),$n(s,i,E,l),i.child;case 6:return s===null&&dp(i),null;case 13:return Pv(s,i,l);case 4:return vp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=nl(i,null,d,l):$n(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Qr(d,p),bv(s,i,d,p,l);case 7:return $n(s,i,i.pendingProps,l),i.child;case 8:return $n(s,i,i.pendingProps.children,l),i.child;case 12:return $n(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,g=i.memoizedProps,E=p.value,gt(sd,d._currentValue),d._currentValue=E,g!==null)if(Gr(g.value,E)){if(g.children===p.children&&!Yn.current){i=ai(s,i,l);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var M=A.firstContext;M!==null;){if(M.context===d){if(g.tag===1){M=oi(-1,l&-l),M.tag=2;var Q=g.updateQueue;if(Q!==null){Q=Q.shared;var oe=Q.pending;oe===null?M.next=M:(M.next=oe.next,oe.next=M),Q.pending=M}}g.lanes|=l,M=g.alternate,M!==null&&(M.lanes|=l),gp(g.return,l,i),A.lanes|=l;break}M=M.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(n(341));E.lanes|=l,A=E.alternate,A!==null&&(A.lanes|=l),gp(E,l,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}$n(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,sl(i,l),p=Ar(p),d=d(p),i.flags|=1,$n(s,i,d,l),i.child;case 14:return d=i.type,p=Qr(d,i.pendingProps),p=Qr(d.type,p),Cv(s,i,d,p,l);case 15:return Tv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Qr(d,p),gd(s,i),i.tag=1,Xn(d)?(s=!0,Xu(i)):s=!1,sl(i,l),mv(i,d,p),Np(i,d,p,l),Mp(null,i,d,!0,s,l);case 19:return Nv(s,i,l);case 22:return Sv(s,i,l)}throw Error(n(156,i.tag))};function n_(s,i){return Qs(s,i)}function XS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(s,i,l,d){return new XS(s,i,l,d)}function nm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ZS(s){if(typeof s=="function")return nm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===et)return 14}return 2}function Qi(s,i){var l=s.alternate;return l===null?(l=Or(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function xd(s,i,l,d,p,g){var E=2;if(d=s,typeof s=="function")nm(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case P:return Jo(l.children,p,g,i);case T:E=8,p|=8;break;case R:return s=Or(12,l,i,p|2),s.elementType=R,s.lanes=g,s;case x:return s=Or(13,l,i,p),s.elementType=x,s.lanes=g,s;case Le:return s=Or(19,l,i,p),s.elementType=Le,s.lanes=g,s;case re:return kd(l,p,g,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:E=10;break e;case V:E=9;break e;case U:E=11;break e;case et:E=14;break e;case Qe:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Or(E,l,i,p),i.elementType=s,i.type=d,i.lanes=g,i}function Jo(s,i,l,d){return s=Or(7,s,d,i),s.lanes=l,s}function kd(s,i,l,d){return s=Or(22,s,d,i),s.elementType=re,s.lanes=l,s.stateNode={isHidden:!1},s}function rm(s,i,l){return s=Or(6,s,null,i),s.lanes=l,s}function sm(s,i,l){return i=Or(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function eI(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function im(s,i,l,d,p,g,E,A,M){return s=new eI(s,i,l,A,M),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Or(3,null,null,i),s.current=g,g.stateNode=s,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(g),s}function tI(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function r_(s){if(!s)return $i;s=s._reactInternals;e:{if(Mt(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Xn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(Xn(l))return Aw(s,l,i)}return i}function s_(s,i,l,d,p,g,E,A,M){return s=im(l,d,!0,s,p,g,E,A,M),s.context=r_(null),l=s.current,d=Un(),p=Gi(l),g=oi(d,p),g.callback=i??null,zi(l,g,p),s.current.lanes=p,Ai(s,p,d),tr(s,d),s}function Rd(s,i,l,d){var p=i.current,g=Un(),E=Gi(p);return l=r_(l),i.context===null?i.context=l:i.pendingContext=l,i=oi(g,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=zi(p,i,E),s!==null&&(Xr(s,p,E,g),od(s,p,E)),E}function Pd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function i_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function om(s,i){i_(s,i),(s=s.alternate)&&i_(s,i)}function nI(){return null}var o_=typeof reportError=="function"?reportError:function(s){console.error(s)};function am(s){this._internalRoot=s}Ad.prototype.render=am.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Rd(s,i,null,null)},Ad.prototype.unmount=am.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Go(function(){Rd(null,s,null,null)}),i[ti]=null}};function Ad(s){this._internalRoot=s}Ad.prototype.unstable_scheduleHydration=function(s){if(s){var i=Au();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ys.length&&i!==0&&i<ys[l].priority;l++);ys.splice(l,0,s),l===0&&Ou(s)}};function lm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Nd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function a_(){}function rI(s,i,l,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var Q=Pd(E);g.call(Q)}}var E=s_(i,d,s,0,null,!1,!1,"",a_);return s._reactRootContainer=E,s[ti]=E.current,mc(s.nodeType===8?s.parentNode:s),Go(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var Q=Pd(M);A.call(Q)}}var M=im(s,0,!1,null,null,!1,!1,"",a_);return s._reactRootContainer=M,s[ti]=M.current,mc(s.nodeType===8?s.parentNode:s),Go(function(){Rd(i,M,l,d)}),M}function Dd(s,i,l,d,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var A=p;p=function(){var M=Pd(E);A.call(M)}}Rd(i,E,s,p)}else E=rI(l,i,s,p,d);return Pd(E)}Ru=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=St(i.pendingLanes);l!==0&&(Ni(i,l|1),tr(i,ft()),(it&6)===0&&(cl=ft()+500,Ui()))}break;case 13:Go(function(){var d=ii(s,1);if(d!==null){var p=Un();Xr(d,s,1,p)}}),om(s,1)}},Oa=function(s){if(s.tag===13){var i=ii(s,134217728);if(i!==null){var l=Un();Xr(i,s,134217728,l)}om(s,134217728)}},Pu=function(s){if(s.tag===13){var i=Gi(s),l=ii(s,i);if(l!==null){var d=Un();Xr(l,s,i,d)}om(s,i)}},Au=function(){return Ze},Nu=function(s,i){var l=Ze;try{return Ze=s,i()}finally{Ze=l}},Si=function(s,i,l){switch(i){case"input":if(rt(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=Ju(d);if(!p)throw Error(n(90));vt(d),rt(d,p)}}}break;case"textarea":zs(s,l);break;case"select":i=l.value,i!=null&&st(s,!!l.multiple,i,!1)}},fs=Zp,Ii=Go;var sI={usingClientEntryPoint:!1,Events:[wc,Ja,Ju,Tr,Ro,Zp]},Nc={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iI={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ri(s),s===null?null:s.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||nI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Js=Od.inject(iI),jn=Od}catch{}}return nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sI,nr.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lm(i))throw Error(n(200));return tI(s,i,null,l)},nr.createRoot=function(s,i){if(!lm(s))throw Error(n(299));var l=!1,d="",p=o_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=im(s,1,!1,null,null,l,!1,d,p),s[ti]=i.current,mc(s.nodeType===8?s.parentNode:s),new am(i)},nr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ri(i),s=s===null?null:s.stateNode,s},nr.flushSync=function(s){return Go(s)},nr.hydrate=function(s,i,l){if(!Nd(i))throw Error(n(200));return Dd(null,s,i,!0,l)},nr.hydrateRoot=function(s,i,l){if(!lm(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,g="",E=o_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=s_(i,null,s,1,l??null,p,!1,g,E),s[ti]=i.current,mc(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Ad(i)},nr.render=function(s,i,l){if(!Nd(i))throw Error(n(200));return Dd(null,s,i,!1,l)},nr.unmountComponentAtNode=function(s){if(!Nd(s))throw Error(n(40));return s._reactRootContainer?(Go(function(){Dd(null,null,s,!1,function(){s._reactRootContainer=null,s[ti]=null})}),!0):!1},nr.unstable_batchedUpdates=Zp,nr.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Nd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Dd(s,i,l,!1,d)},nr.version="18.3.1-next-f1338f8080-20240426",nr}var m_;function pI(){if(m_)return dm.exports;m_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dm.exports=fI(),dm.exports}var g_;function mI(){if(g_)return Ld;g_=1;var t=pI();return Ld.createRoot=t.createRoot,Ld.hydrateRoot=t.hydrateRoot,Ld}var gI=mI();const yI=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},wI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,y=f?t[o+2]:0,w=a>>2,b=(a&3)<<4|h>>4;let C=(h&15)<<2|y>>6,k=y&63;f||(k=64,u||(C=64)),r.push(n[w],n[b],n[C],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||b==null)throw new vI;const C=a<<2|h>>4;if(r.push(C),y!==64){const k=h<<4&240|y>>2;if(r.push(k),b!==64){const D=y<<6&192|b;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _I=function(t){const e=UE(t);return BE.encodeByteArray(e,!0)},ph=function(t){return _I(t).replace(/\./g,"")},zE=function(t){try{return BE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=()=>EI().__FIREBASE_DEFAULTS__,CI=()=>{if(typeof process>"u"||typeof y_>"u")return;const t=y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zE(t[1]);return e&&JSON.parse(e)},Yh=()=>{try{return yI()||bI()||CI()||TI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HE=t=>Yh()?.emulatorHosts?.[t],qE=t=>{const e=HE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WE=()=>Yh()?.config,GE=t=>Yh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ph(JSON.stringify(n)),ph(JSON.stringify(u)),""].join(".")}const zc={};function II(){const t={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?t.emulator.push(e):t.prod.push(e);return t}function xI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w_=!1;function Pg(t,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||zc[t]===e||zc[t]||w_)return;zc[t]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",a=II().prod.length>0;function u(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function f(C,k){C.setAttribute("width","24"),C.setAttribute("id",k),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{w_=!0,u()},C}function w(C,k){C.setAttribute("id",k),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=xI(r),k=n("text"),D=document.getElementById(k)||document.createElement("span"),j=n("learnmore"),O=document.getElementById(j)||document.createElement("a"),K=n("preprendIcon"),H=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const J=C.element;h(J),w(O,j);const ee=y();f(H,K),J.append(H,D,O,ee),document.body.appendChild(J)}a?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function RI(){const t=Yh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OI(){return!RI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LI(){try{return typeof indexedDB=="object"}catch{return!1}}function MI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="FirebaseError";class Fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VI,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?jI(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Fs(o,h,r)}}function jI(t,e){return t.replace(FI,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const FI=/\{\$([^}]+)}/g;function $I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(v_(a)&&v_(u)){if(!gi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UI(t,e){const n=new BI(t,e);return n.subscribe.bind(n)}class BI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WI(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qI(t){return t===Zo?void 0:t}function WI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const KI={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},QI=Je.INFO,JI={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},YI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=JI[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ag{constructor(e){this.name=e,this._logLevel=QI,this._logHandler=YI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const XI=(t,e)=>e.some(n=>t instanceof n);let __,E_;function ZI(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ex(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,$m=new WeakMap,JE=new WeakMap,mm=new WeakMap,Ng=new WeakMap;function tx(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ao(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function nx(t){if($m.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});$m.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rx(t){Um=t(Um)}function sx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gm(this),e,...n);return JE.set(r,e.sort?e.sort():[e]),ao(r)}:ex().includes(t)?function(...e){return t.apply(gm(this),e),ao(QE.get(this))}:function(...e){return ao(t.apply(gm(this),e))}}function ix(t){return typeof t=="function"?sx(t):(t instanceof IDBTransaction&&nx(t),XI(t,ZI())?new Proxy(t,Um):t)}function ao(t){if(t instanceof IDBRequest)return tx(t);if(mm.has(t))return mm.get(t);const e=ix(t);return e!==t&&(mm.set(t,e),Ng.set(e,t)),e}const gm=t=>Ng.get(t);function ox(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=ao(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ao(u.result),f.oldVersion,f.newVersion,ao(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const ax=["get","getKey","getAll","getAllKeys","count"],lx=["put","add","delete","clear"],ym=new Map;function b_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=lx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ax.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let y=f.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&f.done]))[0]};return ym.set(e,a),a}rx(t=>({...t,get:(e,n,r)=>b_(e,n)||t.get(e,n,r),has:(e,n)=>!!b_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ux(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ux(t){return t.getComponent()?.type==="VERSION"}const Bm="@firebase/app",C_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Ag("@firebase/app"),dx="@firebase/app-compat",hx="@firebase/analytics-compat",fx="@firebase/analytics",px="@firebase/app-check-compat",mx="@firebase/app-check",gx="@firebase/auth",yx="@firebase/auth-compat",wx="@firebase/database",vx="@firebase/data-connect",_x="@firebase/database-compat",Ex="@firebase/functions",bx="@firebase/functions-compat",Cx="@firebase/installations",Tx="@firebase/installations-compat",Sx="@firebase/messaging",Ix="@firebase/messaging-compat",xx="@firebase/performance",kx="@firebase/performance-compat",Rx="@firebase/remote-config",Px="@firebase/remote-config-compat",Ax="@firebase/storage",Nx="@firebase/storage-compat",Dx="@firebase/firestore",Ox="@firebase/ai",Lx="@firebase/firestore-compat",Mx="firebase",Vx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",jx={[Bm]:"fire-core",[dx]:"fire-core-compat",[fx]:"fire-analytics",[hx]:"fire-analytics-compat",[mx]:"fire-app-check",[px]:"fire-app-check-compat",[gx]:"fire-auth",[yx]:"fire-auth-compat",[wx]:"fire-rtdb",[vx]:"fire-data-connect",[_x]:"fire-rtdb-compat",[Ex]:"fire-fn",[bx]:"fire-fn-compat",[Cx]:"fire-iid",[Tx]:"fire-iid-compat",[Sx]:"fire-fcm",[Ix]:"fire-fcm-compat",[xx]:"fire-perf",[kx]:"fire-perf-compat",[Rx]:"fire-rc",[Px]:"fire-rc-compat",[Ax]:"fire-gcs",[Nx]:"fire-gcs-compat",[Dx]:"fire-fst",[Lx]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[Mx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,Fx=new Map,Hm=new Map;function T_(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(Hm.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(const n of mh.values())T_(n,t);for(const n of Fx.values())T_(n,t);return!0}function Xh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new cu("app","Firebase",$x);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=Vx;function YE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw lo.create("bad-app-name",{appName:String(o)});if(n||(n=WE()),!n)throw lo.create("no-options");const a=mh.get(o);if(a){if(gi(n,a.options)&&gi(r,a.config))return a;throw lo.create("duplicate-app",{appName:o})}const u=new GI(o);for(const f of Hm.values())u.addComponent(f);const h=new Ux(n,r,u);return mh.set(o,h),h}function Dg(t=zm){const e=mh.get(t);if(!e&&t===zm&&WE())return YE();if(!e)throw lo.create("no-app",{appName:t});return e}function Rs(t,e,n){let r=jx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(u.join(" "));return}la(new fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="firebase-heartbeat-database",zx=1,Xc="firebase-heartbeat-store";let wm=null;function XE(){return wm||(wm=ox(Bx,zx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),wm}async function Hx(t){try{const n=(await XE()).transaction(Xc),r=await n.objectStore(Xc).get(ZE(t));return await n.done,r}catch(e){if(e instanceof Fs)yi.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e?.message});yi.warn(n.message)}}}async function S_(t,e){try{const r=(await XE()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,ZE(t)),await r.done}catch(n){if(n instanceof Fs)yi.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n?.message});yi.warn(r.message)}}}function ZE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1024,Wx=30;class Gx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Wx){const o=Jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:n,unsentEntries:r}=Kx(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yi.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function Kx(t,e=qx){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),x_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LI()?MI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function x_(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}function Jx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){la(new fo("platform-logger",e=>new cx(e),"PRIVATE")),la(new fo("heartbeat",e=>new Gx(e),"PRIVATE")),Rs(Bm,C_,t),Rs(Bm,C_,"esm2020"),Rs("fire-js","")}Yx("");function eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xx=eb,tb=new cu("auth","Firebase",eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Ag("@firebase/auth");function Zx(t,...e){gh.logLevel<=Je.WARN&&gh.warn(`Auth (${_a}): ${t}`,...e)}function Qd(t,...e){gh.logLevel<=Je.ERROR&&gh.error(`Auth (${_a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw Lg(t,...e)}function Mr(t,...e){return Lg(t,...e)}function Og(t,e,n){const r={...Xx(),[e]:n};return new cu("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return Og(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vr(t,"argument-error"),Og(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tb.create(t,...e)}function Ae(t,e,...n){if(!t)throw Lg(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function wi(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){return typeof self<"u"&&self.location?.href||""}function ek(){return k_()==="http:"||k_()==="https:"}function k_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ek()||AI()||"connection"in navigator)?navigator.onLine:!0}function nk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=kI()||NI()}get(){return tk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ik=new du(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function os(t,e,n,r,o={}){return sb(t,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=uu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:f,...a};return PI()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&va(t.emulatorConfig.host)&&(y.credentials="include"),rb.fetch()(await ib(t,t.config.apiHost,n,h),y)})}async function sb(t,e,n){t._canInitEmulator=!1;const r={...rk,...e};try{const o=new ak(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Md(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Md(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Md(t,"user-disabled",u);const w=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Og(t,w,y);Vr(t,w)}}catch(o){if(o instanceof Fs)throw o;Vr(t,"network-request-failed",{message:String(o)})}}async function hu(t,e,n,r,o={}){const a=await os(t,e,n,r,o);return"mfaPendingCredential"in a&&Vr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function ib(t,e,n,r){const o=`${e}${n}?${r}`,a=t,u=a.config.emulator?Mg(t.config,o):`${t.config.apiScheme}://${o}`;return sk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function ok(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ak{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),ik.get())})}}function Md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Mr(t,e,r);return o.customData._tokenResponse=n,o}function R_(t){return t!==void 0&&t.enterprise!==void 0}class lk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ok(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ck(t,e){return os(t,"GET","/v2/recaptchaConfig",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function yh(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dk(t,e=!1){const n=At(t),r=await n.getIdToken(e),o=Vg(r);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Hc(vm(o.auth_time)),issuedAtTime:Hc(vm(o.iat)),expirationTime:Hc(vm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function vm(t){return Number(t)*1e3}function Vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(Qd("Failed to decode base64 JWT payload"),null)}catch(o){return Qd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function P_(t){const e=Vg(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fs&&hk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){const e=t.auth,n=await t.getIdToken(),r=await ca(t,yh(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?ob(o.providerUserInfo):[],u=mk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!u?.length,y=h?f:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function pk(t){const e=At(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ob(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e){const n=await sb(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await ib(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&va(t.emulatorConfig.host)&&(f.credentials="include"),rb.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yk(t,e){return os(t,"POST","/v2/accounts:revokeToken",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=P_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await gk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,u=new wl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ca(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dk(this,e)}reload(){return pk(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await ca(this,uk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:k,providerData:D,stsTokenManager:j}=n;Ae(b&&j,e,"internal-error");const O=wl.fromJSON(this.name,j);Ae(typeof b=="string",e,"internal-error"),Yi(r,e.name),Yi(o,e.name),Ae(typeof C=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),Yi(a,e.name),Yi(u,e.name),Yi(h,e.name),Yi(f,e.name),Yi(y,e.name),Yi(w,e.name);const K=new es({uid:b,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:k,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:O,createdAt:y,lastLoginAt:w});return D&&Array.isArray(D)&&(K.providerData=D.map(H=>({...H}))),f&&(K._redirectEventId=f),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new wl;o.updateFromServerResponse(n);const a=new es({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ob(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new wl;h.updateFromIdToken(r);const f=new es({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;function di(t){wi(t instanceof Function,"Expected a class definition");let e=A_.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ab.type="NONE";const N_=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Jd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Jd("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vl(di(N_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||di(N_);const u=Jd(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const w=await y._get(u);if(w){let b;if(typeof w=="string"){const C=await yh(e,{idToken:w}).catch(()=>{});if(!C)break;b=await es._fromGetAccountInfoResponse(e,C,w)}else b=es._fromJSON(e,w);y!==a&&(h=b),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new vl(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new vl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(db(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fb(e))return"Blackberry";if(pb(e))return"Webos";if(cb(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lb(t=Ln()){return/firefox\//i.test(t)}function cb(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(t=Ln()){return/crios\//i.test(t)}function db(t=Ln()){return/iemobile/i.test(t)}function hb(t=Ln()){return/android/i.test(t)}function fb(t=Ln()){return/blackberry/i.test(t)}function pb(t=Ln()){return/webos/i.test(t)}function jg(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wk(t=Ln()){return jg(t)&&!!window.navigator?.standalone}function vk(){return DI()&&document.documentMode===10}function mb(t=Ln()){return jg(t)||hb(t)||pb(t)||fb(t)||/windows phone/i.test(t)||db(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e=[]){let n;switch(t){case"Browser":n=D_(Ln());break;case"Worker":n=`${D_(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e={}){return os(t,"GET","/v2/passwordPolicy",bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=6;class Ck{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new _k(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),r=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(hi(this));const n=e?At(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ek(this),n=new Ck(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Zx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ci(t){return At(t)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=UI(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sk(t){Zh=t}function yb(t){return Zh.loadJS(t)}function Ik(){return Zh.recaptchaEnterpriseScript}function xk(){return Zh.gapiScript}function kk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Rk{constructor(){this.enterprise=new Pk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ak="recaptcha-enterprise",wb="NO_RECAPTCHA";class Nk{constructor(e){this.type=Ak,this.auth=Ci(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{ck(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new lk(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,u(y.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;R_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{u(y)}).catch(()=>{u(wb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Rk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&R_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Ik();f.length!==0&&(f+=h),yb(f).then(()=>{o(h,a,u)}).catch(y=>{u(y)})}}).catch(h=>{u(h)})})}}async function L_(t,e,n,r=!1,o=!1){const a=new Nk(t);let u;if(o)u=wb;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await L_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await L_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){const n=Xh(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(gi(a,e??{}))return o;Vr(o,"already-initialized")}return n.initialize({options:e})}function Ok(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lk(t,e,n){const r=Ci(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=vb(e),{host:u,port:h}=Mk(e),f=h===null?"":`:${h}`,y={url:`${a}//${u}${f}/`},w=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(gi(y,r.config.emulator)&&gi(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,va(u)?(Rg(`${a}//${u}${f}`),Pg("Auth",!0)):Vk()}function vb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mk(t){const e=vb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:M_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:M_(u)}}}function M_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function jk(t,e){return os(t,"POST","/v1/accounts:update",e)}async function Fk(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e){return hu(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))}async function Uk(t,e){return os(t,"POST","/v1/accounts:sendOobCode",bi(t,e))}async function Bk(t,e){return Uk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}async function Hk(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Fg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,n,"signInWithPassword",$k);case"emailLink":return zk(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,r,"signUpPassword",Fk);case"emailLink":return Hk(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return hu(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="http://localhost";class ua extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const u=new ua(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gk(t){const e=Mc(Vc(t)).link,n=e?Mc(Vc(e)).deep_link_id:null,r=Mc(Vc(t)).deep_link_id;return(r?Mc(Vc(r)).link:null)||r||n||e||t}class $g{constructor(e){const n=Mc(Vc(e)),r=n.apiKey??null,o=n.oobCode??null,a=Wk(n.mode??null);Ae(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Gk(e);try{return new $g(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,n){return Zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$g.parseLink(n);return Ae(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends fu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends fu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends fu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e){return hu(t,"POST","/v1/accounts:signUp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await es._fromIdTokenResponse(e,r,o),u=V_(r);return new da({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=V_(r);return new da({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function V_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Fs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new _h(e,n,r,o)}}function _b(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,a,e,r):a})}async function Qk(t,e,n=!1){const r=await ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(t,e,n=!1){const{auth:r}=t;if(Bn(r.app))return Promise.reject(hi(r));const o="reauthenticate";try{const a=await ca(t,_b(r,o,e,t),n);Ae(a.idToken,r,"internal-error");const u=Vg(a.idToken);Ae(u,r,"internal-error");const{sub:h}=u;return Ae(t.uid===h,r,"user-mismatch"),da._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Vr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(t,e,n=!1){if(Bn(t.app))return Promise.reject(hi(t));const r="signIn",o=await _b(t,r,e),a=await da._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function Jk(t,e){return bb(Ci(t),e)}async function Yk(t,e){return Eb(At(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(t){const e=Ci(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tb(t,e,n){const r=Ci(t);await vh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Bk)}async function Xk(t,e,n){if(Bn(t.app))return Promise.reject(hi(t));const r=Ci(t),u=await vh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Cb(t),f}),h=await da._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Zk(t,e,n){return Bn(t.app)?Promise.reject(hi(t)):Jk(At(t),Ea.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Cb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await ca(r,eR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function tR(t,e){return nR(At(t),null,e)}async function nR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await ca(t,jk(r,a));await t._updateTokensIfNecessary(u,!0)}function rR(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function sR(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function iR(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function tf(t){return At(t).signOut()}async function oR(t){return At(t).delete()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1e3,lR=10;class xb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);vk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xb.type="LOCAL";const cR=xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kb.type="SESSION";const Rb=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async y=>y(n.origin,a)),f=await uR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const y=Ug("",20);o.port1.start();const w=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(w),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function hR(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function fR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pR(){return navigator?.serviceWorker?.controller||null}function mR(){return Pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="firebaseLocalStorageDb",gR=1,bh="firebaseLocalStorage",Nb="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function yR(){const t=indexedDB.deleteDatabase(Ab);return new pu(t).toPromise()}function Gm(){const t=indexedDB.open(Ab,gR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bh,{keyPath:Nb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await yR(),e(await Gm()))})})}async function j_(t,e,n){const r=rf(t,!0).put({[Nb]:e,value:n});return new pu(r).toPromise()}async function wR(t,e){const n=rf(t,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function F_(t,e){const n=rf(t,!0).delete(e);return new pu(n).toPromise()}const vR=800,_R=3;class Db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_R)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(mR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fR(),!this.activeServiceWorker)return;this.sender=new dR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await j_(e,Eh,"1"),await F_(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=rf(o,!1).getAll();return new pu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Db.type="LOCAL";const ER=Db;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){return e?di(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bR(t){return bb(t.auth,new zg(t),t.bypassAuthState)}function CR(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Eb(n,new zg(t),t.bypassAuthState)}async function TR(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Qk(n,new zg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bR;case"linkViaPopup":case"linkViaRedirect":return TR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:Vr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new du(2e3,1e4);async function IR(t,e,n){if(Bn(t.app))return Promise.reject(Mr(t,"operation-not-supported-in-this-environment"));const r=Ci(t);nb(t,e,ef);const o=Bg(r,n);return new ro(r,"signInViaPopup",e,o).executeNotNull()}async function xR(t,e,n){const r=At(t);if(Bn(r.auth.app))return Promise.reject(Mr(r.auth,"operation-not-supported-in-this-environment"));nb(r.auth,e,ef);const o=Bg(r.auth,n);return new ro(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class ro extends Ob{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SR.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="pendingRedirect",Yd=new Map;class RR extends Ob{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yd.get(this.auth._key());if(!e){try{const r=await PR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yd.set(this.auth._key(),e)}return this.bypassAuthState||Yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PR(t,e){const n=DR(e),r=NR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function AR(t,e){Yd.set(t._key(),e)}function NR(t){return di(t._redirectPersistence)}function DR(t){return Jd(kR,t.config.apiKey,t.name)}async function OR(t,e,n=!1){if(Bn(t.app))return Promise.reject(hi(t));const r=Ci(t),o=Bg(r,e),u=await new RR(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=600*1e3;class MR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LR&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$R=/^https?/;async function UR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jR(t);for(const n of e)try{if(BR(n))return}catch{}Vr(t,"unauthorized-domain")}function BR(t){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!$R.test(n))return!1;if(FR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new du(3e4,6e4);function U_(){const t=Ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HR(t){return new Promise((e,n)=>{function r(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(Mr(t,"network-request-failed"))},timeout:zR.get()})}if(Ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ps().gapi?.load)r();else{const o=kk("iframefcb");return Ps()[o]=()=>{gapi.load?r():n(Mr(t,"network-request-failed"))},yb(`${xk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function qR(t){return Xd=Xd||HR(t),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new du(5e3,15e3),GR="__/auth/iframe",KR="emulator/auth/iframe",QR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mg(e,KR):`https://${t.config.authDomain}/${GR}`,r={apiKey:e.apiKey,appName:t.name,v:_a},o=JR.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${uu(r).slice(1)}`}async function XR(t){const e=await qR(t),n=Ps().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:YR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QR,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Mr(t,"network-request-failed"),h=Ps().setTimeout(()=>{a(u)},WR.get());function f(){Ps().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eP=500,tP=600,nP="_blank",rP="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sP(t,e,n,r=eP,o=tP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...ZR,width:r.toString(),height:o.toString(),top:a,left:u},y=Ln().toLowerCase();n&&(h=ub(y)?nP:n),lb(y)&&(e=e||rP,f.scrollbars="yes");const w=Object.entries(f).reduce((C,[k,D])=>`${C}${k}=${D},`,"");if(wk(y)&&h!=="_self")return iP(e||"",h),new B_(null);const b=window.open(e||"",h,w);Ae(b,t,"popup-blocked");try{b.focus()}catch{}return new B_(b)}function iP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="__/auth/handler",aP="emulator/auth/handler",lP=encodeURIComponent("fac");async function z_(t,e,n,r,o,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_a,eventId:o};if(e instanceof ef){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",$I(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,b]of Object.entries({}))u[w]=b}if(e instanceof fu){const w=e.getScopes().filter(b=>b!=="");w.length>0&&(u.scopes=w.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const f=await t._getAppCheckToken(),y=f?`#${lP}=${encodeURIComponent(f)}`:"";return`${cP(t)}?${uu(h).slice(1)}${y}`}function cP({config:t}){return t.emulator?Mg(t,aP):`https://${t.authDomain}/${oP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class uP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=OR,this._overrideRedirectResult=AR}async _openPopup(e,n,r,o){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await z_(e,n,r,qm(),o);return sP(e,a,Ug())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await z_(e,n,r,qm(),o);return hR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XR(e),r=new MR(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{const a=o?.[0]?.[_m];a!==void 0&&n(!!a),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mb()||cb()||jg()}}const dP=uP;var H_="@firebase/auth",q_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pP(t){la(new fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(t)},y=new Tk(r,o,a,f);return Ok(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new fo("auth-internal",e=>{const n=Ci(e.getProvider("auth").getImmediate());return(r=>new hP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(H_,q_,fP(t)),Rs(H_,q_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=300,gP=GE("authIdTokenMaxAge")||mP;let W_=null;const yP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gP)return;const o=n?.token;W_!==o&&(W_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $s(t=Dg()){const e=Xh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Dk(t,{popupRedirectResolver:dP,persistence:[ER,cR,Rb]}),r=GE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=yP(a.toString());sR(n,u,()=>u(n.currentUser)),rR(n,h=>u(h))}}const o=HE("auth");return o&&Lk(n,`http://${o}`),n}function wP(){return document.getElementsByTagName("head")?.[0]??document}Sk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Mr("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",wP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pP("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,Mb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function R(){}R.prototype=T.prototype,P.D=T.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(L,V,U){for(var x=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)x[Le-2]=arguments[Le];return T.prototype[V].apply(L,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,T,R){R||(R=0);var L=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)L[V]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(V=0;16>V;++V)L[V]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=P.g[0],R=P.g[1],V=P.g[2];var U=P.g[3],x=T+(U^R&(V^U))+L[0]+3614090360&4294967295;T=R+(x<<7&4294967295|x>>>25),x=U+(V^T&(R^V))+L[1]+3905402710&4294967295,U=T+(x<<12&4294967295|x>>>20),x=V+(R^U&(T^R))+L[2]+606105819&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(T^V&(U^T))+L[3]+3250441966&4294967295,R=V+(x<<22&4294967295|x>>>10),x=T+(U^R&(V^U))+L[4]+4118548399&4294967295,T=R+(x<<7&4294967295|x>>>25),x=U+(V^T&(R^V))+L[5]+1200080426&4294967295,U=T+(x<<12&4294967295|x>>>20),x=V+(R^U&(T^R))+L[6]+2821735955&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(T^V&(U^T))+L[7]+4249261313&4294967295,R=V+(x<<22&4294967295|x>>>10),x=T+(U^R&(V^U))+L[8]+1770035416&4294967295,T=R+(x<<7&4294967295|x>>>25),x=U+(V^T&(R^V))+L[9]+2336552879&4294967295,U=T+(x<<12&4294967295|x>>>20),x=V+(R^U&(T^R))+L[10]+4294925233&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(T^V&(U^T))+L[11]+2304563134&4294967295,R=V+(x<<22&4294967295|x>>>10),x=T+(U^R&(V^U))+L[12]+1804603682&4294967295,T=R+(x<<7&4294967295|x>>>25),x=U+(V^T&(R^V))+L[13]+4254626195&4294967295,U=T+(x<<12&4294967295|x>>>20),x=V+(R^U&(T^R))+L[14]+2792965006&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(T^V&(U^T))+L[15]+1236535329&4294967295,R=V+(x<<22&4294967295|x>>>10),x=T+(V^U&(R^V))+L[1]+4129170786&4294967295,T=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(T^R))+L[6]+3225465664&4294967295,U=T+(x<<9&4294967295|x>>>23),x=V+(T^R&(U^T))+L[11]+643717713&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^T&(V^U))+L[0]+3921069994&4294967295,R=V+(x<<20&4294967295|x>>>12),x=T+(V^U&(R^V))+L[5]+3593408605&4294967295,T=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(T^R))+L[10]+38016083&4294967295,U=T+(x<<9&4294967295|x>>>23),x=V+(T^R&(U^T))+L[15]+3634488961&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^T&(V^U))+L[4]+3889429448&4294967295,R=V+(x<<20&4294967295|x>>>12),x=T+(V^U&(R^V))+L[9]+568446438&4294967295,T=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(T^R))+L[14]+3275163606&4294967295,U=T+(x<<9&4294967295|x>>>23),x=V+(T^R&(U^T))+L[3]+4107603335&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^T&(V^U))+L[8]+1163531501&4294967295,R=V+(x<<20&4294967295|x>>>12),x=T+(V^U&(R^V))+L[13]+2850285829&4294967295,T=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(T^R))+L[2]+4243563512&4294967295,U=T+(x<<9&4294967295|x>>>23),x=V+(T^R&(U^T))+L[7]+1735328473&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^T&(V^U))+L[12]+2368359562&4294967295,R=V+(x<<20&4294967295|x>>>12),x=T+(R^V^U)+L[5]+4294588738&4294967295,T=R+(x<<4&4294967295|x>>>28),x=U+(T^R^V)+L[8]+2272392833&4294967295,U=T+(x<<11&4294967295|x>>>21),x=V+(U^T^R)+L[11]+1839030562&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^T)+L[14]+4259657740&4294967295,R=V+(x<<23&4294967295|x>>>9),x=T+(R^V^U)+L[1]+2763975236&4294967295,T=R+(x<<4&4294967295|x>>>28),x=U+(T^R^V)+L[4]+1272893353&4294967295,U=T+(x<<11&4294967295|x>>>21),x=V+(U^T^R)+L[7]+4139469664&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^T)+L[10]+3200236656&4294967295,R=V+(x<<23&4294967295|x>>>9),x=T+(R^V^U)+L[13]+681279174&4294967295,T=R+(x<<4&4294967295|x>>>28),x=U+(T^R^V)+L[0]+3936430074&4294967295,U=T+(x<<11&4294967295|x>>>21),x=V+(U^T^R)+L[3]+3572445317&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^T)+L[6]+76029189&4294967295,R=V+(x<<23&4294967295|x>>>9),x=T+(R^V^U)+L[9]+3654602809&4294967295,T=R+(x<<4&4294967295|x>>>28),x=U+(T^R^V)+L[12]+3873151461&4294967295,U=T+(x<<11&4294967295|x>>>21),x=V+(U^T^R)+L[15]+530742520&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^T)+L[2]+3299628645&4294967295,R=V+(x<<23&4294967295|x>>>9),x=T+(V^(R|~U))+L[0]+4096336452&4294967295,T=R+(x<<6&4294967295|x>>>26),x=U+(R^(T|~V))+L[7]+1126891415&4294967295,U=T+(x<<10&4294967295|x>>>22),x=V+(T^(U|~R))+L[14]+2878612391&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~T))+L[5]+4237533241&4294967295,R=V+(x<<21&4294967295|x>>>11),x=T+(V^(R|~U))+L[12]+1700485571&4294967295,T=R+(x<<6&4294967295|x>>>26),x=U+(R^(T|~V))+L[3]+2399980690&4294967295,U=T+(x<<10&4294967295|x>>>22),x=V+(T^(U|~R))+L[10]+4293915773&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~T))+L[1]+2240044497&4294967295,R=V+(x<<21&4294967295|x>>>11),x=T+(V^(R|~U))+L[8]+1873313359&4294967295,T=R+(x<<6&4294967295|x>>>26),x=U+(R^(T|~V))+L[15]+4264355552&4294967295,U=T+(x<<10&4294967295|x>>>22),x=V+(T^(U|~R))+L[6]+2734768916&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~T))+L[13]+1309151649&4294967295,R=V+(x<<21&4294967295|x>>>11),x=T+(V^(R|~U))+L[4]+4149444226&4294967295,T=R+(x<<6&4294967295|x>>>26),x=U+(R^(T|~V))+L[11]+3174756917&4294967295,U=T+(x<<10&4294967295|x>>>22),x=V+(T^(U|~R))+L[2]+718787259&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~T))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var R=T-this.blockSize,L=this.B,V=this.h,U=0;U<T;){if(V==0)for(;U<=R;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<T;)if(L[V++]=P.charCodeAt(U++),V==this.blockSize){o(this,L),V=0;break}}else for(;U<T;)if(L[V++]=P[U++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var R=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=R&255,R/=256;for(this.u(P),P=Array(16),T=R=0;4>T;++T)for(var L=0;32>L;L+=8)P[R++]=this.g[T]>>>L&255;return P};function a(P,T){var R=h;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=T(P)}function u(P,T){this.h=T;for(var R=[],L=!0,V=P.length-1;0<=V;V--){var U=P[V]|0;L&&U==T||(R[V]=U,L=!1)}this.g=R}var h={};function f(P){return-128<=P&&128>P?a(P,function(T){return new u([T|0],0>T?-1:0)}):new u([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return O(y(-P));for(var T=[],R=1,L=0;P>=R;L++)T[L]=P/R|0,R*=4294967296;return new u(T,0)}function w(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return O(w(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(T,8)),L=b,V=0;V<P.length;V+=8){var U=Math.min(8,P.length-V),x=parseInt(P.substring(V,V+U),T);8>U?(U=y(Math.pow(T,U)),L=L.j(U).add(y(x))):(L=L.j(R),L=L.add(y(x)))}return L}var b=f(0),C=f(1),k=f(16777216);t=u.prototype,t.m=function(){if(j(this))return-O(this).m();for(var P=0,T=1,R=0;R<this.g.length;R++){var L=this.i(R);P+=(0<=L?L:4294967296+L)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D(this))return"0";if(j(this))return"-"+O(this).toString(P);for(var T=y(Math.pow(P,6)),R=this,L="";;){var V=ee(R,T).g;R=K(R,V.j(T));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=V,D(R))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function D(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=K(this,P),j(P)?-1:D(P)?0:1};function O(P){for(var T=P.g.length,R=[],L=0;L<T;L++)R[L]=~P.g[L];return new u(R,~P.h).add(C)}t.abs=function(){return j(this)?O(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],L=0,V=0;V<=T;V++){var U=L+(this.i(V)&65535)+(P.i(V)&65535),x=(U>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);L=x>>>16,U&=65535,x&=65535,R[V]=x<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function K(P,T){return P.add(O(T))}t.j=function(P){if(D(this)||D(P))return b;if(j(this))return j(P)?O(this).j(O(P)):O(O(this).j(P));if(j(P))return O(this.j(O(P)));if(0>this.l(k)&&0>P.l(k))return y(this.m()*P.m());for(var T=this.g.length+P.g.length,R=[],L=0;L<2*T;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<P.g.length;V++){var U=this.i(L)>>>16,x=this.i(L)&65535,Le=P.i(V)>>>16,et=P.i(V)&65535;R[2*L+2*V]+=x*et,H(R,2*L+2*V),R[2*L+2*V+1]+=U*et,H(R,2*L+2*V+1),R[2*L+2*V+1]+=x*Le,H(R,2*L+2*V+1),R[2*L+2*V+2]+=U*Le,H(R,2*L+2*V+2)}for(L=0;L<T;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=T;L<2*T;L++)R[L]=0;return new u(R,0)};function H(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function J(P,T){this.g=P,this.h=T}function ee(P,T){if(D(T))throw Error("division by zero");if(D(P))return new J(b,b);if(j(P))return T=ee(O(P),T),new J(O(T.g),O(T.h));if(j(T))return T=ee(P,O(T)),new J(O(T.g),T.h);if(30<P.g.length){if(j(P)||j(T))throw Error("slowDivide_ only works with positive integers.");for(var R=C,L=T;0>=L.l(P);)R=de(R),L=de(L);var V=se(R,1),U=se(L,1);for(L=se(L,2),R=se(R,2);!D(L);){var x=U.add(L);0>=x.l(P)&&(V=V.add(R),U=x),L=se(L,1),R=se(R,1)}return T=K(P,V.j(T)),new J(V,T)}for(V=b;0<=P.l(T);){for(R=Math.max(1,Math.floor(P.m()/T.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=y(R),x=U.j(T);j(x)||0<x.l(P);)R-=L,U=y(R),x=U.j(T);D(U)&&(U=C),V=V.add(U),P=K(P,x)}return new J(V,P)}t.A=function(P){return ee(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],L=0;L<T;L++)R[L]=this.i(L)&P.i(L);return new u(R,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],L=0;L<T;L++)R[L]=this.i(L)|P.i(L);return new u(R,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],L=0;L<T;L++)R[L]=this.i(L)^P.i(L);return new u(R,this.h^P.h)};function de(P){for(var T=P.g.length+1,R=[],L=0;L<T;L++)R[L]=P.i(L)<<1|P.i(L-1)>>>31;return new u(R,P.h)}function se(P,T){var R=T>>5;T%=32;for(var L=P.g.length-R,V=[],U=0;U<L;U++)V[U]=0<T?P.i(U+R)>>>T|P.i(U+R+1)<<32-T:P.i(U+R);return new u(V,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Mb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=w,co=u}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vb,jc,jb,Zd,Km,Fb,$b,Ub;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in _))break e;_=_[z]}c=c[c.length-1],I=_[c],m=m(I),m!=I&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var _=0,I=!1,z={next:function(){if(!I&&_<c.length){var X=_++;return{value:m(X,c[X]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return a(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function w(c,m,_){return c.call.apply(c.bind,arguments)}function b(c,m,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),c.apply(m,z)}}return function(){return c.apply(m,arguments)}}function C(c,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:b,C.apply(null,arguments)}function k(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function D(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,z,X){for(var he=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)he[ht-2]=arguments[ht];return m.prototype[z].apply(I,he)}}function j(c){const m=c.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=c[I];return _}return[]}function O(c,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const z=c.length||0,X=I.length||0;c.length=z+X;for(let he=0;he<X;he++)c[z+he]=I[he]}else c.push(I)}}class K{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var de=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function se(c,m,_){for(const I in c)m.call(_,c[I],I,c)}function P(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function T(c){const m={};for(const _ in c)m[_]=c[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,m){let _,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(_ in I)c[_]=I[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function U(c){h.setTimeout(()=>{throw c},0)}function x(){var c=B;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Le{constructor(){this.h=this.g=null}add(m,_){const I=et.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var et=new K(()=>new Qe,c=>c.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,W=!1,B=new Le,Y=()=>{const c=h.Promise.resolve(void 0);re=()=>{c.then(N)}};var N=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){U(_)}var m=et;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}W=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return c})();function _e(c,m){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(de){e:{try{ee(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}D(_e,ae);var be={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ze(c,m,_,I,z){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=z,this.key=++Be,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mt(c){this.src=c,this.g={},this.h=0}mt.prototype.add=function(c,m,_,I,z){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var he=Oe(c,m,I,z);return-1<he?(m=c[he],_||(m.fa=!1)):(m=new ze(m,this.src,X,!!I,z),m.fa=_,c.push(m)),m};function vt(c,m){var _=m.type;if(_ in c.g){var I=c.g[_],z=Array.prototype.indexOf.call(I,m,void 0),X;(X=0<=z)&&Array.prototype.splice.call(I,z,1),X&&(dt(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Oe(c,m,_,I){for(var z=0;z<c.length;++z){var X=c[z];if(!X.da&&X.listener==m&&X.capture==!!_&&X.ha==I)return z}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),je={};function Fe(c,m,_,I,z){if(Array.isArray(m)){for(var X=0;X<m.length;X++)Fe(c,m[X],_,I,z);return null}return _=Co(_),c&&c[Ue]?c.K(m,_,y(I)?!!I.capture:!1,z):rt(c,m,_,!1,I,z)}function rt(c,m,_,I,z,X){if(!m)throw Error("Invalid event type");var he=y(z)?!!z.capture:!!z,ht=Bs(c);if(ht||(c[Re]=ht=new mt(c)),_=ht.add(m,_,I,he,X),_.proxy)return _;if(I=Me(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)fe||(z=he),z===void 0&&(z=!1),c.addEventListener(m.toString(),I,z);else if(c.attachEvent)c.attachEvent(st(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Me(){function c(_){return m.call(c.src,c.listener,_)}const m=qn;return c}function Ft(c,m,_,I,z){if(Array.isArray(m))for(var X=0;X<m.length;X++)Ft(c,m[X],_,I,z);else I=y(I)?!!I.capture:!!I,_=Co(_),c&&c[Ue]?(c=c.i,m=String(m).toString(),m in c.g&&(X=c.g[m],_=Oe(X,_,I,z),-1<_&&(dt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[m],c.h--)))):c&&(c=Bs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Oe(m,_,I,z)),(_=-1<c?m[c]:null)&&Ce(_))}function Ce(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ue])vt(m.i,c);else{var _=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(_,I,c.capture):m.detachEvent?m.detachEvent(st(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=Bs(m))?(vt(_,c),_.h==0&&(_.src=null,m[Re]=null)):dt(c)}}}function st(c){return c in je?je[c]:je[c]="on"+c}function qn(c,m){if(c.da)c=!0;else{m=new _e(m,this);var _=c.listener,I=c.ha||c.src;c.fa&&Ce(c),c=_.call(I,m)}return c}function Bs(c){return c=c[Re],c instanceof mt?c:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(c){return typeof c=="function"?c:(c[zs]||(c[zs]=function(m){return c.handleEvent(m)}),c[zs])}function $t(){F.call(this),this.i=new mt(this),this.M=this,this.F=null}D($t,F),$t.prototype[Ue]=!0,$t.prototype.removeEventListener=function(c,m,_,I){Ft(this,c,m,_,I)};function Lt(c,m){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new ae(m,c);else if(m instanceof ae)m.target=m.target||c;else{var z=m;m=new ae(I,c),L(m,z)}if(z=!0,_)for(var X=_.length-1;0<=X;X--){var he=m.g=_[X];z=or(he,I,!0,m)&&z}if(he=m.g=c,z=or(he,I,!0,m)&&z,z=or(he,I,!1,m)&&z,_)for(X=0;X<_.length;X++)he=m.g=_[X],z=or(he,I,!1,m)&&z}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],I=0;I<_.length;I++)dt(_[I]);delete c.g[m],c.h--}}this.F=null},$t.prototype.K=function(c,m,_,I){return this.i.add(String(c),m,!1,_,I)},$t.prototype.L=function(c,m,_,I){return this.i.add(String(c),m,!0,_,I)};function or(c,m,_,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,X=0;X<m.length;++X){var he=m[X];if(he&&!he.da&&he.capture==_){var ht=he.listener,sn=he.ha||he.src;he.fa&&vt(c.i,he),z=ht.call(sn,I)!==!1&&z}}return z&&!I.defaultPrevented}function To(c,m,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(c,m||0)}function us(c){c.g=To(()=>{c.g=null,c.i&&(c.i=!1,us(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ds extends F{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:us(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){F.call(this),this.h=c,this.g={}}D(hs,F);var So=[];function Io(c){se(c.g,function(m,_){this.g.hasOwnProperty(_)&&Ce(m)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Io(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=h.JSON.stringify,xo=h.JSON.parse,ko=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Hs(){}Hs.prototype.h=null;function qs(c){return c.h||(c.h=c.i())}function Si(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){ae.call(this,"d")}D(ar,ae);function Cr(){ae.call(this,"c")}D(Cr,ae);var Tr={},Ro=null;function fs(){return Ro=Ro||new $t}Tr.La="serverreachability";function Ii(c){ae.call(this,Tr.La,c)}D(Ii,ae);function Sr(c){const m=fs();Lt(m,new Ii(m))}Tr.STAT_EVENT="statevent";function xi(c,m){ae.call(this,Tr.STAT_EVENT,c),this.stat=m}D(xi,ae);function Tt(c){const m=fs();Lt(m,new xi(m,c))}Tr.Ma="timingevent";function Ws(c,m){ae.call(this,Tr.Ma,c),this.size=m}D(Ws,ae);function Wn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},m)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function Gs(c,m,_,I,z,X){c.info(function(){if(c.g)if(X)for(var he="",ht=X.split("&"),sn=0;sn<ht.length;sn++){var tt=ht[sn].split("=");if(1<tt.length){var dn=tt[0];tt=tt[1];var Qt=dn.split("_");he=2<=Qt.length&&Qt[1]=="type"?he+(dn+"="+tt+"&"):he+(dn+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+m+`
`+_+`
`+he})}function ki(c,m,_,I,z,X,he){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+m+`
`+_+`
`+X+" "+he})}function Gt(c,m,_,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Po(c,_)+(I?" "+I:"")})}function wn(c,m){c.info(function(){return"TIMEOUT: "+m})}ps.prototype.info=function(){};function Po(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Ti(_)}catch{return m}}var Ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ao={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mt;function Gn(){}D(Gn,Hs),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Mt=new Gn;function lr(c,m,_,I){this.j=c,this.i=m,this.l=_,this.R=I||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var Ri={},Ur={};function Qs(c,m,_){c.L=1,c.v=Ni(Kt(m)),c.m=_,c.P=!0,No(c,null)}function No(c,m){c.F=Date.now(),ft(c),c.A=Kt(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Oi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Ir,c.g=$u(c.j,_?m:null,!c.m),0<c.O&&(c.M=new ds(C(c.Y,c,c.g),c.O)),m=c.U,_=c.g,I=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(So[0]=z.toString()),z=So);for(var X=0;X<z.length;X++){var he=Fe(_,z[X],I||m.handleEvent,!1,m.h||m);if(!he)break;m.g[he.key]=he}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Sr(),Gs(c.i,c.u,c.A,c.l,c.R,c.m)}lr.prototype.ca=function(c){c=c.target;const m=this.M;m&&Jn(c)==3?m.j():this.Y(c)},lr.prototype.Y=function(c){try{if(c==this.g)e:{const Qt=Jn(this.g);var m=this.g.Ba();const kr=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Qt!=4||m==7||(m==8||0>=kr?Sr(3):Sr(2)),cr(this);var _=this.g.Z();this.X=_;t:if(Ra(this)){var I=oc(this.g);c="";var z=I.length,X=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),ms(this);var he="";break t}this.h.i=new h.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(X&&m==z-1)});I.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,ki(this.i,this.u,this.A,this.l,this.R,Qt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,sn=this.g;if((ht=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ht)){var tt=ht;break t}}tt=null}if(_=tt)Gt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Do(this,_);else{this.o=!1,this.s=3,Tt(12),Kn(this),ms(this);break e}}if(this.P){_=!0;let hr;for(;!this.J&&this.C<he.length;)if(hr=nc(this,he),hr==Ur){Qt==4&&(this.s=4,Tt(14),_=!1),Gt(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==Ri){this.s=4,Tt(15),Gt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Gt(this.i,this.l,hr,null),Do(this,hr);if(Ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||he.length!=0||this.h.h||(this.s=1,Tt(16),_=!1),this.o=this.o&&_,!_)Gt(this.i,this.l,he,"[Invalid Chunked Response]"),Kn(this),ms(this);else if(0<he.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),lc(dn),dn.M=!0,Tt(11))}}else Gt(this.i,this.l,he,null),Do(this,he);Qt==4&&Kn(this),this.o&&!this.J&&(Qt==4?Ba(this.j,this):(this.o=!1,ft(this)))}else Va(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Kn(this),ms(this)}}}catch{}finally{}};function Ra(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nc(c,m){var _=c.C,I=m.indexOf(`
`,_);return I==-1?Ur:(_=Number(m.substring(_,I)),isNaN(_)?Ri:(I+=1,I+_>m.length?Ur:(m=m.slice(I,I+_),c.C=I+_,m)))}lr.prototype.cancel=function(){this.J=!0,Kn(this)};function ft(c){c.S=Date.now()+c.I,Ut(c,c.I)}function Ut(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wn(C(c.ba,c),m)}function cr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}lr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wn(this.i,this.A),this.L!=2&&(Sr(),Tt(17)),Kn(this),this.s=2,ms(this)):Ut(this,this.S-c)};function ms(c){c.j.G==0||c.J||Ba(c.j,c)}function Kn(c){cr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Io(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Do(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Vt(_.h,c))){if(!c.K&&Vt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ua(_),Wr(_);else break e;$a(_),Tt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Wn(C(_.Za,_),6e3));if(1>=Aa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ei(_,11)}else if((c.K||_.g==c)&&Ua(_),!H(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let tt=z[m];if(_.T=tt[0],tt=tt[1],_.G==2)if(tt[0]=="c"){_.K=tt[1],_.ia=tt[2];const dn=tt[3];dn!=null&&(_.la=dn,_.j.info("VER="+_.la));const Qt=tt[4];Qt!=null&&(_.Aa=Qt,_.j.info("SVER="+_.Aa));const kr=tt[5];kr!=null&&typeof kr=="number"&&0<kr&&(I=1.5*kr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const hr=c.g;if(hr){const jo=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var X=I.h;X.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Oo(X,X.h),X.h=null))}if(I.D){const Ha=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(I.ya=Ha,pt(I.I,I.D,Ha))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var he=c;if(I.qa=Fu(I,I.J?I.ia:null,I.W),he.K){Na(I.h,he);var ht=he,sn=I.L;sn&&(ht.I=sn),ht.B&&(cr(ht),ft(ht)),I.g=he}else Vo(I);0<_.i.length&&vs(_)}else tt[0]!="stop"&&tt[0]!="close"||ei(_,7);else _.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ei(_,7):_n(_):tt[0]!="noop"&&_.l&&_.l.ta(tt),_.v=0)}}Sr(4)}catch{}}var Pa=class{constructor(c,m){this.g=c,this.map=m}};function Js(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Aa(c){return c.h?1:c.g?c.g.size:0}function Vt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Oo(c,m){c.g?c.g.add(m):c.h=m}function Na(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Js.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Da(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return j(c.i)}function Se(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var m=[],_=c.length,I=0;I<_;I++)m.push(c[I]);return m}m=[],_=0;for(I in c)m[_++]=c[I];return m}function We(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const I in c)m[_++]=I;return m}}}function St(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=We(c),I=Se(c),z=I.length,X=0;X<z;X++)m.call(void 0,I[X],_&&_[X],c)}var rn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pe(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),z=null;if(0<=I){var X=c[_].substring(0,I);z=c[_].substring(I+1)}else X=c[_];m(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ur){this.h=c.h,In(this,c.j),this.o=c.o,this.g=c.g,Pi(this,c.s),this.l=c.l;var m=c.i,_=new gs;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ai(this,_),this.m=c.m}else c&&(m=String(c).match(rn))?(this.h=!1,In(this,m[1]||"",!0),this.o=Ze(m[2]||""),this.g=Ze(m[3]||"",!0),Pi(this,m[4]),this.l=Ze(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=Ze(m[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}ur.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Di(m,Oa,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Di(m,Oa,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Di(_,_.charAt(0)=="/"?Au:Pu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Di(_,rc)),c.join("")};function Kt(c){return new ur(c)}function In(c,m,_){c.j=_?Ze(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Pi(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Ai(c,m,_){m instanceof gs?(c.i=m,ys(c.i,c.h)):(_||(m=Di(m,Nu)),c.i=new gs(m,c.h))}function pt(c,m,_){c.i.set(m,_)}function Ni(c){return pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ze(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Di(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,Pu=/[#\?:]/g,Au=/[#\?]/g,Nu=/[#\?@]/g,rc=/#/g;function gs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pe(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=gs.prototype,t.add=function(c,m){vn(this),this.i=null,c=xr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Br(c,m){vn(c),m=xr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function zr(c,m){return vn(c),m=xr(c,m),c.g.has(m)}t.forEach=function(c,m){vn(this),this.g.forEach(function(_,I){_.forEach(function(z){c.call(m,z,I,this)},this)},this)},t.na=function(){vn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const z=c[I];for(let X=0;X<z.length;X++)_.push(m[I])}return _},t.V=function(c){vn(this);let m=[];if(typeof c=="string")zr(this,c)&&(m=m.concat(this.g.get(xr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},t.set=function(c,m){return vn(this),this.i=null,c=xr(this,c),zr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Oi(c,m,_){Br(c,m),0<_.length&&(c.i=null,c.g.set(xr(c,m),j(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const X=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var z=X;he[I]!==""&&(z+="="+encodeURIComponent(String(he[I]))),c.push(z)}}return this.i=c.join("&")};function xr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ys(c,m){m&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,I){var z=I.toLowerCase();I!=z&&(Br(this,I),Oi(this,z,_))},c)),c.j=m}function $f(c,m){const _=new ps;if(h.Image){const I=new Image;I.onload=k(Qn,_,"TestLoadImage: loaded",!0,m,I),I.onerror=k(Qn,_,"TestLoadImage: error",!1,m,I),I.onabort=k(Qn,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=k(Qn,_,"TestLoadImage: timeout",!1,m,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function Du(c,m){const _=new ps,I=new AbortController,z=setTimeout(()=>{I.abort(),Qn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(X=>{clearTimeout(z),X.ok?Qn(_,"TestPingServer: ok",!0,m):Qn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Qn(_,"TestPingServer: error",!1,m)})}function Qn(c,m,_,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(_)}catch{}}function Uf(){this.g=new ko}function Ou(c,m,_){const I=_||"";try{St(c,function(z,X){let he=z;y(z)&&(he=Ti(z)),m.push(I+X+"="+encodeURIComponent(he))})}catch(z){throw m.push(I+"type="+encodeURIComponent("_badmap")),z}}function Ys(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ys,Hs),Ys.prototype.g=function(){return new Lo(this.l,this.j)},Ys.prototype.i=(function(c){return function(){return c}})({});function Lo(c,m){$t.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Lo,$t),t=Lo.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,qr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Hr(this):qr(this),this.readyState==3&&Lu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Hr(this))},t.Qa=function(c){this.g&&(this.response=c,Hr(this))},t.ga=function(){this.g&&Hr(this)};function Hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qr(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function qr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xs(c){let m="";return se(c,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Li(c,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Xs(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):pt(c,m,_))}function It(c){$t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(It,$t);var Bf=/^https?$/i,sc=["POST","PUT"];t=It.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mt.g(),this.v=this.o?qs(this.o):qs(Mt),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(X){Mo(this,X);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)_.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())_.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sc,m,void 0))||I||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of _)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Mo(this,X)}};function Mo(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,La(c),dr(c)}function La(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),dr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ic(this):this.bb())},t.bb=function(){ic(this)};function ic(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Jn(c)!=4||c.Z()!=2)){if(c.u&&Jn(c)==4)To(c.Ea,0,c);else if(Lt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=he===0){var z=String(c.D).match(rn)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),I=!Bf.test(z?z.toLowerCase():"")}_=I}if(_)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var X=2<Jn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",La(c)}}finally{dr(c)}}}}function dr(c,m){if(c.g){Ma(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Lt(c,"ready");try{_.onreadystatechange=I}catch{}}}function Ma(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),xo(m)}};function oc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Va(c){const m={};c=(c.g&&2<=Jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(H(c[I]))continue;var _=V(c[I]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=m[z]||[];m[z]=X,X.push(_)}P(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function ac(c){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(c&&c.concurrentRequestLimit),this.Da=new Uf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ac.prototype,t.la=8,t.G=1,t.connect=function(c,m,_,I){Tt(0),this.W=c,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Fu(this,null,this.W),vs(this)};function _n(c){if(ja(c),c.G==3){var m=c.U++,_=Kt(c.I);if(pt(_,"SID",c.K),pt(_,"RID",m),pt(_,"TYPE","terminate"),Zs(c,_),m=new lr(c,c.j,m),m.L=2,m.v=Ni(Kt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=$u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ft(m)}ju(c)}function Wr(c){c.g&&(lc(c),c.g.cancel(),c.g=null)}function ja(c){Wr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function vs(c){if(!jn(c.h)&&!c.s){c.s=!0;var m=c.Ga;re||Y(),W||(re(),W=!0),B.add(m,c),c.B=0}}function zf(c,m){return Aa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wn(C(c.Ga,c,m),Vu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new lr(this,this.j,c);let X=this.o;if(this.S&&(X?(X=T(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Mi(this,z,m),_=Kt(this.I),pt(_,"RID",c),pt(_,"CVER",22),this.D&&pt(_,"X-HTTP-Session-Id",this.D),Zs(this,_),X&&(this.O?m="headers="+encodeURIComponent(String(Xs(X)))+"&"+m:this.m&&Li(_,this.m,X)),Oo(this.h,z),this.Ua&&pt(_,"TYPE","init"),this.P?(pt(_,"$req",m),pt(_,"SID","null"),z.T=!0,Qs(z,_,null)):Qs(z,_,m),this.G=2}}else this.G==3&&(c?Fa(this,c):this.i.length==0||jn(this.h)||Fa(this))};function Fa(c,m){var _;m?_=m.l:_=c.U++;const I=Kt(c.I);pt(I,"SID",c.K),pt(I,"RID",_),pt(I,"AID",c.T),Zs(c,I),c.m&&c.o&&Li(I,c.m,c.o),_=new lr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Mi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oo(c.h,_),Qs(_,I,m)}function Zs(c,m){c.H&&se(c.H,function(_,I){pt(m,I,_)}),c.l&&St({},function(_,I){pt(m,I,_)})}function Mi(c,m,_){_=Math.min(c.i.length,_);var I=c.l?C(c.l.Na,c.l,c):null;e:{var z=c.i;let X=-1;for(;;){const he=["count="+_];X==-1?0<_?(X=z[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let ht=!0;for(let sn=0;sn<_;sn++){let tt=z[sn].g;const dn=z[sn].map;if(tt-=X,0>tt)X=Math.max(0,z[sn].g-100),ht=!1;else try{Ou(dn,he,"req"+tt+"_")}catch{I&&I(dn)}}if(ht){I=he.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,I}function Vo(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;re||Y(),W||(re(),W=!0),B.add(m,c),c.v=0}}function $a(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wn(C(c.Fa,c),Vu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wn(C(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Wr(this),Mu(this))};function lc(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new lr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Kt(c.qa);pt(m,"RID","rpc"),pt(m,"SID",c.K),pt(m,"AID",c.T),pt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&pt(m,"TO",c.ja),pt(m,"TYPE","xmlhttp"),Zs(c,m),c.m&&c.o&&Li(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ni(Kt(m)),_.m=null,_.P=!0,No(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Wr(this),$a(this),Tt(19))};function Ua(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ba(c,m){var _=null;if(c.g==m){Ua(c),lc(c),c.g=null;var I=2}else if(Vt(c.h,m))_=m.D,Na(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=c.B;I=fs(),Lt(I,new Ws(I,_)),vs(c)}else Vo(c);else if(z=m.s,z==3||z==0&&0<m.X||!(I==1&&zf(c,m)||I==2&&$a(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),z){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function Vu(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function ei(c,m){if(c.j.info("Error code "+m),m==2){var _=C(c.fb,c),I=c.Xa;const z=!I;I=new ur(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||In(I,"https"),Ni(I),z?$f(I.toString(),_):Du(I.toString(),_)}else Tt(2);c.G=0,c.l&&c.l.sa(m),ju(c),ja(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ju(c){if(c.G=0,c.ka=[],c.l){const m=Da(c.h);(m.length!=0||c.i.length!=0)&&(O(c.ka,m),O(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Fu(c,m,_){var I=_ instanceof ur?Kt(_):new ur(_);if(I.g!="")m&&(I.g=m+"."+I.g),Pi(I,I.s);else{var z=h.location;I=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var X=new ur(null);I&&In(X,I),m&&(X.g=m),z&&Pi(X,z),_&&(X.l=_),I=X}return _=c.D,m=c.ya,_&&m&&pt(I,_,m),pt(I,"VER",c.la),Zs(c,I),I}function $u(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new It(new Ys({eb:_})):new It(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}t=cc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function za(){}za.prototype.g=function(c,m){return new Fn(c,m)};function Fn(c,m){$t.call(this),this.g=new ac(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!H(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new _s(this)}D(Fn,$t),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){_n(this.g)},Fn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ti(c),c=_);m.i.push(new Pa(m.Ya++,c)),m.G==3&&vs(m)},Fn.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,Fn.aa.N.call(this)};function Uu(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}D(Uu,ar);function Bu(){Cr.call(this),this.status=1}D(Bu,Cr);function _s(c){this.g=c}D(_s,cc),_s.prototype.ua=function(){Lt(this.g,"a")},_s.prototype.ta=function(c){Lt(this.g,new Uu(c))},_s.prototype.sa=function(c){Lt(this.g,new Bu)},_s.prototype.ra=function(){Lt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,Ub=function(){return new za},$b=function(){return fs()},Fb=Tr,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,Zd=Ks,Ao.COMPLETE="complete",jb=Ao,Si.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",$t.prototype.listen=$t.prototype.K,jc=Si,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,Vb=It}).apply(typeof Vd<"u"?Vd:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore",Q_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Ag("@firebase/firestore");function fl(){return ha.logLevel}function ge(t,...e){if(ha.logLevel<=Je.DEBUG){const n=e.map(Hg);ha.debug(`Firestore (${Bl}): ${t}`,...n)}}function vi(t,...e){if(ha.logLevel<=Je.ERROR){const n=e.map(Hg);ha.error(`Firestore (${Bl}): ${t}`,...n)}}function Sl(t,...e){if(ha.logLevel<=Je.WARN){const n=e.map(Hg);ha.warn(`Firestore (${Bl}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Bb(t,r,n)}function Bb(t,e,n){let r=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vi(r),new Error(r)}function ut(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||Bb(e,o,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class _P{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EP{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new zb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class bP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=SP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function Qm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Em(o)===Em(a)?Ye(o,a):Em(o)?1:-1}return Ye(t.length,e.length)}const IP=55296,xP=57343;function Em(t){const e=t.charCodeAt(0);return e>=IP&&e<=xP}function Il(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=Ss.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ye(e.length,n.length)}static compareSegments(e,n){const r=Ss.isNumericId(e),o=Ss.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class yt extends Ss{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new yt(n)}static emptyPath(){return new yt([])}}const kP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Ss{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return kP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Tn([Y_])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(yt.fromString(e))}static fromName(e){return new Te(yt.fromString(e).popFirst(5))}static empty(){return new Te(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RP(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X_(t){if(!Te.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(Te.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function mu(t,e){if(!qb(t))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-62135596800,t0=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*t0);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e0)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:nn("string",Ct._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ct(0,0))}static max(){return new Ve(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function PP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new po(o,Te.empty(),e)}function AP(t){return new po(t.readTime,t.key,eu)}class po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new po(Ve.min(),Te.empty(),eu)}static max(){return new po(Ve.max(),Te.empty(),eu)}}function NP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==DP)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&n()}),(f=>r(f)))})),u=!0,a===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((o=>o?ne.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const y=f;n(e[y]).next((w=>{u[y]=w,++h,h===a&&r(u)}),(w=>o(w)))}}))}static doWhile(e,n){return new ne(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function LP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}of.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=-1;function af(t){return t==null}function Ch(t){return t===0&&1/t==-1/0}function MP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="";function VP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=n0(e)),e=jP(t.get(n),e);return n0(e)}function jP(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case Wb:n+="";break;default:n+=a}}return n}function n0(t){return t+Wb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Cn.RED,this.left=o??Cn.EMPTY,this.right=a??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Cn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new wr([])}unionWith(e){let n=new cn(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Kb("Invalid base64 string: "+a):a}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const FP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=FP.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="server_timestamp",Jb="__type__",Yb="__previous_value__",Xb="__local_write_time__";function Gg(t){return(t?.mapValue?.fields||{})[Jb]?.stringValue===Qb}function lf(t){const e=t.mapValue.fields[Yb];return Gg(e)?lf(e):e}function tu(t){const e=mo(t.mapValue.fields[Xb].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r,o,a,u,h,f,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=w}}const Th="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="__type__",UP="__max__",Fd={mapValue:{}},e1="__vector__",Sh="value";function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:zP(t)?9007199254740991:BP(t)?10:11:Ne(28295,{value:t})}function Ms(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=mo(o.timestampValue),h=mo(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return go(o.bytesValue).isEqual(go(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Ht(o.geoPointValue.latitude)===Ht(a.geoPointValue.latitude)&&Ht(o.geoPointValue.longitude)===Ht(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Ht(o.integerValue)===Ht(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Ht(o.doubleValue),h=Ht(a.doubleValue);return u===h?Ch(u)===Ch(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(r0(u)!==r0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ms(u[f],h[f])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function ru(t,e){return(t.values||[]).find((n=>Ms(n,e)))!==void 0}function xl(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Ht(a.integerValue||a.doubleValue),f=Ht(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return i0(t.timestampValue,e.timestampValue);case 4:return i0(tu(t),tu(e));case 5:return Qm(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=go(a),f=go(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let y=0;y<h.length&&y<f.length;y++){const w=Ye(h[y],f[y]);if(w!==0)return w}return Ye(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Ye(Ht(a.latitude),Ht(u.latitude));return h!==0?h:Ye(Ht(a.longitude),Ht(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return o0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},y=h[Sh]?.arrayValue,w=f[Sh]?.arrayValue,b=Ye(y?.values?.length||0,w?.values?.length||0);return b!==0?b:o0(y,w)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Fd.mapValue&&u===Fd.mapValue)return 0;if(a===Fd.mapValue)return 1;if(u===Fd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),y=u.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let b=0;b<f.length&&b<w.length;++b){const C=Qm(f[b],w[b]);if(C!==0)return C;const k=xl(h[f[b]],y[w[b]]);if(k!==0)return k}return Ye(f.length,w.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function i0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=mo(t),r=mo(e),o=Ye(n.seconds,r.seconds);return o!==0?o:Ye(n.nanos,r.nanos)}function o0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=xl(n[o],r[o]);if(a)return a}return Ye(n.length,r.length)}function kl(t){return Jm(t)}function Jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=mo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=Jm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Jm(n.fields[u])}`;return o+"}"})(t.mapValue):Ne(61005,{value:t})}function eh(t){switch(yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(t);return e?16+eh(e):16;case 5:return 2*t.stringValue.length;case 6:return go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+eh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return _o(r.fields,((a,u)=>{o+=a.length+eh(u)})),o})(t.mapValue);default:throw Ne(13486,{value:t})}}function a0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ym(t){return!!t&&"integerValue"in t}function Kg(t){return!!t&&"arrayValue"in t}function l0(t){return!!t&&"nullValue"in t}function c0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function BP(t){return(t?.mapValue?.fields||{})[Zb]?.stringValue===e1}function qc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=qc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return{...t}}function zP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=Tn.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}u?r[h.lastSegment()]=qc(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){_o(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new sr(qc(this.value))}}function t1(t){const e=[];return _o(t.fields,((n,r)=>{const o=new Tn([n]);if(th(r)){const a=t1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,o,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Dn(e,0,Ve.min(),Ve.min(),Ve.min(),sr.empty(),0)}static newFoundDocument(e,n,r,o){return new Dn(e,1,n,Ve.min(),r,o,0)}static newNoDocument(e,n){return new Dn(e,2,n,Ve.min(),Ve.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Ve.min(),Ve.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function u0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),n.key):r=xl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function d0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function HP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{}class en extends n1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WP(e,n,r):n==="array-contains"?new QP(e,r):n==="in"?new JP(e,r):n==="not-in"?new YP(e,r):n==="array-contains-any"?new XP(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GP(e,r):new KP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends n1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new is(e,n)}matches(e){return r1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r1(t){return t.op==="and"}function s1(t){return qP(t)&&r1(t)}function qP(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function Xm(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+kl(t.value);if(s1(t))return t.filters.map((e=>Xm(e))).join(",");{const e=t.filters.map((n=>Xm(n))).join(",");return`${t.op}(${e})`}}function i1(t,e){return t instanceof en?(function(r,o){return o instanceof en&&r.op===o.op&&r.field.isEqual(o.field)&&Ms(r.value,o.value)})(t,e):t instanceof is?(function(r,o){return o instanceof is&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&i1(u,o.filters[h])),!0):!1})(t,e):void Ne(19439)}function o1(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`})(t):t instanceof is?(function(n){return n.op.toString()+" {"+n.getFilters().map(o1).join(" ,")+"}"})(t):"Filter"}class WP extends en{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class GP extends en{constructor(e,n){super(e,"in",n),this.keys=a1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KP extends en{constructor(e,n){super(e,"not-in",n),this.keys=a1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function a1(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class QP extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kg(n)&&ru(n.arrayValue,this.value)}}class JP extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class YP extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class XP extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function h0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new ZP(t,e,n,r,o,a,u)}function Qg(t){const e=$e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>kl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>kl(r))).join(",")),e.Te=n}return e.Te}function Jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d0(t.startAt,e.startAt)&&d0(t.endAt,e.endAt)}function Zm(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eA(t,e,n,r,o,a,u,h){return new gu(t,e,n,r,o,a,u,h)}function Yg(t){return new gu(t)}function f0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l1(t){return t.collectionGroup!==null}function Wc(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new cn(Tn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new xh(a,r))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new xh(Tn.keyField(),r))}return e.Ie}function As(t){const e=$e(t);return e.Ee||(e.Ee=tA(e,Wc(t))),e.Ee}function tA(t,e){if(t.limitType==="F")return h0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new xh(o.field,a)}));const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return h0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eg(t,e){const n=t.filters.concat([e]);return new gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tg(t,e,n){return new gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return Jg(As(t),As(e))&&t.limitType===e.limitType}function c1(t){return`${Qg(As(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>o1(o))).join(", ")}]`),af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>kl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>kl(o))).join(",")),`Target(${r})`})(As(t))}; limitType=${t.limitType})`}function uf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of Wc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,f){const y=u0(u,h,f);return u.inclusive?y<=0:y<0})(r.startAt,Wc(r),o)||r.endAt&&!(function(u,h,f){const y=u0(u,h,f);return u.inclusive?y>=0:y>0})(r.endAt,Wc(r),o))})(t,e)}function nA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u1(t){return(e,n)=>{let r=!1;for(const o of Wc(t)){const a=rA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function rA(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),y=h.data.field(a);return f!==null&&y!==null?xl(f,y):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return Gb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new Ot(Te.comparator);function _i(){return sA}const d1=new Ot(Te.comparator);function Fc(...t){let e=d1;for(const n of t)e=e.insert(n.key,n);return e}function h1(t){let e=d1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function na(){return Gc()}function f1(){return Gc()}function Gc(){return new ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const iA=new Ot(Te.comparator),oA=new cn(Te.comparator);function Xe(...t){let e=oA;for(const n of t)e=e.add(n);return e}const aA=new cn(Ye);function lA(){return aA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function p1(t){return{integerValue:""+t}}function m1(t,e){return MP(e)?p1(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function cA(t,e,n){return t instanceof su?(function(o,a){const u={fields:{[Jb]:{stringValue:Qb},[Xb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Gg(a)&&(a=lf(a)),a&&(u.fields[Yb]=a),{mapValue:u}})(n,e):t instanceof Rl?y1(t,e):t instanceof Pl?w1(t,e):(function(o,a){const u=g1(o,a),h=p0(u)+p0(o.Ae);return Ym(u)&&Ym(o.Ae)?p1(h):Xg(o.serializer,h)})(t,e)}function uA(t,e,n){return t instanceof Rl?y1(t,e):t instanceof Pl?w1(t,e):n}function g1(t,e){return t instanceof iu?(function(r){return Ym(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class su extends df{}class Rl extends df{constructor(e){super(),this.elements=e}}function y1(t,e){const n=v1(e);for(const r of t.elements)n.some((o=>Ms(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Pl extends df{constructor(e){super(),this.elements=e}}function w1(t,e){let n=v1(e);for(const r of t.elements)n=n.filter((o=>!Ms(o,r)));return{arrayValue:{values:n}}}class iu extends df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function p0(t){return Ht(t.integerValue||t.doubleValue)}function v1(t){return Kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.field=e,this.transform=n}}function dA(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Rl&&o instanceof Rl||r instanceof Pl&&o instanceof Pl?Il(r.elements,o.elements,Ms):r instanceof iu&&o instanceof iu?Ms(r.Ae,o.Ae):r instanceof su&&o instanceof su})(t.transform,e.transform)}class hA{constructor(e,n){this.version=e,this.transformResults=n}}class rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ff{}function _1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zg(t.key,rs.none()):new yu(t.key,t.data,rs.none());{const n=t.data,r=sr.empty();let o=new cn(Tn.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Eo(t.key,r,new wr(o.toArray()),rs.none())}}function fA(t,e,n){t instanceof yu?(function(o,a,u){const h=o.value.clone(),f=g0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Eo?(function(o,a,u){if(!nh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=g0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(E1(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Kc(t,e,n,r){return t instanceof yu?(function(a,u,h,f){if(!nh(a.precondition,u))return h;const y=a.value.clone(),w=y0(a.fieldTransforms,f,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof Eo?(function(a,u,h,f){if(!nh(a.precondition,u))return h;const y=y0(a.fieldTransforms,f,u),w=u.data;return w.setAll(E1(a)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,u,h){return nh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function pA(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=g1(r.transform,o||null);a!=null&&(n===null&&(n=sr.empty()),n.set(r.field,a))}return n||null}function m0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Il(r,o,((a,u)=>dA(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends ff{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Eo extends ff{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function E1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function g0(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,uA(u,h,n[o]))}return r}function y0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,cA(a,u,e))}return r}class Zg extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mA extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&fA(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=f1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=_1(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,((n,r)=>m0(n,r)))&&Il(this.baseMutations,e.baseMutations,((n,r)=>m0(n,r)))}}class ey{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return iA})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new ey(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,nt;function vA(t){switch(t){case te.OK:return Ne(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function b1(t){if(t===void 0)return vi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Yt.OK:return te.OK;case Yt.CANCELLED:return te.CANCELLED;case Yt.UNKNOWN:return te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return te.INTERNAL;case Yt.UNAVAILABLE:return te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return te.NOT_FOUND;case Yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Yt.ABORTED:return te.ABORTED;case Yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Yt.DATA_LOSS:return te.DATA_LOSS;default:return Ne(39323,{code:t})}}(nt=Yt||(Yt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new co([4294967295,4294967295],0);function w0(t){const e=_A().encode(t),n=new Mb;return n.update(e),new Uint8Array(n.digest())}function v0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new co([n,r],0),new co([o,a],0)]}class ty{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $c(`Invalid padding: ${n}`);if(r<0)throw new $c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=co.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(co.fromNumber(r)));return o.compare(EA)===1&&(o=new co([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w0(e),[r,o]=v0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ty(a,o,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=w0(e),[r,o]=v0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pf(Ve.min(),o,new Ot(Ye),_i(),Xe())}}class wu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wu(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class C1{constructor(e,n){this.targetId=e,this.Ce=n}}class T1{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class _0{constructor(){this.ve=0,this.Fe=E0(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ne(38017,{changeType:a})}})),new wu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=E0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bA{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=$d(),this.He=$d(),this.Ye=new Ot(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Zm(a))if(r===0){const u=new Te(a.path);this.et(n,u,Dn.newNoDocument(u,Ve.min()))}else ut(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=go(r).toUint8Array()}catch(f){if(f instanceof Kb)return Sl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ty(u,o,a)}catch(f){return Sl(f instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&Zm(h.target)){const f=new Te(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Dn.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=Xe();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const y=this.ot(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new pf(e,n,this.Ye,this.je,r);return this.je=_i(),this.Je=$d(),this.He=$d(),this.Ye=new Ot(Ye),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $d(){return new Ot(Te.comparator)}function E0(){return new Ot(Te.comparator)}const CA={asc:"ASCENDING",desc:"DESCENDING"},TA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SA={and:"AND",or:"OR"};class IA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(t,e){return t.useProto3Json||af(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xA(t,e){return kh(t,e.toTimestamp())}function Ns(t){return ut(!!t,49232),Ve.fromTimestamp((function(n){const r=mo(n);return new Ct(r.seconds,r.nanos)})(t))}function ny(t,e){return rg(t,e).canonicalString()}function rg(t,e){const n=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function I1(t){const e=yt.fromString(t);return ut(A1(e),10190,{key:e.toString()}),e}function sg(t,e){return ny(t.databaseId,e.path)}function bm(t,e){const n=I1(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(k1(n))}function x1(t,e){return ny(t.databaseId,e)}function kA(t){const e=I1(t);return e.length===4?yt.emptyPath():k1(e)}function ig(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k1(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function b0(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function RA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,w){return y.useProto3Json?(ut(w===void 0||typeof w=="string",58123),Sn.fromBase64String(w||"")):(ut(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Sn.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(y){const w=y.code===void 0?te.UNKNOWN:b1(y.code);return new pe(w,y.message||"")})(u);n=new T1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=bm(t,r.document.name),a=Ns(r.document.updateTime),u=r.document.createTime?Ns(r.document.createTime):Ve.min(),h=new sr({mapValue:{fields:r.document.fields}}),f=Dn.newFoundDocument(o,a,u,h),y=r.targetIds||[],w=r.removedTargetIds||[];n=new rh(y,w,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=bm(t,r.document),a=r.readTime?Ns(r.readTime):Ve.min(),u=Dn.newNoDocument(o,a),h=r.removedTargetIds||[];n=new rh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=bm(t,r.document),a=r.removedTargetIds||[];n=new rh([],a,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new wA(o,a),h=r.targetId;n=new C1(h,u)}}return n}function PA(t,e){let n;if(e instanceof yu)n={update:b0(t,e.key,e.value)};else if(e instanceof Zg)n={delete:sg(t,e.key)};else if(e instanceof Eo)n={update:b0(t,e.key,e.data),updateMask:FA(e.fieldMask)};else{if(!(e instanceof mA))return Ne(16599,{Vt:e.type});n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Rl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Pl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof iu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:xA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)})(t,e.precondition)),n}function AA(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Ns(o.updateTime):Ns(a);return u.isEqual(Ve.min())&&(u=Ns(a)),new hA(u,o.transformResults||[])})(n,e)))):[]}function NA(t,e){return{documents:[x1(t,e.path)]}}function DA(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=x1(t,o);const a=(function(y){if(y.length!==0)return P1(is.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(y){if(y.length!==0)return y.map((w=>(function(C){return{field:ml(C.field),direction:MA(C.dir)}})(w)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=ng(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function OA(t){let e=kA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ut(r===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(b){const C=R1(b);return C instanceof is&&s1(C)?C.getFilters():[C]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((C=>(function(D){return new xh(gl(D.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(C)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let C;return C=typeof b=="object"?b.value:b,af(C)?null:C})(n.limit));let f=null;n.startAt&&(f=(function(b){const C=!!b.before,k=b.values||[];return new Ih(k,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const C=!b.before,k=b.values||[];return new Ih(k,C)})(n.endAt)),eA(e,o,u,a,h,"F",f,y)}function LA(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gl(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gl(n.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gl(n.unaryFilter.field);return en.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gl(n.unaryFilter.field);return en.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(gl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return is.create(n.compositeFilter.filters.map((r=>R1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function MA(t){return CA[t]}function VA(t){return TA[t]}function jA(t){return SA[t]}function ml(t){return{fieldPath:t.canonicalString()}}function gl(t){return Tn.fromServerFormat(t.fieldPath)}function P1(t){return t instanceof en?(function(n){if(n.op==="=="){if(c0(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(l0(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c0(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(l0(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:VA(n.op),value:n.value}}})(t):t instanceof is?(function(n){const r=n.getFilters().map((o=>P1(o)));return r.length===1?r[0]:{compositeFilter:{op:jA(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function FA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function A1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r,o,a=Ve.min(),u=Ve.min(),h=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.yt=e}}function UA(t){const e=OA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.Cn=new zA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(po.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(po.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class zA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new cn(yt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new cn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N1=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(N1,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",HA=1048576;function S0([t,e],[n,r]){const o=Ye(t,n);return o===0?Ye(e,r):o}class qA{constructor(e){this.Ir=e,this.buffer=new cn(S0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();S0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(T0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?ge(T0,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Vr(3e5)}))}}class GA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(of.ce);const r=new qA(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(C0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,u,h,f,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),fl()<=Je.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-w}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(y-f)+`ms
Total Duration: ${y-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function KA(t,e){return new GA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Kc(r.mutation,o,wr.empty(),Ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let u=Fc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,o){let a=_i();const u=Gc(),h=(function(){return Gc()})();return n.forEach(((f,y)=>{const w=r.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Eo)?a=a.insert(y.key,y):w!==void 0?(u.set(y.key,w.mutation.getFieldMask()),Kc(w.mutation,y,w.mutation.getFieldMask(),Ct.now())):u.set(y.key,wr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,w)=>u.set(y,w))),n.forEach(((y,w)=>h.set(y,new JA(w,u.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Gc();let o=new Ot(((u,h)=>u-h)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const y=n.get(f);if(y===null)return;let w=r.get(f)||wr.empty();w=h.applyToLocalView(y,w),r.set(f,w);const b=(o.get(h.batchId)||Xe()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,w=f.value,b=f1();w.forEach((C=>{if(!a.has(C)){const k=_1(n.get(C),r.get(C));k!==null&&b.set(C,k),a=a.add(C)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ne.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ne.resolve(na());let h=eu,f=a;return u.next((y=>ne.forEach(y,((w,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{f=f.insert(w,C)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,Xe()))).next((w=>({batchId:h,changes:h1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let o=Fc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=Fc();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const y=(function(b,C){return new gu(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((w=>{w.forEach(((b,C)=>{u=u.insert(b,C)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((u=>{a.forEach(((f,y)=>{const w=y.getKey();u.get(w)===null&&(u=u.insert(w,Dn.newInvalidDocument(w)))}));let h=Fc();return u.forEach(((f,y)=>{const w=a.get(f);w!==void 0&&Kc(w.mutation,y,wr.empty(),Ct.now()),uf(n,y)&&(h=h.insert(f,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ns(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:UA(o.bundledQuery),readTime:Ns(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new Ot(Te.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=na();return ne.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const o=na(),a=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Ot(((y,w)=>y-w));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let w=a.get(y.largestBatchId);w===null&&(w=na(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=na(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,w)=>h.set(y,w))),!(h.size()>=o)););return ne.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new yA(n,r));let a=this.qr.get(n);a===void 0&&(a=Xe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.Qr=new cn(mn.$r),this.Ur=new cn(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new yt([])),r=new mn(n,e),o=new mn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new yt([])),r=new mn(n,e),o=new mn(n,e+1);let a=Xe();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(mn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new gA(a,n,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new mn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Wg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),o=new mn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(Ye);return n.forEach((o=>{const a=new mn(o,0),u=new mn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const u=new mn(new Te(a),0);let h=new cn(Ye);return this.Zr.forEachWhile((f=>{const y=f.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(f.Yr)),!0)}),u),ne.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(o=>{const a=new mn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new mn(n,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Dn.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=_i();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:w}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||NP(AP(w),r)<=0||(o.has(w.key)||uf(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Ne(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new r2(this)}getSize(e){return ne.resolve(this.size)}}class r2 extends QA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.persistence=e,this.si=new ba((n=>Qg(n)),Jg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new ry,this.targetCount=0,this.ai=Al.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new e2,this.referenceDelegate=e(this),this.Pi=new s2(this),this.indexManager=new BA,this.remoteDocumentCache=(function(o){return new n2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $A(n),this.Ii=new XA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new t2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new i2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class i2 extends OP{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Ri=new ry,this.Vi=null}static mi(e){return new sy(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new ba((r=>VP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=KA(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ne.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,a.removeEntry(u,Ve.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Xe(),o=Xe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new iy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OI()?8:LP(Ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new o2;return this.Ss(e,n,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(fl()<=Je.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(fl()<=Je.DEBUG&&ge("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(fl()<=Je.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):ne.resolve())}ys(e,n){if(f0(n))return ne.resolve(null);let r=As(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tg(n,null,"F"),r=As(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Xe(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const y=this.Ds(n,h);return this.Cs(n,y,u,f.readTime)?this.ys(e,tg(n,null,"F")):this.vs(e,y,n,f)}))))})))))}ws(e,n,r,o){return f0(n)||o.isEqual(Ve.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,o)?ne.resolve(null):(fl()<=Je.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pl(n)),this.vs(e,u,n,PP(o,eu)).next((h=>h)))}))}Ds(e,n){let r=new cn(u1(e));return n.forEach(((o,a)=>{uf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return fl()<=Je.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",pl(n)),this.ps.getDocumentsMatchingQuery(e,n,po.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",l2=3e8;class c2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ot(Ye),this.xs=new ba((a=>Qg(a)),Jg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function u2(t,e,n,r){return new c2(t,e,n,r)}async function O1(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=Xe();for(const y of o){u.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}for(const y of a){h.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}return n.localDocuments.getDocuments(r,f).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:h})))}))}))}function d2(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,y,w){const b=y.batch,C=b.keys();let k=ne.resolve();return C.forEach((D=>{k=k.next((()=>w.getEntry(f,D))).next((j=>{const O=y.docVersions.get(D);ut(O!==null,48541),j.version.compareTo(O)<0&&(b.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),w.addEntry(j)))}))})),k.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Xe();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(f=f.add(h.batch.mutations[y].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function L1(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function h2(t,e){const n=$e(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((w,b)=>{const C=o.get(b);if(!C)return;h.push(n.Pi.removeMatchingKeys(a,w.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,w.addedDocuments,b))));let k=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Sn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):w.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(w.resumeToken,r)),o=o.insert(b,k),(function(j,O,K){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=l2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(C,k,w)&&h.push(n.Pi.updateTargetData(a,k))}));let f=_i(),y=Xe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(f2(a,u,e.documentUpdates).next((w=>{f=w.ks,y=w.qs}))),!r.isEqual(Ve.min())){const w=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return ne.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function f2(t,e,n){let r=Xe(),o=Xe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=_i();return n.forEach(((h,f)=>{const y=a.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge(oy,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function p2(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function m2(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,ne.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new so(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function og(t,e,n){const r=$e(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Hl(u))throw u;ge(oy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function I0(t,e,n){const r=$e(t);let o=Ve.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,y,w){const b=$e(f),C=b.xs.get(w);return C!==void 0?ne.resolve(b.Ms.get(C)):b.Pi.getTargetData(y,w)})(r,u,As(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Ve.min(),n?a:Xe()))).next((h=>(g2(r,nA(e),h),{documents:h,Qs:a})))))}function g2(t,e,n){let r=t.Os.get(e)||Ve.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class x0{constructor(){this.activeTargetIds=lA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y2{constructor(){this.Mo=new x0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new x0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(k0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function ag(){return Ud===null?Ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",v2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const u=ag(),h=this.zo(e,n.toUriEncodedString());ge(Cm,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:y}=new URL(h),w=va(y);return this.Jo(e,h,f,r,w).then((b=>(ge(Cm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Sl(Cm,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,u){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=v2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class b2 extends _2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const u=ag();return new Promise(((h,f)=>{const y=new Vb;y.setWithCredentials(!0),y.listenOnce(jb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zd.NO_ERROR:const b=y.getResponseJson();ge(An,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Zd.TIMEOUT:ge(An,`RPC '${e}' ${u} timed out`),f(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const C=y.getStatus();if(ge(An,`RPC '${e}' ${u} failed with status:`,C,"response text:",y.getResponseText()),C>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const D=k?.error;if(D&&D.status&&D.message){const j=(function(K){const H=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN})(D.status);f(new pe(j,D.message))}else f(new pe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(An,`RPC '${e}' ${u} completed.`)}}));const w=JSON.stringify(o);ge(An,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",w,r,15)}))}T_(e,n,r){const o=ag(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ub(),h=$b(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const w=a.join("");ge(An,`Creating RPC '${e}' stream ${o}: ${w}`,f);const b=u.createWebChannel(w,f);this.I_(b);let C=!1,k=!1;const D=new E2({Yo:O=>{k?ge(An,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(C||(ge(An,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),ge(An,`RPC '${e}' stream ${o} sending:`,O),b.send(O))},Zo:()=>b.close()}),j=(O,K,H)=>{O.listen(K,(J=>{try{H(J)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return j(b,jc.EventType.OPEN,(()=>{k||(ge(An,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),j(b,jc.EventType.CLOSE,(()=>{k||(k=!0,ge(An,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(b))})),j(b,jc.EventType.ERROR,(O=>{k||(k=!0,Sl(An,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),D.a_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),j(b,jc.EventType.MESSAGE,(O=>{if(!k){const K=O.data[0];ut(!!K,16349);const H=K,J=H?.error||H[0]?.error;if(J){ge(An,`RPC '${e}' stream ${o} received error:`,J);const ee=J.status;let de=(function(T){const R=Yt[T];if(R!==void 0)return b1(R)})(ee),se=J.message;de===void 0&&(de=te.INTERNAL,se="Unknown error status: "+ee+" with message "+J.message),k=!0,D.a_(new pe(de,se)),b.close()}else ge(An,`RPC '${e}' stream ${o} received:`,K),D.u_(K)}})),j(h,Fb.STAT_EVENT,(O=>{O.stat===Km.PROXY?ge(An,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Km.NOPROXY&&ge(An,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return new IA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="PersistentStream";class V1{constructor(e,n,r,o,a,u,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(P0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class C2 extends V1{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Ns(u.readTime):Ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ig(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=Zm(f)?{documents:NA(a,f)}:{query:DA(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=S1(a,u.resumeToken);const y=ng(a,u.expectedCount);y!==null&&(h.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ve.min())>0){h.readTime=kh(a,u.snapshotVersion.toTimestamp());const y=ng(a,u.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=LA(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ig(this.serializer),n.removeTarget=e,this.q_(n)}}class T2 extends V1{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AA(e.writeResults,e.commitTime),r=Ns(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>PA(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{}class I2 extends S2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,rg(n,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(te.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,rg(n,r),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class x2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class k2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ca(this)&&(ge(fa,"Restarting streams for network reachability change."),await(async function(f){const y=$e(f);y.Ea.add(4),await vu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gf(y)})(this))}))})),this.Ra=new x2(r,o)}}async function gf(t){if(Ca(t))for(const e of t.da)await e(!0)}async function vu(t){for(const e of t.da)await e(!1)}function j1(t,e){const n=$e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uy(n)?cy(n):ql(n).O_()&&ly(n,e))}function ay(t,e){const n=$e(t),r=ql(n);n.Ia.delete(e),r.O_()&&F1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ca(n)&&n.Ra.set("Unknown"))}function ly(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ql(t).Y_(e)}function F1(t,e){t.Va.Ue(e),ql(t).Z_(e)}function cy(t){t.Va=new bA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ql(t).start(),t.Ra.ua()}function uy(t){return Ca(t)&&!ql(t).x_()&&t.Ia.size>0}function Ca(t){return $e(t).Ea.size===0}function $1(t){t.Va=void 0}async function R2(t){t.Ra.set("Online")}async function P2(t){t.Ia.forEach(((e,n)=>{ly(t,e)}))}async function A2(t,e){$1(t),uy(t)?(t.Ra.ha(e),cy(t)):t.Ra.set("Unknown")}async function N2(t,e,n){if(t.Ra.set("Online"),e instanceof T1&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){ge(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(t,r)}else if(e instanceof rh?t.Va.Ze(e):e instanceof C1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const r=await L1(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=a.Ia.get(y);w&&a.Ia.set(y,w.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,y)=>{const w=a.Ia.get(f);if(!w)return;a.Ia.set(f,w.withResumeToken(Sn.EMPTY_BYTE_STRING,w.snapshotVersion)),F1(a,f);const b=new so(w.target,f,y,w.sequenceNumber);ly(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ge(fa,"Failed to raise snapshot:",r),await Ph(t,r)}}async function Ph(t,e,n){if(!Hl(e))throw e;t.Ea.add(1),await vu(t),t.Ra.set("Offline"),n||(n=()=>L1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(fa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gf(t)}))}function U1(t,e){return e().catch((n=>Ph(t,n,e)))}async function yf(t){const e=$e(t),n=wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wg;for(;D2(e);)try{const o=await p2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,O2(e,o)}catch(o){await Ph(e,o)}B1(e)&&z1(e)}function D2(t){return Ca(t)&&t.Ta.length<10}function O2(t,e){t.Ta.push(e);const n=wo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function B1(t){return Ca(t)&&!wo(t).x_()&&t.Ta.length>0}function z1(t){wo(t).start()}async function L2(t){wo(t).ra()}async function M2(t){const e=wo(t);for(const n of t.Ta)e.ea(n.mutations)}async function V2(t,e,n){const r=t.Ta.shift(),o=ey.from(r,e,n);await U1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await yf(t)}async function j2(t,e){e&&wo(t).X_&&await(async function(r,o){if((function(u){return vA(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();wo(r).B_(),await U1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await yf(r)}})(t,e),B1(t)&&z1(t)}async function A0(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),ge(fa,"RemoteStore received new credentials");const r=Ca(n);n.Ea.add(3),await vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gf(n)}async function F2(t,e){const n=$e(t);e?(n.Ea.delete(2),await gf(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function ql(t){return t.ma||(t.ma=(function(n,r,o){const a=$e(n);return a.sa(),new C2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:R2.bind(null,t),t_:P2.bind(null,t),r_:A2.bind(null,t),H_:N2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),uy(t)?cy(t):t.Ra.set("Unknown")):(await t.ma.stop(),$1(t))}))),t.ma}function wo(t){return t.fa||(t.fa=(function(n,r,o){const a=$e(n);return a.sa(),new T2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:L2.bind(null,t),r_:j2.bind(null,t),ta:M2.bind(null,t),na:V2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await yf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,h=new dy(e,n,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(vi("AsyncQueue",`${e}: ${t}`),Hl(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.ga=new Ot(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Nl{constructor(e,n,r,o,a,u,h,f,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Nl(e,n,El.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class U2{constructor(){this.queries=D0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=$e(n),a=o.queries;o.queries=D0(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function D0(){return new ba((t=>c1(t)),cf)}async function H1(t,e){const n=$e(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new $2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=hy(u,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&fy(n)}async function q1(t,e){const n=$e(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B2(t,e){const n=$e(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&fy(n)}function z2(t,e,n){const r=$e(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function fy(t){t.Ca.forEach((e=>{e.next()}))}var lg,O0;(O0=lg||(lg={})).Ma="default",O0.Cache="cache";class W1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.key=e}}class K1{constructor(e){this.key=e}}class H2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=u1(e),this.tu=new El(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new N0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,b)=>{const C=o.get(w),k=uf(this.query,b)?b:null,D=!!C&&this.mutatedKeys.has(C.key),j=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let O=!1;C&&k?C.data.isEqual(k.data)?D!==j&&(r.track({type:3,doc:k}),O=!0):this.su(C,k)||(r.track({type:2,doc:k}),O=!0,(f&&this.eu(k,f)>0||y&&this.eu(k,y)<0)&&(h=!0)):!C&&k?(r.track({type:0,doc:k}),O=!0):C&&!k&&(r.track({type:1,doc:C}),O=!0,(f||y)&&(h=!0)),O&&(k?(u=u.add(k),a=j?a.add(w):a.delete(w)):(u=u.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((w,b)=>(function(k,D){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:O})}};return j(k)-j(D)})(w.type,b.type)||this.eu(w.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,y=f!==this.Za;return this.Za=f,u.length!==0||y?{snapshot:new Nl(this.query,e.tu,a,u,e.mutatedKeys,f===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new K1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new G1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const py="SyncEngine";class q2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W2{constructor(e){this.key=e,this.hu=!1}}class G2{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ba((h=>c1(h)),cf),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Te.comparator),this.Au=new Map,this.Ru=new ry,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K2(t,e,n=!0){const r=eC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await Q1(r,e,n,!0),o}async function Q2(t,e){const n=eC(t);await Q1(n,e,!0,!1)}async function Q1(t,e,n,r){const o=await m2(t.localStore,As(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await J2(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&j1(t.remoteStore,o),h}async function J2(t,e,n,r,o){t.pu=(b,C,k)=>(async function(j,O,K,H){let J=O.view.ru(K);J.Cs&&(J=await I0(j.localStore,O.query,!1).then((({documents:P})=>O.view.ru(P,J))));const ee=H&&H.targetChanges.get(O.targetId),de=H&&H.targetMismatches.get(O.targetId)!=null,se=O.view.applyChanges(J,j.isPrimaryClient,ee,de);return M0(j,O.targetId,se.au),se.snapshot})(t,b,C,k);const a=await I0(t.localStore,e,!0),u=new H2(e,a.Qs),h=u.ru(a.documents),f=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=u.applyChanges(h,t.isPrimaryClient,f);M0(t,n,y.au);const w=new q2(e,n,u);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function Y2(t,e,n){const r=$e(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!cf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await og(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ay(r.remoteStore,o.targetId),cg(r,o.targetId)})).catch(zl)):(cg(r,o.targetId),await og(r.localStore,o.targetId,!0))}async function X2(t,e){const n=$e(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function Z2(t,e,n){const r=oN(t);try{const o=await(function(u,h){const f=$e(u),y=Ct.now(),w=h.reduce(((k,D)=>k.add(D.key)),Xe());let b,C;return f.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let D=_i(),j=Xe();return f.Ns.getEntries(k,w).next((O=>{D=O,D.forEach(((K,H)=>{H.isValidDocument()||(j=j.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(k,D))).next((O=>{b=O;const K=[];for(const H of h){const J=pA(H,b.get(H.key).overlayedDocument);J!=null&&K.push(new Eo(H.key,J,t1(J.value.mapValue),rs.exists(!0)))}return f.mutationQueue.addMutationBatch(k,y,K,h)})).next((O=>{C=O;const K=O.applyToLocalDocumentSet(b,j);return f.documentOverlayCache.saveOverlays(k,O.batchId,K)}))})).then((()=>({batchId:C.batchId,changes:h1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let y=u.Vu[u.currentUser.toKey()];y||(y=new Ot(Ye)),y=y.insert(h,f),u.Vu[u.currentUser.toKey()]=y})(r,o.batchId,n),await _u(r,o.changes),await yf(r.remoteStore)}catch(o){const a=hy(o,"Failed to persist write");n.reject(a)}}async function J1(t,e){const n=$e(t);try{const r=await h2(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ut(u.hu,14607):o.removedDocuments.size>0&&(ut(u.hu,42227),u.hu=!1))})),await _u(n,r,e)}catch(r){await zl(r)}}function L0(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=$e(u);f.onlineState=h;let y=!1;f.queries.forEach(((w,b)=>{for(const C of b.Sa)C.va(h)&&(y=!0)})),y&&fy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eN(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new Ot(Te.comparator);u=u.insert(a,Dn.newNoDocument(a,Ve.min()));const h=Xe().add(a),f=new pf(Ve.min(),new Map,new Ot(Ye),u,h);await J1(r,f),r.du=r.du.remove(a),r.Au.delete(e),my(r)}else await og(r.localStore,e,!1).then((()=>cg(r,e,n))).catch(zl)}async function tN(t,e){const n=$e(t),r=e.batch.batchId;try{const o=await d2(n.localStore,e);X1(n,r,null),Y1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,o)}catch(o){await zl(o)}}async function nN(t,e,n){const r=$e(t);try{const o=await(function(u,h){const f=$e(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return f.mutationQueue.lookupMutationBatch(y,h).next((b=>(ut(b!==null,37113),w=b.keys(),f.mutationQueue.removeMutationBatch(y,b)))).next((()=>f.mutationQueue.performConsistencyCheck(y))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>f.localDocuments.getDocuments(y,w)))}))})(r.localStore,e);X1(r,e,n),Y1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,o)}catch(o){await zl(o)}}function Y1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function X1(t,e,n){const r=$e(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Z1(t,r)}))}function Z1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),my(t))}function M0(t,e,n){for(const r of n)r instanceof G1?(t.Ru.addReference(r.key,e),rN(t,r)):r instanceof K1?(ge(py,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Z1(t,r.key)):Ne(19791,{wu:r})}function rN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(py,"New document in limbo: "+n),t.Eu.add(r),my(t))}function my(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(yt.fromString(e)),r=t.fu.next();t.Au.set(r,new W2(n)),t.du=t.du.insert(n,r),j1(t.remoteStore,new so(As(Yg(n.path)),r,"TargetPurposeLimboResolution",of.ce))}}async function _u(t,e,n){const r=$e(t),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(y){o.push(y);const w=iy.As(f.targetId,y);a.push(w)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,y){const w=$e(f);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(y,(C=>ne.forEach(C.Es,(k=>w.persistence.referenceDelegate.addReference(b,C.targetId,k))).next((()=>ne.forEach(C.ds,(k=>w.persistence.referenceDelegate.removeReference(b,C.targetId,k)))))))))}catch(b){if(!Hl(b))throw b;ge(oy,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const k=w.Ms.get(C),D=k.snapshotVersion,j=k.withLastLimboFreeSnapshotVersion(D);w.Ms=w.Ms.insert(C,j)}}})(r.localStore,a))}async function sN(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){ge(py,"User change. New user:",e.toKey());const r=await O1(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new pe(te.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ls)}}function iN(t,e){const n=$e(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function eC(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eN.bind(null,e),e.Pu.H_=B2.bind(null,e.eventManager),e.Pu.yu=z2.bind(null,e.eventManager),e}function oN(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return u2(this.persistence,new a2,e.initialUser,this.serializer)}Cu(e){return new D1(sy.mi,this.serializer)}Du(e){return new y2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class aN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WA(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new D1((r=>Rh.mi(r,n)),this.serializer)}}class ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>L0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await F2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new U2})()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),r=(function(a){return new b2(a)})(e.databaseInfo);return(function(a,u,h,f){return new I2(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,u,h){return new k2(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>L0(this.syncEngine,n,0)),(function(){return R0.v()?new R0:new w2})())}createSyncEngine(e,n){return(function(o,a,u,h,f,y,w){const b=new G2(o,a,u,h,f,y);return w&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=$e(n);ge(fa,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="FirestoreClient";class lN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Nn.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ge(vo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ge(vo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress(),ge(vo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await O1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function V0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cN(t);ge(vo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>A0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>A0(e.remoteStore,o))),t._onlineComponents=e}async function cN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(vo,"Using user provided OfflineComponentProvider");try{await Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Sl("Error using user provided cache. Falling back to memory cache: "+n),await Sm(t,new Ah)}}else ge(vo,"Using default OfflineComponentProvider"),await Sm(t,new aN(void 0));return t._offlineComponents}async function nC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(vo,"Using user provided OnlineComponentProvider"),await V0(t,t._uninitializedComponentsProvider._online)):(ge(vo,"Using default OnlineComponentProvider"),await V0(t,new ug))),t._onlineComponents}function uN(t){return nC(t).then((e=>e.syncEngine))}async function rC(t){const e=await nC(t),n=e.eventManager;return n.onListen=K2.bind(null,e.syncEngine),n.onUnlisten=Y2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X2.bind(null,e.syncEngine),n}function dN(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const w=new tC({next:C=>{w.Nu(),u.enqueueAndForget((()=>q1(a,b)));const k=C.docs.has(h);!k&&C.fromCache?y.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&C.fromCache&&f&&f.source==="server"?y.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new W1(Yg(h.path),w,{includeMetadataChanges:!0,qa:!0});return H1(a,b)})(await rC(t),t.asyncQueue,e,n,r))),r.promise}function hN(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,y){const w=new tC({next:C=>{w.Nu(),u.enqueueAndForget((()=>q1(a,b))),C.fromCache&&f.source==="server"?y.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new W1(h,w,{includeMetadataChanges:!0,qa:!0});return H1(a,b)})(await rC(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firestore.googleapis.com",F0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iC,this.ssl=F0}else this.host=e.host,this.ssl=e.ssl??F0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HA)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vP;switch(r.type){case"firstParty":return new CP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=j0.get(n);r&&(ge("ComponentProvider","Removing Datastore"),j0.delete(n),r.terminate())})(this),Promise.resolve()}}function fN(t,e,n,r={}){t=Ls(t,wf);const o=va(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(Rg(`https://${h}`),Pg("Firestore",!0)),a.host!==iC&&a.host!==h&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!gi(f,u)&&(t._setSettings(f),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=Nn.MOCK_USER;else{y=KE(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Nn(b)}t._authCredentials=new _P(new zb(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wl(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mu(n,qt._jsonSchema))return new qt(e,r||null,new Te(yt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:nn("string",qt._jsonSchemaVersion),referencePath:nn("string")};class uo extends Wl{constructor(e,n,r){super(e,n,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Te(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function pa(t,e,...n){if(t=At(t),Hb("collection","path",e),t instanceof wf){const r=yt.fromString(e,...n);return Z_(r),new uo(t,null,r)}{if(!(t instanceof qt||t instanceof uo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return Z_(r),new uo(t.firestore,null,r)}}function Rt(t,e,...n){if(t=At(t),arguments.length===1&&(e=qg.newId()),Hb("doc","path",e),t instanceof wf){const r=yt.fromString(e,...n);return X_(r),new qt(t,null,new Te(r))}{if(!(t instanceof qt||t instanceof uo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return X_(r),new qt(t.firestore,t instanceof uo?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M1(this,"async_queue_retry"),this._c=()=>{const r=Tm();r&&ge(U0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hl(e))throw e;ge(U0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=dy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function z0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Gl extends wf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new B0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function as(t,e){const n=typeof t=="object"?t:Dg(),r=typeof t=="string"?t:Th,o=Xh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=qE("firestore");a&&fN(o,...a)}return o}function gy(t){if(t._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pN(t),t._firestoreClient}function pN(t){const e=t._freezeSettings(),n=(function(o,a,u,h){return new $P(o,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(Sn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lr(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:nn("string",Lr._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Ds._jsonSchema))return new Ds(e.latitude,e.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:nn("string",Ds._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Os(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Os._jsonSchemaVersion="firestore/vectorValue/1.0",Os._jsonSchema={type:nn("string",Os._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^__.*__$/;class gN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class oC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class _f{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _f({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aC(this.Ac)&&mN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mf(e)}Cc(e,n,r,o=!1){return new _f({Ac:e,methodName:n,Dc:r,path:Tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yy(t){const e=t._freezeSettings(),n=mf(t._databaseId);return new yN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wN(t,e,n,r,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);by("Data must be an object, but it was:",u,r);const h=cC(r,u);let f,y;if(a.merge)f=new wr(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const w=[];for(const b of a.mergeFields){const C=dg(e,b,n);if(!u.contains(C))throw new pe(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);dC(w,C)||w.push(C)}f=new wr(w),y=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,y=u.fieldTransforms;return new gN(new sr(h),f,y)}class Ef extends Ta{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function lC(t,e,n){return new _f({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wy extends Ta{_toFieldTransform(e){return new hf(e.path,new su)}isEqual(e){return e instanceof wy}}class vy extends Ta{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=lC(this,e,!0),r=this.vc.map((a=>Sa(a,n))),o=new Rl(r);return new hf(e.path,o)}isEqual(e){return e instanceof vy&&gi(this.vc,e.vc)}}class _y extends Ta{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=lC(this,e,!0),r=this.vc.map((a=>Sa(a,n))),o=new Pl(r);return new hf(e.path,o)}isEqual(e){return e instanceof _y&&gi(this.vc,e.vc)}}class Ey extends Ta{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new iu(e.serializer,m1(e.serializer,this.Fc));return new hf(e.path,n)}isEqual(e){return e instanceof Ey&&this.Fc===e.Fc}}function vN(t,e,n,r){const o=t.Cc(1,e,n);by("Data must be an object, but it was:",o,r);const a=[],u=sr.empty();_o(r,((f,y)=>{const w=Cy(e,f,n);y=At(y);const b=o.yc(w);if(y instanceof Ef)a.push(w);else{const C=Sa(y,b);C!=null&&(a.push(w),u.set(w,C))}}));const h=new wr(a);return new oC(u,h,o.fieldTransforms)}function _N(t,e,n,r,o,a){const u=t.Cc(1,e,n),h=[dg(e,r,n)],f=[o];if(a.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(dg(e,a[C])),f.push(a[C+1]);const y=[],w=sr.empty();for(let C=h.length-1;C>=0;--C)if(!dC(y,h[C])){const k=h[C];let D=f[C];D=At(D);const j=u.yc(k);if(D instanceof Ef)y.push(k);else{const O=Sa(D,j);O!=null&&(y.push(k),w.set(k,O))}}const b=new wr(y);return new oC(w,b,u.fieldTransforms)}function EN(t,e,n,r=!1){return Sa(n,t.Cc(r?4:3,e))}function Sa(t,e){if(uC(t=At(t)))return by("Unsupported field value:",e,t),cC(t,e);if(t instanceof Ta)return(function(r,o){if(!aC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=Sa(h,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:kh(o.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(o.serializer,a)}}if(r instanceof Ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lr)return{bytesValue:S1(o.serializer,r._byteString)};if(r instanceof qt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ny(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Os)return(function(u,h){return{mapValue:{fields:{[Zb]:{stringValue:e1},[Sh]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return Xg(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${sf(r)}`)})(t,e)}function cC(t,e){const n={};return Gb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,((r,o)=>{const a=Sa(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function uC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Ds||t instanceof Lr||t instanceof qt||t instanceof Ta||t instanceof Os)}function by(t,e,n){if(!uC(n)||!qb(n)){const r=sf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function dg(t,e,n){if((e=At(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Cy(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const bN=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(bN)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(te.INVALID_ARGUMENT,h+t+f)}function dC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CN extends hC{data(){return super.data()}}function Ty(t,e){return typeof e=="string"?Cy(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sy{}class SN extends Sy{}function bf(t,e,...n){let r=[];e instanceof Sy&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof Iy)).length,h=a.filter((f=>f instanceof Cf)).length;if(u>1||u>0&&h>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Cf extends SN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cf(e,n,r)}_apply(e){const n=this._parse(e);return fC(e._query,n),new Wl(e.firestore,e.converter,eg(e._query,n))}_parse(e){const n=yy(e.firestore);return(function(a,u,h,f,y,w,b){let C;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){q0(b,w);const D=[];for(const j of b)D.push(H0(f,a,j));C={arrayValue:{values:D}}}else C=H0(f,a,b)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||q0(b,w),C=EN(h,u,b,w==="in"||w==="not-in");return en.create(y,w,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tf(t,e,n){const r=e,o=Ty("where",t);return Cf._create(o,r,n)}class Iy extends Sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)fC(u,f),u=eg(u,f)})(e._query,n),new Wl(e.firestore,e.converter,eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function H0(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!Te.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a0(t,new Te(r))}if(n instanceof qt)return a0(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function q0(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fC(t,e){const n=(function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IN{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Sh].arrayValue?.values?.map((r=>Ht(r.doubleValue)));return new Os(n)}convertGeoPoint(e){return new Ds(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=mo(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);ut(A1(r),9688,{name:e});const o=new nu(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return o.isEqual(n)||vi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends hC{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ty("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:nn("string",sa._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class sh extends sa{data(e={}){return super.data(e)}}class bl{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new sh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new sh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return h.type!==0&&(y=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),w=u.indexOf(h.doc.key)),{type:kN(h.type),doc:f,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){t=Ls(t,qt);const e=Ls(t.firestore,Gl);return dN(gy(e),t._key).then((n=>PN(e,t,n)))}bl._jsonSchemaVersion="firestore/querySnapshot/1.0",bl._jsonSchema={type:nn("string",bl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class pC extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function ma(t){t=Ls(t,Wl);const e=Ls(t.firestore,Gl),n=gy(e),r=new pC(e);return TN(t._query),hN(n,t._query).then((o=>new bl(e,r,t,o)))}function hg(t,e,n){t=Ls(t,qt);const r=Ls(t.firestore,Gl),o=xN(t.converter,e,n);return xy(r,[wN(yy(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,rs.none())])}function yr(t,e,n,...r){t=Ls(t,qt);const o=Ls(t.firestore,Gl),a=yy(o);let u;return u=typeof(e=At(e))=="string"||e instanceof vf?_N(a,"updateDoc",t._key,e,n,r):vN(a,"updateDoc",t._key,e),xy(o,[u.toMutation(t._key,rs.exists(!0))])}function RN(t){return xy(Ls(t.firestore,Gl),[new Zg(t._key,rs.none())])}function xy(t,e){return(function(r,o){const a=new fi;return r.asyncQueue.enqueueAndForget((async()=>Z2(await uN(r),o,a))),a.promise})(gy(t),e)}function PN(t,e,n){const r=n.docs.get(e._key),o=new pC(t);return new sa(t,o,e._key,r,new Uc(n.hasPendingWrites,n.fromCache),e.converter)}function AN(){return new wy("serverTimestamp")}function mC(...t){return new vy("arrayUnion",t)}function gC(...t){return new _y("arrayRemove",t)}function ih(t){return new Ey("increment",t)}(function(e,n=!0){(function(o){Bl=o})(_a),la(new fo("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Gl(new EP(r.getProvider("auth-internal")),new TP(u,r.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(y.options.projectId,w)})(u,o),u);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Rs(K_,Q_,e),Rs(K_,Q_,"esm2020")})();var NN="firebase",DN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(NN,DN,"app");const ON={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},_r=YE(ON);as(_r);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W0="popstate";function LN(t={}){function e(o,a){let{pathname:u="/",search:h="",hash:f=""}=Ia(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),fg("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=o.location.href,y=f.indexOf("#");h=y===-1?f:f.slice(0,y)}return h+"#"+(typeof a=="string"?a:ou(a))}function r(o,a){jr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return VN(e,n,r,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substring(2,10)}function G0(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ia(e):e,state:n,key:e&&e.key||r||MN()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ia(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,y=w();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function w(){return(u.state||{idx:null}).idx}function b(){h="POP";let O=w(),K=O==null?null:O-y;y=O,f&&f({action:h,location:j.location,delta:K})}function C(O,K){h="PUSH";let H=fg(j.location,O,K);n&&n(H,O),y=w()+1;let J=G0(H,y),ee=j.createHref(H);try{u.pushState(J,"",ee)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ee)}a&&f&&f({action:h,location:j.location,delta:1})}function k(O,K){h="REPLACE";let H=fg(j.location,O,K);n&&n(H,O),y=w();let J=G0(H,y),ee=j.createHref(H);u.replaceState(J,"",ee),a&&f&&f({action:h,location:j.location,delta:0})}function D(O){return jN(O)}let j={get action(){return h},get location(){return t(o,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(W0,b),f=O,()=>{o.removeEventListener(W0,b),f=null}},createHref(O){return e(o,O)},createURL:D,encodeLocation(O){let K=D(O);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:C,replace:k,go(O){return u.go(O)}};return j}function jN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ou(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yC(t,e,n="/"){return FN(t,e,n,!1)}function FN(t,e,n,r){let o=typeof e=="string"?Ia(e):e,a=Ei(o.pathname||"/",n);if(a==null)return null;let u=wC(t);$N(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let y=YN(a);h=QN(u[f],y,r)}return h}function wC(t,e=[],n=[],r="",o=!1){let a=(u,h,f=o,y)=>{let w={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&f)return;Pt(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let b=pi([r,w.relativePath]),C=n.concat(w);u.children&&u.children.length>0&&(Pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),wC(u.children,e,C,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:GN(b,u.index),routesMeta:C})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of vC(u.path))a(u,h,!0,f)}),e}function vC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=vC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function $N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UN=/^:[\w-]+$/,BN=3,zN=2,HN=1,qN=10,WN=-2,K0=t=>t==="*";function GN(t,e){let n=t.split("/"),r=n.length;return n.some(K0)&&(r+=WN),e&&(r+=zN),n.filter(o=>!K0(o)).reduce((o,a)=>o+(UN.test(a)?BN:a===""?HN:qN),r)}function KN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function QN(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],y=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",b=Dh({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},w),C=f.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=Dh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},w)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:pi([a,b.pathname]),pathnameBase:tD(pi([a,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(a=pi([a,b.pathnameBase]))}return u}function Dh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:w,isOptional:b},C)=>{if(w==="*"){let D=h[C]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const k=h[C];return b&&!k?y[w]=void 0:y[w]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:t}}function JN(t,e=!1,n=!0){jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function YN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ia(t):t;return{pathname:n?n.startsWith("/")?n:ZN(n,e):e,search:nD(r),hash:rD(o)}}function ZN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t){let e=eD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ry(t,e,n,r=!1){let o;typeof t=="string"?o=Ia(t):(o={...t},Pt(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),Pt(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),Pt(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}h=b>=0?e[b]:"/"}let f=XN(o,h),y=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||w)&&(f.pathname+="/"),f}var pi=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _C=["POST","PUT","PATCH","DELETE"];new Set(_C);var iD=["GET",..._C];new Set(iD);var Kl=S.createContext(null);Kl.displayName="DataRouter";var Sf=S.createContext(null);Sf.displayName="DataRouterState";S.createContext(!1);var EC=S.createContext({isTransitioning:!1});EC.displayName="ViewTransition";var oD=S.createContext(new Map);oD.displayName="Fetchers";var aD=S.createContext(null);aD.displayName="Await";var ls=S.createContext(null);ls.displayName="Navigation";var Eu=S.createContext(null);Eu.displayName="Location";var cs=S.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var Py=S.createContext(null);Py.displayName="RouteError";function lD(t,{relative:e}={}){Pt(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ls),{hash:o,pathname:a,search:u}=bu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:pi([n,a])),r.createHref({pathname:h,search:u,hash:o})}function Ql(){return S.useContext(Eu)!=null}function bo(){return Pt(Ql(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Eu).location}var bC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CC(t){S.useContext(ls).static||S.useLayoutEffect(t)}function Ay(){let{isDataRoute:t}=S.useContext(cs);return t?bD():cD()}function cD(){Pt(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Kl),{basename:e,navigator:n}=S.useContext(ls),{matches:r}=S.useContext(cs),{pathname:o}=bo(),a=JSON.stringify(ky(r)),u=S.useRef(!1);return CC(()=>{u.current=!0}),S.useCallback((f,y={})=>{if(jr(u.current,bC),!u.current)return;if(typeof f=="number"){n.go(f);return}let w=Ry(f,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:pi([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,a,o,t])}S.createContext(null);function uD(){let{matches:t}=S.useContext(cs),e=t[t.length-1];return e?e.params:{}}function bu(t,{relative:e}={}){let{matches:n}=S.useContext(cs),{pathname:r}=bo(),o=JSON.stringify(ky(n));return S.useMemo(()=>Ry(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function dD(t,e){return TC(t,e)}function TC(t,e,n,r,o){Pt(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(ls),{matches:u}=S.useContext(cs),h=u[u.length-1],f=h?h.params:{},y=h?h.pathname:"/",w=h?h.pathnameBase:"/",b=h&&h.route;{let H=b&&b.path||"";SC(y,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let C=bo(),k;if(e){let H=typeof e=="string"?Ia(e):e;Pt(w==="/"||H.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${H.pathname}" was given in the \`location\` prop.`),k=H}else k=C;let D=k.pathname||"/",j=D;if(w!=="/"){let H=w.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(H.length).join("/")}let O=yC(t,{pathname:j});jr(b||O!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),jr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=gD(O&&O.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:pi([w,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?w:pi([w,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,r,o);return e&&K?S.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},K):K}function hD(){let t=ED(),e=sD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,u)}var fD=S.createElement(hD,null),pD=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(cs.Provider,{value:this.props.routeContext},S.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mD({routeContext:t,match:e,children:n}){let r=S.useContext(Kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(cs.Provider,{value:t},n)}function gD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let y=a.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let w=a[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=y),w.route.id){let{loaderData:b,errors:C}=n,k=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||k){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((y,w,b)=>{let C,k=!1,D=null,j=null;n&&(C=u&&w.route.id?u[w.route.id]:void 0,D=w.route.errorElement||fD,h&&(f<0&&b===0?(SC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):f===b&&(k=!0,j=w.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,b+1)),K=()=>{let H;return C?H=D:k?H=j:w.route.Component?H=S.createElement(w.route.Component,null):w.route.element?H=w.route.element:H=y,S.createElement(mD,{match:w,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:H})};return n&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?S.createElement(pD,{location:n.location,revalidation:n.revalidation,component:D,error:C,children:K(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):K()},null)}function Ny(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yD(t){let e=S.useContext(Kl);return Pt(e,Ny(t)),e}function wD(t){let e=S.useContext(Sf);return Pt(e,Ny(t)),e}function vD(t){let e=S.useContext(cs);return Pt(e,Ny(t)),e}function Dy(t){let e=vD(t),n=e.matches[e.matches.length-1];return Pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _D(){return Dy("useRouteId")}function ED(){let t=S.useContext(Py),e=wD("useRouteError"),n=Dy("useRouteError");return t!==void 0?t:e.errors?.[n]}function bD(){let{router:t}=yD("useNavigate"),e=Dy("useNavigate"),n=S.useRef(!1);return CC(()=>{n.current=!0}),S.useCallback(async(o,a={})=>{jr(n.current,bC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Q0={};function SC(t,e,n){!e&&!Q0[t]&&(Q0[t]=!0,jr(!1,n))}S.memo(CD);function CD({routes:t,future:e,state:n,unstable_onError:r}){return TC(t,void 0,n,r,e)}function dl({to:t,replace:e,state:n,relative:r}){Pt(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(ls);jr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(cs),{pathname:u}=bo(),h=Ay(),f=Ry(t,ky(a),u,r==="path"),y=JSON.stringify(f);return S.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function ea(t){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Pt(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Ia(n));let{pathname:f="/",search:y="",hash:w="",state:b=null,key:C="default"}=n,k=S.useMemo(()=>{let D=Ei(f,u);return D==null?null:{location:{pathname:D,search:y,hash:w,state:b,key:C},navigationType:r}},[u,f,y,w,b,C,r]);return jr(k!=null,`<Router basename="${u}"> is not able to match the URL "${f}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:S.createElement(ls.Provider,{value:h},S.createElement(Eu.Provider,{children:e,value:k}))}function SD({children:t,location:e}){return dD(pg(t),e)}function pg(t,e=[]){let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let a=[...e,o];if(r.type===S.Fragment){n.push.apply(n,pg(r.props.children,a));return}Pt(r.type===ea,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pg(r.props.children,a)),n.push(u)}),n}var oh="get",ah="application/x-www-form-urlencoded";function If(t){return t!=null&&typeof t.tagName=="string"}function ID(t){return If(t)&&t.tagName.toLowerCase()==="button"}function xD(t){return If(t)&&t.tagName.toLowerCase()==="form"}function kD(t){return If(t)&&t.tagName.toLowerCase()==="input"}function RD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PD(t,e){return t.button===0&&(!e||e==="_self")&&!RD(t)}var Bd=null;function AD(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var ND=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(t){return t!=null&&!ND.has(t)?(jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):t}function DD(t,e){let n,r,o,a,u;if(xD(t)){let h=t.getAttribute("action");r=h?Ei(h,e):null,n=t.getAttribute("method")||oh,o=xm(t.getAttribute("enctype"))||ah,a=new FormData(t)}else if(ID(t)||kD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ei(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||oh,o=xm(t.getAttribute("formenctype"))||xm(h.getAttribute("enctype"))||ah,a=new FormData(h,t),!AD()){let{name:y,type:w,value:b}=t;if(w==="image"){let C=y?`${y}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else y&&a.append(y,b)}}else{if(If(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,r=null,o=ah,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function LD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VD(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await LD(a,n);return u.links?u.links():[]}return[]}));return UD(r.flat(1).filter(MD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function J0(t,e,n,r,o,a){let u=(f,y)=>n[y]?f.route.id!==n[y].route.id:!0,h=(f,y)=>n[y].pathname!==f.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,y)=>u(f,y)||h(f,y)):a==="data"?e.filter((f,y)=>{let w=r.routes[f.route.id];if(!w||!w.hasLoader)return!1;if(u(f,y)||h(f,y))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jD(t,e,{includeHydrateFallback:n}={}){return FD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function FD(t){return[...new Set(t)]}function $D(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function UD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify($D(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function IC(){let t=S.useContext(Kl);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BD(){let t=S.useContext(Sf);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=S.createContext(void 0);Ly.displayName="FrameworkContext";function xC(){let t=S.useContext(Ly);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function zD(t,e){let n=S.useContext(Ly),[r,o]=S.useState(!1),[a,u]=S.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:y,onMouseLeave:w,onTouchStart:b}=e,C=S.useRef(null);S.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=K=>{K.forEach(H=>{u(H.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return C.current&&O.observe(C.current),()=>{O.disconnect()}}},[t]),S.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let k=()=>{o(!0)},D=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,C,{}]:[a,C,{onFocus:Oc(h,k),onBlur:Oc(f,D),onMouseEnter:Oc(y,k),onMouseLeave:Oc(w,D),onTouchStart:Oc(b,k)}]:[!1,C,{}]}function Oc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HD({page:t,...e}){let{router:n}=IC(),r=S.useMemo(()=>yC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(WD,{page:t,matches:r,...e}):null}function qD(t){let{manifest:e,routeModules:n}=xC(),[r,o]=S.useState([]);return S.useEffect(()=>{let a=!1;return VD(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function WD({page:t,matches:e,...n}){let r=bo(),{manifest:o,routeModules:a}=xC(),{basename:u}=IC(),{loaderData:h,matches:f}=BD(),y=S.useMemo(()=>J0(t,e,f,o,r,"data"),[t,e,f,o,r]),w=S.useMemo(()=>J0(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,j=!1;if(e.forEach(K=>{let H=o.routes[K.route.id];!H||!H.hasLoader||(!y.some(J=>J.route.id===K.route.id)&&K.route.id in h&&a[K.route.id]?.shouldRevalidate||H.hasClientLoader?j=!0:D.add(K.route.id))}),D.size===0)return[];let O=OD(t,u,"data");return j&&D.size>0&&O.searchParams.set("_routes",e.filter(K=>D.has(K.route.id)).map(K=>K.route.id).join(",")),[O.pathname+O.search]},[u,h,r,o,y,e,t,a]),C=S.useMemo(()=>jD(w,o),[w,o]),k=qD(w);return S.createElement(S.Fragment,null,b.map(D=>S.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),C.map(D=>S.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),k.map(({key:D,link:j})=>S.createElement("link",{key:D,nonce:n.nonce,...j})))}function GD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kC&&(window.__reactRouterVersion="7.8.2")}catch{}function KD({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=LN({window:n,v5Compat:!0}));let o=r.current,[a,u]=S.useState({action:o.action,location:o.location}),h=S.useCallback(f=>{S.startTransition(()=>u(f))},[u]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(TD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var RC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:y,preventScrollReset:w,viewTransition:b,...C},k){let{basename:D}=S.useContext(ls),j=typeof y=="string"&&RC.test(y),O,K=!1;if(typeof y=="string"&&j&&(O=y,kC))try{let R=new URL(window.location.href),L=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Ei(L.pathname,D);L.origin===R.origin&&V!=null?y=V+L.search+L.hash:K=!0}catch{jr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=lD(y,{relative:o}),[J,ee,de]=zD(r,C),se=XD(y,{replace:u,state:h,target:f,preventScrollReset:w,relative:o,viewTransition:b});function P(R){e&&e(R),R.defaultPrevented||se(R)}let T=S.createElement("a",{...C,...de,href:O||H,onClick:K||a?e:P,ref:GD(k,ee),target:f,"data-discover":!j&&n==="render"?"true":void 0});return J&&!j?S.createElement(S.Fragment,null,T,S.createElement(HD,{page:H})):T});Xt.displayName="Link";var QD=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...y},w){let b=bu(u,{relative:y.relative}),C=bo(),k=S.useContext(Sf),{navigator:D,basename:j}=S.useContext(ls),O=k!=null&&rO(b)&&h===!0,K=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,H=C.pathname,J=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(H=H.toLowerCase(),J=J?J.toLowerCase():null,K=K.toLowerCase()),J&&j&&(J=Ei(J,j)||J);const ee=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let de=H===K||!o&&H.startsWith(K)&&H.charAt(ee)==="/",se=J!=null&&(J===K||!o&&J.startsWith(K)&&J.charAt(K.length)==="/"),P={isActive:de,isPending:se,isTransitioning:O},T=de?e:void 0,R;typeof r=="function"?R=r(P):R=[r,de?"active":null,se?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(P):a;return S.createElement(Xt,{...y,"aria-current":T,className:R,ref:w,style:L,to:u,viewTransition:h},typeof f=="function"?f(P):f)});QD.displayName="NavLink";var JD=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=oh,action:h,onSubmit:f,relative:y,preventScrollReset:w,viewTransition:b,...C},k)=>{let D=tO(),j=nO(h,{relative:y}),O=u.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&RC.test(h),H=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let ee=J.nativeEvent.submitter,de=ee?.getAttribute("formmethod")||u;D(ee||J.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:b})};return S.createElement("form",{ref:k,method:O,action:j,onSubmit:r?f:H,...C,"data-discover":!K&&t==="render"?"true":void 0})});JD.displayName="Form";function YD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PC(t){let e=S.useContext(Kl);return Pt(e,YD(t)),e}function XD(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Ay(),f=bo(),y=bu(t,{relative:a});return S.useCallback(w=>{if(PD(w,e)){w.preventDefault();let b=n!==void 0?n:ou(f)===ou(y);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,y,n,r,e,t,o,a,u])}var ZD=0,eO=()=>`__${String(++ZD)}__`;function tO(){let{router:t}=PC("useSubmit"),{basename:e}=S.useContext(ls),n=_D();return S.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:y}=DD(r,e);if(o.navigate===!1){let w=o.fetcherKey||eO();await t.fetch(w,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function nO(t,{relative:e}={}){let{basename:n}=S.useContext(ls),r=S.useContext(cs);Pt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...bu(t||".",{relative:e})},u=bo();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(w=>w==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:pi([n,a.pathname])),ou(a)}function rO(t,{relative:e}={}){let n=S.useContext(EC);Pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PC("useViewTransitionState"),o=bu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dh(o.pathname,u)!=null||Dh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function AC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function sO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Y0(t,e){return t.get(AC(t,e))}function iO(t,e,n){sO(t,e),e.set(t,n)}function oO(t,e,n){return t.set(AC(t,e),n),n}const aO=100,ke={},lO=()=>{ke.previousActiveElement instanceof HTMLElement?(ke.previousActiveElement.focus(),ke.previousActiveElement=null):document.body&&document.body.focus()},cO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ke.restoreFocusTimeout=setTimeout(()=>{lO(),e()},aO),window.scrollTo(n,r)}),NC="swal2-",uO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Z=uO.reduce((t,e)=>(t[e]=NC+e,t),{}),dO=["success","warning","info","question","error"],Oh=dO.reduce((t,e)=>(t[e]=NC+e,t),{}),DC="SweetAlert2:",My=t=>t.charAt(0).toUpperCase()+t.slice(1),zn=t=>{console.warn(`${DC} ${typeof t=="object"?t.join(" "):t}`)},xa=t=>{console.error(`${DC} ${t}`)},X0=[],hO=t=>{X0.includes(t)||(X0.push(t),zn(t))},OC=(t,e=null)=>{hO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},xf=t=>typeof t=="function"?t():t,Vy=t=>t&&typeof t.toPromise=="function",Cu=t=>Vy(t)?t.toPromise():Promise.resolve(t),jy=t=>t&&Promise.resolve(t)===t,Hn=()=>document.body.querySelector(`.${Z.container}`),Tu=t=>{const e=Hn();return e?e.querySelector(t):null},Er=t=>Tu(`.${t}`),at=()=>Er(Z.popup),Jl=()=>Er(Z.icon),fO=()=>Er(Z["icon-content"]),LC=()=>Er(Z.title),Fy=()=>Er(Z["html-container"]),MC=()=>Er(Z.image),$y=()=>Er(Z["progress-steps"]),kf=()=>Er(Z["validation-message"]),Vs=()=>Tu(`.${Z.actions} .${Z.confirm}`),Yl=()=>Tu(`.${Z.actions} .${Z.cancel}`),ka=()=>Tu(`.${Z.actions} .${Z.deny}`),pO=()=>Er(Z["input-label"]),Xl=()=>Tu(`.${Z.loader}`),Su=()=>Er(Z.actions),VC=()=>Er(Z.footer),Rf=()=>Er(Z["timer-progress-bar"]),Uy=()=>Er(Z.close),mO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,By=()=>{const t=at();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(mO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>ir(a))},zy=()=>mi(document.body,Z.shown)&&!mi(document.body,Z["toast-shown"])&&!mi(document.body,Z["no-backdrop"]),Pf=()=>{const t=at();return t?mi(t,Z.toast):!1},gO=()=>{const t=at();return t?t.hasAttribute("data-loading"):!1},br=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},mi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},yO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Z).includes(n)&&!Object.values(Oh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},vr=(t,e,n)=>{if(yO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){zn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}lt(t,r)}},Af=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Z.popup} > .${Z[e]}`);case"checkbox":return t.querySelector(`.${Z.popup} > .${Z.checkbox} input`);case"radio":return t.querySelector(`.${Z.popup} > .${Z.radio} input:checked`)||t.querySelector(`.${Z.popup} > .${Z.radio} input:first-child`);case"range":return t.querySelector(`.${Z.popup} > .${Z.range} input`);default:return t.querySelector(`.${Z.popup} > .${Z.input}`)}},jC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},FC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},lt=(t,e)=>{FC(t,e,!0)},Fr=(t,e)=>{FC(t,e,!1)},io=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&mi(o,e))return o}},ia=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},yn=(t,e="flex")=>{t&&(t.style.display=e)},Mn=t=>{t&&(t.style.display="none")},Hy=(t,e="block")=>{t&&new MutationObserver(()=>{Iu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Z0=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Iu=(t,e,n="flex")=>{e?yn(t,n):Mn(t)},ir=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),wO=()=>!ir(Vs())&&!ir(ka())&&!ir(Yl()),mg=t=>t.scrollHeight>t.clientHeight,vO=(t,e)=>{let n=t;for(;n&&n!==e;){if(mg(n))return!0;n=n.parentElement}return!1},$C=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},qy=(t,e=!1)=>{const n=Rf();n&&ir(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},_O=()=>{const t=Rf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},EO=()=>typeof window>"u"||typeof document>"u",bO=`
 <div aria-labelledby="${Z.title}" aria-describedby="${Z["html-container"]}" class="${Z.popup}" tabindex="-1">
   <button type="button" class="${Z.close}"></button>
   <ul class="${Z["progress-steps"]}"></ul>
   <div class="${Z.icon}"></div>
   <img class="${Z.image}" />
   <h2 class="${Z.title}" id="${Z.title}"></h2>
   <div class="${Z["html-container"]}" id="${Z["html-container"]}"></div>
   <input class="${Z.input}" id="${Z.input}" />
   <input type="file" class="${Z.file}" />
   <div class="${Z.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Z.select}" id="${Z.select}"></select>
   <div class="${Z.radio}"></div>
   <label class="${Z.checkbox}">
     <input type="checkbox" id="${Z.checkbox}" />
     <span class="${Z.label}"></span>
   </label>
   <textarea class="${Z.textarea}" id="${Z.textarea}"></textarea>
   <div class="${Z["validation-message"]}" id="${Z["validation-message"]}"></div>
   <div class="${Z.actions}">
     <div class="${Z.loader}"></div>
     <button type="button" class="${Z.confirm}"></button>
     <button type="button" class="${Z.deny}"></button>
     <button type="button" class="${Z.cancel}"></button>
   </div>
   <div class="${Z.footer}"></div>
   <div class="${Z["timer-progress-bar-container"]}">
     <div class="${Z["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),CO=()=>{const t=Hn();return t?(t.remove(),Fr([document.documentElement,document.body],[Z["no-backdrop"],Z["toast-shown"],Z["has-column"]]),!0):!1},Yo=()=>{ke.currentInstance.resetValidationMessage()},TO=()=>{const t=at(),e=io(t,Z.input),n=io(t,Z.file),r=t.querySelector(`.${Z.range} input`),o=t.querySelector(`.${Z.range} output`),a=io(t,Z.select),u=t.querySelector(`.${Z.checkbox} input`),h=io(t,Z.textarea);e.oninput=Yo,n.onchange=Yo,a.onchange=Yo,u.onchange=Yo,h.oninput=Yo,r.oninput=()=>{Yo(),o.value=r.value},r.onchange=()=>{Yo(),o.value=r.value}},SO=t=>typeof t=="string"?document.querySelector(t):t,IO=t=>{const e=at();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},xO=t=>{window.getComputedStyle(t).direction==="rtl"&&lt(Hn(),Z.rtl)},kO=t=>{const e=CO();if(EO()){xa("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Z.container,e&&lt(n,Z["no-transition"]),br(n,bO),n.dataset.swal2Theme=t.theme;const r=SO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),IO(t),xO(r),TO()},Wy=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?RO(t,e):t&&br(e,t)},RO=(t,e)=>{t.jquery?PO(e,t):br(e,t.toString())},PO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},AO=(t,e)=>{const n=Su(),r=Xl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Mn(n):yn(n),vr(n,e,"actions"),NO(n,r,e),br(r,e.loaderHtml||""),vr(r,e,"loader"))};function NO(t,e,n){const r=Vs(),o=ka(),a=Yl();!r||!o||!a||(Rm(r,"confirm",n),Rm(o,"deny",n),Rm(a,"cancel",n),DO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function DO(t,e,n,r){if(!r.buttonsStyling){Fr([t,e,n],Z.styled);return}lt([t,e,n],Z.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),km(t),km(e),km(n)}function km(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Rm(t,e,n){const r=My(e);Iu(t,n[`show${r}Button`],"inline-block"),br(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Z[e],vr(t,n,`${e}Button`)}const OO=(t,e)=>{const n=Uy();n&&(br(n,e.closeButtonHtml||""),vr(n,e,"closeButton"),Iu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},LO=(t,e)=>{const n=Hn();n&&(MO(n,e.backdrop),VO(n,e.position),jO(n,e.grow),vr(n,e,"container"))};function MO(t,e){typeof e=="string"?t.style.background=e:e||lt([document.documentElement,document.body],Z["no-backdrop"])}function VO(t,e){e&&(e in Z?lt(t,Z[e]):(zn('The "position" parameter is not valid, defaulting to "center"'),lt(t,Z.center)))}function jO(t,e){e&&lt(t,Z[`grow-${e}`])}var wt={innerParams:new WeakMap,domCache:new WeakMap};const FO=["input","file","range","select","radio","checkbox","textarea"],$O=(t,e)=>{const n=at();if(!n)return;const r=wt.innerParams.get(t),o=!r||e.input!==r.input;FO.forEach(a=>{const u=io(n,Z[a]);u&&(zO(a,e.inputAttributes),u.className=Z[a],o&&Mn(u))}),e.input&&(o&&UO(e),HO(e))},UO=t=>{if(!t.input)return;if(!zt[t.input]){xa(`Unexpected type of input! Expected ${Object.keys(zt).join(" | ")}, got "${t.input}"`);return}const e=UC(t.input);if(!e)return;const n=zt[t.input](e,t);yn(e),t.inputAutoFocus&&setTimeout(()=>{jC(n)})},BO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},zO=(t,e)=>{const n=at();if(!n)return;const r=Af(n,t);if(r){BO(r);for(const o in e)r.setAttribute(o,e[o])}},HO=t=>{if(!t.input)return;const e=UC(t.input);e&&vr(e,t,"input")},Gy=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},xu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=Z["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&lt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},UC=t=>{const e=at();if(e)return io(e,Z[t]||Z.input)},Lh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:jy(e)||zn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},zt={};zt.text=zt.email=zt.password=zt.number=zt.tel=zt.url=zt.search=zt.date=zt["datetime-local"]=zt.time=zt.week=zt.month=(t,e)=>(Lh(t,e.inputValue),xu(t,t,e),Gy(t,e),t.type=e.input,t);zt.file=(t,e)=>(xu(t,t,e),Gy(t,e),t);zt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Lh(n,e.inputValue),n.type=e.input,Lh(r,e.inputValue),xu(n,t,e),t};zt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");br(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return xu(t,t,e),t};zt.radio=t=>(t.textContent="",t);zt.checkbox=(t,e)=>{const n=Af(at(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return br(r,e.inputPlaceholder||e.inputLabel),n};zt.textarea=(t,e)=>{Lh(t,e.inputValue),Gy(t,e),xu(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(at()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?at().style.width=`${a}px`:ia(at(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const qO=(t,e)=>{const n=Fy();n&&(Hy(n),vr(n,e,"htmlContainer"),e.html?(Wy(e.html,n),yn(n,"block")):e.text?(n.textContent=e.text,yn(n,"block")):Mn(n),$O(t,e))},WO=(t,e)=>{const n=VC();n&&(Hy(n),Iu(n,e.footer,"block"),e.footer&&Wy(e.footer,n),vr(n,e,"footer"))},GO=(t,e)=>{const n=wt.innerParams.get(t),r=Jl();if(!r)return;if(n&&e.icon===n.icon){tE(r,e),eE(r,e);return}if(!e.icon&&!e.iconHtml){Mn(r);return}if(e.icon&&Object.keys(Oh).indexOf(e.icon)===-1){xa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Mn(r);return}yn(r),tE(r,e),eE(r,e),lt(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",BC)},eE=(t,e)=>{for(const[n,r]of Object.entries(Oh))e.icon!==n&&Fr(t,r);lt(t,e.icon&&Oh[e.icon]),JO(t,e),BC(),vr(t,e,"icon")},BC=()=>{const t=at();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},KO=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,QO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,tE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=nE(e.iconHtml):e.icon==="success"?(r=KO(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=QO:e.icon&&(r=nE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&br(t,r)},JO=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Z0(t,n,"background-color",e.iconColor);Z0(t,".swal2-success-ring","border-color",e.iconColor)}},nE=t=>`<div class="${Z["icon-content"]}">${t}</div>`,YO=(t,e)=>{const n=MC();if(n){if(!e.imageUrl){Mn(n);return}yn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ia(n,"width",e.imageWidth),ia(n,"height",e.imageHeight),n.className=Z.image,vr(n,e,"image")}};let Ky=!1,zC=0,HC=0,qC=0,WC=0;const XO=t=>{t.addEventListener("mousedown",Mh),document.body.addEventListener("mousemove",Vh),t.addEventListener("mouseup",jh),t.addEventListener("touchstart",Mh),document.body.addEventListener("touchmove",Vh),t.addEventListener("touchend",jh)},ZO=t=>{t.removeEventListener("mousedown",Mh),document.body.removeEventListener("mousemove",Vh),t.removeEventListener("mouseup",jh),t.removeEventListener("touchstart",Mh),document.body.removeEventListener("touchmove",Vh),t.removeEventListener("touchend",jh)},Mh=t=>{const e=at();if(t.target===e||Jl().contains(t.target)){Ky=!0;const n=GC(t);zC=n.clientX,HC=n.clientY,qC=parseInt(e.style.insetInlineStart)||0,WC=parseInt(e.style.insetBlockStart)||0,lt(e,"swal2-dragging")}},Vh=t=>{const e=at();if(Ky){let{clientX:n,clientY:r}=GC(t);e.style.insetInlineStart=`${qC+(n-zC)}px`,e.style.insetBlockStart=`${WC+(r-HC)}px`}},jh=()=>{const t=at();Ky=!1,Fr(t,"swal2-dragging")},GC=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},eL=(t,e)=>{const n=Hn(),r=at();if(!(!n||!r)){if(e.toast){ia(n,"width",e.width),r.style.width="100%";const o=Xl();o&&r.insertBefore(o,Jl())}else ia(r,"width",e.width);ia(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Mn(kf()),tL(r,e),e.draggable&&!e.toast?(lt(r,Z.draggable),XO(r)):(Fr(r,Z.draggable),ZO(r))}},tL=(t,e)=>{const n=e.showClass||{};t.className=`${Z.popup} ${ir(t)?n.popup:""}`,e.toast?(lt([document.documentElement,document.body],Z["toast-shown"]),lt(t,Z.toast)):lt(t,Z.modal),vr(t,e,"popup"),typeof e.customClass=="string"&&lt(t,e.customClass),e.icon&&lt(t,Z[`icon-${e.icon}`])},nL=(t,e)=>{const n=$y();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Mn(n);return}yn(n),n.textContent="",o>=r.length&&zn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,u)=>{const h=rL(a);if(n.appendChild(h),u===o&&lt(h,Z["active-progress-step"]),u!==r.length-1){const f=sL(e);n.appendChild(f)}})},rL=t=>{const e=document.createElement("li");return lt(e,Z["progress-step"]),br(e,t),e},sL=t=>{const e=document.createElement("li");return lt(e,Z["progress-step-line"]),t.progressStepsDistance&&ia(e,"width",t.progressStepsDistance),e},iL=(t,e)=>{const n=LC();n&&(Hy(n),Iu(n,e.title||e.titleText,"block"),e.title&&Wy(e.title,n),e.titleText&&(n.innerText=e.titleText),vr(n,e,"title"))},KC=(t,e)=>{eL(t,e),LO(t,e),nL(t,e),GO(t,e),YO(t,e),iL(t,e),OO(t,e),qO(t,e),AO(t,e),WO(t,e);const n=at();typeof e.didRender=="function"&&n&&e.didRender(n),ke.eventEmitter.emit("didRender",n)},oL=()=>ir(at()),QC=()=>{var t;return(t=Vs())===null||t===void 0?void 0:t.click()},aL=()=>{var t;return(t=ka())===null||t===void 0?void 0:t.click()},lL=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.click()},Zl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),JC=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},cL=(t,e,n)=>{JC(t),e.toast||(t.keydownHandler=r=>dL(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:at(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},gg=(t,e)=>{var n;const r=By();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=at())===null||n===void 0||n.focus()},YC=["ArrowRight","ArrowDown"],uL=["ArrowLeft","ArrowUp"],dL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?hL(e,t):e.key==="Tab"?fL(e):[...YC,...uL].includes(e.key)?pL(e.key):e.key==="Escape"&&mL(e,t,n)))},hL=(t,e)=>{if(!xf(e.allowEnterKey))return;const n=Af(at(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;QC(),t.preventDefault()}},fL=t=>{const e=t.target,n=By();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?gg(r,-1):gg(r,1),t.stopPropagation(),t.preventDefault()},pL=t=>{const e=Su(),n=Vs(),r=ka(),o=Yl();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=YC.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&ir(h))break}h instanceof HTMLButtonElement&&h.focus()}},mL=(t,e,n)=>{t.preventDefault(),xf(e.allowEscapeKey)&&n(Zl.esc)};var Dl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const gL=()=>{const t=Hn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},XC=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},ZC=typeof window<"u"&&!!window.GestureEvent,yL=()=>{if(ZC&&!mi(document.body,Z.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,lt(document.body,Z.iosfix),wL()}},wL=()=>{const t=Hn();if(!t)return;let e;t.ontouchstart=n=>{e=vL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},vL=t=>{const e=t.target,n=Hn(),r=Fy();return!n||!r||_L(t)||EL(t)?!1:e===n||!mg(n)&&e instanceof HTMLElement&&!vO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(mg(r)&&r.contains(e))},_L=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",EL=t=>t.touches&&t.touches.length>1,bL=()=>{if(mi(document.body,Z.iosfix)){const t=parseInt(document.body.style.top,10);Fr(document.body,Z.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},CL=()=>{const t=document.createElement("div");t.className=Z["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Cl=null;const TL=t=>{Cl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Cl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Cl+CL()}px`)},SL=()=>{Cl!==null&&(document.body.style.paddingRight=`${Cl}px`,Cl=null)};function eT(t,e,n,r){Pf()?rE(t,r):(cO(n).then(()=>rE(t,r)),JC(ke)),ZC?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),zy()&&(SL(),bL(),XC()),IL()}function IL(){Fr([document.documentElement,document.body],[Z.shown,Z["height-auto"],Z["no-backdrop"],Z["toast-shown"]])}function oo(t){t=kL(t);const e=Dl.swalPromiseResolve.get(this),n=xL(this);this.isAwaitingPromise?t.isDismissed||(ku(this),e(t)):n&&e(t)}const xL=t=>{const e=at();if(!e)return!1;const n=wt.innerParams.get(t);if(!n||mi(e,n.hideClass.popup))return!1;Fr(e,n.showClass.popup),lt(e,n.hideClass.popup);const r=Hn();return Fr(r,n.showClass.backdrop),lt(r,n.hideClass.backdrop),RL(t,e,n),!0};function tT(t){const e=Dl.swalPromiseReject.get(this);ku(this),e&&e(t)}const ku=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,wt.innerParams.get(t)||t._destroy())},kL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),RL=(t,e,n)=>{var r;const o=Hn(),a=$C(e);typeof n.willClose=="function"&&n.willClose(e),(r=ke.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?PL(t,e,o,n.returnFocus,n.didClose):eT(t,o,n.returnFocus,n.didClose)},PL=(t,e,n,r,o)=>{ke.swalCloseEventFinishedCallback=eT.bind(null,t,n,r,o);const a=function(u){if(u.target===e){var h;(h=ke.swalCloseEventFinishedCallback)===null||h===void 0||h.call(ke),delete ke.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},rE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ke.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Ol=t=>{let e=at();if(e||new kt,e=at(),!e)return;const n=Xl();Pf()?Mn(Jl()):AL(e,t),yn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},AL=(t,e)=>{const n=Su(),r=Xl();!n||!r||(!e&&ir(Vs())&&(e=Vs()),yn(n),e&&(Mn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),lt([t,n],Z.loading))},NL=(t,e)=>{e.input==="select"||e.input==="radio"?VL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Vy(e.inputValue)||jy(e.inputValue))&&(Ol(Vs()),jL(t,e))},DL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return OL(n);case"radio":return LL(n);case"file":return ML(n);default:return e.inputAutoTrim?n.value.trim():n.value}},OL=t=>t.checked?1:0,LL=t=>t.checked?t.value:null,ML=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,VL=(t,e)=>{const n=at();if(!n)return;const r=o=>{e.input==="select"?FL(n,Fh(o),e):e.input==="radio"&&$L(n,Fh(o),e)};Vy(e.inputOptions)||jy(e.inputOptions)?(Ol(Vs()),Cu(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):xa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},jL=(t,e)=>{const n=t.getInput();n&&(Mn(n),Cu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,yn(n),n.focus(),t.hideLoading()}).catch(r=>{xa(`Error in inputValue promise: ${r}`),n.value="",yn(n),n.focus(),t.hideLoading()}))};function FL(t,e,n){const r=io(t,Z.select);if(!r)return;const o=(a,u,h)=>{const f=document.createElement("option");f.value=h,br(f,u),f.selected=nT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,r.appendChild(f),h.forEach(y=>o(f,y[1],y[0]))}else o(r,h,u)}),r.focus()}function $L(t,e,n){const r=io(t,Z.radio);if(!r)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),y=document.createElement("label");f.type="radio",f.name=Z.radio,f.value=u,nT(u,n.inputValue)&&(f.checked=!0);const w=document.createElement("span");br(w,h),w.className=Z.label,y.appendChild(f),y.appendChild(w),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Fh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Fh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Fh(r)),e.push([n,r])}),e},nT=(t,e)=>!!e&&e.toString()===t.toString(),UL=t=>{const e=wt.innerParams.get(t);t.disableButtons(),e.input?rT(t,"confirm"):Jy(t,!0)},BL=t=>{const e=wt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?rT(t,"deny"):Qy(t,!1)},zL=(t,e)=>{t.disableButtons(),e(Zl.cancel)},rT=(t,e)=>{const n=wt.innerParams.get(t);if(!n.input){xa(`The "input" parameter is needed to be set when using returnInputValueOn${My(e)}`);return}const r=t.getInput(),o=DL(t,n);n.inputValidator?HL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Qy(t,o):Jy(t,o)},HL=(t,e,n)=>{const r=wt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Cu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Qy(t,e):Jy(t,e)})},Qy=(t,e)=>{const n=wt.innerParams.get(t||void 0);n.showLoaderOnDeny&&Ol(ka()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),ku(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>sT(t||void 0,o))):t.close({isDenied:!0,value:e})},sE=(t,e)=>{t.close({isConfirmed:!0,value:e})},sT=(t,e)=>{t.rejectPromise(e)},Jy=(t,e)=>{const n=wt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Ol(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(n.preConfirm(e,n.validationMessage))).then(o=>{ir(kf())||o===!1?(t.hideLoading(),ku(t)):sE(t,typeof o>"u"?e:o)}).catch(o=>sT(t||void 0,o))):sE(t,e)};function $h(){const t=wt.innerParams.get(this);if(!t)return;const e=wt.domCache.get(this);Mn(e.loader),Pf()?t.icon&&yn(Jl()):qL(e),Fr([e.popup,e.actions],Z.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const qL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?yn(e[0],"inline-block"):wO()&&Mn(t.actions)};function iT(){const t=wt.innerParams.get(this),e=wt.domCache.get(this);return e?Af(e.popup,t.input):null}function oT(t,e,n){const r=wt.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function aT(t,e){const n=at();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Z.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function lT(){oT(this,["confirmButton","denyButton","cancelButton"],!1)}function cT(){oT(this,["confirmButton","denyButton","cancelButton"],!0)}function uT(){aT(this.getInput(),!1)}function dT(){aT(this.getInput(),!0)}function hT(t){const e=wt.domCache.get(this),n=wt.innerParams.get(this);br(e.validationMessage,t),e.validationMessage.className=Z["validation-message"],n.customClass&&n.customClass.validationMessage&&lt(e.validationMessage,n.customClass.validationMessage),yn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Z["validation-message"]),jC(r),lt(r,Z.inputerror))}function fT(){const t=wt.domCache.get(this);t.validationMessage&&Mn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Fr(e,Z.inputerror))}const Tl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},WL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],GL={allowEnterKey:void 0},KL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],pT=t=>Object.prototype.hasOwnProperty.call(Tl,t),mT=t=>WL.indexOf(t)!==-1,gT=t=>GL[t],QL=t=>{pT(t)||zn(`Unknown parameter "${t}"`)},JL=t=>{KL.includes(t)&&zn(`The parameter "${t}" is incompatible with toasts`)},YL=t=>{const e=gT(t);e&&OC(t,e)},yT=t=>{t.backdrop===!1&&t.allowOutsideClick&&zn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&zn(`Invalid theme "${t.theme}"`);for(const e in t)QL(e),t.toast&&JL(e),YL(e)};function wT(t){const e=Hn(),n=at(),r=wt.innerParams.get(this);if(!n||mi(n,r.hideClass.popup)){zn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=XL(t),a=Object.assign({},r,o);yT(a),e.dataset.swal2Theme=a.theme,KC(this,a),wt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const XL=t=>{const e={};return Object.keys(t).forEach(n=>{mT(n)?e[n]=t[n]:zn(`Invalid parameter to update: ${n}`)}),e};function vT(){const t=wt.domCache.get(this),e=wt.innerParams.get(this);if(!e){_T(this);return}t.popup&&ke.swalCloseEventFinishedCallback&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ke.eventEmitter.emit("didDestroy"),ZL(this)}const ZL=t=>{_T(t),delete t.params,delete ke.keydownHandler,delete ke.keydownTarget,delete ke.currentInstance},_T=t=>{t.isAwaitingPromise?(Pm(wt,t),t.isAwaitingPromise=!0):(Pm(Dl,t),Pm(wt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Pm=(t,e)=>{for(const n in t)t[n].delete(e)};var eM=Object.freeze({__proto__:null,_destroy:vT,close:oo,closeModal:oo,closePopup:oo,closeToast:oo,disableButtons:cT,disableInput:dT,disableLoading:$h,enableButtons:lT,enableInput:uT,getInput:iT,handleAwaitingPromise:ku,hideLoading:$h,rejectPromise:tT,resetValidationMessage:fT,showValidationMessage:hT,update:wT});const tM=(t,e,n)=>{t.toast?nM(t,e,n):(sM(e),iM(e),oM(t,e,n))},nM=(t,e,n)=>{e.popup.onclick=()=>{t&&(rM(t)||t.timer||t.input)||n(Zl.close)}},rM=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Uh=!1;const sM=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Uh=!0)}}},iM=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Uh=!0)}}},oM=(t,e,n)=>{e.container.onclick=r=>{if(Uh){Uh=!1;return}r.target===e.container&&xf(t.allowOutsideClick)&&n(Zl.backdrop)}},aM=t=>typeof t=="object"&&t.jquery,iE=t=>t instanceof Element||aM(t),lM=t=>{const e={};return typeof t[0]=="object"&&!iE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||iE(o)?e[n]=o:o!==void 0&&xa(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function cM(...t){return new this(...t)}function uM(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const dM=()=>ke.timeout&&ke.timeout.getTimerLeft(),ET=()=>{if(ke.timeout)return _O(),ke.timeout.stop()},bT=()=>{if(ke.timeout){const t=ke.timeout.start();return qy(t),t}},hM=()=>{const t=ke.timeout;return t&&(t.running?ET():bT())},fM=t=>{if(ke.timeout){const e=ke.timeout.increase(t);return qy(e,!0),e}},pM=()=>!!(ke.timeout&&ke.timeout.isRunning());let oE=!1;const yg={};function mM(t="data-swal-template"){yg[t]=this,oE||(document.body.addEventListener("click",gM),oE=!0)}const gM=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in yg){const r=e.getAttribute(n);if(r){yg[n].fire({template:r});return}}};class yM{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ke.eventEmitter=new yM;const wM=(t,e)=>{ke.eventEmitter.on(t,e)},vM=(t,e)=>{ke.eventEmitter.once(t,e)},_M=(t,e)=>{if(!t){ke.eventEmitter.reset();return}e?ke.eventEmitter.removeListener(t,e):ke.eventEmitter.removeAllListeners(t)};var EM=Object.freeze({__proto__:null,argsToParams:lM,bindClickHandler:mM,clickCancel:lL,clickConfirm:QC,clickDeny:aL,enableLoading:Ol,fire:cM,getActions:Su,getCancelButton:Yl,getCloseButton:Uy,getConfirmButton:Vs,getContainer:Hn,getDenyButton:ka,getFocusableElements:By,getFooter:VC,getHtmlContainer:Fy,getIcon:Jl,getIconContent:fO,getImage:MC,getInputLabel:pO,getLoader:Xl,getPopup:at,getProgressSteps:$y,getTimerLeft:dM,getTimerProgressBar:Rf,getTitle:LC,getValidationMessage:kf,increaseTimer:fM,isDeprecatedParameter:gT,isLoading:gO,isTimerRunning:pM,isUpdatableParameter:mT,isValidParameter:pT,isVisible:oL,mixin:uM,off:_M,on:wM,once:vM,resumeTimer:bT,showLoading:Ol,stopTimer:ET,toggleTimer:hM});class bM{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const CT=["swal-title","swal-html","swal-footer"],CM=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return AM(n),Object.assign(TM(n),SM(n),IM(n),xM(n),kM(n),RM(n),PM(n,CT))},TM=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{ga(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof Tl[o]=="boolean"?e[o]=a!=="false":typeof Tl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},SM=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},IM=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{ga(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${My(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},xM=t=>{const e={},n=t.querySelector("swal-image");return n&&(ga(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},kM=t=>{const e={},n=t.querySelector("swal-icon");return n&&(ga(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},RM=t=>{const e={},n=t.querySelector("swal-input");n&&(ga(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{ga(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},PM=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(ga(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},AM=t=>{const e=CT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||zn(`Unrecognized element <${r}>`)})},ga=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&zn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},TT=10,NM=t=>{const e=Hn(),n=at();typeof t.willOpen=="function"&&t.willOpen(n),ke.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;LM(e,n,t),setTimeout(()=>{DM(e,n)},TT),zy()&&(OM(e,t.scrollbarPadding,o),gL()),!Pf()&&!ke.previousActiveElement&&(ke.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ke.eventEmitter.emit("didOpen",n),Fr(e,Z["no-transition"])},Bh=t=>{const e=at();if(t.target!==e)return;const n=Hn();e.removeEventListener("animationend",Bh),e.removeEventListener("transitionend",Bh),n.style.overflowY="auto"},DM=(t,e)=>{$C(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Bh),e.addEventListener("transitionend",Bh)):t.style.overflowY="auto"},OM=(t,e,n)=>{yL(),e&&n!=="hidden"&&TL(n),setTimeout(()=>{t.scrollTop=0})},LM=(t,e,n)=>{lt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),yn(e,"grid"),setTimeout(()=>{lt(e,n.showClass.popup),e.style.removeProperty("opacity")},TT)):yn(e,"grid"),lt([document.documentElement,document.body],Z.shown),n.heightAuto&&n.backdrop&&!n.toast&&lt([document.documentElement,document.body],Z["height-auto"])};var aE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function MM(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=aE.email),t.input==="url"&&(t.inputValidator=aE.url))}function VM(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(zn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function jM(t){MM(t),t.showLoaderOnConfirm&&!t.preConfirm&&zn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),VM(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),kO(t)}let Is;var zd=new WeakMap;class Wt{constructor(...e){if(iO(this,zd,void 0),typeof window>"u")return;Is=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,oO(zd,this,this._main(Is.params))}_main(e,n={}){if(yT(Object.assign({},n,e)),ke.currentInstance){const a=Dl.swalPromiseResolve.get(ke.currentInstance),{isAwaitingPromise:u}=ke.currentInstance;ke.currentInstance._destroy(),u||a({isDismissed:!0}),zy()&&XC()}ke.currentInstance=Is;const r=$M(e,n);jM(r),Object.freeze(r),ke.timeout&&(ke.timeout.stop(),delete ke.timeout),clearTimeout(ke.restoreFocusTimeout);const o=UM(Is);return KC(Is,r),wt.innerParams.set(Is,r),FM(Is,o,r)}then(e){return Y0(zd,this).then(e)}finally(e){return Y0(zd,this).finally(e)}}const FM=(t,e,n)=>new Promise((r,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Dl.swalPromiseResolve.set(t,r),Dl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{UL(t)},e.denyButton.onclick=()=>{BL(t)},e.cancelButton.onclick=()=>{zL(t,a)},e.closeButton.onclick=()=>{a(Zl.close)},tM(n,e,a),cL(ke,n,a),NL(t,n),NM(n),BM(ke,n,a),zM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),$M=(t,e)=>{const n=CM(t),r=Object.assign({},Tl,e,n,t);return r.showClass=Object.assign({},Tl.showClass,r.showClass),r.hideClass=Object.assign({},Tl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},UM=t=>{const e={popup:at(),container:Hn(),actions:Su(),confirmButton:Vs(),denyButton:ka(),cancelButton:Yl(),loader:Xl(),closeButton:Uy(),validationMessage:kf(),progressSteps:$y()};return wt.domCache.set(t,e),e},BM=(t,e,n)=>{const r=Rf();Mn(r),e.timer&&(t.timeout=new bM(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(yn(r),vr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&qy(e.timer)})))},zM=(t,e)=>{if(!e.toast){if(!xf(e.allowEnterKey)){OC("allowEnterKey"),WM();return}HM(t)||qM(t,e)||gg(-1,1)}},HM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&ir(n))return n.focus(),!0;return!1},qM=(t,e)=>e.focusDeny&&ir(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&ir(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&ir(t.confirmButton)?(t.confirmButton.focus(),!0):!1,WM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Wt.prototype.disableButtons=cT;Wt.prototype.enableButtons=lT;Wt.prototype.getInput=iT;Wt.prototype.disableInput=dT;Wt.prototype.enableInput=uT;Wt.prototype.hideLoading=$h;Wt.prototype.disableLoading=$h;Wt.prototype.showValidationMessage=hT;Wt.prototype.resetValidationMessage=fT;Wt.prototype.close=oo;Wt.prototype.closePopup=oo;Wt.prototype.closeModal=oo;Wt.prototype.closeToast=oo;Wt.prototype.rejectPromise=tT;Wt.prototype.update=wT;Wt.prototype._destroy=vT;Object.assign(Wt,EM);Object.keys(eM).forEach(t=>{Wt[t]=function(...e){return Is&&Is[t]?Is[t](...e):null}});Wt.DismissReason=Zl;Wt.version="11.23.0";const kt=Wt;kt.default=kt;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Ll="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",tn="/Fantasy-Casadillos/SinPerfil.jpg",GM="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",KM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",QM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",JM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Lc=$s(_r),lE=as(_r),YM=new ks,XM=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[o,a]=S.useState(GM),u=Ay();S.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async w=>{w.preventDefault();const b=new FormData(w.currentTarget),C=b.get("email"),k=b.get("password");if(n)try{const{user:D}=await Xk(Lc,C,k),j=b.get("nick");await Sb(Lc.currentUser,{displayName:j});const O={nick:j,correo:C,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await hg(Rt(lE,"usuarios",D.uid),O,{merge:!0})}catch(D){console.error("Error registrando usuario:",D);let j="No se pudo crear la cuenta. Revisa los datos.";D.code==="auth/email-already-in-use"?j="Ya existe una cuenta con este correo.":D.code==="auth/weak-password"?j="La contraseña debe tener al menos 6 caracteres.":D.code==="auth/invalid-email"?j="El correo electrónico no es válido.":j=`Error desconocido: ${D.code}`,kt.fire({icon:"error",title:"Error",text:j})}else try{await Zk(Lc,C,k),console.log("Inicio de sesión exitoso"),u("/home")}catch(D){console.error("Error iniciando sesión:",D);let j="Error al iniciar sesión.";(D.code==="auth/invalid-credential"||D.code==="auth/wrong-password"||D.code==="auth/user-not-found")&&(j="Correo o contraseña incorrectos."),kt.fire({icon:"error",title:"Error al iniciar sesión",text:j})}},f=async()=>{const{value:w}=await kt.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(w)try{await Tb(Lc,w),kt.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){kt.fire("Error",b.message,"error")}},y=async()=>{try{const w=await IR(Lc,YM);if(!w?.user)throw new Error("No se obtuvo el usuario de Google.");const b=w.user,C=Rt(lE,"usuarios",b.uid);(await ts(C)).exists()||await hg(C,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[null,null,null,null],banquillo:[null,null],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(w){if(w.code==="auth/popup-closed-by-user"||w.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",w),kt.fire({icon:"error",title:"Error",text:w.message||"No se pudo iniciar sesión con Google"})}};return v.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${Ll})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),v.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[v.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),v.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:v.jsx("label",{style:{cursor:"default",display:"inline-block"},children:v.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),v.jsxs("form",{onSubmit:h,children:[v.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&v.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),v.jsxs("div",{className:"cajaContainerContraseña",children:[v.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),v.jsx("img",{src:t?QM:JM,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(w=>!w)})]}),!n&&v.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:v.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?v.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[v.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),v.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),v.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[v.jsx("img",{src:KM,alt:"Google"}),"Google"]})]})]}),v.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",v.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},wg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebasestorage.googleapis.com",ZM="storageBucket",e5=120*1e3,t5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Fs{constructor(e,n,r=0){super(Am(e),`Firebase Storage: ${n} (${Am(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var js;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(js||(js={}));function Am(t){return"storage/"+t}function n5(){const t="An unknown error occurred, please check the error payload for server response.";return new Us(js.UNKNOWN,t)}function r5(){return new Us(js.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s5(){return new Us(js.CANCELED,"User canceled the upload/download.")}function i5(t){return new Us(js.INVALID_URL,"Invalid URL '"+t+"'.")}function o5(t){return new Us(js.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cE(t){return new Us(js.INVALID_ARGUMENT,t)}function IT(){return new Us(js.APP_DELETED,"The Firebase app was deleted.")}function a5(t){return new Us(js.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw o5(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function y(ee){ee.path_=decodeURIComponent(ee.path)}const w="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",k=new RegExp(`^https?://${b}/${w}/b/${o}/o${C}`,"i"),D={bucket:1,path:3},j=n===ST?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",K=new RegExp(`^https?://${j}/${o}/${O}`,"i"),J=[{regex:h,indices:f,postModify:a},{regex:k,indices:D,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let ee=0;ee<J.length;ee++){const de=J[ee],se=de.regex.exec(e);if(se){const P=se[de.indices.bucket];let T=se[de.indices.path];T||(T=""),r=new ns(P,T),de.postModify(r);break}}if(r==null)throw i5(e);return r}}class l5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e,n){let r=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let y=!1;function w(...O){y||(y=!0,e.apply(null,O))}function b(O){o=setTimeout(()=>{o=null,t(k,f())},O)}function C(){a&&clearTimeout(a)}function k(O,...K){if(y){C();return}if(O){C(),w.call(null,O,...K);return}if(f()||u){C(),w.call(null,O,...K);return}r<64&&(r*=2);let J;h===1?(h=2,J=0):J=(r+Math.random())*1e3,b(J)}let D=!1;function j(O){D||(D=!0,C(),!y&&(o!==null?(O||(h=2),clearTimeout(o),b(0)):O||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,j(!0)},n),j}function u5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){return t!==void 0}function uE(t,e,n,r){if(r<e)throw cE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cE(`Invalid value for '${t}'. Expected ${n} or less.`)}function h5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var zh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zh||(zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,o,a,u,h,f,y,w,b,C=!0,k=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=b,this.retry=C,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,j)=>{this.resolve_=D,this.reject_=j,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Hd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===zh.NO_ERROR,f=a.getStatus();if(!h||f5(f,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===zh.ABORT;r(!1,new Hd(!1,null,w));return}const y=this.successCodes_.indexOf(f)!==-1;r(!0,new Hd(y,a))})},n=(r,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());d5(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=n5();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?IT():s5();u(f)}else{const f=r5();u(f)}};this.canceled_?n(!1,new Hd(!1,null,!0)):this.backoffId_=c5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function m5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v5(t,e,n,r,o,a,u=!0,h=!1){const f=h5(t.urlParams),y=t.url+f,w=Object.assign({},t.headers);return y5(w,e),m5(w,n),g5(w,a),w5(w,r),new p5(y,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hh(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E5(this._location.path)}get storage(){return this._service}get parent(){const e=_5(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new Hh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw a5(e)}}function dE(t,e){const n=e?.[ZM];return n==null?null:ns.makeFromBucketSpec(n,t)}function b5(t,e,n,r={}){t.host=`${e}:${n}`;const o=va(e);o&&(Rg(`https://${t.host}/b`),Pg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:KE(a,t.app.options.projectId))}class C5{constructor(e,n,r,o,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=ST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e5,this._maxUploadRetryTime=t5,this._requests=new Set,o!=null?this._bucket=ns.makeFromBucketSpec(o,this._host):this._bucket=dE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=dE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hh(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new l5(IT());{const u=v5(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const hE="@firebase/storage",fE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="storage";function Nf(t=Dg(),e){t=At(t);const r=Xh(t,xT).getImmediate({identifier:e}),o=qE("storage");return o&&T5(r,...o),r}function T5(t,e,n,r={}){b5(t,e,n,r)}function S5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new C5(n,r,o,e,_a)}function I5(){la(new fo(xT,S5,"PUBLIC").setMultipleInstances(!0)),Rs(hE,fE,""),Rs(hE,fE,"esm2020")}I5();function Df({usuario:t,openModal:e,setOpenModal:n}){const r=$s(),o=as();Nf();const a=t?.fotoPerfil||tn,[u,h]=S.useState(!1),[f,y]=S.useState(!1),[w,b]=S.useState(a),[C,k]=S.useState(null),[D,j]=S.useState(t.nick),[O,K]=S.useState(t.correo),[H,J]=S.useState(""),[ee,de]=S.useState(!1),[se,P]=S.useState(""),[T,R]=S.useState(""),L=S.useRef();S.useEffect(()=>{e&&(b(t.fotoPerfil),k(null),j(t.nick),K(t.correo),J(""),P(t.nick),R(t.correo))},[e,t]),S.useEffect(()=>{const B=D!==se||O!==T||H.length>0||C!==null;y(B)},[D,O,H,C,se,T]);const V=async()=>{const B=r.currentUser?.email;if(!B){kt.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Tb(r,B),await kt.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(Y){kt.fire("Error",Y.message,"error")}},U=B=>B.toLocaleString("es-ES")+"€",x=B=>{B.target===L.current&&n(!1)},Le=B=>{if(!B)return"";const Y=12,N=B.indexOf(" ");let F;return N!==-1&&N<=Y?(F=N,B.slice(0,F)+"..."):B.length>Y?(F=Y-3,B.slice(0,F)+"..."):B},et=B=>{const Y=B.target.files[0];if(!Y)return;k(Y);const N=new FileReader;N.onloadend=()=>b(N.result),N.readAsDataURL(Y)},Qe=async()=>{try{de(!0);const B=r.currentUser;let Y=t.fotoPerfil;if(C){if(C.size>1*1024*1024){await kt.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const F=new FormData;F.append("file",C),F.append("upload_preset","perfil_preset");const be=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:F})).json();if(be.secure_url)Y=be.secure_url;else{kt.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}D!==t.nick&&await Sb(B,{displayName:D}),H&&await tR(B,H);const N=Rt(o,"usuarios",B.uid);await yr(N,{fotoPerfil:Y,nick:D}),await kt.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(B){console.error("Error guardando perfil:",B),alert("No se pudo guardar los cambios: "+B.message)}finally{de(!1),window.location.reload()}},re=async()=>{const B=r.currentUser;if(!B)throw new Error("No hay usuario autenticado.");const Y=B.uid;if(B.providerData[0].providerId==="password"){const{value:_e}=await kt.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!_e)throw new Error("Se canceló la reautenticación");const be=Ea.credential(B.email,_e);await Yk(B,be)}else if(B.providerData[0].providerId==="google.com"){const _e=new ks;await xR(B,_e)}else throw new Error("Proveedor no soportado para reautenticación.");const N=bf(pa(o,"jugadores"),Tf("dueños","array-contains",Y)),ae=(await ma(N)).docs.map(async _e=>{const be=_e.ref;await yr(be,{stockLibre:ih(1),dueños:gC(Y)})});await Promise.all(ae);const fe=Rt(o,"usuarios",Y);await RN(fe),await oR(B)},W=async()=>{if((await kt.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{de(!0),await re(),await kt.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(Y){console.error("Error al borrar la cuenta:",Y),kt.fire("Error","No se pudo borrar la cuenta: "+Y.message,"error")}finally{de(!1)}};return e?v.jsx("div",{className:"modal-overlay",ref:L,onClick:x,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsxs("label",{className:"modal-avatar",children:[v.jsx("img",{src:w,alt:"Perfil"}),v.jsx("input",{type:"file",accept:"image/*",onChange:et}),v.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),v.jsxs("div",{className:"modal-userinfo",children:[v.jsx("h2",{children:window.innerWidth<450?Le(t.nick):t.nick}),v.jsx("small",{children:t.correo}),v.jsxs("small",{children:["Dinero: ",v.jsx("span",{className:"dinero-verde",children:U(t.dinero)})]}),v.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((B,Y,N)=>{const F=B??"-",ae=N.length<5?Y+1:t.puntuaciones.length-5+Y+1;let fe="";return typeof B=="number"&&(B>=36?fe="verde":B<28?fe="rojo":fe="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",ae]}),v.jsx("div",{className:`jornada-cuadro ${fe}`,children:F})]},Y)}):[...Array(5)].map((B,Y)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",Y+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},Y))})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-body",children:[v.jsxs("div",{className:"field-group",children:[v.jsxs("label",{children:["Nick ",v.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),v.jsxs("div",{className:"field-with-icon",children:[v.jsx("input",{type:"text",value:D,onChange:B=>j(B.target.value),disabled:!u}),v.jsx("button",{className:"icon-pencil",onClick:()=>h(!u),title:"Editar nick",children:"✎"})]})]}),v.jsx("div",{style:{textAlign:"left"},children:v.jsx("button",{type:"button",onClick:V,className:"link-style",children:"Cambiar contraseña"})})]}),v.jsxs("div",{className:"modal-footer",children:[f&&v.jsx("button",{className:"modal-save-btn",onClick:Qe,disabled:ee,children:ee?"Guardando…":"Guardar cambios"}),v.jsx("button",{className:"modal-delete-btn",onClick:W,disabled:ee,children:"Borrar cuenta"})]})]})}):null}function x5({jugador:t,openModal:e,setOpenModal:n,user:r}){$s();const o=as();Nf();const a=t?.foto||tn,[u,h]=S.useState(null),f=k=>{switch(k){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return k||"Sin posición"}},y=S.useRef();S.useEffect(()=>{(async()=>{if(!r)return;const D=Rt(o,"usuarios",r.uid),j=await ts(D);if(j.exists()){const O=j.data();h(O.equipo?.capitan||null)}})()},[r,o,e]);const w=async k=>{try{const D=Rt(o,"usuarios",r.uid);await yr(D,{"equipo.capitan":k}),h(k),await kt.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(D){console.error("Error al asignar capitán:",D),kt.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},b=k=>{k.target===y.current&&n(!1)},C=k=>k.toLocaleString("es-ES")+"€";return e?v.jsx("div",{className:"modal-overlay",ref:y,onClick:b,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:a,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:f(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",C(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const k=t.historialPrecios||[];if(k.length===0)return v.jsx("small",{children:"(±0€)"});const D=k[k.length-1].precio||0,j=t.precio-D,O=j>0?"+":j<0?"-":"±";return v.jsxs("small",{className:j>0?"subida":j<0?"bajada":"igual",children:["(",O,C(Math.abs(j)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",C(t.precioClausula)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((k,D,j)=>{const O=k??"-",K=j.length<5?D+1:t.puntosPorJornada.length-5+D+1;let H="";return typeof k=="number"&&(k>=9?H="verde":k<7?H="rojo":H="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",K]}),v.jsx("div",{className:`jornada-cuadro ${H}`,children:O})]},D)}):[...Array(5)].map((k,D)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",D+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},D))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:()=>{},children:"Vender"}),v.jsx("button",{className:"btn-capitan",disabled:u===t.id,onClick:()=>w(t.id),children:u===t.id?"Ya es capitán":"Nombrar capitán"})]})]})}):null}const Xo=as(_r),pE=$s(_r),k5={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function mE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=k5[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function R5({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,u]=S.useState(!1),h=t?.fotoPerfil||tn,f=t?.equipo?.titulares||[],y=t?.equipo?.banquillo||[],[w,b]=S.useState(f),[C,k]=S.useState(y),[D,j]=S.useState([]),[O,K]=S.useState(null),H=t?.equipo?.capitan||"",J=Object.keys(wg),[ee,de]=S.useState(t?.equipo?.formacion||"2-1-1"),[se,P]=S.useState(ee),[T,R]=S.useState(!1),[L,V]=S.useState(!1),[U,x]=S.useState(t?.equipocreado),[Le,et]=S.useState(!1),[Qe,re]=S.useState(!1),[W,B]=S.useState(!1),Y=S.useRef(null),N=()=>tf(pE),[F,ae]=S.useState(!1),[fe,_e]=S.useState(null),be=()=>{ae(!F),_e(null)},Ue=(Oe,Re,je)=>{if(F)if(je==="titulares"?[...w]:[...C],!fe)_e({jugadorId:Oe,index:Re,tipo:je});else{const{index:Fe,tipo:rt}=fe,Me=rt==="titulares"?w[Fe]:C[Fe],Ft=je==="titulares"?w[Re]:C[Re];if(Me===null&&Ft===null){_e(null);return}if(rt==="titulares"&&je==="titulares"){const Ce=[...w];[Ce[Fe],Ce[Re]]=[Ce[Re],Ce[Fe]],b(Ce)}else if(rt==="banquillo"&&je==="banquillo"){const Ce=[...C];[Ce[Fe],Ce[Re]]=[Ce[Re],Ce[Fe]],k(Ce)}else{const Ce=[...w],st=[...C];rt==="titulares"?[Ce[Fe],st[Re]]=[st[Re],Ce[Fe]]:[st[Fe],Ce[Re]]=[Ce[Re],st[Fe]],b(Ce),k(st)}V(!0),_e(null)}};S.useEffect(()=>{const Oe=Re=>{Y.current&&!Y.current.contains(Re.target)&&B(!1)};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[]);const Be=Oe=>{P(Oe.target.value)},ze=async()=>{try{R(!0);const Oe=Rt(Xo,"usuarios",t.uid);await yr(Oe,{"equipo.formacion":se,"equipo.titulares":w,"equipo.banquillo":C}),de(se),V(!1)}catch(Oe){console.error("Error al guardar formación:",Oe)}finally{R(!1),ae(!1)}},dt=()=>{u(!a)},mt=Oe=>Oe.toLocaleString("es-ES")+"€",vt=async()=>{try{R(!0);const Oe=await ma(pa(Xo,"jugadores"));let Re=[];if(Oe.forEach(Ce=>{const st=Ce.data();st.stockLibre>0&&Re.push({id:Ce.id,...st})}),Re.length<4){await kt.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),R(!1);return}const je=Re.filter(Ce=>Ce.precio>15e6&&Ce.precio<=4e7),Fe=Re.filter(Ce=>Ce.precio<=15e6);let rt=[];if(je.length>=1&&Fe.length>=3){const Ce=Math.floor(Math.random()*je.length);rt.push(je[Ce]);for(let st=0;st<3;st++){const qn=Math.floor(Math.random()*Fe.length);rt.push(Fe[qn]),Fe.splice(qn,1)}}else{const Ce=Re.filter(st=>st.precio<=4e7);if(Ce.length<4){await kt.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),R(!1);return}for(let st=0;st<4;st++){const qn=Math.floor(Math.random()*Ce.length);rt.push(Ce[qn]),Ce.splice(qn,1)}}const Me=rt.map(async Ce=>{const st=Rt(Xo,"jugadores",Ce.id);return yr(st,{stockLibre:Ce.stockLibre-1,dueños:mC(t.uid)})});await Promise.all(Me);const Ft=Rt(Xo,"usuarios",t.uid);await yr(Ft,{"equipo.titulares":rt.map(Ce=>Ce.id),equipocreado:!0}),x(!0)}catch(Oe){console.error("Error al crear equipo:",Oe),await kt.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{R(!1),window.location.reload()}};return S.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const Re=setTimeout(async()=>{try{const je=Rt(Xo,"usuarios",pE.currentUser.uid);await yr(je,{onboarding:!0}),window.location.reload()}catch(je){console.error("Error actualizando onboarding:",je)}},500);return()=>clearTimeout(Re)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const Re=Rt(Xo,"usuarios",t.uid);ts(Re).then(je=>{je.exists()&&o(je.data().dinero)})}(async()=>{const Re=[...f||[],...y||[]].filter(Boolean);if(Re.length===0)return;const je=pa(Xo,"jugadores"),Fe=[];for(let Ft=0;Ft<Re.length;Ft+=10){const Ce=Re.slice(Ft,Ft+10),st=bf(je,Tf("__name__","in",Ce));Fe.push(ma(st))}const Me=(await Promise.all(Fe)).flatMap(Ft=>Ft.docs.map(Ce=>({id:Ce.id,...Ce.data()})));j(Me)})()},[t],[f,y]),U?v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:Oe=>{Oe.currentTarget.onerror=null,Oe.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>B(!W),onMouseEnter:()=>B(!0)}),W&&v.jsxs("div",{className:"perfil-bocadillo",ref:Y,onMouseLeave:()=>B(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{et(!0),B(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:mt(r)})]})]})]}),v.jsx("button",{onClick:dt,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Le&&v.jsx(Df,{usuario:t,openModal:Le,setOpenModal:et}),Qe&&O&&v.jsx(x5,{jugador:O,openModal:Qe,setOpenModal:re,user:t}),v.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[v.jsxs("div",{className:"formacion-selector",children:[v.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),v.jsx("select",{id:"formacion-select",value:se,onChange:Be,children:J.map(Oe=>v.jsx("option",{value:Oe,children:Oe},Oe))}),(se!==ee||L)&&v.jsx("button",{onClick:ze,disabled:T,children:T?"Guardando...":"Guardar"})]}),v.jsx("div",{className:"modo-edicion-buttons",children:v.jsx("button",{onClick:be,children:F?"Desactivar modo edición":"Activar modo edición"})}),v.jsx("div",{className:"campo",children:wg[se]?.map((Oe,Re)=>{const je=w[Re],Fe=D.find(Me=>Me.id===je),rt=fe?.index===Re&&fe?.tipo==="titulares";return v.jsxs("div",{className:`jugador ${F?"modo-edicion":""} ${rt?"seleccionado":""}`,style:{position:"absolute",top:Oe.top,left:Oe.left,transform:"translate(-50%, -50%)"},onClick:()=>{F?Ue(Fe?.id||null,Re,"titulares"):Fe&&(re(!0),K(Fe))},children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:Fe?.foto||tn,alt:Fe?.nombre||"Vacío",className:"jugador-img",style:mE(Fe,Re,se).style}),(()=>{const{status:Me}=mE(Fe,Re,se);if(!Me)return null;if(Me==="green")return v.jsx("div",{className:"status-badge green",children:"✓"});if(Me==="orange")return v.jsx("div",{className:"status-badge orange",children:"!"});if(Me==="red")return v.jsx("div",{className:"status-badge red",children:"✕"})})(),H===Fe?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Fe?.puntosPorJornada?.length)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const Me=Fe.puntosPorJornada[Fe.puntosPorJornada.length-1];if(Me==null)return null;let Ft=Me==="-"?"gray":Me<7?"red":Me<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${Ft}`,children:Me})})()]}),v.jsx("p",{className:"jugador-nombre",children:Fe?.nombre||"Vacío"})]},Fe?.id||Re)})}),v.jsxs("div",{className:"banquillo-section",children:[v.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),v.jsx("div",{className:"banquillo-container",children:C.map((Oe,Re)=>{const je=D.find(rt=>rt.id===Oe),Fe=fe?.index===Re&&fe?.tipo==="banquillo";return v.jsx("div",{className:`banquillo-slot ${F?"modo-edicion":""} ${Fe?"seleccionado":""}`,onClick:()=>{F?Ue(je?.id||null,Re,"banquillo"):je&&(re(!0),K(je))},children:je?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:je?.foto||tn,alt:je?.nombre||"Vacío",className:"jugador-img"}),H===je?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!je?.puntosPorJornada?.length)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const rt=je.puntosPorJornada[je.puntosPorJornada.length-1];if(rt==null)return null;let Me=rt==="-"?"gray":rt<7?"red":rt<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${Me}`,children:rt})})()]}),v.jsx("p",{className:"jugador-nombre-banquillo",children:je?.nombre})]}):v.jsx(Xt,{to:F?"#":"/mercado",className:`banquillo-add ${F?"disabled":""}`,onClick:rt=>{F&&rt.preventDefault()},children:"+"})},je?.id||Re)})})]})]})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]}):v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:Oe=>{Oe.currentTarget.onerror=null,Oe.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>B(!W),onMouseEnter:()=>B(!0)}),W&&v.jsxs("div",{className:"perfil-bocadillo",ref:Y,onMouseLeave:()=>B(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{et(!0),B(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:N,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:mt(r)})]})]})]}),v.jsx("button",{onClick:dt,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),v.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:v.jsx("div",{className:"campo",children:v.jsx("button",{className:"crear-equipo-btn",onClick:vt,disabled:T,children:T?"Creando equipo...":"Crear equipo"})})})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}function P5({jugador:t,openModal:e,setOpenModal:n}){$s(),as(),Nf();const r=t?.foto||tn,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=S.useRef(),u=f=>{f.target===a.current&&n(!1)};function h(f){return typeof f!="number"?"—":f.toLocaleString("es-ES",{style:"currency",currency:"EUR"})}return e?(console.log("DEBUG jugador en modal:",t),v.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:r,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:o(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return v.jsx("small",{children:"(±0€)"});const y=f[f.length-1].precio||0,w=t.precio-y,b=w>0?"+":w<0?"-":"±";return v.jsxs("small",{className:w>0?"subida":w<0?"bajada":"igual",children:["(",b,h(Math.abs(w)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",h(t?.precioClausula)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,y,w)=>{const b=f??"-",C=w.length<5?y+1:t.puntosPorJornada.length-5+y+1;let k="";return typeof f=="number"&&(f>=9?k="verde":f<7?k="rojo":k="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",C]}),v.jsx("div",{className:`jornada-cuadro ${k}`,children:b})]},y)}):[...Array(5)].map((f,y)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",y+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},y))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]})]})})):null}const Zr=as(_r),Nm=$s(_r);function A5({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,u]=S.useState(!1),h=t?.fotoPerfil||tn,f=t?.equipo?.titulares||[];t?.equipo?.banquillo;const[y,w]=S.useState([]),[b,C]=S.useState([]),[k,D]=S.useState(!1),[j,O]=S.useState(!1),[K,H]=S.useState(!1),[J,ee]=S.useState(null),[de,se]=S.useState(!1),P=S.useRef(null),[T,R]=S.useState("mercado"),L=()=>tf(Nm);S.useEffect(()=>{const re=W=>{P.current&&!P.current.contains(W.target)&&se(!1)};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]),S.useEffect(()=>{(async()=>{const W=Rt(Zr,"mercado","actual"),B=await ts(W);if(B.exists()){const Y=B.data();w(Y.jugadores||[])}else w([]),console.log("No existe mercado, espera a que un admin lo actualice")})()},[]);const V=async()=>{const re=Rt(Zr,"mercado","actual"),W=await ts(re);if(W.exists()){const F=W.data();for(const ae of F.jugadores)if(ae.stock>0){const fe=Rt(Zr,"jugadores",ae.idJugador);await yr(fe,{stockLibre:ih(ae.stock),dueños:gC("mercado")})}}const N=(await ma(pa(Zr,"jugadores"))).docs.map(F=>({idJugador:F.id,...F.data()})).filter(F=>F.stockLibre>0).sort(()=>.5-Math.random()).slice(0,15);for(const F of N){const ae=Rt(Zr,"jugadores",F.idJugador);await yr(ae,{stockLibre:ih(-1),dueños:mC("mercado")})}await hg(re,{jugadores:N.map(F=>({idJugador:F.idJugador,nombre:F.nombre,precio:F.precio,precioClausula:F.precioClausula,goles:F.goles,asistencias:F.asistencias,valoracion:F.valoracion,nota:F.nota,puntos:F.puntosTotales,partidos:F.partidos,foto:F.foto,posicion:F.posicion,stock:1,historialPrecios:F.historialPrecios||[],puntosPorJornada:F.puntosPorJornada||[]})),ultimaActualizacion:AN()}),w(N)};S.useEffect(()=>{(async()=>{if(!f||f.length===0)return;const W=pa(Zr,"jugadores"),B=bf(W,Tf("__name__","in",f)),N=(await ma(B)).docs.map(F=>({id:F.id,...F.data()}));C(N)})()},[f]);const U=async re=>{if(re.stock<=0){alert("Ya no queda stock de este jugador");return}const W=Rt(Zr,"mercado","actual"),B=await ts(W);if(!B.exists())return;const N=B.data().jugadores.map(ae=>ae.idJugador===re.idJugador?{...ae,stock:ae.stock-1}:ae);await yr(W,{jugadores:N}),await yr(Rt(Zr,"jugadores",re.idJugador),{stockTotal:ih(-1)});const F=Rt(Zr,"usuarios",Nm.currentUser.uid);await yr(F,{"equipo.banquillo":[...t.equipo?.banquillo||[],re.idJugador]}),w(N),alert(`Has comprado a ${re.nombre}`)},x=()=>{u(!a)},Le=re=>{switch(re){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return re||"Sin posición"}},et=re=>re>=1e6?(re/1e6).toFixed(2)+"M":re>=1e3?(re/1e3).toFixed(2)+"K":re.toFixed(2),Qe=re=>typeof re!="number"||isNaN(re)?"—":re.toLocaleString("es-ES")+"€";return S.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const re=setTimeout(async()=>{try{const W=Rt(Zr,"usuarios",Nm.currentUser.uid);await yr(W,{onboarding:!0}),window.location.reload()}catch(W){console.error("Error actualizando onboarding:",W)}},500);return()=>clearTimeout(re)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const re=Rt(Zr,"usuarios",t.uid);ts(re).then(W=>{W.exists()&&o(W.data().dinero)})}},[t],[f]),v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:h,onError:re=>{re.currentTarget.onerror=null,re.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>se(!de),onMouseEnter:()=>se(!0)}),de&&v.jsxs("div",{className:"perfil-bocadillo",ref:P,onMouseLeave:()=>se(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{O(!0),se(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:L,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:et(r)})]})]})]}),v.jsx("button",{onClick:x,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),j&&v.jsx(Df,{usuario:t,openModal:j,setOpenModal:O}),K&&J&&v.jsx(P5,{jugador:J,openModal:K,setOpenModal:H}),v.jsxs("div",{className:"tabs-wrapper",children:[v.jsxs("div",{className:"tabs-container",style:{},children:[v.jsx("button",{className:`tab-btn ${T==="mercado"?"active":""}`,onClick:()=>R("mercado"),children:"Mercado"}),v.jsx("button",{className:`tab-btn ${T==="operaciones"?"active":""}`,onClick:()=>R("operaciones"),children:"Mis operaciones"})]}),T==="mercado"&&v.jsxs("div",{className:"mercado-jugadores",children:[t?.rol==="admin"&&v.jsx("button",{onClick:V,className:"btn-actualizar-mercado",children:"⟳ Actualizar mercado"}),v.jsx("ul",{className:"lista-jugadores",children:y.map(re=>v.jsx("li",{className:"jugador-card",onClick:()=>{ee(re),H(!0)},children:v.jsxs("div",{className:"jugador-perfil",children:[v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:re.foto||tn,alt:re.nombre,onError:W=>{W.currentTarget.onerror=null,W.currentTarget.src=tn}})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,re.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${re.posicion}`,children:v.jsx("small",{children:Le(re.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Qe(re.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const W=re.historialPrecios||[];if(W.length===0)return v.jsx("small",{children:"(±10.000.000€)"});const B=W[W.length-1].precio||0,Y=re.precio-B,N=Y>0?"+":Y<0?"-":"±";return v.jsxs("small",{className:Y>=0?"subida":"bajada",children:["(",N,Qe(Math.abs(Y)),")"]})})()})]})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:re.puntosPorJornada&&re.puntosPorJornada.length>0?re.puntosPorJornada.slice(-5).map((W,B)=>{const Y=W??"-",F=re.puntosPorJornada.length-5+B+1;let ae="";return typeof W=="number"&&(W>=9?ae="verde":W<7&&(ae="rojo")),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",F]}),v.jsx("div",{className:`jornada-cuadro ${ae}`,children:Y})]},B)}):[...Array(5)].map((W,B)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",B+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},B))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsxs("button",{className:"btn-comprar",disabled:re.stock<=0,onClick:W=>{W.stopPropagation(),U(re)},children:["Comprar",v.jsx("br",{}),v.jsxs("small",{className:"precio-compra",children:["(-",Qe(re.precio),")"]})]}),v.jsx("button",{className:"btn-comprar",disabled:re.stock<=0,onClick:W=>{W.stopPropagation(),U(re)},children:"Pujar"})]})]})},re.idJugador))})]}),T==="operaciones"&&v.jsx("div",{className:"operaciones-container",children:v.jsxs("div",{className:"operaciones-animacion",children:[v.jsx("h2",{children:"Mis operaciones pendientes"}),t?.operaciones&&t.operaciones.length>0?v.jsx("ul",{children:t.operaciones.map((re,W)=>v.jsxs("li",{children:[re.tipo," - ",re.jugador," - ",Qe(re.cantidad)]},W))}):v.jsx("p",{children:"No tienes operaciones pendientes"})]})})]})]}),e&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}var On=function(){return On=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},On.apply(this,arguments)};function qh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var bt="-ms-",Qc="-moz-",ct="-webkit-",kT="comm",Of="rule",Yy="decl",N5="@import",RT="@keyframes",D5="@layer",PT=Math.abs,Xy=String.fromCharCode,vg=Object.assign;function O5(t,e){return gn(t,0)^45?(((e<<2^gn(t,0))<<2^gn(t,1))<<2^gn(t,2))<<2^gn(t,3):0}function AT(t){return t.trim()}function ci(t,e){return(t=e.exec(t))?t[0]:t}function He(t,e,n){return t.replace(e,n)}function lh(t,e,n){return t.indexOf(e,n)}function gn(t,e){return t.charCodeAt(e)|0}function Ml(t,e,n){return t.slice(e,n)}function xs(t){return t.length}function NT(t){return t.length}function Bc(t,e){return e.push(t),t}function L5(t,e){return t.map(e).join("")}function gE(t,e){return t.filter(function(n){return!ci(n,e)})}var Lf=1,Vl=1,DT=0,$r=0,Zt=0,ec="";function Mf(t,e,n,r,o,a,u,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:Lf,column:Vl,length:u,return:"",siblings:h}}function Xi(t,e){return vg(Mf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function hl(t){for(;t.root;)t=Xi(t.root,{children:[t]});Bc(t,t.siblings)}function M5(){return Zt}function V5(){return Zt=$r>0?gn(ec,--$r):0,Vl--,Zt===10&&(Vl=1,Lf--),Zt}function ss(){return Zt=$r<DT?gn(ec,$r++):0,Vl++,Zt===10&&(Vl=1,Lf++),Zt}function oa(){return gn(ec,$r)}function ch(){return $r}function Vf(t,e){return Ml(ec,t,e)}function _g(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j5(t){return Lf=Vl=1,DT=xs(ec=t),$r=0,[]}function F5(t){return ec="",t}function Dm(t){return AT(Vf($r-1,Eg(t===91?t+2:t===40?t+1:t)))}function $5(t){for(;(Zt=oa())&&Zt<33;)ss();return _g(t)>2||_g(Zt)>3?"":" "}function U5(t,e){for(;--e&&ss()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return Vf(t,ch()+(e<6&&oa()==32&&ss()==32))}function Eg(t){for(;ss();)switch(Zt){case t:return $r;case 34:case 39:t!==34&&t!==39&&Eg(Zt);break;case 40:t===41&&Eg(t);break;case 92:ss();break}return $r}function B5(t,e){for(;ss()&&t+Zt!==57;)if(t+Zt===84&&oa()===47)break;return"/*"+Vf(e,$r-1)+"*"+Xy(t===47?t:ss())}function z5(t){for(;!_g(oa());)ss();return Vf(t,$r)}function H5(t){return F5(uh("",null,null,null,[""],t=j5(t),0,[0],t))}function uh(t,e,n,r,o,a,u,h,f){for(var y=0,w=0,b=u,C=0,k=0,D=0,j=1,O=1,K=1,H=0,J="",ee=o,de=a,se=r,P=J;O;)switch(D=H,H=ss()){case 40:if(D!=108&&gn(P,b-1)==58){lh(P+=He(Dm(H),"&","&\f"),"&\f",PT(y?h[y-1]:0))!=-1&&(K=-1);break}case 34:case 39:case 91:P+=Dm(H);break;case 9:case 10:case 13:case 32:P+=$5(D);break;case 92:P+=U5(ch()-1,7);continue;case 47:switch(oa()){case 42:case 47:Bc(q5(B5(ss(),ch()),e,n,f),f);break;default:P+="/"}break;case 123*j:h[y++]=xs(P)*K;case 125*j:case 59:case 0:switch(H){case 0:case 125:O=0;case 59+w:K==-1&&(P=He(P,/\f/g,"")),k>0&&xs(P)-b&&Bc(k>32?wE(P+";",r,n,b-1,f):wE(He(P," ","")+";",r,n,b-2,f),f);break;case 59:P+=";";default:if(Bc(se=yE(P,e,n,y,w,o,h,J,ee=[],de=[],b,a),a),H===123)if(w===0)uh(P,e,se,se,ee,a,b,h,de);else switch(C===99&&gn(P,3)===110?100:C){case 100:case 108:case 109:case 115:uh(t,se,se,r&&Bc(yE(t,se,se,0,0,o,h,J,o,ee=[],b,de),de),o,de,b,h,r?ee:de);break;default:uh(P,se,se,se,[""],de,0,h,de)}}y=w=k=0,j=K=1,J=P="",b=u;break;case 58:b=1+xs(P),k=D;default:if(j<1){if(H==123)--j;else if(H==125&&j++==0&&V5()==125)continue}switch(P+=Xy(H),H*j){case 38:K=w>0?1:(P+="\f",-1);break;case 44:h[y++]=(xs(P)-1)*K,K=1;break;case 64:oa()===45&&(P+=Dm(ss())),C=oa(),w=b=xs(J=P+=z5(ch())),H++;break;case 45:D===45&&xs(P)==2&&(j=0)}}return a}function yE(t,e,n,r,o,a,u,h,f,y,w,b){for(var C=o-1,k=o===0?a:[""],D=NT(k),j=0,O=0,K=0;j<r;++j)for(var H=0,J=Ml(t,C+1,C=PT(O=u[j])),ee=t;H<D;++H)(ee=AT(O>0?k[H]+" "+J:He(J,/&\f/g,k[H])))&&(f[K++]=ee);return Mf(t,e,n,o===0?Of:h,f,y,w,b)}function q5(t,e,n,r){return Mf(t,e,n,kT,Xy(M5()),Ml(t,2,-2),0,r)}function wE(t,e,n,r,o){return Mf(t,e,n,Yy,Ml(t,0,r),Ml(t,r+1,-1),r,o)}function OT(t,e,n){switch(O5(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 4789:return Qc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+Qc+t+bt+t+t;case 5936:switch(gn(t,e+11)){case 114:return ct+t+bt+He(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+bt+He(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+bt+He(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ct+t+bt+t+t;case 6165:return ct+t+bt+"flex-"+t+t;case 5187:return ct+t+He(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+bt+"flex-$1$2")+t;case 5443:return ct+t+bt+"flex-item-"+He(t,/flex-|-self/g,"")+(ci(t,/flex-|baseline/)?"":bt+"grid-row-"+He(t,/flex-|-self/g,""))+t;case 4675:return ct+t+bt+"flex-line-pack"+He(t,/align-content|flex-|-self/g,"")+t;case 5548:return ct+t+bt+He(t,"shrink","negative")+t;case 5292:return ct+t+bt+He(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+He(t,"-grow","")+ct+t+bt+He(t,"grow","positive")+t;case 4554:return ct+He(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return He(He(He(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return He(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return He(He(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4200:if(!ci(t,/flex-|baseline/))return bt+"grid-column-align"+Ml(t,e)+t;break;case 2592:case 3360:return bt+He(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,ci(r.props,/grid-\w+-end/)})?~lh(t+(n=n[e].value),"span",0)?t:bt+He(t,"-start","")+t+bt+"grid-row-span:"+(~lh(n,"span",0)?ci(n,/\d+/):+ci(n,/\d+/)-+ci(t,/\d+/))+";":bt+He(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ci(r.props,/grid-\w+-start/)})?t:bt+He(He(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return He(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xs(t)-1-e>6)switch(gn(t,e+1)){case 109:if(gn(t,e+4)!==45)break;case 102:return He(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+Qc+(gn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lh(t,"stretch",0)?OT(He(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return He(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,u,h,f,y){return bt+o+":"+a+y+(u?bt+o+"-span:"+(h?f:+f-+a)+y:"")+t});case 4949:if(gn(t,e+6)===121)return He(t,":",":"+ct)+t;break;case 6444:switch(gn(t,gn(t,14)===45?18:11)){case 120:return He(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ct+(gn(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+bt+"$2box$3")+t;case 100:return He(t,":",":"+bt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return He(t,"scroll-","scroll-snap-")+t}return t}function Wh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function W5(t,e,n,r){switch(t.type){case D5:if(t.children.length)break;case N5:case Yy:return t.return=t.return||t.value;case kT:return"";case RT:return t.return=t.value+"{"+Wh(t.children,r)+"}";case Of:if(!xs(t.value=t.props.join(",")))return""}return xs(n=Wh(t.children,r))?t.return=t.value+"{"+n+"}":""}function G5(t){var e=NT(t);return function(n,r,o,a){for(var u="",h=0;h<e;h++)u+=t[h](n,r,o,a)||"";return u}}function K5(t){return function(e){e.root||(e=e.return)&&t(e)}}function Q5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Yy:t.return=OT(t.value,t.length,n);return;case RT:return Wh([Xi(t,{value:He(t.value,"@","@"+ct)})],r);case Of:if(t.length)return L5(n=t.props,function(o){switch(ci(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":hl(Xi(t,{props:[He(o,/:(read-\w+)/,":"+Qc+"$1")]})),hl(Xi(t,{props:[o]})),vg(t,{props:gE(n,r)});break;case"::placeholder":hl(Xi(t,{props:[He(o,/:(plac\w+)/,":"+ct+"input-$1")]})),hl(Xi(t,{props:[He(o,/:(plac\w+)/,":"+Qc+"$1")]})),hl(Xi(t,{props:[He(o,/:(plac\w+)/,bt+"input-$1")]})),hl(Xi(t,{props:[o]})),vg(t,{props:gE(n,r)});break}return""})}}var J5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gr={},jl=typeof process<"u"&&gr!==void 0&&(gr.REACT_APP_SC_ATTR||gr.SC_ATTR)||"data-styled",LT="active",MT="data-styled-version",jf="6.1.19",Zy=`/*!sc*/
`,Gh=typeof window<"u"&&typeof document<"u",Y5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&gr!==void 0&&gr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&gr.REACT_APP_SC_DISABLE_SPEEDY!==""?gr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&gr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&gr!==void 0&&gr.SC_DISABLE_SPEEDY!==void 0&&gr.SC_DISABLE_SPEEDY!==""&&gr.SC_DISABLE_SPEEDY!=="false"&&gr.SC_DISABLE_SPEEDY),Ff=Object.freeze([]),Fl=Object.freeze({});function X5(t,e,n){return n===void 0&&(n=Fl),t.theme!==n.theme&&t.theme||e||n.theme}var VT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Z5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,eV=/(^-|-$)/g;function vE(t){return t.replace(Z5,"-").replace(eV,"")}var tV=/(a)(d)/gi,qd=52,_E=function(t){return String.fromCharCode(t+(t>25?39:97))};function bg(t){var e,n="";for(e=Math.abs(t);e>qd;e=e/qd|0)n=_E(e%qd)+n;return(_E(e%qd)+n).replace(tV,"$1-$2")}var Om,jT=5381,yl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},FT=function(t){return yl(jT,t)};function nV(t){return bg(FT(t)>>>0)}function rV(t){return t.displayName||t.name||"Component"}function Lm(t){return typeof t=="string"&&!0}var $T=typeof Symbol=="function"&&Symbol.for,UT=$T?Symbol.for("react.memo"):60115,sV=$T?Symbol.for("react.forward_ref"):60112,iV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},oV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},BT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aV=((Om={})[sV]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Om[UT]=BT,Om);function EE(t){return("type"in(e=t)&&e.type.$$typeof)===UT?BT:"$$typeof"in t?aV[t.$$typeof]:iV;var e}var lV=Object.defineProperty,cV=Object.getOwnPropertyNames,bE=Object.getOwnPropertySymbols,uV=Object.getOwnPropertyDescriptor,dV=Object.getPrototypeOf,CE=Object.prototype;function zT(t,e,n){if(typeof e!="string"){if(CE){var r=dV(e);r&&r!==CE&&zT(t,r,n)}var o=cV(e);bE&&(o=o.concat(bE(e)));for(var a=EE(t),u=EE(e),h=0;h<o.length;++h){var f=o[h];if(!(f in oV||n&&n[f]||u&&f in u||a&&f in a)){var y=uV(e,f);try{lV(t,f,y)}catch{}}}}return t}function ya(t){return typeof t=="function"}function ew(t){return typeof t=="object"&&"styledComponentId"in t}function ra(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function TE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function au(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Cg(t,e,n){if(n===void 0&&(n=!1),!n&&!au(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Cg(t[r],e[r]);else if(au(e))for(var r in e)t[r]=Cg(t[r],e[r]);return t}function tw(t,e){Object.defineProperty(t,"toString",{value:e})}function wa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var hV=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw wa(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var u=o;u<a;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(h,n[u])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,u=o;u<a;u++)n+="".concat(this.tag.getRule(u)).concat(Zy);return n},t})(),dh=new Map,Kh=new Map,hh=1,Wd=function(t){if(dh.has(t))return dh.get(t);for(;Kh.has(hh);)hh++;var e=hh++;return dh.set(t,e),Kh.set(e,t),e},fV=function(t,e){hh=e+1,dh.set(t,e),Kh.set(e,t)},pV="style[".concat(jl,"][").concat(MT,'="').concat(jf,'"]'),mV=new RegExp("^".concat(jl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),gV=function(t,e,n){for(var r,o=n.split(","),a=0,u=o.length;a<u;a++)(r=o[a])&&t.registerName(e,r)},yV=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Zy),o=[],a=0,u=r.length;a<u;a++){var h=r[a].trim();if(h){var f=h.match(mV);if(f){var y=0|parseInt(f[1],10),w=f[2];y!==0&&(fV(w,y),gV(t,w,f[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},SE=function(t){for(var e=document.querySelectorAll(pV),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(jl)!==LT&&(yV(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function wV(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var HT=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(jl,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(jl,LT),r.setAttribute(MT,jf);var u=wV();return u&&r.setAttribute("nonce",u),n.insertBefore(r,a),r},vV=(function(){function t(e){this.element=HT(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var u=r[o];if(u.ownerNode===n)return u}throw wa(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),_V=(function(){function t(e){this.element=HT(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),EV=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),IE=Gh,bV={isServer:!Gh,useCSSOMInjection:!Y5},qT=(function(){function t(e,n,r){e===void 0&&(e=Fl),n===void 0&&(n={});var o=this;this.options=On(On({},bV),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Gh&&IE&&(IE=!1,SE(this)),tw(this,function(){return(function(a){for(var u=a.getTag(),h=u.length,f="",y=function(b){var C=(function(K){return Kh.get(K)})(b);if(C===void 0)return"continue";var k=a.names.get(C),D=u.getGroup(b);if(k===void 0||!k.size||D.length===0)return"continue";var j="".concat(jl,".g").concat(b,'[id="').concat(C,'"]'),O="";k!==void 0&&k.forEach(function(K){K.length>0&&(O+="".concat(K,","))}),f+="".concat(D).concat(j,'{content:"').concat(O,'"}').concat(Zy)},w=0;w<h;w++)y(w);return f})(o)})}return t.registerId=function(e){return Wd(e)},t.prototype.rehydrate=function(){!this.server&&Gh&&SE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(On(On({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new EV(o):r?new vV(o):new _V(o)})(this.options),new hV(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Wd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Wd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Wd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),CV=/&/g,TV=/^\s*\/\/.*$/gm;function WT(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=WT(n.children,e)),n})}function SV(t){var e,n,r,o=Fl,a=o.options,u=a===void 0?Fl:a,h=o.plugins,f=h===void 0?Ff:h,y=function(C,k,D){return D.startsWith(n)&&D.endsWith(n)&&D.replaceAll(n,"").length>0?".".concat(e):C},w=f.slice();w.push(function(C){C.type===Of&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(CV,n).replace(r,y))}),u.prefix&&w.push(Q5),w.push(W5);var b=function(C,k,D,j){k===void 0&&(k=""),D===void 0&&(D=""),j===void 0&&(j="&"),e=j,n=k,r=new RegExp("\\".concat(n,"\\b"),"g");var O=C.replace(TV,""),K=H5(D||k?"".concat(D," ").concat(k," { ").concat(O," }"):O);u.namespace&&(K=WT(K,u.namespace));var H=[];return Wh(K,G5(w.concat(K5(function(J){return H.push(J)})))),H};return b.hash=f.length?f.reduce(function(C,k){return k.name||wa(15),yl(C,k.name)},jT).toString():"",b}var IV=new qT,Tg=SV(),GT=qe.createContext({shouldForwardProp:void 0,styleSheet:IV,stylis:Tg});GT.Consumer;qe.createContext(void 0);function xE(){return S.useContext(GT)}var xV=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=Tg);var u=r.name+a.hash;o.hasNameForId(r.id,u)||o.insertRules(r.id,u,a(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,tw(this,function(){throw wa(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Tg),this.name+e.hash},t})(),kV=function(t){return t>="A"&&t<="Z"};function kE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;kV(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var KT=function(t){return t==null||t===!1||t===""},QT=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!KT(a)&&(Array.isArray(a)&&a.isCss||ya(a)?r.push("".concat(kE(o),":"),a,";"):au(a)?r.push.apply(r,qh(qh(["".concat(o," {")],QT(a),!1),["}"],!1)):r.push("".concat(kE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in J5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function aa(t,e,n,r){if(KT(t))return[];if(ew(t))return[".".concat(t.styledComponentId)];if(ya(t)){if(!ya(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return aa(o,e,n,r)}var a;return t instanceof xV?n?(t.inject(n,r),[t.getName(r)]):[t]:au(t)?QT(t):Array.isArray(t)?Array.prototype.concat.apply(Ff,t.map(function(u){return aa(u,e,n,r)})):[t.toString()]}function RV(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ya(n)&&!ew(n))return!1}return!0}var PV=FT(jf),AV=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&RV(e),this.componentId=n,this.baseHash=yl(PV,n),this.baseStyle=r,qT.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ra(o,this.staticRulesId);else{var a=TE(aa(this.rules,e,n,r)),u=bg(yl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,u)){var h=r(a,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,h)}o=ra(o,u),this.staticRulesId=u}else{for(var f=yl(this.baseHash,r.hash),y="",w=0;w<this.rules.length;w++){var b=this.rules[w];if(typeof b=="string")y+=b;else if(b){var C=TE(aa(b,e,n,r));f=yl(f,C+w),y+=C}}if(y){var k=bg(f>>>0);n.hasNameForId(this.componentId,k)||n.insertRules(this.componentId,k,r(y,".".concat(k),void 0,this.componentId)),o=ra(o,k)}}return o},t})(),Qh=qe.createContext(void 0);Qh.Consumer;function NV(t){var e=qe.useContext(Qh),n=S.useMemo(function(){return(function(r,o){if(!r)throw wa(14);if(ya(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw wa(8);return o?On(On({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?qe.createElement(Qh.Provider,{value:n},t.children):null}var Mm={};function DV(t,e,n){var r=ew(t),o=t,a=!Lm(t),u=e.attrs,h=u===void 0?Ff:u,f=e.componentId,y=f===void 0?(function(ee,de){var se=typeof ee!="string"?"sc":vE(ee);Mm[se]=(Mm[se]||0)+1;var P="".concat(se,"-").concat(nV(jf+se+Mm[se]));return de?"".concat(de,"-").concat(P):P})(e.displayName,e.parentComponentId):f,w=e.displayName,b=w===void 0?(function(ee){return Lm(ee)?"styled.".concat(ee):"Styled(".concat(rV(ee),")")})(t):w,C=e.displayName&&e.componentId?"".concat(vE(e.displayName),"-").concat(e.componentId):e.componentId||y,k=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,D=e.shouldForwardProp;if(r&&o.shouldForwardProp){var j=o.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;D=function(ee,de){return j(ee,de)&&O(ee,de)}}else D=j}var K=new AV(n,C,r?o.componentStyle:void 0);function H(ee,de){return(function(se,P,T){var R=se.attrs,L=se.componentStyle,V=se.defaultProps,U=se.foldedComponentIds,x=se.styledComponentId,Le=se.target,et=qe.useContext(Qh),Qe=xE(),re=se.shouldForwardProp||Qe.shouldForwardProp,W=X5(P,et,V)||Fl,B=(function(_e,be,Ue){for(var Be,ze=On(On({},be),{className:void 0,theme:Ue}),dt=0;dt<_e.length;dt+=1){var mt=ya(Be=_e[dt])?Be(ze):Be;for(var vt in mt)ze[vt]=vt==="className"?ra(ze[vt],mt[vt]):vt==="style"?On(On({},ze[vt]),mt[vt]):mt[vt]}return be.className&&(ze.className=ra(ze.className,be.className)),ze})(R,P,W),Y=B.as||Le,N={};for(var F in B)B[F]===void 0||F[0]==="$"||F==="as"||F==="theme"&&B.theme===W||(F==="forwardedAs"?N.as=B.forwardedAs:re&&!re(F,Y)||(N[F]=B[F]));var ae=(function(_e,be){var Ue=xE(),Be=_e.generateAndInjectStyles(be,Ue.styleSheet,Ue.stylis);return Be})(L,B),fe=ra(U,x);return ae&&(fe+=" "+ae),B.className&&(fe+=" "+B.className),N[Lm(Y)&&!VT.has(Y)?"class":"className"]=fe,T&&(N.ref=T),S.createElement(Y,N)})(J,ee,de)}H.displayName=b;var J=qe.forwardRef(H);return J.attrs=k,J.componentStyle=K,J.displayName=b,J.shouldForwardProp=D,J.foldedComponentIds=r?ra(o.foldedComponentIds,o.styledComponentId):"",J.styledComponentId=C,J.target=r?o.target:t,Object.defineProperty(J,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ee){this._foldedDefaultProps=r?(function(de){for(var se=[],P=1;P<arguments.length;P++)se[P-1]=arguments[P];for(var T=0,R=se;T<R.length;T++)Cg(de,R[T],!0);return de})({},o.defaultProps,ee):ee}}),tw(J,function(){return".".concat(J.styledComponentId)}),a&&zT(J,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),J}function RE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var PE=function(t){return Object.assign(t,{isCss:!0})};function un(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ya(t)||au(t))return PE(aa(RE(Ff,qh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?aa(r):PE(aa(RE(r,e)))}function Sg(t,e,n){if(n===void 0&&(n=Fl),!e)throw wa(1,e);var r=function(o){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];return t(e,n,un.apply(void 0,qh([o],a,!1)))};return r.attrs=function(o){return Sg(t,e,On(On({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Sg(t,e,On(On({},n),o))},r}var JT=function(t){return Sg(DV,t)},Ke=JT;VT.forEach(function(t){Ke[t]=JT(t)});var ho;function $l(t,e){return t[e]}function OV(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function LV(t=[],e,n="id"){const r=t.slice(),o=$l(e,n);return o?r.splice(r.findIndex((a=>$l(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function AE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function Jc(t,e){return Math.ceil(t/e)}function Vm(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(ho||(ho={}));const ln=()=>null;function YT(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function fh(t,e=[],n="id"){const r=$l(t,n);return r?e.some((o=>$l(o,n)===r)):e.some((o=>o===t))}function Gd(t,e){return e?t.findIndex((n=>Yc(n.id,e))):-1}function Yc(t,e){return t==e}function MV(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:u}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(u){const y=h?[...t.selectedRows,...o.filter((w=>!fh(w,t.selectedRows,r)))]:t.selectedRows.filter((w=>!fh(w,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:u,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:LV(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===u,selectedRows:OV(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:u}=e;if(u){const h=[...t.selectedRows,...o.filter((f=>!fh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:u}=e,h=o&&u,f=o&&!u||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const VV=un`
	pointer-events: none;
	opacity: 0.4;
`,jV=Ke.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&VV};
	${({theme:t})=>t.table.style};
`,FV=un`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,$V=Ke.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&FV};
	${({theme:t})=>t.head.style};
`,UV=Ke.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,XT=(t,...e)=>un`
		@media screen and (max-width: ${599}px) {
			${un(t,...e)}
		}
	`,BV=(t,...e)=>un`
		@media screen and (max-width: ${959}px) {
			${un(t,...e)}
		}
	`,zV=(t,...e)=>un`
		@media screen and (max-width: ${1280}px) {
			${un(t,...e)}
		}
	`,HV=t=>(e,...n)=>un`
			@media screen and (max-width: ${t}px) {
				${un(e,...n)}
			}
		`,tc=Ke.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,ZT=Ke(tc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&un`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&XT`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&BV`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&zV`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&HV(t)`
    display: none;
  `};
`,qV=un`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,WV=Ke(ZT).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&qV};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var GV=S.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:w}){const{conditionalStyle:b,classNames:C}=YT(n,e.conditionalCellStyles,["rdt_TableCell"]);return S.createElement(WV,{id:t,"data-column-id":e.id,role:"cell",className:C,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:u,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:w},!e.cell&&S.createElement("div",{"data-tag":o},(function(k,D,j,O){return D?j&&typeof j=="function"?j(k,O):D(k,O):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const NE="input";var eS=S.memo((function({name:t,component:e=NE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:u=ln}){const h=e,f=h!==NE?n.style:(w=>Object.assign(Object.assign({fontSize:"18px"},!w&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=S.useMemo((()=>(function(w,...b){let C;return Object.keys(w).map((k=>w[k])).forEach(((k,D)=>{typeof k=="function"&&(C=Object.assign(Object.assign({},w),{[Object.keys(w)[D]]:k(...b)}))})),C||w})(n,r)),[n,r]);return S.createElement(h,Object.assign({type:"checkbox",ref:w=>{w&&(w.indeterminate=r)},style:f,onClick:a?ln:u,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:ln}))}));const KV=Ke(tc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function QV({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:u,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:y}){const w=!(!f||!f(n));return S.createElement(KV,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},S.createElement(eS,{name:t,component:a,componentOptions:u,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:w}))}const JV=Ke.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function YV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const u=e?n.expanded:n.collapsed;return S.createElement(JV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},u)}const XV=Ke(tc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function ZV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return S.createElement(XV,{onClick:u=>u.stopPropagation(),$noPadding:!0},S.createElement(YV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const ej=Ke.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var tj=S.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((u=>u!=="rdt_TableRow"))].join(" ");return S.createElement(ej,{className:a,$extendedRowStyle:r},S.createElement(e,Object.assign({data:t},n)))}));const jm="allowRowEvents";var Jh,Ig,DE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Jh||(Jh={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Ig||(Ig={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(DE||(DE={}));const nj=un`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,rj=un`
	&:hover {
		cursor: pointer;
	}
`,sj=Ke.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&nj};
	${({$pointerOnHover:t})=>t&&rj};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function ij({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:u=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:y,expandOnRowClicked:w=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:C=!1,id:k,expandableInheritConditionalStyles:D,keyField:j,onRowClicked:O=ln,onRowDoubleClicked:K=ln,onRowMouseEnter:H=ln,onRowMouseLeave:J=ln,onRowExpandToggled:ee=ln,onSelectedRow:de=ln,pointerOnHover:se=!1,row:P,rowCount:T,rowIndex:R,selectableRowDisabled:L=null,selectableRows:V=!1,selectableRowsComponent:U,selectableRowsComponentProps:x,selectableRowsHighlight:Le=!1,selectableRowsSingle:et=!1,selected:Qe,striped:re=!1,draggingColumnId:W,onDragStart:B,onDragOver:Y,onDragEnd:N,onDragEnter:F,onDragLeave:ae}){const[fe,_e]=S.useState(n);S.useEffect((()=>{_e(n)}),[n]);const be=S.useCallback((()=>{_e(!fe),ee(!fe,P)}),[fe,ee,P]),Ue=se||u&&(w||b),Be=S.useCallback((Me=>{Me.target.getAttribute("data-tag")===jm&&(O(P,Me),!r&&u&&w&&be())}),[r,w,u,be,O,P]),ze=S.useCallback((Me=>{Me.target.getAttribute("data-tag")===jm&&(K(P,Me),!r&&u&&b&&be())}),[r,b,u,be,K,P]),dt=S.useCallback((Me=>{H(P,Me)}),[H,P]),mt=S.useCallback((Me=>{J(P,Me)}),[J,P]),vt=$l(P,j),{conditionalStyle:Oe,classNames:Re}=YT(P,e,["rdt_TableRow"]),je=Le&&Qe,Fe=D?Oe:{},rt=re&&R%2==0;return S.createElement(S.Fragment,null,S.createElement(sj,{id:`row-${k}`,role:"row",$striped:rt,$highlightOnHover:C,$pointerOnHover:!r&&Ue,$dense:o,onClick:Be,onDoubleClick:ze,onMouseEnter:dt,onMouseLeave:mt,className:Re,$selected:je,$conditionalStyle:Oe},V&&S.createElement(QV,{name:`select-row-${vt}`,keyField:j,row:P,rowCount:T,selected:Qe,selectableRowsComponent:U,selectableRowsComponentProps:x,selectableRowDisabled:L,selectableRowsSingle:et,onSelectedRow:de}),u&&!y&&S.createElement(ZV,{id:vt,expandableIcon:a,expanded:fe,row:P,onToggled:be,disabled:r}),t.map((Me=>Me.omit?null:S.createElement(GV,{id:`cell-${Me.id}-${vt}`,key:`cell-${Me.id}-${vt}`,dataTag:Me.ignoreRowClick||Me.button?null:jm,column:Me,row:P,rowIndex:R,isDragging:Yc(W,Me.id),onDragStart:B,onDragOver:Y,onDragEnd:N,onDragEnter:F,onDragLeave:ae})))),u&&fe&&S.createElement(tj,{key:`expander-${vt}`,data:P,extendedRowStyle:Fe,extendedClassNames:Re,ExpanderComponent:h,expanderComponentProps:f}))}const oj=Ke.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,aj=({sortActive:t,sortDirection:e})=>qe.createElement(oj,{$sortActive:t,$sortDirection:e},"▲"),lj=Ke(ZT)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,cj=un`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&un`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,uj=Ke.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&cj};
`,dj=Ke.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var hj=S.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:u,pagination:h,paginationServer:f,persistSelectedOnSort:y,selectableRowsVisibleOnly:w,onSort:b,onDragStart:C,onDragOver:k,onDragEnd:D,onDragEnter:j,onDragLeave:O}){S.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[K,H]=S.useState(!1),J=S.useRef(null);if(S.useEffect((()=>{J.current&&H(J.current.scrollWidth>J.current.clientWidth)}),[K]),t.omit)return null;const ee=()=>{if(!t.sortable&&!t.selector)return;let x=o;Yc(r.id,t.id)&&(x=o===ho.ASC?ho.DESC:ho.ASC),b({type:"SORT_CHANGE",sortDirection:x,selectedColumn:t,clearSelectedOnSort:h&&f&&!y||u||w})},de=x=>S.createElement(aj,{sortActive:x,sortDirection:o}),se=()=>S.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),P=!(!t.sortable||!Yc(r.id,t.id)),T=!t.sortable||e,R=t.sortable&&!a&&!t.right,L=t.sortable&&!a&&t.right,V=t.sortable&&a&&!t.right,U=t.sortable&&a&&t.right;return S.createElement(lj,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Yc(t.id,n),onDragStart:C,onDragOver:k,onDragEnd:D,onDragEnter:j,onDragLeave:O},t.name&&S.createElement(uj,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:T?void 0:ee,onKeyPress:T?void 0:x=>{x.key==="Enter"&&ee()},$sortActive:!T&&P,disabled:T},!T&&U&&se(),!T&&L&&de(P),typeof t.name=="string"?S.createElement(dj,{title:K?t.name:void 0,ref:J,"data-column-id":t.id},t.name):t.name,!T&&V&&se(),!T&&R&&de(P)))}));const fj=Ke(tc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function pj({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:u,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:y}){const w=a.length>0&&!r,b=f?e.filter((D=>!f(D))):e,C=b.length===0,k=Math.min(e.length,b.length);return S.createElement(fj,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},S.createElement(eS,{name:"select-all-rows",component:u,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:b,rowCount:k,mergeSelections:o,keyField:n})},checked:r,indeterminate:w,disabled:C}))}function tS(t=Jh.AUTO){const e=typeof window=="object",[n,r]=S.useState(!1);return S.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],u=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||u.dir==="rtl";r(o&&h)}}),[t,e]),n}const mj=Ke.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,gj=Ke.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,OE=Ke.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function yj({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=tS(o),u=r>0;return n?S.createElement(OE,{$visible:u},S.cloneElement(n,{selectedCount:r})):S.createElement(OE,{$visible:u,$rtl:a},S.createElement(mj,null,((h,f,y)=>{if(f===0)return null;const w=f===1?h.singular:h.plural;return y?`${f} ${h.message||""} ${w}`:`${f} ${w} ${h.message||""}`})(t,r,a)),S.createElement(gj,null,e))}const wj=Ke.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,vj=Ke.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,_j=Ke.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,Ej=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:u,showMenu:h=!0})=>S.createElement(wj,{className:"rdt_TableHeader",role:"heading","aria-level":1},S.createElement(vj,null,t),e&&S.createElement(_j,null,e),h&&S.createElement(yj,{contextMessage:n,contextActions:r,contextComponent:o,direction:u,selectedCount:a}));function nS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const bj={left:"flex-start",right:"flex-end",center:"center"},Cj=Ke.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>bj[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,Tj=t=>{var{align:e="right",wrapContent:n=!0}=t,r=nS(t,["align","wrapContent"]);return S.createElement(Cj,Object.assign({align:e,$wrapContent:n},r))},Sj=Ke.div`
	display: flex;
	flex-direction: column;
`,Ij=Ke.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&un`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&un`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,LE=Ke.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,xj=Ke.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,kj=Ke(tc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,Rj=Ke.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,Pj=()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},qe.createElement("path",{d:"M7 10l5 5 5-5z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Aj=Ke.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,Nj=Ke.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,Dj=t=>{var{defaultValue:e,onChange:n}=t,r=nS(t,["defaultValue","onChange"]);return S.createElement(Nj,null,S.createElement(Aj,Object.assign({onChange:n,defaultValue:e},r)),S.createElement(Pj,null))},ce={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return qe.createElement("div",null,"To add an expander pass in a component instance via ",qe.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:qe.createElement((()=>qe.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),qe.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:qe.createElement((()=>qe.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),qe.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:qe.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:qe.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Ig.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),qe.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),qe.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:qe.createElement((()=>qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},qe.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),qe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Jh.AUTO,onChangePage:ln,onChangeRowsPerPage:ln,onRowClicked:ln,onRowDoubleClicked:ln,onRowMouseEnter:ln,onRowMouseLeave:ln,onRowExpandToggled:ln,onSelectedRowsChange:ln,onSort:ln,onColumnOrderChange:ln},Oj={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},Lj=Ke.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Kd=Ke.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,Mj=Ke.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${XT`
    width: 100%;
    justify-content: space-around;
  `};
`,rS=Ke.span`
	flex-shrink: 1;
	user-select: none;
`,Vj=Ke(rS)`
	margin: 0 24px;
`,jj=Ke(rS)`
	margin: 0 4px;
`;var Fj=S.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ce.direction,paginationRowsPerPageOptions:o=ce.paginationRowsPerPageOptions,paginationIconLastPage:a=ce.paginationIconLastPage,paginationIconFirstPage:u=ce.paginationIconFirstPage,paginationIconNext:h=ce.paginationIconNext,paginationIconPrevious:f=ce.paginationIconPrevious,paginationComponentOptions:y=ce.paginationComponentOptions,onChangeRowsPerPage:w=ce.onChangeRowsPerPage,onChangePage:b=ce.onChangePage}){const C=(()=>{const x=typeof window=="object";function Le(){return{width:x?window.innerWidth:void 0,height:x?window.innerHeight:void 0}}const[et,Qe]=S.useState(Le);return S.useEffect((()=>{if(!x)return()=>null;function re(){Qe(Le())}return window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)}),[]),et})(),k=tS(r),D=C.width&&C.width>599,j=Jc(e,t),O=n*t,K=O-t+1,H=n===1,J=n===j,ee=Object.assign(Object.assign({},Oj),y),de=n===j?`${K}-${e} ${ee.rangeSeparatorText} ${e}`:`${K}-${O} ${ee.rangeSeparatorText} ${e}`,se=S.useCallback((()=>b(n-1)),[n,b]),P=S.useCallback((()=>b(n+1)),[n,b]),T=S.useCallback((()=>b(1)),[b]),R=S.useCallback((()=>b(Jc(e,t))),[b,e,t]),L=S.useCallback((x=>w(Number(x.target.value),n)),[n,w]),V=o.map((x=>S.createElement("option",{key:x,value:x},x)));ee.selectAllRowsItem&&V.push(S.createElement("option",{key:-1,value:e},ee.selectAllRowsItemText));const U=S.createElement(Dj,{onChange:L,defaultValue:t,"aria-label":ee.rowsPerPageText},V);return S.createElement(Lj,{className:"rdt_Pagination"},!ee.noRowsPerPage&&D&&S.createElement(S.Fragment,null,S.createElement(jj,null,ee.rowsPerPageText),U),D&&S.createElement(Vj,null,de),S.createElement(Mj,null,S.createElement(Kd,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":H,onClick:T,disabled:H,$isRTL:k},u),S.createElement(Kd,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":H,onClick:se,disabled:H,$isRTL:k},f),!ee.noRowsPerPage&&!D&&U,S.createElement(Kd,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":J,onClick:P,disabled:J,$isRTL:k},h),S.createElement(Kd,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":J,onClick:R,disabled:J,$isRTL:k},a)))}));const ta=(t,e)=>{const n=S.useRef(!0);S.useEffect((()=>{n.current?n.current=!1:t()}),e)};function $j(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uj=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===Bj})(e)})(t)},Bj=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function lu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ul((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function zj(t,e,n){return t.concat(e).map((function(r){return lu(r,n)}))}function ME(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function VE(t,e){try{return e in t}catch{return!1}}function Hj(t,e,n){var r={};return n.isMergeableObject(t)&&ME(t).forEach((function(o){r[o]=lu(t[o],n)})),ME(e).forEach((function(o){(function(a,u){return VE(a,u)&&!(Object.hasOwnProperty.call(a,u)&&Object.propertyIsEnumerable.call(a,u))})(t,o)||(VE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,u){if(!u.customMerge)return Ul;var h=u.customMerge(a);return typeof h=="function"?h:Ul})(o,n)(t[o],e[o],n):r[o]=lu(e[o],n))})),r}function Ul(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||zj,n.isMergeableObject=n.isMergeableObject||Uj,n.cloneUnlessOtherwiseSpecified=lu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):Hj(t,e,n):lu(e,n)}Ul.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Ul(n,r,e)}),{})};var xg=$j(Ul);const jE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Zi={default:jE,light:jE,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function qj(t="default",e,n="default"){return Zi[t]||(Zi[t]=xg(Zi[n],e||{})),Zi[t]=xg(Zi[t],e||{}),Zi[t]}function Wj(t,e,n,r){const[o,a]=S.useState((()=>AE(t))),[u,h]=S.useState(""),f=S.useRef("");ta((()=>{a(AE(t))}),[t]);const y=S.useCallback((O=>{var K,H,J;const{attributes:ee}=O.target,de=(K=ee.getNamedItem("data-column-id"))===null||K===void 0?void 0:K.value;de&&(f.current=((J=(H=o[Gd(o,de)])===null||H===void 0?void 0:H.id)===null||J===void 0?void 0:J.toString())||"",h(f.current))}),[o]),w=S.useCallback((O=>{var K;const{attributes:H}=O.target,J=(K=H.getNamedItem("data-column-id"))===null||K===void 0?void 0:K.value;if(J&&f.current&&J!==f.current){const ee=Gd(o,f.current),de=Gd(o,J),se=[...o];se[ee]=o[de],se[de]=o[ee],a(se),e(se)}}),[e,o]),b=S.useCallback((O=>{O.preventDefault()}),[]),C=S.useCallback((O=>{O.preventDefault()}),[]),k=S.useCallback((O=>{O.preventDefault(),f.current="",h("")}),[]),D=(function(O=!1){return O?ho.ASC:ho.DESC})(r),j=S.useMemo((()=>o[Gd(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:u,handleDragStart:y,handleDragEnter:w,handleDragOver:b,handleDragLeave:C,handleDragEnd:k,defaultSortDirection:D,defaultSortColumn:j}}var Gj=S.memo((function(t){const{data:e=ce.data,columns:n=ce.columns,title:r=ce.title,actions:o=ce.actions,keyField:a=ce.keyField,striped:u=ce.striped,highlightOnHover:h=ce.highlightOnHover,pointerOnHover:f=ce.pointerOnHover,dense:y=ce.dense,selectableRows:w=ce.selectableRows,selectableRowsSingle:b=ce.selectableRowsSingle,selectableRowsHighlight:C=ce.selectableRowsHighlight,selectableRowsNoSelectAll:k=ce.selectableRowsNoSelectAll,selectableRowsVisibleOnly:D=ce.selectableRowsVisibleOnly,selectableRowSelected:j=ce.selectableRowSelected,selectableRowDisabled:O=ce.selectableRowDisabled,selectableRowsComponent:K=ce.selectableRowsComponent,selectableRowsComponentProps:H=ce.selectableRowsComponentProps,onRowExpandToggled:J=ce.onRowExpandToggled,onSelectedRowsChange:ee=ce.onSelectedRowsChange,expandableIcon:de=ce.expandableIcon,onChangeRowsPerPage:se=ce.onChangeRowsPerPage,onChangePage:P=ce.onChangePage,paginationServer:T=ce.paginationServer,paginationServerOptions:R=ce.paginationServerOptions,paginationTotalRows:L=ce.paginationTotalRows,paginationDefaultPage:V=ce.paginationDefaultPage,paginationResetDefaultPage:U=ce.paginationResetDefaultPage,paginationPerPage:x=ce.paginationPerPage,paginationRowsPerPageOptions:Le=ce.paginationRowsPerPageOptions,paginationIconLastPage:et=ce.paginationIconLastPage,paginationIconFirstPage:Qe=ce.paginationIconFirstPage,paginationIconNext:re=ce.paginationIconNext,paginationIconPrevious:W=ce.paginationIconPrevious,paginationComponent:B=ce.paginationComponent,paginationComponentOptions:Y=ce.paginationComponentOptions,responsive:N=ce.responsive,progressPending:F=ce.progressPending,progressComponent:ae=ce.progressComponent,persistTableHead:fe=ce.persistTableHead,noDataComponent:_e=ce.noDataComponent,disabled:be=ce.disabled,noTableHead:Ue=ce.noTableHead,noHeader:Be=ce.noHeader,fixedHeader:ze=ce.fixedHeader,fixedHeaderScrollHeight:dt=ce.fixedHeaderScrollHeight,pagination:mt=ce.pagination,subHeader:vt=ce.subHeader,subHeaderAlign:Oe=ce.subHeaderAlign,subHeaderWrap:Re=ce.subHeaderWrap,subHeaderComponent:je=ce.subHeaderComponent,noContextMenu:Fe=ce.noContextMenu,contextMessage:rt=ce.contextMessage,contextActions:Me=ce.contextActions,contextComponent:Ft=ce.contextComponent,expandableRows:Ce=ce.expandableRows,onRowClicked:st=ce.onRowClicked,onRowDoubleClicked:qn=ce.onRowDoubleClicked,onRowMouseEnter:Bs=ce.onRowMouseEnter,onRowMouseLeave:zs=ce.onRowMouseLeave,sortIcon:Co=ce.sortIcon,onSort:$t=ce.onSort,sortFunction:Lt=ce.sortFunction,sortServer:or=ce.sortServer,expandableRowsComponent:To=ce.expandableRowsComponent,expandableRowsComponentProps:us=ce.expandableRowsComponentProps,expandableRowDisabled:ds=ce.expandableRowDisabled,expandableRowsHideExpander:hs=ce.expandableRowsHideExpander,expandOnRowClicked:So=ce.expandOnRowClicked,expandOnRowDoubleClicked:Io=ce.expandOnRowDoubleClicked,expandableRowExpanded:Ti=ce.expandableRowExpanded,expandableInheritConditionalStyles:xo=ce.expandableInheritConditionalStyles,defaultSortFieldId:ko=ce.defaultSortFieldId,defaultSortAsc:Hs=ce.defaultSortAsc,clearSelectedRows:qs=ce.clearSelectedRows,conditionalRowStyles:Si=ce.conditionalRowStyles,theme:Vn=ce.theme,customStyles:ar=ce.customStyles,direction:Cr=ce.direction,onColumnOrderChange:Tr=ce.onColumnOrderChange,className:Ro,ariaLabel:fs}=t,{tableColumns:Ii,draggingColumnId:Sr,handleDragStart:xi,handleDragEnter:Tt,handleDragOver:Ws,handleDragLeave:Wn,handleDragEnd:ps,defaultSortDirection:Gs,defaultSortColumn:ki}=Wj(n,Tr,ko,Hs),[{rowsPerPage:Gt,currentPage:wn,selectedRows:Po,allSelected:Ks,selectedCount:Ao,selectedColumn:Mt,sortDirection:Gn,toggleOnSelectedRowsChange:lr},Ir]=S.useReducer(MV,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:ki,toggleOnSelectedRowsChange:!1,sortDirection:Gs,currentPage:V,rowsPerPage:x,selectedRowsFlag:!1,contextMessage:ce.contextMessage}),{persistSelectedOnSort:Ri=!1,persistSelectedOnPageChange:Ur=!1}=R,Qs=!(!T||!Ur&&!Ri),No=mt&&!F&&e.length>0,Ra=B||Fj,nc=S.useMemo((()=>((Se={},We="default",St="default")=>{const rn=Zi[We]?We:St;return xg({table:{style:{color:(Pe=Zi[rn]).text.primary,backgroundColor:Pe.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Pe.text.primary,backgroundColor:Pe.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Pe.background.default,minHeight:"52px"}},head:{style:{color:Pe.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Pe.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Pe.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Pe.context.background,fontSize:"18px",fontWeight:400,color:Pe.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Pe.text.primary,backgroundColor:Pe.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Pe.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Pe.selected.text,backgroundColor:Pe.selected.default,borderBottomColor:Pe.background.default}},highlightOnHoverStyle:{color:Pe.highlightOnHover.text,backgroundColor:Pe.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Pe.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Pe.background.default},stripedStyle:{color:Pe.striped.text,backgroundColor:Pe.striped.default}},expanderRow:{style:{color:Pe.text.primary,backgroundColor:Pe.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Pe.button.default,fill:Pe.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Pe.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Pe.button.hover},"&:focus":{outline:"none",backgroundColor:Pe.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Pe.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Pe.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Pe.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Pe.button.default,fill:Pe.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Pe.button.disabled,fill:Pe.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Pe.button.hover},"&:focus":{outline:"none",backgroundColor:Pe.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Pe.text.primary,backgroundColor:Pe.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Pe.text.primary,backgroundColor:Pe.background.default}}},Se);var Pe})(ar,Vn)),[ar,Vn]),ft=S.useMemo((()=>Object.assign({},Cr!=="auto"&&{dir:Cr})),[Cr]),Ut=S.useMemo((()=>{if(or)return e;if(Mt?.sortFunction&&typeof Mt.sortFunction=="function"){const Se=Mt.sortFunction,We=Gn===ho.ASC?Se:(St,rn)=>-1*Se(St,rn);return[...e].sort(We)}return(function(Se,We,St,rn){return We?rn&&typeof rn=="function"?rn(Se.slice(0),We,St):Se.slice(0).sort(((Pe,ur)=>{const Kt=We(Pe),In=We(ur);if(St==="asc"){if(Kt<In)return-1;if(Kt>In)return 1}if(St==="desc"){if(Kt>In)return-1;if(Kt<In)return 1}return 0})):Se})(e,Mt?.selector,Gn,Lt)}),[or,Mt,Gn,e,Lt]),cr=S.useMemo((()=>{if(mt&&!T){const Se=wn*Gt,We=Se-Gt;return Ut.slice(We,Se)}return Ut}),[wn,mt,T,Gt,Ut]),ms=S.useCallback((Se=>{Ir(Se)}),[]),Kn=S.useCallback((Se=>{Ir(Se)}),[]),Do=S.useCallback((Se=>{Ir(Se)}),[]),Pa=S.useCallback(((Se,We)=>st(Se,We)),[st]),Js=S.useCallback(((Se,We)=>qn(Se,We)),[qn]),jn=S.useCallback(((Se,We)=>Bs(Se,We)),[Bs]),Aa=S.useCallback(((Se,We)=>zs(Se,We)),[zs]),Vt=S.useCallback((Se=>Ir({type:"CHANGE_PAGE",page:Se,paginationServer:T,visibleOnly:D,persistSelectedOnPageChange:Ur})),[T,Ur,D]),Oo=S.useCallback((Se=>{const We=Jc(L||cr.length,Se),St=Vm(wn,We);T||Vt(St),Ir({type:"CHANGE_ROWS_PER_PAGE",page:St,rowsPerPage:Se})}),[wn,Vt,T,L,cr.length]);if(mt&&!T&&Ut.length>0&&cr.length===0){const Se=Jc(Ut.length,Gt),We=Vm(wn,Se);Vt(We)}ta((()=>{ee({allSelected:Ks,selectedCount:Ao,selectedRows:Po.slice(0)})}),[lr]),ta((()=>{$t(Mt,Gn,Ut.slice(0))}),[Mt,Gn]),ta((()=>{P(wn,L||Ut.length)}),[wn]),ta((()=>{se(Gt,wn)}),[Gt]),ta((()=>{Vt(V)}),[V,U]),ta((()=>{if(mt&&T&&L>0){const Se=Jc(L,Gt),We=Vm(wn,Se);wn!==We&&Vt(We)}}),[L]),S.useEffect((()=>{Ir({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:qs})}),[b,qs]),S.useEffect((()=>{if(!j)return;const Se=Ut.filter((St=>j(St))),We=b?Se.slice(0,1):Se;Ir({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:We,totalRows:Ut.length,mergeSelections:Qs})}),[e,j]);const Na=D?cr:Ut,Da=Ur||b||k;return S.createElement(NV,{theme:nc},!Be&&(!!r||!!o)&&S.createElement(Ej,{title:r,actions:o,showMenu:!Fe,selectedCount:Ao,direction:Cr,contextActions:Me,contextComponent:Ft,contextMessage:rt}),vt&&S.createElement(Tj,{align:Oe,wrapContent:Re},je),S.createElement(Ij,Object.assign({$responsive:N,$fixedHeader:ze,$fixedHeaderScrollHeight:dt,className:Ro},ft),S.createElement(xj,null,F&&!fe&&S.createElement(LE,null,ae),S.createElement(jV,Object.assign({disabled:be,className:"rdt_Table",role:"table"},fs&&{"aria-label":fs}),!Ue&&(!!fe||Ut.length>0&&!F)&&S.createElement($V,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:ze},S.createElement(UV,{className:"rdt_TableHeadRow",role:"row",$dense:y},w&&(Da?S.createElement(tc,{style:{flex:"0 0 48px"}}):S.createElement(pj,{allSelected:Ks,selectedRows:Po,selectableRowsComponent:K,selectableRowsComponentProps:H,selectableRowDisabled:O,rowData:Na,keyField:a,mergeSelections:Qs,onSelectAllRows:Kn})),Ce&&!hs&&S.createElement(kj,null),Ii.map((Se=>S.createElement(hj,{key:Se.id,column:Se,selectedColumn:Mt,disabled:F||Ut.length===0,pagination:mt,paginationServer:T,persistSelectedOnSort:Ri,selectableRowsVisibleOnly:D,sortDirection:Gn,sortIcon:Co,sortServer:or,onSort:ms,onDragStart:xi,onDragOver:Ws,onDragEnd:ps,onDragEnter:Tt,onDragLeave:Wn,draggingColumnId:Sr}))))),!Ut.length&&!F&&S.createElement(Rj,null,_e),F&&fe&&S.createElement(LE,null,ae),!F&&Ut.length>0&&S.createElement(Sj,{className:"rdt_TableBody",role:"rowgroup"},cr.map(((Se,We)=>{const St=$l(Se,a),rn=(function(In=""){return typeof In!="number"&&(!In||In.length===0)})(St)?We:St,Pe=fh(Se,Po,a),ur=!!(Ce&&Ti&&Ti(Se)),Kt=!!(Ce&&ds&&ds(Se));return S.createElement(ij,{id:rn,key:rn,keyField:a,"data-row-id":rn,columns:Ii,row:Se,rowCount:Ut.length,rowIndex:We,selectableRows:w,expandableRows:Ce,expandableIcon:de,highlightOnHover:h,pointerOnHover:f,dense:y,expandOnRowClicked:So,expandOnRowDoubleClicked:Io,expandableRowsComponent:To,expandableRowsComponentProps:us,expandableRowsHideExpander:hs,defaultExpanderDisabled:Kt,defaultExpanded:ur,expandableInheritConditionalStyles:xo,conditionalRowStyles:Si,selected:Pe,selectableRowsHighlight:C,selectableRowsComponent:K,selectableRowsComponentProps:H,selectableRowDisabled:O,selectableRowsSingle:b,striped:u,onRowExpandToggled:J,onRowClicked:Pa,onRowDoubleClicked:Js,onRowMouseEnter:jn,onRowMouseLeave:Aa,onSelectedRow:Do,draggingColumnId:Sr,onDragStart:xi,onDragOver:Ws,onDragEnd:ps,onDragEnter:Tt,onDragLeave:Wn})})))))),No&&S.createElement("div",null,S.createElement(Ra,{onChangePage:Vt,onChangeRowsPerPage:Oo,rowCount:L||Ut.length,currentPage:wn,rowsPerPage:Gt,direction:Cr,paginationRowsPerPageOptions:Le,paginationIconLastPage:et,paginationIconFirstPage:Qe,paginationIconNext:re,paginationIconPrevious:W,paginationComponentOptions:Y})))}));const FE=as(_r),Kj=$s(_r);qj("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function Qj({usuario:t}){const[e,n]=S.useState(!1),[r,o]=S.useState(null),[a,u]=S.useState(!1),[h,f]=S.useState(!1),[y,w]=S.useState(!1),b=S.useRef(null),C=()=>tf(Kj);S.useEffect(()=>{const T=R=>{b.current&&!b.current.contains(R.target)&&w(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const k=T=>parseInt(T),D=t?.fotoPerfil||tn,j=[{when:T=>T.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>T.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>T.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>k(T.pos)>3&&k(T.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:T=>k(T.pos)>3&&k(T.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],O=[{name:"Pos.",selector:T=>T.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:T=>T.jugador,cell:T=>v.jsxs(Xt,{to:T.id===t.uid?"/home":`/equipo/${T.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[v.jsx("img",{src:T.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),v.jsx("span",{children:T.jugador})]})},{name:"Puntos",selector:T=>T.puntos,width:"5.5rem",center:!0}],K=()=>{u(!a)},H=T=>T>=1e6?(T/1e6).toFixed(2)+"M":T>=1e3?(T/1e3).toFixed(2)+"K":T.toFixed(2);S.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const T=Rt(FE,"usuarios",t.uid);ts(T).then(R=>{R.exists()&&o(R.data().dinero)})}},[t]);const[J,ee]=S.useState([]),[de,se]=S.useState(!1);S.useEffect(()=>{(async()=>{se(!0);try{const R=pa(FE,"usuarios");let U=(await ma(R)).docs.map(x=>({id:x.id,...x.data()})).sort((x,Le)=>(Le.puntos||0)-(x.puntos||0)).map((x,Le)=>({id:x.id,pos:`${Le+1}º`,jugador:x.nick||"Sin nombre",puntos:x.puntos||0,fotoPerfil:x.fotoPerfil||tn}));ee(U)}catch(R){console.error("Error al cargar usuarios:",R)}finally{se(!1)}})()},[]);const P={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:D,onError:T=>{T.currentTarget.onerror=null,T.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>w(!y),onMouseEnter:()=>w(!0)}),y&&v.jsxs("div",{className:"perfil-bocadillo",ref:b,onMouseLeave:()=>w(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),w(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:C,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:H(r)})]})]})]}),v.jsx("button",{onClick:K,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&v.jsx(Df,{usuario:t,openModal:h,setOpenModal:f}),v.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:v.jsx(Gj,{title:"CLASIFICACIÓN",columns:O,data:J,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:de,progressComponent:v.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:j,customStyles:P,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:v.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function Jj({jugador:t,openModal:e,setOpenModal:n}){$s(),as(),Nf();const r=t?.foto||tn,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=S.useRef(),u=f=>{f.target===a.current&&n(!1)},h=f=>f.toLocaleString("es-ES")+"€";return e?(console.log("DEBUG jugador en modal:",t),v.jsx("div",{className:"modal-overlay",ref:a,onClick:u,children:v.jsxs("div",{className:"modal-perfil",children:[v.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),v.jsxs("div",{className:"modal-header",children:[v.jsx("label",{className:"modal-avatar",children:v.jsx("img",{src:r,alt:"Jugador"})}),v.jsxs("div",{className:"modal-jugadorinfo",children:[v.jsx("h2",{children:(window.innerWidth<450,t.nombre)}),v.jsxs("div",{className:"posicion-precio",children:[v.jsx("div",{className:`posicion-texto ${t.posicion}`,children:v.jsx("small",{children:o(t.posicion)})}),v.jsxs("div",{className:"precio-container",children:[v.jsx("div",{className:"precio",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),v.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return v.jsx("small",{children:"(±0€)"});const y=f[f.length-1].precio||0,w=t.precio-y,b=w>0?"+":w<0?"-":"±";return v.jsxs("small",{className:w>0?"subida":w<0?"bajada":"igual",children:["(",b,h(Math.abs(w)),")"]})})()})]}),v.jsx("div",{className:"precio-clausula",children:v.jsxs("small",{children:[v.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",h(t.precioClausula)]})})]}),v.jsx("div",{className:"estadisticas-extra",children:v.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,y,w)=>{const b=f??"-",C=w.length<5?y+1:t.puntosPorJornada.length-5+y+1;let k="";return typeof f=="number"&&(f>=9?k="verde":f<7?k="rojo":k="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",C]}),v.jsx("div",{className:`jornada-cuadro ${k}`,children:b})]},y)}):[...Array(5)].map((f,y)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",y+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},y))})})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-jugadorbody",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.valoracion}),v.jsx("small",{children:"Valoración"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.nota}),v.jsx("small",{children:"Nota Media"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.puntosTotales}),v.jsx("small",{children:"Puntos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.partidos}),v.jsx("small",{children:"Partidos"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.goles}),v.jsx("small",{children:"Goles"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("h4",{children:t.asistencias}),v.jsx("small",{children:"Asistencias"})]})]}),v.jsx("hr",{}),v.jsxs("div",{className:"modal-footer",children:[v.jsxs("button",{className:"btn-accion",disabled:t.stock<=0,onClick:f=>{f.stopPropagation()},children:["Pagar Claúsula",v.jsx("br",{}),v.jsxs("small",{className:"precio-compra",children:["(-",h(t.precioClausula),")"]})]}),v.jsx("button",{className:"btn-accion",disabled:t.stock<=0,onClick:f=>{f.stopPropagation()},children:"Hacer oferta"})]})]})})):null}const Fm=as(_r),Yj=$s(_r),Xj={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function $E(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=Xj[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const u=t.posicion;return u==="POR"?r=a==="POR"?"green":"red":u==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":u==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":u==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function Zj({usuario:t}){const{jugadorId:e}=uD(),[n,r]=S.useState(!0),[o,a]=S.useState(null),[u,h]=S.useState(!1),[f,y]=S.useState(!1),[w,b]=S.useState(null),C=t?.fotoPerfil||tn,k=o?.equipo?.titulares||[],D=o?.equipo?.banquillo||[],[j,O]=S.useState([]),K=o?.equipo?.capitan||"",[H,J]=S.useState(o?.equipo?.formacion||"2-1-1"),[ee,de]=S.useState(H);S.useEffect(()=>{o?.equipo?.formacion&&(J(o.equipo.formacion),de(o.equipo.formacion))},[o]);const[se,P]=S.useState(!1),[T,R]=S.useState(!1),[L,V]=S.useState(null),[U,x]=S.useState(!1),Le=S.useRef(null),et=()=>tf(Yj);S.useEffect(()=>{const W=B=>{Le.current&&!Le.current.contains(B.target)&&x(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]),S.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const W=Rt(Fm,"usuarios",t.uid);ts(W).then(B=>{B.exists()&&b(B.data().dinero)})}},[t]),S.useEffect(()=>{(async()=>{if(e){r(!0);try{const B=await ts(Rt(Fm,"usuarios",e));B.exists()?a({id:B.id,...B.data()}):a(null)}catch(B){console.error("Error fetching jugador:",B)}finally{r(!1)}}})()},[e]),S.useEffect(()=>{(async()=>{if(o?.equipo)try{const B=[...o.equipo.titulares||[],...o.equipo.banquillo||[]].filter(fe=>typeof fe=="string"&&fe);if(B.length===0){O([]);return}const Y=pa(Fm,"jugadores"),N=bf(Y,Tf("__name__","in",B)),ae=(await ma(N)).docs.map(fe=>({id:fe.id,...fe.data()}));O(ae)}catch(B){console.error("Error cargando jugadores:",B)}})()},[o]);const Qe=()=>{h(!u)},re=W=>W.toLocaleString("es-ES")+"€";return v.jsxs("div",{children:[v.jsxs("header",{className:"Cabecera",children:[v.jsxs("div",{className:"container-profile",children:[v.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[v.jsx("img",{src:C,onError:W=>{W.currentTarget.onerror=null,W.currentTarget.src=tn},alt:"Foto de perfil",onClick:()=>x(!U),onMouseEnter:()=>x(!0)}),U&&v.jsxs("div",{className:"perfil-bocadillo",ref:Le,onMouseLeave:()=>x(!1),children:[v.jsx("div",{className:"triangulo"}),v.jsx("button",{className:"btn-perfil",onClick:()=>{P(!0),x(!1)},children:"👤 Perfil"}),v.jsx("button",{className:"btn-logout",onClick:et,children:"➜] Cerrar sesión"})]})]}),v.jsxs("div",{className:"info-profile",children:[v.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),w!==null&&v.jsxs("p",{className:"dinero-usuario",children:["💰",v.jsx("strong",{children:re(w)})]})]})]}),v.jsx("button",{onClick:Qe,className:"Cabecera-button",children:v.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),v.jsx("nav",{className:`Cabecera-nav ${u?"isActive":""}`,children:v.jsxs("ul",{className:"Cabecera-ul",children:[v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),v.jsx("li",{className:"Cabecera-li",children:v.jsx(Xt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})})]})})]}),v.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${Ll})`},children:[v.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),se&&v.jsx(Df,{usuario:t,openModal:se,setOpenModal:P}),T&&L&&v.jsx(Jj,{jugador:L,openModal:T,setOpenModal:R}),v.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[v.jsxs("div",{className:"datos-equipo",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Formación:"})," ",v.jsx("small",{children:ee})," "]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Dinero:"})," ",v.jsx("small",{children:v.jsx("span",{className:"verde",children:re(o?.dinero||0)})})]})]}),v.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((W,B,Y)=>{const N=W??"-",F=Y.length<5?B+1:o?.puntuaciones.length-5+B+1;let ae="";return typeof W=="number"&&(W>=36?ae="verde":W<28?ae="rojo":ae="naranja"),v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",F]}),v.jsx("div",{className:`jornada-cuadro ${ae}`,children:N})]},B)}):[...Array(5)].map((W,B)=>v.jsxs("div",{className:"jornada-item",children:[v.jsxs("small",{className:"jornada-nombre",children:["J",B+1]}),v.jsx("div",{className:"jornada-cuadro",children:"-"})]},B))}),v.jsx("div",{className:"campo",children:wg[ee]?.map((W,B)=>{const Y=k[B],N=j.find(F=>F.id===Y);return v.jsxs("div",{className:"jugador",style:{position:"absolute",top:W.top,left:W.left,transform:"translate(-50%, -50%)"},children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:N?.foto||tn,alt:N?.nombre||"Vacío",className:"jugador-img",style:$E(N,B,ee).style,onClick:()=>{R(!0),V(N)}}),(()=>{const{status:F}=$E(N,B,ee);return console.log(F),F?F==="green"?v.jsx("div",{className:"status-badge green",children:"✓"}):F==="orange"?v.jsx("div",{className:"status-badge orange",children:"!"}):F==="red"?v.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),K===N?.id&&v.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(N?.puntosPorJornada.length===0)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const F=N?.puntosPorJornada?.length?N?.puntosPorJornada[N?.puntosPorJornada.length-1]:null;if(F==null)return null;let ae=F==="-"?"gray":F<7?"red":F<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${ae}`,children:F})})()]}),v.jsx("p",{className:"jugador-nombre",children:N?.nombre||"Vacío"})]},N?.id||B)})}),v.jsxs("div",{className:"banquillo-section",children:[v.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),v.jsx("div",{className:"banquillo-container",children:D.map((W,B)=>{const Y=j.find(N=>N.id===W);return v.jsx("div",{className:"banquillo-slot",children:Y?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"jugador-wrapper",children:[v.jsx("img",{src:Y?.foto||tn,alt:Y?.nombre||"Vacío",className:"jugador-img",onClick:()=>{R(!0),V(Y)}}),(()=>{if(Y?.puntosPorJornada?.length===0)return v.jsx("div",{className:"puntos-badge gray",children:"-"});const N=Y?.puntosPorJornada?.length?Y?.puntosPorJornada[Y?.puntosPorJornada.length-1]:null;if(N==null)return null;let F=N==="-"?"gray":N<7?"red":N<9?"orange":"green";return v.jsx("div",{className:`puntos-badge ${F}`,children:N})})()]}),v.jsx("p",{className:"jugador-nombre-banquillo",children:Y?.nombre})]}):v.jsx(Xt,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&v.jsx("div",{className:"onboarding-overlay",children:v.jsx("div",{className:"loader",children:"Cargando..."})})]})}const e4=$s(_r),t4=as(_r);function n4(){const[t,e]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{const o=iR(e4,async a=>{if(a)try{const u=await ts(Rt(t4,"usuarios",a.uid));u.exists()?e({uid:a.uid,...u.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(u){console.error("Error obteniendo datos de usuario:",u),e(null)}else e(null);r(!1)});return()=>o()},[]),n?v.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):v.jsx(KD,{children:v.jsxs(SD,{children:[v.jsx(ea,{path:"/",element:t?v.jsx(dl,{to:"/home",replace:!0}):v.jsx(XM,{})}),v.jsx(ea,{path:"/home",element:t?v.jsx(R5,{usuario:t}):v.jsx(dl,{to:"/",replace:!0})}),v.jsx(ea,{path:"/mercado",element:t?v.jsx(A5,{usuario:t}):v.jsx(dl,{to:"/",replace:!0})}),v.jsx(ea,{path:"/clasificacion",element:t?v.jsx(Qj,{usuario:t}):v.jsx(dl,{to:"/",replace:!0})}),v.jsx(ea,{path:"/equipo/:jugadorId",element:t?v.jsx(Zj,{usuario:t}):v.jsx(dl,{to:"/",replace:!0})}),v.jsx(ea,{path:"*",element:v.jsx(dl,{to:t?"/home":"/",replace:!0})})]})})}gI.createRoot(document.getElementById("root")).render(v.jsx(S.StrictMode,{children:v.jsx(n4,{})}));
