(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function kI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nm={exports:{}},Gc={},Dm={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function RI(){if(D_)return rt;D_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,U={};function O(L,W,ae){this.props=L,this.context=W,this.refs=U,this.updater=ae||A}O.prototype.isReactComponent={},O.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},O.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=O.prototype;function V(L,W,ae){this.props=L,this.context=W,this.refs=U,this.updater=ae||A}var z=V.prototype=new K;z.constructor=V,M(z,O.prototype),z.isPureReactComponent=!0;var Y=Array.isArray,ie=Object.prototype.hasOwnProperty,Q={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function x(L,W,ae){var de,_e={},Ie=null,Ke=null;if(W!=null)for(de in W.ref!==void 0&&(Ke=W.ref),W.key!==void 0&&(Ie=""+W.key),W)ie.call(W,de)&&!I.hasOwnProperty(de)&&(_e[de]=W[de]);var Ge=arguments.length-2;if(Ge===1)_e.children=ae;else if(1<Ge){for(var H=Array(Ge),Ee=0;Ee<Ge;Ee++)H[Ee]=arguments[Ee+2];_e.children=H}if(L&&L.defaultProps)for(de in Ge=L.defaultProps,Ge)_e[de]===void 0&&(_e[de]=Ge[de]);return{$$typeof:t,type:L,key:Ie,ref:Ke,props:_e,_owner:Q.current}}function k(L,W){return{$$typeof:t,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function D(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return W[ae]})}var $=/\/+/g;function P(L,W){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):W.toString(36)}function Be(L,W,ae,de,_e){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var Ke=!1;if(L===null)Ke=!0;else switch(Ie){case"string":case"number":Ke=!0;break;case"object":switch(L.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=L,_e=_e(Ke),L=de===""?"."+P(Ke,0):de,Y(_e)?(ae="",L!=null&&(ae=L.replace($,"$&/")+"/"),Be(_e,W,ae,"",function(Ee){return Ee})):_e!=null&&(R(_e)&&(_e=k(_e,ae+(!_e.key||Ke&&Ke.key===_e.key?"":(""+_e.key).replace($,"$&/")+"/")+L)),W.push(_e)),1;if(Ke=0,de=de===""?".":de+":",Y(L))for(var Ge=0;Ge<L.length;Ge++){Ie=L[Ge];var H=de+P(Ie,Ge);Ke+=Be(Ie,W,ae,H,_e)}else if(H=T(L),typeof H=="function")for(L=H.call(L),Ge=0;!(Ie=L.next()).done;)Ie=Ie.value,H=de+P(Ie,Ge++),Ke+=Be(Ie,W,ae,H,_e);else if(Ie==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ke}function Oe(L,W,ae){if(L==null)return L;var de=[],_e=0;return Be(L,de,"","",function(Ie){return W.call(ae,Ie,_e++)}),de}function Ye(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var je={current:null},ee={transition:null},se={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Q};function ne(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:Oe,forEach:function(L,W,ae){Oe(L,function(){W.apply(this,arguments)},ae)},count:function(L){var W=0;return Oe(L,function(){W++}),W},toArray:function(L){return Oe(L,function(W){return W})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},rt.Component=O,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=V,rt.StrictMode=r,rt.Suspense=f,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,rt.act=ne,rt.cloneElement=function(L,W,ae){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var de=M({},L.props),_e=L.key,Ie=L.ref,Ke=L._owner;if(W!=null){if(W.ref!==void 0&&(Ie=W.ref,Ke=Q.current),W.key!==void 0&&(_e=""+W.key),L.type&&L.type.defaultProps)var Ge=L.type.defaultProps;for(H in W)ie.call(W,H)&&!I.hasOwnProperty(H)&&(de[H]=W[H]===void 0&&Ge!==void 0?Ge[H]:W[H])}var H=arguments.length-2;if(H===1)de.children=ae;else if(1<H){Ge=Array(H);for(var Ee=0;Ee<H;Ee++)Ge[Ee]=arguments[Ee+2];de.children=Ge}return{$$typeof:t,type:L.type,key:_e,ref:Ie,props:de,_owner:Ke}},rt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},rt.createElement=x,rt.createFactory=function(L){var W=x.bind(null,L);return W.type=L,W},rt.createRef=function(){return{current:null}},rt.forwardRef=function(L){return{$$typeof:h,render:L}},rt.isValidElement=R,rt.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:Ye}},rt.memo=function(L,W){return{$$typeof:g,type:L,compare:W===void 0?null:W}},rt.startTransition=function(L){var W=ee.transition;ee.transition={};try{L()}finally{ee.transition=W}},rt.unstable_act=ne,rt.useCallback=function(L,W){return je.current.useCallback(L,W)},rt.useContext=function(L){return je.current.useContext(L)},rt.useDebugValue=function(){},rt.useDeferredValue=function(L){return je.current.useDeferredValue(L)},rt.useEffect=function(L,W){return je.current.useEffect(L,W)},rt.useId=function(){return je.current.useId()},rt.useImperativeHandle=function(L,W,ae){return je.current.useImperativeHandle(L,W,ae)},rt.useInsertionEffect=function(L,W){return je.current.useInsertionEffect(L,W)},rt.useLayoutEffect=function(L,W){return je.current.useLayoutEffect(L,W)},rt.useMemo=function(L,W){return je.current.useMemo(L,W)},rt.useReducer=function(L,W,ae){return je.current.useReducer(L,W,ae)},rt.useRef=function(L){return je.current.useRef(L)},rt.useState=function(L){return je.current.useState(L)},rt.useSyncExternalStore=function(L,W,ae){return je.current.useSyncExternalStore(L,W,ae)},rt.useTransition=function(){return je.current.useTransition()},rt.version="18.3.1",rt}var O_;function Kg(){return O_||(O_=1,Dm.exports=RI()),Dm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function PI(){if(j_)return Gc;j_=1;var t=Kg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,g){var v,E={},T=null,A=null;g!==void 0&&(T=""+g),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:A,props:E,_owner:o.current}}return Gc.Fragment=n,Gc.jsx=c,Gc.jsxs=c,Gc}var L_;function AI(){return L_||(L_=1,Nm.exports=PI()),Nm.exports}var m=AI(),C=Kg();const tt=kI(C);var sh={},Om={exports:{}},pr={},jm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function NI(){return M_||(M_=1,(function(t){function e(ee,se){var ne=ee.length;ee.push(se);e:for(;0<ne;){var L=ne-1>>>1,W=ee[L];if(0<o(W,se))ee[L]=se,ee[ne]=W,ne=L;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var se=ee[0],ne=ee.pop();if(ne!==se){ee[0]=ne;e:for(var L=0,W=ee.length,ae=W>>>1;L<ae;){var de=2*(L+1)-1,_e=ee[de],Ie=de+1,Ke=ee[Ie];if(0>o(_e,ne))Ie<W&&0>o(Ke,_e)?(ee[L]=Ke,ee[Ie]=ne,L=Ie):(ee[L]=_e,ee[de]=ne,L=de);else if(Ie<W&&0>o(Ke,ne))ee[L]=Ke,ee[Ie]=ne,L=Ie;else break e}}return se}function o(ee,se){var ne=ee.sortIndex-se.sortIndex;return ne!==0?ne:ee.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],g=[],v=1,E=null,T=3,A=!1,M=!1,U=!1,O=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ee){for(var se=n(g);se!==null;){if(se.callback===null)r(g);else if(se.startTime<=ee)r(g),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(g)}}function Y(ee){if(U=!1,z(ee),!M)if(n(f)!==null)M=!0,Ye(ie);else{var se=n(g);se!==null&&je(Y,se.startTime-ee)}}function ie(ee,se){M=!1,U&&(U=!1,K(x),x=-1),A=!0;var ne=T;try{for(z(se),E=n(f);E!==null&&(!(E.expirationTime>se)||ee&&!D());){var L=E.callback;if(typeof L=="function"){E.callback=null,T=E.priorityLevel;var W=L(E.expirationTime<=se);se=t.unstable_now(),typeof W=="function"?E.callback=W:E===n(f)&&r(f),z(se)}else r(f);E=n(f)}if(E!==null)var ae=!0;else{var de=n(g);de!==null&&je(Y,de.startTime-se),ae=!1}return ae}finally{E=null,T=ne,A=!1}}var Q=!1,I=null,x=-1,k=5,R=-1;function D(){return!(t.unstable_now()-R<k)}function $(){if(I!==null){var ee=t.unstable_now();R=ee;var se=!0;try{se=I(!0,ee)}finally{se?P():(Q=!1,I=null)}}else Q=!1}var P;if(typeof V=="function")P=function(){V($)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Oe=Be.port2;Be.port1.onmessage=$,P=function(){Oe.postMessage(null)}}else P=function(){O($,0)};function Ye(ee){I=ee,Q||(Q=!0,P())}function je(ee,se){x=O(function(){ee(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){M||A||(M=!0,Ye(ie))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var ne=T;T=se;try{return ee()}finally{T=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,se){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=T;T=ee;try{return se()}finally{T=ne}},t.unstable_scheduleCallback=function(ee,se,ne){var L=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?L+ne:L):ne=L,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ne+W,ee={id:v++,callback:se,priorityLevel:ee,startTime:ne,expirationTime:W,sortIndex:-1},ne>L?(ee.sortIndex=ne,e(g,ee),n(f)===null&&ee===n(g)&&(U?(K(x),x=-1):U=!0,je(Y,ne-L))):(ee.sortIndex=W,e(f,ee),M||A||(M=!0,Ye(ie))),ee},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ee){var se=T;return function(){var ne=T;T=se;try{return ee.apply(this,arguments)}finally{T=ne}}}})(Lm)),Lm}var V_;function DI(){return V_||(V_=1,jm.exports=NI()),jm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function OI(){if(F_)return pr;F_=1;var t=Kg(),e=DI();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(s){return f.call(E,s)?!0:f.call(v,s)?!1:g.test(s)?E[s]=!0:(v[s]=!0,!1)}function A(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function M(s,i,l,d){if(i===null||typeof i>"u"||A(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function U(s,i,l,d,p,w,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=b}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new U(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];O[i]=new U(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new U(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new U(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new U(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new U(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new U(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new U(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new U(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(K,V);O[i]=new U(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(K,V);O[i]=new U(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(K,V);O[i]=new U(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new U(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new U(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,i,l,d){var p=O.hasOwnProperty(i)?O[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,l,p,d)&&(l=null),d||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),Q=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ee=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,L;function W(s){if(L===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+s}var ae=!1;function de(s,i){if(!s||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var d=X}Reflect.construct(s,[],i)}else{try{i.call()}catch(X){d=X}s.call(i.prototype)}else{try{throw Error()}catch(X){d=X}s()}}catch(X){if(X&&d&&typeof X.stack=="string"){for(var p=X.stack.split(`
`),w=d.stack.split(`
`),b=p.length-1,N=w.length-1;1<=b&&0<=N&&p[b]!==w[N];)N--;for(;1<=b&&0<=N;b--,N--)if(p[b]!==w[N]){if(b!==1||N!==1)do if(b--,N--,0>N||p[b]!==w[N]){var F=`
`+p[b].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=b&&0<=N);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?W(s):""}function _e(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function Ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case Q:return"Portal";case k:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case Be:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case R:return(s._context.displayName||"Context")+".Provider";case $:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Oe:return i=s.displayName||null,i!==null?i:Ie(s.type)||"Memo";case Ye:i=s._payload,s=s._init;try{return Ie(s(i))}catch{}}return null}function Ke(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(i);case 8:return i===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function H(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ee(s){var i=H(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,w=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,w.call(this,b)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function ge(s){s._valueTracker||(s._valueTracker=Ee(s))}function Te(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=H(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function be(s,i){var l=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Ve(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Ge(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function it(s,i){i=i.checked,i!=null&&z(s,"checked",i,!1)}function Se(s,i){it(s,i);var l=Ge(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ht(s,i.type,l):i.hasOwnProperty("defaultValue")&&ht(s,i.type,Ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function pe(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function ht(s,i,l){(i!=="number"||ye(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var ze=Array.isArray;function Xe(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Ge(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function It(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function et(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(ze(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Ge(l)}}function ot(s,i){var l=Ge(i.value),d=Ge(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function at(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function lt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?lt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wr,jo=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(wr=wr||document.createElement("div"),wr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=wr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Es(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cs=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(s){Cs.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),bs[i]=bs[s]})});function Lo(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||bs.hasOwnProperty(s)&&bs[s]?(""+i).trim():i+"px"}function Mo(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Lo(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var Ai=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(s,i){if(i){if(Ai[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Fo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function Xs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ni=null,Kn=null,vr=null;function Lr(s){if(s=Nc(s)){if(typeof Ni!="function")throw Error(n(280));var i=s.stateNode;i&&(i=vd(i),Ni(s.stateNode,s.type,i))}}function Mr(s){Kn?vr?vr.push(s):vr=[s]:Kn=s}function $o(){if(Kn){var s=Kn,i=vr;if(vr=Kn=null,Lr(s),i)for(s=0;s<i.length;s++)Lr(i[s])}}function Ts(s,i){return s(i)}function Di(){}var Vr=!1;function Oi(s,i,l){if(Vr)return s(i,l);Vr=!0;try{return Ts(s,i,l)}finally{Vr=!1,(Kn!==null||vr!==null)&&(Di(),$o())}}function Ft(s,i){var l=s.stateNode;if(l===null)return null;var d=vd(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Zs=!1;if(h)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Zs=!1}function xs(s,i,l,d,p,w,b,N,F){var X=Array.prototype.slice.call(arguments,3);try{i.apply(l,X)}catch(ce){this.onError(ce)}}var ei=!1,ji=null,nn=!1,kn=null,Uo={onError:function(s){ei=!0,ji=s}};function ti(s,i,l,d,p,w,b,N,F){ei=!1,ji=null,xs.apply(Uo,arguments)}function Bo(s,i,l,d,p,w,b,N,F){if(ti.apply(this,arguments),ei){if(ei){var X=ji;ei=!1,ji=null}else throw Error(n(198));nn||(nn=!0,kn=X)}}function Kt(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function ir(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function _r(s){if(Kt(s)!==s)throw Error(n(188))}function Fr(s){var i=s.alternate;if(!i){if(i=Kt(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var w=p.alternate;if(w===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===l)return _r(p),s;if(w===d)return _r(p),i;w=w.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=w;else{for(var b=!1,N=p.child;N;){if(N===l){b=!0,l=p,d=w;break}if(N===d){b=!0,d=p,l=w;break}N=N.sibling}if(!b){for(N=w.child;N;){if(N===l){b=!0,l=w,d=p;break}if(N===d){b=!0,d=w,l=p;break}N=N.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Li(s){return s=Fr(s),s!==null?es(s):null}function es(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=es(s);if(i!==null)return i;s=s.sibling}return null}var ni=e.unstable_scheduleCallback,zo=e.unstable_cancelCallback,Fa=e.unstable_shouldYield,gc=e.unstable_requestPaint,kt=e.unstable_now,Yt=e.unstable_getCurrentPriorityLevel,Er=e.unstable_ImmediatePriority,Is=e.unstable_UserBlockingPriority,or=e.unstable_NormalPriority,Ho=e.unstable_LowPriority,$a=e.unstable_IdlePriority,ri=null,Jn=null;function Ua(s){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(ri,s,void 0,(s.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:za,qo=Math.log,Ba=Math.LN2;function za(s){return s>>>=0,s===0?32:31-(qo(s)/Ba|0)|0}var Le=64,nt=4194304;function $t(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function hn(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,w=s.pingedLanes,b=l&268435455;if(b!==0){var N=b&~p;N!==0?d=$t(N):(w&=b,w!==0&&(d=$t(w)))}else b=l&~p,b!==0?d=$t(b):w!==0&&(d=$t(w));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,w=i&-i,p>=w||p===16&&(w&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Jt(i),p=1<<l,d|=s[l],i&=~p;return d}function He(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,w=s.pendingLanes;0<w;){var b=31-Jt(w),N=1<<b,F=p[b];F===-1?((N&l)===0||(N&d)!==0)&&(p[b]=He(N,i)):F<=i&&(s.expiredLanes|=N),w&=~N}}function rn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Mn(){var s=Le;return Le<<=1,(Le&4194240)===0&&(Le=64),s}function Mi(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Vi(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Jt(i),s[i]=l}function Nt(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Jt(l),w=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~w}}function Fi(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Jt(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var ft=0;function $i(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Xu,Ha,Zu,ed,td,yc=!1,Ss=[],Rn=null,ts=null,ns=null,Ui=new Map,$r=new Map,ks=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(s,i){switch(s){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Ui.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(i.pointerId)}}function ar(s,i,l,d,p,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[p]},i!==null&&(i=Nc(i),i!==null&&Ha(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function up(s,i,l,d,p){switch(i){case"focusin":return Rn=ar(Rn,s,i,l,d,p),!0;case"dragenter":return ts=ar(ts,s,i,l,d,p),!0;case"mouseover":return ns=ar(ns,s,i,l,d,p),!0;case"pointerover":var w=p.pointerId;return Ui.set(w,ar(Ui.get(w)||null,s,i,l,d,p)),!0;case"gotpointercapture":return w=p.pointerId,$r.set(w,ar($r.get(w)||null,s,i,l,d,p)),!0}return!1}function rd(s){var i=Qo(s.target);if(i!==null){var l=Kt(i);if(l!==null){if(i=l.tag,i===13){if(i=ir(l),i!==null){s.blockedOn=i,td(s.priority,function(){Zu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function si(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=qa(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Ys=d,l.target.dispatchEvent(d),Ys=null}else return i=Nc(l),i!==null&&Ha(i),s.blockedOn=l,!1;i.shift()}return!0}function Wo(s,i,l){si(s)&&l.delete(i)}function sd(){yc=!1,Rn!==null&&si(Rn)&&(Rn=null),ts!==null&&si(ts)&&(ts=null),ns!==null&&si(ns)&&(ns=null),Ui.forEach(Wo),$r.forEach(Wo)}function rs(s,i){s.blockedOn===i&&(s.blockedOn=null,yc||(yc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sd)))}function ss(s){function i(p){return rs(p,s)}if(0<Ss.length){rs(Ss[0],s);for(var l=1;l<Ss.length;l++){var d=Ss[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Rn!==null&&rs(Rn,s),ts!==null&&rs(ts,s),ns!==null&&rs(ns,s),Ui.forEach(i),$r.forEach(i),l=0;l<ks.length;l++)d=ks[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<ks.length&&(l=ks[0],l.blockedOn===null);)rd(l),l.blockedOn===null&&ks.shift()}var ii=Y.ReactCurrentBatchConfig,Bi=!0;function Ut(s,i,l,d){var p=ft,w=ii.transition;ii.transition=null;try{ft=1,wc(s,i,l,d)}finally{ft=p,ii.transition=w}}function dp(s,i,l,d){var p=ft,w=ii.transition;ii.transition=null;try{ft=4,wc(s,i,l,d)}finally{ft=p,ii.transition=w}}function wc(s,i,l,d){if(Bi){var p=qa(s,i,l,d);if(p===null)bp(s,i,d,Go,l),nd(s,d);else if(up(p,s,i,l,d))d.stopPropagation();else if(nd(s,d),i&4&&-1<cp.indexOf(s)){for(;p!==null;){var w=Nc(p);if(w!==null&&Xu(w),w=qa(s,i,l,d),w===null&&bp(s,i,d,Go,l),w===p)break;p=w}p!==null&&d.stopPropagation()}else bp(s,i,d,null,l)}}var Go=null;function qa(s,i,l,d){if(Go=null,s=Xs(d),s=Qo(s),s!==null)if(i=Kt(s),i===null)s=null;else if(l=i.tag,l===13){if(s=ir(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Go=s,null}function vc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yt()){case Er:return 1;case Is:return 4;case or:case Ho:return 16;case $a:return 536870912;default:return 16}default:return 16}}var Cr=null,Wa=null,lr=null;function _c(){if(lr)return lr;var s,i=Wa,l=i.length,d,p="value"in Cr?Cr.value:Cr.textContent,w=p.length;for(s=0;s<l&&i[s]===p[s];s++);var b=l-s;for(d=1;d<=b&&i[l-d]===p[w-d];d++);return lr=p.slice(s,1<d?1-d:void 0)}function Ga(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Rs(){return!0}function Ec(){return!1}function Pn(s){function i(l,d,p,w,b){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(w):w[N]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Rs:Ec,this.isPropagationStopped=Ec,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),i}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=Pn(is),Ps=ne({},is,{view:0,detail:0}),hp=Pn(Ps),Ja,oi,zi,Ko=ne({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zi&&(zi&&s.type==="mousemove"?(Ja=s.screenX-zi.screenX,oi=s.screenY-zi.screenY):oi=Ja=0,zi=s),Ja)},movementY:function(s){return"movementY"in s?s.movementY:oi}}),Qa=Pn(Ko),bc=ne({},Ko,{dataTransfer:0}),id=Pn(bc),Ya=ne({},Ps,{relatedTarget:0}),Xa=Pn(Ya),od=ne({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),ai=Pn(od),ad=ne({},is,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ld=Pn(ad),cd=ne({},is,{data:0}),Cc=Pn(cd),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=ud[s])?!!i[s]:!1}function As(){return dd}var u=ne({},Ps,{key:function(s){if(s.key){var i=Za[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(s){return s.type==="keypress"?Ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Pn(u),_=ne({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Pn(_),q=ne({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Z=Pn(q),me=ne({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tt=Pn(me),fn=ne({},Ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),pt=Pn(fn),_n=[9,13,27,32],sn=h&&"CompositionEvent"in window,Ur=null;h&&"documentMode"in document&&(Ur=document.documentMode);var Tr=h&&"TextEvent"in window&&!Ur,Jo=h&&(!sn||Ur&&8<Ur&&11>=Ur),el=" ",Sw=!1;function kw(s,i){switch(s){case"keyup":return _n.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var tl=!1;function xx(s,i){switch(s){case"compositionend":return Rw(i);case"keypress":return i.which!==32?null:(Sw=!0,el);case"textInput":return s=i.data,s===el&&Sw?null:s;default:return null}}function Ix(s,i){if(tl)return s==="compositionend"||!sn&&kw(s,i)?(s=_c(),lr=Wa=Cr=null,tl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jo&&i.locale!=="ko"?null:i.data;default:return null}}var Sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Sx[s.type]:i==="textarea"}function Aw(s,i,l,d){Mr(d),i=gd(i,"onChange"),0<i.length&&(l=new Ka("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var Tc=null,xc=null;function kx(s){Jw(s,0)}function hd(s){var i=ol(s);if(Te(i))return s}function Rx(s,i){if(s==="change")return i}var Nw=!1;if(h){var fp;if(h){var pp="oninput"in document;if(!pp){var Dw=document.createElement("div");Dw.setAttribute("oninput","return;"),pp=typeof Dw.oninput=="function"}fp=pp}else fp=!1;Nw=fp&&(!document.documentMode||9<document.documentMode)}function Ow(){Tc&&(Tc.detachEvent("onpropertychange",jw),xc=Tc=null)}function jw(s){if(s.propertyName==="value"&&hd(xc)){var i=[];Aw(i,xc,s,Xs(s)),Oi(kx,i)}}function Px(s,i,l){s==="focusin"?(Ow(),Tc=i,xc=l,Tc.attachEvent("onpropertychange",jw)):s==="focusout"&&Ow()}function Ax(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hd(xc)}function Nx(s,i){if(s==="click")return hd(i)}function Dx(s,i){if(s==="input"||s==="change")return hd(i)}function Ox(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var os=typeof Object.is=="function"?Object.is:Ox;function Ic(s,i){if(os(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!os(s[p],i[p]))return!1}return!0}function Lw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Mw(s,i){var l=Lw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lw(l)}}function Vw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Vw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Fw(){for(var s=window,i=ye();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=ye(s.document)}return i}function mp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function jx(s){var i=Fw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Vw(l.ownerDocument.documentElement,l)){if(d!==null&&mp(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,w=Math.min(d.start,p);d=d.end===void 0?w:Math.min(d.end,p),!s.extend&&w>d&&(p=d,d=w,w=p),p=Mw(l,w);var b=Mw(l,d);p&&b&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),w>d?(s.addRange(i),s.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Lx=h&&"documentMode"in document&&11>=document.documentMode,nl=null,gp=null,Sc=null,yp=!1;function $w(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yp||nl==null||nl!==ye(d)||(d=nl,"selectionStart"in d&&mp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Sc&&Ic(Sc,d)||(Sc=d,d=gd(gp,"onSelect"),0<d.length&&(i=new Ka("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=nl)))}function fd(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var rl={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},wp={},Uw={};h&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function pd(s){if(wp[s])return wp[s];if(!rl[s])return s;var i=rl[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Uw)return wp[s]=i[l];return s}var Bw=pd("animationend"),zw=pd("animationiteration"),Hw=pd("animationstart"),qw=pd("transitionend"),Ww=new Map,Gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(s,i){Ww.set(s,i),a(i,[s])}for(var vp=0;vp<Gw.length;vp++){var _p=Gw[vp],Mx=_p.toLowerCase(),Vx=_p[0].toUpperCase()+_p.slice(1);Hi(Mx,"on"+Vx)}Hi(Bw,"onAnimationEnd"),Hi(zw,"onAnimationIteration"),Hi(Hw,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(qw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function Kw(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Bo(d,i,void 0,s),s.currentTarget=null}function Jw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var w=void 0;if(i)for(var b=d.length-1;0<=b;b--){var N=d[b],F=N.instance,X=N.currentTarget;if(N=N.listener,F!==w&&p.isPropagationStopped())break e;Kw(p,N,X),w=F}else for(b=0;b<d.length;b++){if(N=d[b],F=N.instance,X=N.currentTarget,N=N.listener,F!==w&&p.isPropagationStopped())break e;Kw(p,N,X),w=F}}}if(nn)throw s=kn,nn=!1,kn=null,s}function jt(s,i){var l=i[kp];l===void 0&&(l=i[kp]=new Set);var d=s+"__bubble";l.has(d)||(Qw(i,s,2,!1),l.add(d))}function Ep(s,i,l){var d=0;i&&(d|=4),Qw(l,s,d,i)}var md="_reactListening"+Math.random().toString(36).slice(2);function Rc(s){if(!s[md]){s[md]=!0,r.forEach(function(l){l!=="selectionchange"&&(Fx.has(l)||Ep(l,!1,s),Ep(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[md]||(i[md]=!0,Ep("selectionchange",!1,i))}}function Qw(s,i,l,d){switch(vc(i)){case 1:var p=Ut;break;case 4:p=dp;break;default:p=wc}l=p.bind(null,i,l,s),p=void 0,!Zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function bp(s,i,l,d,p){var w=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var N=d.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var F=b.tag;if((F===3||F===4)&&(F=b.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;b=b.return}for(;N!==null;){if(b=Qo(N),b===null)return;if(F=b.tag,F===5||F===6){d=w=b;continue e}N=N.parentNode}}d=d.return}Oi(function(){var X=w,ce=Xs(l),ue=[];e:{var le=Ww.get(s);if(le!==void 0){var ve=Ka,ke=s;switch(s){case"keypress":if(Ga(l)===0)break e;case"keydown":case"keyup":ve=y;break;case"focusin":ke="focus",ve=Xa;break;case"focusout":ke="blur",ve=Xa;break;case"beforeblur":case"afterblur":ve=Xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Z;break;case Bw:case zw:case Hw:ve=ai;break;case qw:ve=Tt;break;case"scroll":ve=hp;break;case"wheel":ve=pt;break;case"copy":case"cut":case"paste":ve=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=S}var Re=(i&4)!==0,Xt=!Re&&s==="scroll",G=Re?le!==null?le+"Capture":null:le;Re=[];for(var B=X,J;B!==null;){J=B;var fe=J.stateNode;if(J.tag===5&&fe!==null&&(J=fe,G!==null&&(fe=Ft(B,G),fe!=null&&Re.push(Pc(B,fe,J)))),Xt)break;B=B.return}0<Re.length&&(le=new ve(le,ke,null,l,ce),ue.push({event:le,listeners:Re}))}}if((i&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",le&&l!==Ys&&(ke=l.relatedTarget||l.fromElement)&&(Qo(ke)||ke[li]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(ke=l.relatedTarget||l.toElement,ve=X,ke=ke?Qo(ke):null,ke!==null&&(Xt=Kt(ke),ke!==Xt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(ve=null,ke=X),ve!==ke)){if(Re=Qa,fe="onMouseLeave",G="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Re=S,fe="onPointerLeave",G="onPointerEnter",B="pointer"),Xt=ve==null?le:ol(ve),J=ke==null?le:ol(ke),le=new Re(fe,B+"leave",ve,l,ce),le.target=Xt,le.relatedTarget=J,fe=null,Qo(ce)===X&&(Re=new Re(G,B+"enter",ke,l,ce),Re.target=J,Re.relatedTarget=Xt,fe=Re),Xt=fe,ve&&ke)t:{for(Re=ve,G=ke,B=0,J=Re;J;J=sl(J))B++;for(J=0,fe=G;fe;fe=sl(fe))J++;for(;0<B-J;)Re=sl(Re),B--;for(;0<J-B;)G=sl(G),J--;for(;B--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=sl(Re),G=sl(G)}Re=null}else Re=null;ve!==null&&Yw(ue,le,ve,Re,!1),ke!==null&&Xt!==null&&Yw(ue,Xt,ke,Re,!0)}}e:{if(le=X?ol(X):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var Ae=Rx;else if(Pw(le))if(Nw)Ae=Dx;else{Ae=Ax;var Fe=Px}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ae=Nx);if(Ae&&(Ae=Ae(s,X))){Aw(ue,Ae,l,ce);break e}Fe&&Fe(s,le,X),s==="focusout"&&(Fe=le._wrapperState)&&Fe.controlled&&le.type==="number"&&ht(le,"number",le.value)}switch(Fe=X?ol(X):window,s){case"focusin":(Pw(Fe)||Fe.contentEditable==="true")&&(nl=Fe,gp=X,Sc=null);break;case"focusout":Sc=gp=nl=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,$w(ue,l,ce);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":$w(ue,l,ce)}var $e;if(sn)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else tl?kw(s,l)&&(Je="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Je="onCompositionStart");Je&&(Jo&&l.locale!=="ko"&&(tl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&tl&&($e=_c()):(Cr=ce,Wa="value"in Cr?Cr.value:Cr.textContent,tl=!0)),Fe=gd(X,Je),0<Fe.length&&(Je=new Cc(Je,s,null,l,ce),ue.push({event:Je,listeners:Fe}),$e?Je.data=$e:($e=Rw(l),$e!==null&&(Je.data=$e)))),($e=Tr?xx(s,l):Ix(s,l))&&(X=gd(X,"onBeforeInput"),0<X.length&&(ce=new Cc("onBeforeInput","beforeinput",null,l,ce),ue.push({event:ce,listeners:X}),ce.data=$e))}Jw(ue,i)})}function Pc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function gd(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=Ft(s,l),w!=null&&d.unshift(Pc(s,w,p)),w=Ft(s,i),w!=null&&d.push(Pc(s,w,p))),s=s.return}return d}function sl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Yw(s,i,l,d,p){for(var w=i._reactName,b=[];l!==null&&l!==d;){var N=l,F=N.alternate,X=N.stateNode;if(F!==null&&F===d)break;N.tag===5&&X!==null&&(N=X,p?(F=Ft(l,w),F!=null&&b.unshift(Pc(l,F,N))):p||(F=Ft(l,w),F!=null&&b.push(Pc(l,F,N)))),l=l.return}b.length!==0&&s.push({event:i,listeners:b})}var $x=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function Xw(s){return(typeof s=="string"?s:""+s).replace($x,`
`).replace(Ux,"")}function yd(s,i,l){if(i=Xw(i),Xw(s)!==i&&l)throw Error(n(425))}function wd(){}var Cp=null,Tp=null;function xp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,Bx=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,zx=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(s){return Zw.resolve(null).then(s).catch(Hx)}:Ip;function Hx(s){setTimeout(function(){throw s})}function Sp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),ss(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);ss(i)}function qi(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function ev(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var il=Math.random().toString(36).slice(2),Ns="__reactFiber$"+il,Ac="__reactProps$"+il,li="__reactContainer$"+il,kp="__reactEvents$"+il,qx="__reactListeners$"+il,Wx="__reactHandles$"+il;function Qo(s){var i=s[Ns];if(i)return i;for(var l=s.parentNode;l;){if(i=l[li]||l[Ns]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=ev(s);s!==null;){if(l=s[Ns])return l;s=ev(s)}return i}s=l,l=s.parentNode}return null}function Nc(s){return s=s[Ns]||s[li],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ol(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function vd(s){return s[Ac]||null}var Rp=[],al=-1;function Wi(s){return{current:s}}function Lt(s){0>al||(s.current=Rp[al],Rp[al]=null,al--)}function Dt(s,i){al++,Rp[al]=s.current,s.current=i}var Gi={},Vn=Wi(Gi),cr=Wi(!1),Yo=Gi;function ll(s,i){var l=s.type.contextTypes;if(!l)return Gi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in l)p[w]=i[w];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function ur(s){return s=s.childContextTypes,s!=null}function _d(){Lt(cr),Lt(Vn)}function tv(s,i,l){if(Vn.current!==Gi)throw Error(n(168));Dt(Vn,i),Dt(cr,l)}function nv(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Ke(s)||"Unknown",p));return ne({},l,d)}function Ed(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Gi,Yo=Vn.current,Dt(Vn,s),Dt(cr,cr.current),!0}function rv(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=nv(s,i,Yo),d.__reactInternalMemoizedMergedChildContext=s,Lt(cr),Lt(Vn),Dt(Vn,s)):Lt(cr),Dt(cr,l)}var ci=null,bd=!1,Pp=!1;function sv(s){ci===null?ci=[s]:ci.push(s)}function Gx(s){bd=!0,sv(s)}function Ki(){if(!Pp&&ci!==null){Pp=!0;var s=0,i=ft;try{var l=ci;for(ft=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ci=null,bd=!1}catch(p){throw ci!==null&&(ci=ci.slice(s+1)),ni(Er,Ki),p}finally{ft=i,Pp=!1}}return null}var cl=[],ul=0,Cd=null,Td=0,Br=[],zr=0,Xo=null,ui=1,di="";function Zo(s,i){cl[ul++]=Td,cl[ul++]=Cd,Cd=s,Td=i}function iv(s,i,l){Br[zr++]=ui,Br[zr++]=di,Br[zr++]=Xo,Xo=s;var d=ui;s=di;var p=32-Jt(d)-1;d&=~(1<<p),l+=1;var w=32-Jt(i)+p;if(30<w){var b=p-p%5;w=(d&(1<<b)-1).toString(32),d>>=b,p-=b,ui=1<<32-Jt(i)+p|l<<p|d,di=w+s}else ui=1<<w|l<<p|d,di=s}function Ap(s){s.return!==null&&(Zo(s,1),iv(s,1,0))}function Np(s){for(;s===Cd;)Cd=cl[--ul],cl[ul]=null,Td=cl[--ul],cl[ul]=null;for(;s===Xo;)Xo=Br[--zr],Br[zr]=null,di=Br[--zr],Br[zr]=null,ui=Br[--zr],Br[zr]=null}var xr=null,Ir=null,Bt=!1,as=null;function ov(s,i){var l=Gr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function av(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,xr=s,Ir=qi(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,xr=s,Ir=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Xo!==null?{id:ui,overflow:di}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Gr(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,xr=s,Ir=null,!0):!1;default:return!1}}function Dp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Op(s){if(Bt){var i=Ir;if(i){var l=i;if(!av(s,i)){if(Dp(s))throw Error(n(418));i=qi(l.nextSibling);var d=xr;i&&av(s,i)?ov(d,l):(s.flags=s.flags&-4097|2,Bt=!1,xr=s)}}else{if(Dp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Bt=!1,xr=s}}}function lv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xr=s}function xd(s){if(s!==xr)return!1;if(!Bt)return lv(s),Bt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!xp(s.type,s.memoizedProps)),i&&(i=Ir)){if(Dp(s))throw cv(),Error(n(418));for(;i;)ov(s,i),i=qi(i.nextSibling)}if(lv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Ir=qi(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Ir=null}}else Ir=xr?qi(s.stateNode.nextSibling):null;return!0}function cv(){for(var s=Ir;s;)s=qi(s.nextSibling)}function dl(){Ir=xr=null,Bt=!1}function jp(s){as===null?as=[s]:as.push(s)}var Kx=Y.ReactCurrentBatchConfig;function Dc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(b){var N=p.refs;b===null?delete N[w]:N[w]=b},i._stringRef=w,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function Id(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function uv(s){var i=s._init;return i(s._payload)}function dv(s){function i(G,B){if(s){var J=G.deletions;J===null?(G.deletions=[B],G.flags|=16):J.push(B)}}function l(G,B){if(!s)return null;for(;B!==null;)i(G,B),B=B.sibling;return null}function d(G,B){for(G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function p(G,B){return G=no(G,B),G.index=0,G.sibling=null,G}function w(G,B,J){return G.index=J,s?(J=G.alternate,J!==null?(J=J.index,J<B?(G.flags|=2,B):J):(G.flags|=2,B)):(G.flags|=1048576,B)}function b(G){return s&&G.alternate===null&&(G.flags|=2),G}function N(G,B,J,fe){return B===null||B.tag!==6?(B=Im(J,G.mode,fe),B.return=G,B):(B=p(B,J),B.return=G,B)}function F(G,B,J,fe){var Ae=J.type;return Ae===I?ce(G,B,J.props.children,fe,J.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ye&&uv(Ae)===B.type)?(fe=p(B,J.props),fe.ref=Dc(G,B,J),fe.return=G,fe):(fe=Qd(J.type,J.key,J.props,null,G.mode,fe),fe.ref=Dc(G,B,J),fe.return=G,fe)}function X(G,B,J,fe){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=Sm(J,G.mode,fe),B.return=G,B):(B=p(B,J.children||[]),B.return=G,B)}function ce(G,B,J,fe,Ae){return B===null||B.tag!==7?(B=aa(J,G.mode,fe,Ae),B.return=G,B):(B=p(B,J),B.return=G,B)}function ue(G,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Im(""+B,G.mode,J),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ie:return J=Qd(B.type,B.key,B.props,null,G.mode,J),J.ref=Dc(G,null,B),J.return=G,J;case Q:return B=Sm(B,G.mode,J),B.return=G,B;case Ye:var fe=B._init;return ue(G,fe(B._payload),J)}if(ze(B)||se(B))return B=aa(B,G.mode,J,null),B.return=G,B;Id(G,B)}return null}function le(G,B,J,fe){var Ae=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ae!==null?null:N(G,B,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ie:return J.key===Ae?F(G,B,J,fe):null;case Q:return J.key===Ae?X(G,B,J,fe):null;case Ye:return Ae=J._init,le(G,B,Ae(J._payload),fe)}if(ze(J)||se(J))return Ae!==null?null:ce(G,B,J,fe,null);Id(G,J)}return null}function ve(G,B,J,fe,Ae){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return G=G.get(J)||null,N(B,G,""+fe,Ae);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case ie:return G=G.get(fe.key===null?J:fe.key)||null,F(B,G,fe,Ae);case Q:return G=G.get(fe.key===null?J:fe.key)||null,X(B,G,fe,Ae);case Ye:var Fe=fe._init;return ve(G,B,J,Fe(fe._payload),Ae)}if(ze(fe)||se(fe))return G=G.get(J)||null,ce(B,G,fe,Ae,null);Id(B,fe)}return null}function ke(G,B,J,fe){for(var Ae=null,Fe=null,$e=B,Je=B=0,Cn=null;$e!==null&&Je<J.length;Je++){$e.index>Je?(Cn=$e,$e=null):Cn=$e.sibling;var wt=le(G,$e,J[Je],fe);if(wt===null){$e===null&&($e=Cn);break}s&&$e&&wt.alternate===null&&i(G,$e),B=w(wt,B,Je),Fe===null?Ae=wt:Fe.sibling=wt,Fe=wt,$e=Cn}if(Je===J.length)return l(G,$e),Bt&&Zo(G,Je),Ae;if($e===null){for(;Je<J.length;Je++)$e=ue(G,J[Je],fe),$e!==null&&(B=w($e,B,Je),Fe===null?Ae=$e:Fe.sibling=$e,Fe=$e);return Bt&&Zo(G,Je),Ae}for($e=d(G,$e);Je<J.length;Je++)Cn=ve($e,G,Je,J[Je],fe),Cn!==null&&(s&&Cn.alternate!==null&&$e.delete(Cn.key===null?Je:Cn.key),B=w(Cn,B,Je),Fe===null?Ae=Cn:Fe.sibling=Cn,Fe=Cn);return s&&$e.forEach(function(ro){return i(G,ro)}),Bt&&Zo(G,Je),Ae}function Re(G,B,J,fe){var Ae=se(J);if(typeof Ae!="function")throw Error(n(150));if(J=Ae.call(J),J==null)throw Error(n(151));for(var Fe=Ae=null,$e=B,Je=B=0,Cn=null,wt=J.next();$e!==null&&!wt.done;Je++,wt=J.next()){$e.index>Je?(Cn=$e,$e=null):Cn=$e.sibling;var ro=le(G,$e,wt.value,fe);if(ro===null){$e===null&&($e=Cn);break}s&&$e&&ro.alternate===null&&i(G,$e),B=w(ro,B,Je),Fe===null?Ae=ro:Fe.sibling=ro,Fe=ro,$e=Cn}if(wt.done)return l(G,$e),Bt&&Zo(G,Je),Ae;if($e===null){for(;!wt.done;Je++,wt=J.next())wt=ue(G,wt.value,fe),wt!==null&&(B=w(wt,B,Je),Fe===null?Ae=wt:Fe.sibling=wt,Fe=wt);return Bt&&Zo(G,Je),Ae}for($e=d(G,$e);!wt.done;Je++,wt=J.next())wt=ve($e,G,Je,wt.value,fe),wt!==null&&(s&&wt.alternate!==null&&$e.delete(wt.key===null?Je:wt.key),B=w(wt,B,Je),Fe===null?Ae=wt:Fe.sibling=wt,Fe=wt);return s&&$e.forEach(function(SI){return i(G,SI)}),Bt&&Zo(G,Je),Ae}function Xt(G,B,J,fe){if(typeof J=="object"&&J!==null&&J.type===I&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case ie:e:{for(var Ae=J.key,Fe=B;Fe!==null;){if(Fe.key===Ae){if(Ae=J.type,Ae===I){if(Fe.tag===7){l(G,Fe.sibling),B=p(Fe,J.props.children),B.return=G,G=B;break e}}else if(Fe.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ye&&uv(Ae)===Fe.type){l(G,Fe.sibling),B=p(Fe,J.props),B.ref=Dc(G,Fe,J),B.return=G,G=B;break e}l(G,Fe);break}else i(G,Fe);Fe=Fe.sibling}J.type===I?(B=aa(J.props.children,G.mode,fe,J.key),B.return=G,G=B):(fe=Qd(J.type,J.key,J.props,null,G.mode,fe),fe.ref=Dc(G,B,J),fe.return=G,G=fe)}return b(G);case Q:e:{for(Fe=J.key;B!==null;){if(B.key===Fe)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){l(G,B.sibling),B=p(B,J.children||[]),B.return=G,G=B;break e}else{l(G,B);break}else i(G,B);B=B.sibling}B=Sm(J,G.mode,fe),B.return=G,G=B}return b(G);case Ye:return Fe=J._init,Xt(G,B,Fe(J._payload),fe)}if(ze(J))return ke(G,B,J,fe);if(se(J))return Re(G,B,J,fe);Id(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,B!==null&&B.tag===6?(l(G,B.sibling),B=p(B,J),B.return=G,G=B):(l(G,B),B=Im(J,G.mode,fe),B.return=G,G=B),b(G)):l(G,B)}return Xt}var hl=dv(!0),hv=dv(!1),Sd=Wi(null),kd=null,fl=null,Lp=null;function Mp(){Lp=fl=kd=null}function Vp(s){var i=Sd.current;Lt(Sd),s._currentValue=i}function Fp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function pl(s,i){kd=s,Lp=fl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(dr=!0),s.firstContext=null)}function Hr(s){var i=s._currentValue;if(Lp!==s)if(s={context:s,memoizedValue:i,next:null},fl===null){if(kd===null)throw Error(n(308));fl=s,kd.dependencies={lanes:0,firstContext:s}}else fl=fl.next=s;return i}var ea=null;function $p(s){ea===null?ea=[s]:ea.push(s)}function fv(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,$p(i)):(l.next=p.next,p.next=l),i.interleaved=l,hi(s,d)}function hi(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ji=!1;function Up(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fi(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Qi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(yt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,hi(s,l)}return p=d.interleaved,p===null?(i.next=i,$p(d)):(i.next=p.next,p.next=i),d.interleaved=i,hi(s,l)}function Rd(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Fi(s,l)}}function mv(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?p=w=b:w=w.next=b,l=l.next}while(l!==null);w===null?p=w=i:w=w.next=i}else p=w=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function Pd(s,i,l,d){var p=s.updateQueue;Ji=!1;var w=p.firstBaseUpdate,b=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var F=N,X=F.next;F.next=null,b===null?w=X:b.next=X,b=F;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==b&&(N===null?ce.firstBaseUpdate=X:N.next=X,ce.lastBaseUpdate=F))}if(w!==null){var ue=p.baseState;b=0,ce=X=F=null,N=w;do{var le=N.lane,ve=N.eventTime;if((d&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ke=s,Re=N;switch(le=i,ve=l,Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){ue=ke.call(ve,ue,le);break e}ue=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,le=typeof ke=="function"?ke.call(ve,ue,le):ke,le==null)break e;ue=ne({},ue,le);break e;case 2:Ji=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,le=p.effects,le===null?p.effects=[N]:le.push(N))}else ve={eventTime:ve,lane:le,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(X=ce=ve,F=ue):ce=ce.next=ve,b|=le;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);if(ce===null&&(F=ue),p.baseState=F,p.firstBaseUpdate=X,p.lastBaseUpdate=ce,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else w===null&&(p.shared.lanes=0);ra|=b,s.lanes=b,s.memoizedState=ue}}function gv(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Oc={},Ds=Wi(Oc),jc=Wi(Oc),Lc=Wi(Oc);function ta(s){if(s===Oc)throw Error(n(174));return s}function Bp(s,i){switch(Dt(Lc,i),Dt(jc,s),Dt(Ds,Oc),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:St(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=St(i,s)}Lt(Ds),Dt(Ds,i)}function ml(){Lt(Ds),Lt(jc),Lt(Lc)}function yv(s){ta(Lc.current);var i=ta(Ds.current),l=St(i,s.type);i!==l&&(Dt(jc,s),Dt(Ds,l))}function zp(s){jc.current===s&&(Lt(Ds),Lt(jc))}var Ht=Wi(0);function Ad(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hp=[];function qp(){for(var s=0;s<Hp.length;s++)Hp[s]._workInProgressVersionPrimary=null;Hp.length=0}var Nd=Y.ReactCurrentDispatcher,Wp=Y.ReactCurrentBatchConfig,na=0,qt=null,pn=null,En=null,Dd=!1,Mc=!1,Vc=0,Jx=0;function Fn(){throw Error(n(321))}function Gp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!os(s[l],i[l]))return!1;return!0}function Kp(s,i,l,d,p,w){if(na=w,qt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Nd.current=s===null||s.memoizedState===null?Zx:eI,s=l(d,p),Mc){w=0;do{if(Mc=!1,Vc=0,25<=w)throw Error(n(301));w+=1,En=pn=null,i.updateQueue=null,Nd.current=tI,s=l(d,p)}while(Mc)}if(Nd.current=Ld,i=pn!==null&&pn.next!==null,na=0,En=pn=qt=null,Dd=!1,i)throw Error(n(300));return s}function Jp(){var s=Vc!==0;return Vc=0,s}function Os(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?qt.memoizedState=En=s:En=En.next=s,En}function qr(){if(pn===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=pn.next;var i=En===null?qt.memoizedState:En.next;if(i!==null)En=i,pn=s;else{if(s===null)throw Error(n(310));pn=s,s={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},En===null?qt.memoizedState=En=s:En=En.next=s}return En}function Fc(s,i){return typeof i=="function"?i(s):i}function Qp(s){var i=qr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=pn,p=d.baseQueue,w=l.pending;if(w!==null){if(p!==null){var b=p.next;p.next=w.next,w.next=b}d.baseQueue=p=w,l.pending=null}if(p!==null){w=p.next,d=d.baseState;var N=b=null,F=null,X=w;do{var ce=X.lane;if((na&ce)===ce)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),d=X.hasEagerState?X.eagerState:s(d,X.action);else{var ue={lane:ce,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(N=F=ue,b=d):F=F.next=ue,qt.lanes|=ce,ra|=ce}X=X.next}while(X!==null&&X!==w);F===null?b=d:F.next=N,os(d,i.memoizedState)||(dr=!0),i.memoizedState=d,i.baseState=b,i.baseQueue=F,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do w=p.lane,qt.lanes|=w,ra|=w,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Yp(s){var i=qr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,w=i.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do w=s(w,b.action),b=b.next;while(b!==p);os(w,i.memoizedState)||(dr=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),l.lastRenderedState=w}return[w,d]}function wv(){}function vv(s,i){var l=qt,d=qr(),p=i(),w=!os(d.memoizedState,p);if(w&&(d.memoizedState=p,dr=!0),d=d.queue,Xp(bv.bind(null,l,d,s),[s]),d.getSnapshot!==i||w||En!==null&&En.memoizedState.tag&1){if(l.flags|=2048,$c(9,Ev.bind(null,l,d,p,i),void 0,null),bn===null)throw Error(n(349));(na&30)!==0||_v(l,i,p)}return p}function _v(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=qt.updateQueue,i===null?(i={lastEffect:null,stores:null},qt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Ev(s,i,l,d){i.value=l,i.getSnapshot=d,Cv(i)&&Tv(s)}function bv(s,i,l){return l(function(){Cv(i)&&Tv(s)})}function Cv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!os(s,l)}catch{return!0}}function Tv(s){var i=hi(s,1);i!==null&&ds(i,s,1,-1)}function xv(s){var i=Os();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:s},i.queue=s,s=s.dispatch=Xx.bind(null,qt,s),[i.memoizedState,s]}function $c(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=qt.updateQueue,i===null?(i={lastEffect:null,stores:null},qt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function Iv(){return qr().memoizedState}function Od(s,i,l,d){var p=Os();qt.flags|=s,p.memoizedState=$c(1|i,l,void 0,d===void 0?null:d)}function jd(s,i,l,d){var p=qr();d=d===void 0?null:d;var w=void 0;if(pn!==null){var b=pn.memoizedState;if(w=b.destroy,d!==null&&Gp(d,b.deps)){p.memoizedState=$c(i,l,w,d);return}}qt.flags|=s,p.memoizedState=$c(1|i,l,w,d)}function Sv(s,i){return Od(8390656,8,s,i)}function Xp(s,i){return jd(2048,8,s,i)}function kv(s,i){return jd(4,2,s,i)}function Rv(s,i){return jd(4,4,s,i)}function Pv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Av(s,i,l){return l=l!=null?l.concat([s]):null,jd(4,4,Pv.bind(null,i,s),l)}function Zp(){}function Nv(s,i){var l=qr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Gp(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function Dv(s,i){var l=qr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Gp(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function Ov(s,i,l){return(na&21)===0?(s.baseState&&(s.baseState=!1,dr=!0),s.memoizedState=l):(os(l,i)||(l=Mn(),qt.lanes|=l,ra|=l,s.baseState=!0),i)}function Qx(s,i){var l=ft;ft=l!==0&&4>l?l:4,s(!0);var d=Wp.transition;Wp.transition={};try{s(!1),i()}finally{ft=l,Wp.transition=d}}function jv(){return qr().memoizedState}function Yx(s,i,l){var d=eo(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Lv(s))Mv(i,l);else if(l=fv(s,i,l,d),l!==null){var p=Xn();ds(l,s,d,p),Vv(l,i,d)}}function Xx(s,i,l){var d=eo(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lv(s))Mv(i,p);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var b=i.lastRenderedState,N=w(b,l);if(p.hasEagerState=!0,p.eagerState=N,os(N,b)){var F=i.interleaved;F===null?(p.next=p,$p(i)):(p.next=F.next,F.next=p),i.interleaved=p;return}}catch{}finally{}l=fv(s,i,p,d),l!==null&&(p=Xn(),ds(l,s,d,p),Vv(l,i,d))}}function Lv(s){var i=s.alternate;return s===qt||i!==null&&i===qt}function Mv(s,i){Mc=Dd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Vv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Fi(s,l)}}var Ld={readContext:Hr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},Zx={readContext:Hr,useCallback:function(s,i){return Os().memoizedState=[s,i===void 0?null:i],s},useContext:Hr,useEffect:Sv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Od(4194308,4,Pv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Od(4194308,4,s,i)},useInsertionEffect:function(s,i){return Od(4,2,s,i)},useMemo:function(s,i){var l=Os();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Os();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=Yx.bind(null,qt,s),[d.memoizedState,s]},useRef:function(s){var i=Os();return s={current:s},i.memoizedState=s},useState:xv,useDebugValue:Zp,useDeferredValue:function(s){return Os().memoizedState=s},useTransition:function(){var s=xv(!1),i=s[0];return s=Qx.bind(null,s[1]),Os().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=qt,p=Os();if(Bt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),bn===null)throw Error(n(349));(na&30)!==0||_v(d,i,l)}p.memoizedState=l;var w={value:l,getSnapshot:i};return p.queue=w,Sv(bv.bind(null,d,w,s),[s]),d.flags|=2048,$c(9,Ev.bind(null,d,w,l,i),void 0,null),l},useId:function(){var s=Os(),i=bn.identifierPrefix;if(Bt){var l=di,d=ui;l=(d&~(1<<32-Jt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Vc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=Jx++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},eI={readContext:Hr,useCallback:Nv,useContext:Hr,useEffect:Xp,useImperativeHandle:Av,useInsertionEffect:kv,useLayoutEffect:Rv,useMemo:Dv,useReducer:Qp,useRef:Iv,useState:function(){return Qp(Fc)},useDebugValue:Zp,useDeferredValue:function(s){var i=qr();return Ov(i,pn.memoizedState,s)},useTransition:function(){var s=Qp(Fc)[0],i=qr().memoizedState;return[s,i]},useMutableSource:wv,useSyncExternalStore:vv,useId:jv,unstable_isNewReconciler:!1},tI={readContext:Hr,useCallback:Nv,useContext:Hr,useEffect:Xp,useImperativeHandle:Av,useInsertionEffect:kv,useLayoutEffect:Rv,useMemo:Dv,useReducer:Yp,useRef:Iv,useState:function(){return Yp(Fc)},useDebugValue:Zp,useDeferredValue:function(s){var i=qr();return pn===null?i.memoizedState=s:Ov(i,pn.memoizedState,s)},useTransition:function(){var s=Yp(Fc)[0],i=qr().memoizedState;return[s,i]},useMutableSource:wv,useSyncExternalStore:vv,useId:jv,unstable_isNewReconciler:!1};function ls(s,i){if(s&&s.defaultProps){i=ne({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function em(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:ne({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Md={isMounted:function(s){return(s=s._reactInternals)?Kt(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Xn(),p=eo(s),w=fi(d,p);w.payload=i,l!=null&&(w.callback=l),i=Qi(s,w,p),i!==null&&(ds(i,s,p,d),Rd(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Xn(),p=eo(s),w=fi(d,p);w.tag=1,w.payload=i,l!=null&&(w.callback=l),i=Qi(s,w,p),i!==null&&(ds(i,s,p,d),Rd(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Xn(),d=eo(s),p=fi(l,d);p.tag=2,i!=null&&(p.callback=i),i=Qi(s,p,d),i!==null&&(ds(i,s,d,l),Rd(i,s,d))}};function Fv(s,i,l,d,p,w,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,w,b):i.prototype&&i.prototype.isPureReactComponent?!Ic(l,d)||!Ic(p,w):!0}function $v(s,i,l){var d=!1,p=Gi,w=i.contextType;return typeof w=="object"&&w!==null?w=Hr(w):(p=ur(i)?Yo:Vn.current,d=i.contextTypes,w=(d=d!=null)?ll(s,p):Gi),i=new i(l,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Md,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=w),i}function Uv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Md.enqueueReplaceState(i,i.state,null)}function tm(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Up(s);var w=i.contextType;typeof w=="object"&&w!==null?p.context=Hr(w):(w=ur(i)?Yo:Vn.current,p.context=ll(s,w)),p.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(em(s,i,w,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Md.enqueueReplaceState(p,p.state,null),Pd(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function gl(s,i){try{var l="",d=i;do l+=_e(d),d=d.return;while(d);var p=l}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:p,digest:null}}function nm(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function rm(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var nI=typeof WeakMap=="function"?WeakMap:Map;function Bv(s,i,l){l=fi(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Hd||(Hd=!0,wm=d),rm(s,i)},l}function zv(s,i,l){l=fi(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){rm(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){rm(s,i),typeof d!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function Hv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new nI;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=gI.bind(null,s,i,l),i.then(s,s))}function qv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Wv(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=fi(-1,1),i.tag=2,Qi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var rI=Y.ReactCurrentOwner,dr=!1;function Yn(s,i,l,d){i.child=s===null?hv(i,null,l,d):hl(i,s.child,l,d)}function Gv(s,i,l,d,p){l=l.render;var w=i.ref;return pl(i,p),d=Kp(s,i,l,d,w,p),l=Jp(),s!==null&&!dr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,pi(s,i,p)):(Bt&&l&&Ap(i),i.flags|=1,Yn(s,i,d,p),i.child)}function Kv(s,i,l,d,p){if(s===null){var w=l.type;return typeof w=="function"&&!xm(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=w,Jv(s,i,w,d,p)):(s=Qd(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,(s.lanes&p)===0){var b=w.memoizedProps;if(l=l.compare,l=l!==null?l:Ic,l(b,d)&&s.ref===i.ref)return pi(s,i,p)}return i.flags|=1,s=no(w,d),s.ref=i.ref,s.return=i,i.child=s}function Jv(s,i,l,d,p){if(s!==null){var w=s.memoizedProps;if(Ic(w,d)&&s.ref===i.ref)if(dr=!1,i.pendingProps=d=w,(s.lanes&p)!==0)(s.flags&131072)!==0&&(dr=!0);else return i.lanes=s.lanes,pi(s,i,p)}return sm(s,i,l,d,p)}function Qv(s,i,l){var d=i.pendingProps,p=d.children,w=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(wl,Sr),Sr|=l;else{if((l&1073741824)===0)return s=w!==null?w.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Dt(wl,Sr),Sr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:l,Dt(wl,Sr),Sr|=d}else w!==null?(d=w.baseLanes|l,i.memoizedState=null):d=l,Dt(wl,Sr),Sr|=d;return Yn(s,i,p,l),i.child}function Yv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function sm(s,i,l,d,p){var w=ur(l)?Yo:Vn.current;return w=ll(i,w),pl(i,p),l=Kp(s,i,l,d,w,p),d=Jp(),s!==null&&!dr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,pi(s,i,p)):(Bt&&d&&Ap(i),i.flags|=1,Yn(s,i,l,p),i.child)}function Xv(s,i,l,d,p){if(ur(l)){var w=!0;Ed(i)}else w=!1;if(pl(i,p),i.stateNode===null)Fd(s,i),$v(i,l,d),tm(i,l,d,p),d=!0;else if(s===null){var b=i.stateNode,N=i.memoizedProps;b.props=N;var F=b.context,X=l.contextType;typeof X=="object"&&X!==null?X=Hr(X):(X=ur(l)?Yo:Vn.current,X=ll(i,X));var ce=l.getDerivedStateFromProps,ue=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function";ue||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==d||F!==X)&&Uv(i,b,d,X),Ji=!1;var le=i.memoizedState;b.state=le,Pd(i,d,b,p),F=i.memoizedState,N!==d||le!==F||cr.current||Ji?(typeof ce=="function"&&(em(i,l,ce,d),F=i.memoizedState),(N=Ji||Fv(i,l,N,d,le,F,X))?(ue||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=F),b.props=d,b.state=F,b.context=X,d=N):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,pv(s,i),N=i.memoizedProps,X=i.type===i.elementType?N:ls(i.type,N),b.props=X,ue=i.pendingProps,le=b.context,F=l.contextType,typeof F=="object"&&F!==null?F=Hr(F):(F=ur(l)?Yo:Vn.current,F=ll(i,F));var ve=l.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==ue||le!==F)&&Uv(i,b,d,F),Ji=!1,le=i.memoizedState,b.state=le,Pd(i,d,b,p);var ke=i.memoizedState;N!==ue||le!==ke||cr.current||Ji?(typeof ve=="function"&&(em(i,l,ve,d),ke=i.memoizedState),(X=Ji||Fv(i,l,X,d,le,ke,F)||!1)?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ke,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ke,F)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ke),b.props=d,b.state=ke,b.context=F,d=X):(typeof b.componentDidUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),d=!1)}return im(s,i,l,d,w,p)}function im(s,i,l,d,p,w){Yv(s,i);var b=(i.flags&128)!==0;if(!d&&!b)return p&&rv(i,l,!1),pi(s,i,w);d=i.stateNode,rI.current=i;var N=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&b?(i.child=hl(i,s.child,null,w),i.child=hl(i,null,N,w)):Yn(s,i,N,w),i.memoizedState=d.state,p&&rv(i,l,!0),i.child}function Zv(s){var i=s.stateNode;i.pendingContext?tv(s,i.pendingContext,i.pendingContext!==i.context):i.context&&tv(s,i.context,!1),Bp(s,i.containerInfo)}function e_(s,i,l,d,p){return dl(),jp(p),i.flags|=256,Yn(s,i,l,d),i.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(s){return{baseLanes:s,cachePool:null,transitions:null}}function t_(s,i,l){var d=i.pendingProps,p=Ht.current,w=!1,b=(i.flags&128)!==0,N;if((N=b)||(N=s!==null&&s.memoizedState===null?!1:(p&2)!==0),N?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Dt(Ht,p&1),s===null)return Op(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=d.children,s=d.fallback,w?(d=i.mode,w=i.child,b={mode:"hidden",children:b},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=b):w=Yd(b,d,0,null),s=aa(s,d,l,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=am(l),i.memoizedState=om,s):lm(i,b));if(p=s.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return sI(s,i,b,d,N,p,l);if(w){w=d.fallback,b=i.mode,p=s.child,N=p.sibling;var F={mode:"hidden",children:d.children};return(b&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=F,i.deletions=null):(d=no(p,F),d.subtreeFlags=p.subtreeFlags&14680064),N!==null?w=no(N,w):(w=aa(w,b,l,null),w.flags|=2),w.return=i,d.return=i,d.sibling=w,i.child=d,d=w,w=i.child,b=s.child.memoizedState,b=b===null?am(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=s.childLanes&~l,i.memoizedState=om,d}return w=s.child,s=w.sibling,d=no(w,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function lm(s,i){return i=Yd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Vd(s,i,l,d){return d!==null&&jp(d),hl(i,s.child,null,l),s=lm(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function sI(s,i,l,d,p,w,b){if(l)return i.flags&256?(i.flags&=-257,d=nm(Error(n(422))),Vd(s,i,b,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=d.fallback,p=i.mode,d=Yd({mode:"visible",children:d.children},p,0,null),w=aa(w,p,b,null),w.flags|=2,d.return=i,w.return=i,d.sibling=w,i.child=d,(i.mode&1)!==0&&hl(i,s.child,null,b),i.child.memoizedState=am(b),i.memoizedState=om,w);if((i.mode&1)===0)return Vd(s,i,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;return d=N,w=Error(n(419)),d=nm(w,d,void 0),Vd(s,i,b,d)}if(N=(b&s.childLanes)!==0,dr||N){if(d=bn,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,hi(s,p),ds(d,s,p,-1))}return Tm(),d=nm(Error(n(421))),Vd(s,i,b,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=yI.bind(null,s),p._reactRetry=i,null):(s=w.treeContext,Ir=qi(p.nextSibling),xr=i,Bt=!0,as=null,s!==null&&(Br[zr++]=ui,Br[zr++]=di,Br[zr++]=Xo,ui=s.id,di=s.overflow,Xo=i),i=lm(i,d.children),i.flags|=4096,i)}function n_(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Fp(s.return,i,l)}function cm(s,i,l,d,p){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=l,w.tailMode=p)}function r_(s,i,l){var d=i.pendingProps,p=d.revealOrder,w=d.tail;if(Yn(s,i,d.children,l),d=Ht.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&n_(s,l,i);else if(s.tag===19)n_(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Dt(Ht,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&Ad(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),cm(i,!1,p,l,w);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&Ad(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}cm(i,!0,l,null,w);break;case"together":cm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function pi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),ra|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=no(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=no(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function iI(s,i,l){switch(i.tag){case 3:Zv(i),dl();break;case 5:yv(i);break;case 1:ur(i.type)&&Ed(i);break;case 4:Bp(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Dt(Sd,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Dt(Ht,Ht.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?t_(s,i,l):(Dt(Ht,Ht.current&1),s=pi(s,i,l),s!==null?s.sibling:null);Dt(Ht,Ht.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return r_(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Dt(Ht,Ht.current),d)break;return null;case 22:case 23:return i.lanes=0,Qv(s,i,l)}return pi(s,i,l)}var s_,um,i_,o_;s_=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},um=function(){},i_=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,ta(Ds.current);var w=null;switch(l){case"input":p=be(s,p),d=be(s,d),w=[];break;case"select":p=ne({},p,{value:void 0}),d=ne({},d,{value:void 0}),w=[];break;case"textarea":p=It(s,p),d=It(s,d),w=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=wd)}Vo(l,d);var b;l=null;for(X in p)if(!d.hasOwnProperty(X)&&p.hasOwnProperty(X)&&p[X]!=null)if(X==="style"){var N=p[X];for(b in N)N.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in d){var F=d[X];if(N=p?.[X],d.hasOwnProperty(X)&&F!==N&&(F!=null||N!=null))if(X==="style")if(N){for(b in N)!N.hasOwnProperty(b)||F&&F.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in F)F.hasOwnProperty(b)&&N[b]!==F[b]&&(l||(l={}),l[b]=F[b])}else l||(w||(w=[]),w.push(X,l)),l=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,N=N?N.__html:void 0,F!=null&&N!==F&&(w=w||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&jt("scroll",s),w||N===F||(w=[])):(w=w||[]).push(X,F))}l&&(w=w||[]).push("style",l);var X=w;(i.updateQueue=X)&&(i.flags|=4)}},o_=function(s,i,l,d){l!==d&&(i.flags|=4)};function Uc(s,i){if(!Bt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function $n(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function oI(s,i,l){var d=i.pendingProps;switch(Np(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(i),null;case 1:return ur(i.type)&&_d(),$n(i),null;case 3:return d=i.stateNode,ml(),Lt(cr),Lt(Vn),qp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(xd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,as!==null&&(Em(as),as=null))),um(s,i),$n(i),null;case 5:zp(i);var p=ta(Lc.current);if(l=i.type,s!==null&&i.stateNode!=null)i_(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return $n(i),null}if(s=ta(Ds.current),xd(i)){d=i.stateNode,l=i.type;var w=i.memoizedProps;switch(d[Ns]=i,d[Ac]=w,s=(i.mode&1)!==0,l){case"dialog":jt("cancel",d),jt("close",d);break;case"iframe":case"object":case"embed":jt("load",d);break;case"video":case"audio":for(p=0;p<kc.length;p++)jt(kc[p],d);break;case"source":jt("error",d);break;case"img":case"image":case"link":jt("error",d),jt("load",d);break;case"details":jt("toggle",d);break;case"input":Ve(d,w),jt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},jt("invalid",d);break;case"textarea":et(d,w),jt("invalid",d)}Vo(l,w),p=null;for(var b in w)if(w.hasOwnProperty(b)){var N=w[b];b==="children"?typeof N=="string"?d.textContent!==N&&(w.suppressHydrationWarning!==!0&&yd(d.textContent,N,s),p=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(w.suppressHydrationWarning!==!0&&yd(d.textContent,N,s),p=["children",""+N]):o.hasOwnProperty(b)&&N!=null&&b==="onScroll"&&jt("scroll",d)}switch(l){case"input":ge(d),pe(d,w,!0);break;case"textarea":ge(d),at(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=wd)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=lt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=b.createElement(l,{is:d.is}):(s=b.createElement(l),l==="select"&&(b=s,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):s=b.createElementNS(s,l),s[Ns]=i,s[Ac]=d,s_(s,i,!1,!1),i.stateNode=s;e:{switch(b=Fo(l,d),l){case"dialog":jt("cancel",s),jt("close",s),p=d;break;case"iframe":case"object":case"embed":jt("load",s),p=d;break;case"video":case"audio":for(p=0;p<kc.length;p++)jt(kc[p],s);p=d;break;case"source":jt("error",s),p=d;break;case"img":case"image":case"link":jt("error",s),jt("load",s),p=d;break;case"details":jt("toggle",s),p=d;break;case"input":Ve(s,d),p=be(s,d),jt("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=ne({},d,{value:void 0}),jt("invalid",s);break;case"textarea":et(s,d),p=It(s,d),jt("invalid",s);break;default:p=d}Vo(l,p),N=p;for(w in N)if(N.hasOwnProperty(w)){var F=N[w];w==="style"?Mo(s,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&jo(s,F)):w==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Es(s,F):typeof F=="number"&&Es(s,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?F!=null&&w==="onScroll"&&jt("scroll",s):F!=null&&z(s,w,F,b))}switch(l){case"input":ge(s),pe(s,d,!1);break;case"textarea":ge(s),at(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ge(d.value));break;case"select":s.multiple=!!d.multiple,w=d.value,w!=null?Xe(s,!!d.multiple,w,!1):d.defaultValue!=null&&Xe(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=wd)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return $n(i),null;case 6:if(s&&i.stateNode!=null)o_(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=ta(Lc.current),ta(Ds.current),xd(i)){if(d=i.stateNode,l=i.memoizedProps,d[Ns]=i,(w=d.nodeValue!==l)&&(s=xr,s!==null))switch(s.tag){case 3:yd(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&yd(d.nodeValue,l,(s.mode&1)!==0)}w&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Ns]=i,i.stateNode=d}return $n(i),null;case 13:if(Lt(Ht),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Bt&&Ir!==null&&(i.mode&1)!==0&&(i.flags&128)===0)cv(),dl(),i.flags|=98560,w=!1;else if(w=xd(i),d!==null&&d.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ns]=i}else dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$n(i),w=!1}else as!==null&&(Em(as),as=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ht.current&1)!==0?mn===0&&(mn=3):Tm())),i.updateQueue!==null&&(i.flags|=4),$n(i),null);case 4:return ml(),um(s,i),s===null&&Rc(i.stateNode.containerInfo),$n(i),null;case 10:return Vp(i.type._context),$n(i),null;case 17:return ur(i.type)&&_d(),$n(i),null;case 19:if(Lt(Ht),w=i.memoizedState,w===null)return $n(i),null;if(d=(i.flags&128)!==0,b=w.rendering,b===null)if(d)Uc(w,!1);else{if(mn!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(b=Ad(s),b!==null){for(i.flags|=128,Uc(w,!1),d=b.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)w=l,s=d,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,s=b.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Dt(Ht,Ht.current&1|2),i.child}s=s.sibling}w.tail!==null&&kt()>vl&&(i.flags|=128,d=!0,Uc(w,!1),i.lanes=4194304)}else{if(!d)if(s=Ad(b),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Uc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!Bt)return $n(i),null}else 2*kt()-w.renderingStartTime>vl&&l!==1073741824&&(i.flags|=128,d=!0,Uc(w,!1),i.lanes=4194304);w.isBackwards?(b.sibling=i.child,i.child=b):(l=w.last,l!==null?l.sibling=b:i.child=b,w.last=b)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=kt(),i.sibling=null,l=Ht.current,Dt(Ht,d?l&1|2:l&1),i):($n(i),null);case 22:case 23:return Cm(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Sr&1073741824)!==0&&($n(i),i.subtreeFlags&6&&(i.flags|=8192)):$n(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function aI(s,i){switch(Np(i),i.tag){case 1:return ur(i.type)&&_d(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ml(),Lt(cr),Lt(Vn),qp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return zp(i),null;case 13:if(Lt(Ht),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));dl()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Lt(Ht),null;case 4:return ml(),null;case 10:return Vp(i.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var $d=!1,Un=!1,lI=typeof WeakSet=="function"?WeakSet:Set,xe=null;function yl(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Qt(s,i,d)}else l.current=null}function dm(s,i,l){try{l()}catch(d){Qt(s,i,d)}}var a_=!1;function cI(s,i){if(Cp=Bi,s=Fw(),mp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var b=0,N=-1,F=-1,X=0,ce=0,ue=s,le=null;t:for(;;){for(var ve;ue!==l||p!==0&&ue.nodeType!==3||(N=b+p),ue!==w||d!==0&&ue.nodeType!==3||(F=b+d),ue.nodeType===3&&(b+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)le=ue,ue=ve;for(;;){if(ue===s)break t;if(le===l&&++X===p&&(N=b),le===w&&++ce===d&&(F=b),(ve=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=ve}l=N===-1||F===-1?null:{start:N,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Tp={focusedElem:s,selectionRange:l},Bi=!1,xe=i;xe!==null;)if(i=xe,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,xe=s;else for(;xe!==null;){i=xe;try{var ke=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Re=ke.memoizedProps,Xt=ke.memoizedState,G=i.stateNode,B=G.getSnapshotBeforeUpdate(i.elementType===i.type?Re:ls(i.type,Re),Xt);G.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var J=i.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Qt(i,i.return,fe)}if(s=i.sibling,s!==null){s.return=i.return,xe=s;break}xe=i.return}return ke=a_,a_=!1,ke}function Bc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var w=p.destroy;p.destroy=void 0,w!==void 0&&dm(i,l,w)}p=p.next}while(p!==d)}}function Ud(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function hm(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function l_(s){var i=s.alternate;i!==null&&(s.alternate=null,l_(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Ns],delete i[Ac],delete i[kp],delete i[qx],delete i[Wx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function c_(s){return s.tag===5||s.tag===3||s.tag===4}function u_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||c_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fm(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=wd));else if(d!==4&&(s=s.child,s!==null))for(fm(s,i,l),s=s.sibling;s!==null;)fm(s,i,l),s=s.sibling}function pm(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(pm(s,i,l),s=s.sibling;s!==null;)pm(s,i,l),s=s.sibling}var An=null,cs=!1;function Yi(s,i,l){for(l=l.child;l!==null;)d_(s,i,l),l=l.sibling}function d_(s,i,l){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(ri,l)}catch{}switch(l.tag){case 5:Un||yl(l,i);case 6:var d=An,p=cs;An=null,Yi(s,i,l),An=d,cs=p,An!==null&&(cs?(s=An,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):An.removeChild(l.stateNode));break;case 18:An!==null&&(cs?(s=An,l=l.stateNode,s.nodeType===8?Sp(s.parentNode,l):s.nodeType===1&&Sp(s,l),ss(s)):Sp(An,l.stateNode));break;case 4:d=An,p=cs,An=l.stateNode.containerInfo,cs=!0,Yi(s,i,l),An=d,cs=p;break;case 0:case 11:case 14:case 15:if(!Un&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var w=p,b=w.destroy;w=w.tag,b!==void 0&&((w&2)!==0||(w&4)!==0)&&dm(l,i,b),p=p.next}while(p!==d)}Yi(s,i,l);break;case 1:if(!Un&&(yl(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){Qt(l,i,N)}Yi(s,i,l);break;case 21:Yi(s,i,l);break;case 22:l.mode&1?(Un=(d=Un)||l.memoizedState!==null,Yi(s,i,l),Un=d):Yi(s,i,l);break;default:Yi(s,i,l)}}function h_(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new lI),i.forEach(function(d){var p=wI.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function us(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var w=s,b=i,N=b;e:for(;N!==null;){switch(N.tag){case 5:An=N.stateNode,cs=!1;break e;case 3:An=N.stateNode.containerInfo,cs=!0;break e;case 4:An=N.stateNode.containerInfo,cs=!0;break e}N=N.return}if(An===null)throw Error(n(160));d_(w,b,p),An=null,cs=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(X){Qt(p,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)f_(i,s),i=i.sibling}function f_(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(us(i,s),js(s),d&4){try{Bc(3,s,s.return),Ud(3,s)}catch(Re){Qt(s,s.return,Re)}try{Bc(5,s,s.return)}catch(Re){Qt(s,s.return,Re)}}break;case 1:us(i,s),js(s),d&512&&l!==null&&yl(l,l.return);break;case 5:if(us(i,s),js(s),d&512&&l!==null&&yl(l,l.return),s.flags&32){var p=s.stateNode;try{Es(p,"")}catch(Re){Qt(s,s.return,Re)}}if(d&4&&(p=s.stateNode,p!=null)){var w=s.memoizedProps,b=l!==null?l.memoizedProps:w,N=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{N==="input"&&w.type==="radio"&&w.name!=null&&it(p,w),Fo(N,b);var X=Fo(N,w);for(b=0;b<F.length;b+=2){var ce=F[b],ue=F[b+1];ce==="style"?Mo(p,ue):ce==="dangerouslySetInnerHTML"?jo(p,ue):ce==="children"?Es(p,ue):z(p,ce,ue,X)}switch(N){case"input":Se(p,w);break;case"textarea":ot(p,w);break;case"select":var le=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var ve=w.value;ve!=null?Xe(p,!!w.multiple,ve,!1):le!==!!w.multiple&&(w.defaultValue!=null?Xe(p,!!w.multiple,w.defaultValue,!0):Xe(p,!!w.multiple,w.multiple?[]:"",!1))}p[Ac]=w}catch(Re){Qt(s,s.return,Re)}}break;case 6:if(us(i,s),js(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,w=s.memoizedProps;try{p.nodeValue=w}catch(Re){Qt(s,s.return,Re)}}break;case 3:if(us(i,s),js(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ss(i.containerInfo)}catch(Re){Qt(s,s.return,Re)}break;case 4:us(i,s),js(s);break;case 13:us(i,s),js(s),p=s.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(ym=kt())),d&4&&h_(s);break;case 22:if(ce=l!==null&&l.memoizedState!==null,s.mode&1?(Un=(X=Un)||ce,us(i,s),Un=X):us(i,s),js(s),d&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ce&&(s.mode&1)!==0)for(xe=s,ce=s.child;ce!==null;){for(ue=xe=ce;xe!==null;){switch(le=xe,ve=le.child,le.tag){case 0:case 11:case 14:case 15:Bc(4,le,le.return);break;case 1:yl(le,le.return);var ke=le.stateNode;if(typeof ke.componentWillUnmount=="function"){d=le,l=le.return;try{i=d,ke.props=i.memoizedProps,ke.state=i.memoizedState,ke.componentWillUnmount()}catch(Re){Qt(d,l,Re)}}break;case 5:yl(le,le.return);break;case 22:if(le.memoizedState!==null){g_(ue);continue}}ve!==null?(ve.return=le,xe=ve):g_(ue)}ce=ce.sibling}e:for(ce=null,ue=s;;){if(ue.tag===5){if(ce===null){ce=ue;try{p=ue.stateNode,X?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(N=ue.stateNode,F=ue.memoizedProps.style,b=F!=null&&F.hasOwnProperty("display")?F.display:null,N.style.display=Lo("display",b))}catch(Re){Qt(s,s.return,Re)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=X?"":ue.memoizedProps}catch(Re){Qt(s,s.return,Re)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===s)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===s)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===s)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:us(i,s),js(s),d&4&&h_(s);break;case 21:break;default:us(i,s),js(s)}}function js(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(c_(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Es(p,""),d.flags&=-33);var w=u_(s);pm(s,w,p);break;case 3:case 4:var b=d.stateNode.containerInfo,N=u_(s);fm(s,N,b);break;default:throw Error(n(161))}}catch(F){Qt(s,s.return,F)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function uI(s,i,l){xe=s,p_(s)}function p_(s,i,l){for(var d=(s.mode&1)!==0;xe!==null;){var p=xe,w=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||$d;if(!b){var N=p.alternate,F=N!==null&&N.memoizedState!==null||Un;N=$d;var X=Un;if($d=b,(Un=F)&&!X)for(xe=p;xe!==null;)b=xe,F=b.child,b.tag===22&&b.memoizedState!==null?y_(p):F!==null?(F.return=b,xe=F):y_(p);for(;w!==null;)xe=w,p_(w),w=w.sibling;xe=p,$d=N,Un=X}m_(s)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,xe=w):m_(s)}}function m_(s){for(;xe!==null;){var i=xe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Un||Ud(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Un)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ls(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&gv(i,w,d);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}gv(i,b,l)}break;case 5:var N=i.stateNode;if(l===null&&i.flags&4){l=N;var F=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var ce=X.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&ss(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Un||i.flags&512&&hm(i)}catch(le){Qt(i,i.return,le)}}if(i===s){xe=null;break}if(l=i.sibling,l!==null){l.return=i.return,xe=l;break}xe=i.return}}function g_(s){for(;xe!==null;){var i=xe;if(i===s){xe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,xe=l;break}xe=i.return}}function y_(s){for(;xe!==null;){var i=xe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ud(4,i)}catch(F){Qt(i,l,F)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(F){Qt(i,p,F)}}var w=i.return;try{hm(i)}catch(F){Qt(i,w,F)}break;case 5:var b=i.return;try{hm(i)}catch(F){Qt(i,b,F)}}}catch(F){Qt(i,i.return,F)}if(i===s){xe=null;break}var N=i.sibling;if(N!==null){N.return=i.return,xe=N;break}xe=i.return}}var dI=Math.ceil,Bd=Y.ReactCurrentDispatcher,mm=Y.ReactCurrentOwner,Wr=Y.ReactCurrentBatchConfig,yt=0,bn=null,on=null,Nn=0,Sr=0,wl=Wi(0),mn=0,zc=null,ra=0,zd=0,gm=0,Hc=null,hr=null,ym=0,vl=1/0,mi=null,Hd=!1,wm=null,Xi=null,qd=!1,Zi=null,Wd=0,qc=0,vm=null,Gd=-1,Kd=0;function Xn(){return(yt&6)!==0?kt():Gd!==-1?Gd:Gd=kt()}function eo(s){return(s.mode&1)===0?1:(yt&2)!==0&&Nn!==0?Nn&-Nn:Kx.transition!==null?(Kd===0&&(Kd=Mn()),Kd):(s=ft,s!==0||(s=window.event,s=s===void 0?16:vc(s.type)),s)}function ds(s,i,l,d){if(50<qc)throw qc=0,vm=null,Error(n(185));Vi(s,l,d),((yt&2)===0||s!==bn)&&(s===bn&&((yt&2)===0&&(zd|=l),mn===4&&to(s,Nn)),fr(s,d),l===1&&yt===0&&(i.mode&1)===0&&(vl=kt()+500,bd&&Ki()))}function fr(s,i){var l=s.callbackNode;br(s,i);var d=hn(s,s===bn?Nn:0);if(d===0)l!==null&&zo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&zo(l),i===1)s.tag===0?Gx(v_.bind(null,s)):sv(v_.bind(null,s)),zx(function(){(yt&6)===0&&Ki()}),l=null;else{switch($i(d)){case 1:l=Er;break;case 4:l=Is;break;case 16:l=or;break;case 536870912:l=$a;break;default:l=or}l=S_(l,w_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function w_(s,i){if(Gd=-1,Kd=0,(yt&6)!==0)throw Error(n(327));var l=s.callbackNode;if(_l()&&s.callbackNode!==l)return null;var d=hn(s,s===bn?Nn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Jd(s,d);else{i=d;var p=yt;yt|=2;var w=E_();(bn!==s||Nn!==i)&&(mi=null,vl=kt()+500,ia(s,i));do try{pI();break}catch(N){__(s,N)}while(!0);Mp(),Bd.current=w,yt=p,on!==null?i=0:(bn=null,Nn=0,i=mn)}if(i!==0){if(i===2&&(p=rn(s),p!==0&&(d=p,i=_m(s,p))),i===1)throw l=zc,ia(s,0),to(s,d),fr(s,kt()),l;if(i===6)to(s,d);else{if(p=s.current.alternate,(d&30)===0&&!hI(p)&&(i=Jd(s,d),i===2&&(w=rn(s),w!==0&&(d=w,i=_m(s,w))),i===1))throw l=zc,ia(s,0),to(s,d),fr(s,kt()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:oa(s,hr,mi);break;case 3:if(to(s,d),(d&130023424)===d&&(i=ym+500-kt(),10<i)){if(hn(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Xn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Ip(oa.bind(null,s,hr,mi),i);break}oa(s,hr,mi);break;case 4:if(to(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var b=31-Jt(d);w=1<<b,b=i[b],b>p&&(p=b),d&=~w}if(d=p,d=kt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*dI(d/1960))-d,10<d){s.timeoutHandle=Ip(oa.bind(null,s,hr,mi),d);break}oa(s,hr,mi);break;case 5:oa(s,hr,mi);break;default:throw Error(n(329))}}}return fr(s,kt()),s.callbackNode===l?w_.bind(null,s):null}function _m(s,i){var l=Hc;return s.current.memoizedState.isDehydrated&&(ia(s,i).flags|=256),s=Jd(s,i),s!==2&&(i=hr,hr=l,i!==null&&Em(i)),s}function Em(s){hr===null?hr=s:hr.push.apply(hr,s)}function hI(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],w=p.getSnapshot;p=p.value;try{if(!os(w(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function to(s,i){for(i&=~gm,i&=~zd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Jt(i),d=1<<l;s[l]=-1,i&=~d}}function v_(s){if((yt&6)!==0)throw Error(n(327));_l();var i=hn(s,0);if((i&1)===0)return fr(s,kt()),null;var l=Jd(s,i);if(s.tag!==0&&l===2){var d=rn(s);d!==0&&(i=d,l=_m(s,d))}if(l===1)throw l=zc,ia(s,0),to(s,i),fr(s,kt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,oa(s,hr,mi),fr(s,kt()),null}function bm(s,i){var l=yt;yt|=1;try{return s(i)}finally{yt=l,yt===0&&(vl=kt()+500,bd&&Ki())}}function sa(s){Zi!==null&&Zi.tag===0&&(yt&6)===0&&_l();var i=yt;yt|=1;var l=Wr.transition,d=ft;try{if(Wr.transition=null,ft=1,s)return s()}finally{ft=d,Wr.transition=l,yt=i,(yt&6)===0&&Ki()}}function Cm(){Sr=wl.current,Lt(wl)}function ia(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,Bx(l)),on!==null)for(l=on.return;l!==null;){var d=l;switch(Np(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&_d();break;case 3:ml(),Lt(cr),Lt(Vn),qp();break;case 5:zp(d);break;case 4:ml();break;case 13:Lt(Ht);break;case 19:Lt(Ht);break;case 10:Vp(d.type._context);break;case 22:case 23:Cm()}l=l.return}if(bn=s,on=s=no(s.current,null),Nn=Sr=i,mn=0,zc=null,gm=zd=ra=0,hr=Hc=null,ea!==null){for(i=0;i<ea.length;i++)if(l=ea[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,w=l.pending;if(w!==null){var b=w.next;w.next=p,d.next=b}l.pending=d}ea=null}return s}function __(s,i){do{var l=on;try{if(Mp(),Nd.current=Ld,Dd){for(var d=qt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Dd=!1}if(na=0,En=pn=qt=null,Mc=!1,Vc=0,mm.current=null,l===null||l.return===null){mn=1,zc=i,on=null;break}e:{var w=s,b=l.return,N=l,F=i;if(i=Nn,N.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,ce=N,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=qv(b);if(ve!==null){ve.flags&=-257,Wv(ve,b,N,w,i),ve.mode&1&&Hv(w,X,i),i=ve,F=X;var ke=i.updateQueue;if(ke===null){var Re=new Set;Re.add(F),i.updateQueue=Re}else ke.add(F);break e}else{if((i&1)===0){Hv(w,X,i),Tm();break e}F=Error(n(426))}}else if(Bt&&N.mode&1){var Xt=qv(b);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),Wv(Xt,b,N,w,i),jp(gl(F,N));break e}}w=F=gl(F,N),mn!==4&&(mn=2),Hc===null?Hc=[w]:Hc.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var G=Bv(w,F,i);mv(w,G);break e;case 1:N=F;var B=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Xi===null||!Xi.has(J)))){w.flags|=65536,i&=-i,w.lanes|=i;var fe=zv(w,N,i);mv(w,fe);break e}}w=w.return}while(w!==null)}C_(l)}catch(Ae){i=Ae,on===l&&l!==null&&(on=l=l.return);continue}break}while(!0)}function E_(){var s=Bd.current;return Bd.current=Ld,s===null?Ld:s}function Tm(){(mn===0||mn===3||mn===2)&&(mn=4),bn===null||(ra&268435455)===0&&(zd&268435455)===0||to(bn,Nn)}function Jd(s,i){var l=yt;yt|=2;var d=E_();(bn!==s||Nn!==i)&&(mi=null,ia(s,i));do try{fI();break}catch(p){__(s,p)}while(!0);if(Mp(),yt=l,Bd.current=d,on!==null)throw Error(n(261));return bn=null,Nn=0,mn}function fI(){for(;on!==null;)b_(on)}function pI(){for(;on!==null&&!Fa();)b_(on)}function b_(s){var i=I_(s.alternate,s,Sr);s.memoizedProps=s.pendingProps,i===null?C_(s):on=i,mm.current=null}function C_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=oI(l,i,Sr),l!==null){on=l;return}}else{if(l=aI(l,i),l!==null){l.flags&=32767,on=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{mn=6,on=null;return}}if(i=i.sibling,i!==null){on=i;return}on=i=s}while(i!==null);mn===0&&(mn=5)}function oa(s,i,l){var d=ft,p=Wr.transition;try{Wr.transition=null,ft=1,mI(s,i,l,d)}finally{Wr.transition=p,ft=d}return null}function mI(s,i,l,d){do _l();while(Zi!==null);if((yt&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=l.lanes|l.childLanes;if(Nt(s,w),s===bn&&(on=bn=null,Nn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||qd||(qd=!0,S_(or,function(){return _l(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=Wr.transition,Wr.transition=null;var b=ft;ft=1;var N=yt;yt|=4,mm.current=null,cI(s,l),f_(l,s),jx(Tp),Bi=!!Cp,Tp=Cp=null,s.current=l,uI(l),gc(),yt=N,ft=b,Wr.transition=w}else s.current=l;if(qd&&(qd=!1,Zi=s,Wd=p),w=s.pendingLanes,w===0&&(Xi=null),Ua(l.stateNode),fr(s,kt()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Hd)throw Hd=!1,s=wm,wm=null,s;return(Wd&1)!==0&&s.tag!==0&&_l(),w=s.pendingLanes,(w&1)!==0?s===vm?qc++:(qc=0,vm=s):qc=0,Ki(),null}function _l(){if(Zi!==null){var s=$i(Wd),i=Wr.transition,l=ft;try{if(Wr.transition=null,ft=16>s?16:s,Zi===null)var d=!1;else{if(s=Zi,Zi=null,Wd=0,(yt&6)!==0)throw Error(n(331));var p=yt;for(yt|=4,xe=s.current;xe!==null;){var w=xe,b=w.child;if((xe.flags&16)!==0){var N=w.deletions;if(N!==null){for(var F=0;F<N.length;F++){var X=N[F];for(xe=X;xe!==null;){var ce=xe;switch(ce.tag){case 0:case 11:case 15:Bc(8,ce,w)}var ue=ce.child;if(ue!==null)ue.return=ce,xe=ue;else for(;xe!==null;){ce=xe;var le=ce.sibling,ve=ce.return;if(l_(ce),ce===X){xe=null;break}if(le!==null){le.return=ve,xe=le;break}xe=ve}}}var ke=w.alternate;if(ke!==null){var Re=ke.child;if(Re!==null){ke.child=null;do{var Xt=Re.sibling;Re.sibling=null,Re=Xt}while(Re!==null)}}xe=w}}if((w.subtreeFlags&2064)!==0&&b!==null)b.return=w,xe=b;else e:for(;xe!==null;){if(w=xe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Bc(9,w,w.return)}var G=w.sibling;if(G!==null){G.return=w.return,xe=G;break e}xe=w.return}}var B=s.current;for(xe=B;xe!==null;){b=xe;var J=b.child;if((b.subtreeFlags&2064)!==0&&J!==null)J.return=b,xe=J;else e:for(b=B;xe!==null;){if(N=xe,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Ud(9,N)}}catch(Ae){Qt(N,N.return,Ae)}if(N===b){xe=null;break e}var fe=N.sibling;if(fe!==null){fe.return=N.return,xe=fe;break e}xe=N.return}}if(yt=p,Ki(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(ri,s)}catch{}d=!0}return d}finally{ft=l,Wr.transition=i}}return!1}function T_(s,i,l){i=gl(l,i),i=Bv(s,i,1),s=Qi(s,i,1),i=Xn(),s!==null&&(Vi(s,1,i),fr(s,i))}function Qt(s,i,l){if(s.tag===3)T_(s,s,l);else for(;i!==null;){if(i.tag===3){T_(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xi===null||!Xi.has(d))){s=gl(l,s),s=zv(i,s,1),i=Qi(i,s,1),s=Xn(),i!==null&&(Vi(i,1,s),fr(i,s));break}}i=i.return}}function gI(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Xn(),s.pingedLanes|=s.suspendedLanes&l,bn===s&&(Nn&l)===l&&(mn===4||mn===3&&(Nn&130023424)===Nn&&500>kt()-ym?ia(s,0):gm|=l),fr(s,i)}function x_(s,i){i===0&&((s.mode&1)===0?i=1:(i=nt,nt<<=1,(nt&130023424)===0&&(nt=4194304)));var l=Xn();s=hi(s,i),s!==null&&(Vi(s,i,l),fr(s,l))}function yI(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),x_(s,l)}function wI(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),x_(s,l)}var I_;I_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||cr.current)dr=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return dr=!1,iI(s,i,l);dr=(s.flags&131072)!==0}else dr=!1,Bt&&(i.flags&1048576)!==0&&iv(i,Td,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Fd(s,i),s=i.pendingProps;var p=ll(i,Vn.current);pl(i,l),p=Kp(null,i,d,s,p,l);var w=Jp();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ur(d)?(w=!0,Ed(i)):w=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Up(i),p.updater=Md,i.stateNode=p,p._reactInternals=i,tm(i,d,s,l),i=im(null,i,d,!0,w,l)):(i.tag=0,Bt&&w&&Ap(i),Yn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Fd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=_I(d),s=ls(d,s),p){case 0:i=sm(null,i,d,s,l);break e;case 1:i=Xv(null,i,d,s,l);break e;case 11:i=Gv(null,i,d,s,l);break e;case 14:i=Kv(null,i,d,ls(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ls(d,p),sm(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ls(d,p),Xv(s,i,d,p,l);case 3:e:{if(Zv(i),s===null)throw Error(n(387));d=i.pendingProps,w=i.memoizedState,p=w.element,pv(s,i),Pd(i,d,null,l);var b=i.memoizedState;if(d=b.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){p=gl(Error(n(423)),i),i=e_(s,i,d,l,p);break e}else if(d!==p){p=gl(Error(n(424)),i),i=e_(s,i,d,l,p);break e}else for(Ir=qi(i.stateNode.containerInfo.firstChild),xr=i,Bt=!0,as=null,l=hv(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(dl(),d===p){i=pi(s,i,l);break e}Yn(s,i,d,l)}i=i.child}return i;case 5:return yv(i),s===null&&Op(i),d=i.type,p=i.pendingProps,w=s!==null?s.memoizedProps:null,b=p.children,xp(d,p)?b=null:w!==null&&xp(d,w)&&(i.flags|=32),Yv(s,i),Yn(s,i,b,l),i.child;case 6:return s===null&&Op(i),null;case 13:return t_(s,i,l);case 4:return Bp(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=hl(i,null,d,l):Yn(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ls(d,p),Gv(s,i,d,p,l);case 7:return Yn(s,i,i.pendingProps,l),i.child;case 8:return Yn(s,i,i.pendingProps.children,l),i.child;case 12:return Yn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,w=i.memoizedProps,b=p.value,Dt(Sd,d._currentValue),d._currentValue=b,w!==null)if(os(w.value,b)){if(w.children===p.children&&!cr.current){i=pi(s,i,l);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var N=w.dependencies;if(N!==null){b=w.child;for(var F=N.firstContext;F!==null;){if(F.context===d){if(w.tag===1){F=fi(-1,l&-l),F.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ce=X.pending;ce===null?F.next=F:(F.next=ce.next,ce.next=F),X.pending=F}}w.lanes|=l,F=w.alternate,F!==null&&(F.lanes|=l),Fp(w.return,l,i),N.lanes|=l;break}F=F.next}}else if(w.tag===10)b=w.type===i.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(n(341));b.lanes|=l,N=b.alternate,N!==null&&(N.lanes|=l),Fp(b,l,i),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===i){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}Yn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,pl(i,l),p=Hr(p),d=d(p),i.flags|=1,Yn(s,i,d,l),i.child;case 14:return d=i.type,p=ls(d,i.pendingProps),p=ls(d.type,p),Kv(s,i,d,p,l);case 15:return Jv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ls(d,p),Fd(s,i),i.tag=1,ur(d)?(s=!0,Ed(i)):s=!1,pl(i,l),$v(i,d,p),tm(i,d,p,l),im(null,i,d,!0,s,l);case 19:return r_(s,i,l);case 22:return Qv(s,i,l)}throw Error(n(156,i.tag))};function S_(s,i){return ni(s,i)}function vI(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(s,i,l,d){return new vI(s,i,l,d)}function xm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _I(s){if(typeof s=="function")return xm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Oe)return 14}return 2}function no(s,i){var l=s.alternate;return l===null?(l=Gr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Qd(s,i,l,d,p,w){var b=2;if(d=s,typeof s=="function")xm(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case I:return aa(l.children,p,w,i);case x:b=8,p|=8;break;case k:return s=Gr(12,l,i,p|2),s.elementType=k,s.lanes=w,s;case P:return s=Gr(13,l,i,p),s.elementType=P,s.lanes=w,s;case Be:return s=Gr(19,l,i,p),s.elementType=Be,s.lanes=w,s;case je:return Yd(l,p,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:b=10;break e;case D:b=9;break e;case $:b=11;break e;case Oe:b=14;break e;case Ye:b=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Gr(b,l,i,p),i.elementType=s,i.type=d,i.lanes=w,i}function aa(s,i,l,d){return s=Gr(7,s,d,i),s.lanes=l,s}function Yd(s,i,l,d){return s=Gr(22,s,d,i),s.elementType=je,s.lanes=l,s.stateNode={isHidden:!1},s}function Im(s,i,l){return s=Gr(6,s,null,i),s.lanes=l,s}function Sm(s,i,l){return i=Gr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function EI(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function km(s,i,l,d,p,w,b,N,F){return s=new EI(s,i,l,N,F),i===1?(i=1,w===!0&&(i|=8)):i=0,w=Gr(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Up(w),s}function bI(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function k_(s){if(!s)return Gi;s=s._reactInternals;e:{if(Kt(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ur(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(ur(l))return nv(s,l,i)}return i}function R_(s,i,l,d,p,w,b,N,F){return s=km(l,d,!0,s,p,w,b,N,F),s.context=k_(null),l=s.current,d=Xn(),p=eo(l),w=fi(d,p),w.callback=i??null,Qi(l,w,p),s.current.lanes=p,Vi(s,p,d),fr(s,d),s}function Xd(s,i,l,d){var p=i.current,w=Xn(),b=eo(p);return l=k_(l),i.context===null?i.context=l:i.pendingContext=l,i=fi(w,b),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Qi(p,i,b),s!==null&&(ds(s,p,b,w),Rd(s,p,b)),b}function Zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function P_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Rm(s,i){P_(s,i),(s=s.alternate)&&P_(s,i)}function CI(){return null}var A_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Pm(s){this._internalRoot=s}eh.prototype.render=Pm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Xd(s,i,null,null)},eh.prototype.unmount=Pm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;sa(function(){Xd(null,s,null,null)}),i[li]=null}};function eh(s){this._internalRoot=s}eh.prototype.unstable_scheduleHydration=function(s){if(s){var i=ed();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ks.length&&i!==0&&i<ks[l].priority;l++);ks.splice(l,0,s),l===0&&rd(s)}};function Am(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function th(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function N_(){}function TI(s,i,l,d,p){if(p){if(typeof d=="function"){var w=d;d=function(){var X=Zd(b);w.call(X)}}var b=R_(i,d,s,0,null,!1,!1,"",N_);return s._reactRootContainer=b,s[li]=b.current,Rc(s.nodeType===8?s.parentNode:s),sa(),b}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var N=d;d=function(){var X=Zd(F);N.call(X)}}var F=km(s,0,!1,null,null,!1,!1,"",N_);return s._reactRootContainer=F,s[li]=F.current,Rc(s.nodeType===8?s.parentNode:s),sa(function(){Xd(i,F,l,d)}),F}function nh(s,i,l,d,p){var w=l._reactRootContainer;if(w){var b=w;if(typeof p=="function"){var N=p;p=function(){var F=Zd(b);N.call(F)}}Xd(i,b,s,p)}else b=TI(l,i,s,p,d);return Zd(b)}Xu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=$t(i.pendingLanes);l!==0&&(Fi(i,l|1),fr(i,kt()),(yt&6)===0&&(vl=kt()+500,Ki()))}break;case 13:sa(function(){var d=hi(s,1);if(d!==null){var p=Xn();ds(d,s,1,p)}}),Rm(s,1)}},Ha=function(s){if(s.tag===13){var i=hi(s,134217728);if(i!==null){var l=Xn();ds(i,s,134217728,l)}Rm(s,134217728)}},Zu=function(s){if(s.tag===13){var i=eo(s),l=hi(s,i);if(l!==null){var d=Xn();ds(l,s,i,d)}Rm(s,i)}},ed=function(){return ft},td=function(s,i){var l=ft;try{return ft=s,i()}finally{ft=l}},Ni=function(s,i,l){switch(i){case"input":if(Se(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=vd(d);if(!p)throw Error(n(90));Te(d),Se(d,p)}}}break;case"textarea":ot(s,l);break;case"select":i=l.value,i!=null&&Xe(s,!!l.multiple,i,!1)}},Ts=bm,Di=sa;var xI={usingClientEntryPoint:!1,Events:[Nc,ol,vd,Mr,$o,bm]},Wc={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},II={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Li(s),s===null?null:s.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||CI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ri=rh.inject(II),Jn=rh}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xI,pr.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(i))throw Error(n(200));return bI(s,i,null,l)},pr.createRoot=function(s,i){if(!Am(s))throw Error(n(299));var l=!1,d="",p=A_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=km(s,1,!1,null,null,l,!1,d,p),s[li]=i.current,Rc(s.nodeType===8?s.parentNode:s),new Pm(i)},pr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Li(i),s=s===null?null:s.stateNode,s},pr.flushSync=function(s){return sa(s)},pr.hydrate=function(s,i,l){if(!th(i))throw Error(n(200));return nh(null,s,i,!0,l)},pr.hydrateRoot=function(s,i,l){if(!Am(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,w="",b=A_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=R_(i,null,s,1,l??null,p,!1,w,b),s[li]=i.current,Rc(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new eh(i)},pr.render=function(s,i,l){if(!th(i))throw Error(n(200));return nh(null,s,i,!1,l)},pr.unmountComponentAtNode=function(s){if(!th(s))throw Error(n(40));return s._reactRootContainer?(sa(function(){nh(null,null,s,!1,function(){s._reactRootContainer=null,s[li]=null})}),!0):!1},pr.unstable_batchedUpdates=bm,pr.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!th(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return nh(s,i,l,!1,d)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var $_;function jI(){if($_)return Om.exports;$_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Om.exports=OI(),Om.exports}var U_;function LI(){if(U_)return sh;U_=1;var t=jI();return sh.createRoot=t.createRoot,sh.hydrateRoot=t.hydrateRoot,sh}var MI=LI();const VI=()=>{};var B_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,h=c?t[o+1]:0,f=o+2<t.length,g=f?t[o+2]:0,v=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|g>>6,A=g&63;f||(A=64,c||(T=64)),r.push(n[v],n[E],n[T],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||g==null||E==null)throw new $I;const T=a<<2|h>>4;if(r.push(T),g!==64){const A=h<<4&240|g>>2;if(r.push(A),E!==64){const M=g<<6&192|E;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(t){const e=hb(t);return fb.encodeByteArray(e,!0)},Lh=function(t){return UI(t).replace(/\./g,"")},pb=function(t){try{return fb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=()=>BI().__FIREBASE_DEFAULTS__,HI=()=>{if(typeof process>"u"||typeof B_>"u")return;const t=B_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pb(t[1]);return e&&JSON.parse(e)},Cf=()=>{try{return VI()||zI()||HI()||qI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mb=t=>Cf()?.emulatorHosts?.[t],gb=t=>{const e=mb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yb=()=>Cf()?.config,wb=t=>Cf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(c)),""].join(".")}const iu={};function GI(){const t={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?t.emulator.push(e):t.prod.push(e);return t}function KI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let z_=!1;function Qg(t,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||iu[t]===e||iu[t]||z_)return;iu[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=GI().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{z_=!0,c()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=KI(r),A=n("text"),M=document.getElementById(A)||document.createElement("span"),U=n("learnmore"),O=document.getElementById(U)||document.createElement("a"),K=n("preprendIcon"),V=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),v(O,U);const Y=g();f(V,K),z.append(V,M,O,Y),document.body.appendChild(z)}a?(M.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function QI(){const t=Cf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tS(){return!QI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sS,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?iS(a,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Js(o,h,r)}}function iS(t,e){return t.replace(oS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const oS=/\{\$([^}]+)}/g;function aS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ci(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],c=e[o];if(H_(a)&&H_(c)){if(!Ci(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function H_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lS(t,e){const n=new cS(t,e);return n.subscribe.bind(n)}class cS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class xo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fS(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(t){return t===ca?void 0:t}function fS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const mS={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},gS=ct.INFO,yS={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},wS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=yS[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=gS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const vS=(t,e)=>e.some(n=>t instanceof n);let q_,W_;function _S(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _b=new WeakMap,lg=new WeakMap,Eb=new WeakMap,Vm=new WeakMap,Xg=new WeakMap;function bS(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(wo(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&_b.set(n,t)}).catch(()=>{}),Xg.set(e,t),e}function CS(t){if(lg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});lg.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Eb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TS(t){cg=t(cg)}function xS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return Eb.set(r,e.sort?e.sort():[e]),wo(r)}:ES().includes(t)?function(...e){return t.apply(Fm(this),e),wo(_b.get(this))}:function(...e){return wo(t.apply(Fm(this),e))}}function IS(t){return typeof t=="function"?xS(t):(t instanceof IDBTransaction&&CS(t),vS(t,_S())?new Proxy(t,cg):t)}function wo(t){if(t instanceof IDBRequest)return bS(t);if(Vm.has(t))return Vm.get(t);const e=IS(t);return e!==t&&(Vm.set(t,e),Xg.set(e,t)),e}const Fm=t=>Xg.get(t);function SS(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),h=wo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(wo(c.result),f.oldVersion,f.newVersion,wo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const kS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],$m=new Map;function G_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=RS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kS.includes(n)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let g=f.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),o&&f.done]))[0]};return $m.set(e,a),a}TS(t=>({...t,get:(e,n,r)=>G_(e,n)||t.get(e,n,r),has:(e,n)=>!!G_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AS(t){return t.getComponent()?.type==="VERSION"}const ug="@firebase/app",K_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Yg("@firebase/app"),NS="@firebase/app-compat",DS="@firebase/analytics-compat",OS="@firebase/analytics",jS="@firebase/app-check-compat",LS="@firebase/app-check",MS="@firebase/auth",VS="@firebase/auth-compat",FS="@firebase/database",$S="@firebase/data-connect",US="@firebase/database-compat",BS="@firebase/functions",zS="@firebase/functions-compat",HS="@firebase/installations",qS="@firebase/installations-compat",WS="@firebase/messaging",GS="@firebase/messaging-compat",KS="@firebase/performance",JS="@firebase/performance-compat",QS="@firebase/remote-config",YS="@firebase/remote-config-compat",XS="@firebase/storage",ZS="@firebase/storage-compat",ek="@firebase/firestore",tk="@firebase/ai",nk="@firebase/firestore-compat",rk="firebase",sk="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",ik={[ug]:"fire-core",[NS]:"fire-core-compat",[OS]:"fire-analytics",[DS]:"fire-analytics-compat",[LS]:"fire-app-check",[jS]:"fire-app-check-compat",[MS]:"fire-auth",[VS]:"fire-auth-compat",[FS]:"fire-rtdb",[$S]:"fire-data-connect",[US]:"fire-rtdb-compat",[BS]:"fire-fn",[zS]:"fire-fn-compat",[HS]:"fire-iid",[qS]:"fire-iid-compat",[WS]:"fire-fcm",[GS]:"fire-fcm-compat",[KS]:"fire-perf",[JS]:"fire-perf-compat",[QS]:"fire-rc",[YS]:"fire-rc-compat",[XS]:"fire-gcs",[ZS]:"fire-gcs-compat",[ek]:"fire-fst",[nk]:"fire-fst-compat",[tk]:"fire-vertex","fire-js":"fire-js",[rk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,ok=new Map,hg=new Map;function J_(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(hg.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of Mh.values())J_(n,t);for(const n of ok.values())J_(n,t);return!0}function Tf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new Su("app","Firebase",ak);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=sk;function bb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw vo.create("bad-app-name",{appName:String(o)});if(n||(n=yb()),!n)throw vo.create("no-options");const a=Mh.get(o);if(a){if(Ci(n,a.options)&&Ci(r,a.config))return a;throw vo.create("duplicate-app",{appName:o})}const c=new pS(o);for(const f of hg.values())c.addComponent(f);const h=new lk(n,r,c);return Mh.set(o,h),h}function Zg(t=dg){const e=Mh.get(t);if(!e&&t===dg&&yb())return bb();if(!e)throw vo.create("no-app",{appName:t});return e}function $s(t,e,n){let r=ik[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(c.join(" "));return}ya(new xo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="firebase-heartbeat-database",uk=1,mu="firebase-heartbeat-store";let Um=null;function Cb(){return Um||(Um=SS(ck,uk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),Um}async function dk(t){try{const n=(await Cb()).transaction(mu),r=await n.objectStore(mu).get(Tb(t));return await n.done,r}catch(e){if(e instanceof Js)Ti.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function Q_(t,e){try{const r=(await Cb()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,Tb(t)),await r.done}catch(n){if(n instanceof Js)Ti.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(r.message)}}}function Tb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=1024,fk=30;class pk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>fk){const o=yk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y_(),{heartbeatsToSend:n,unsentEntries:r}=mk(this._heartbeatsCache.heartbeats),o=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ti.warn(e),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function mk(t,e=hk){const n=[];let r=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),X_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function X_(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}function yk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){ya(new xo("platform-logger",e=>new PS(e),"PRIVATE")),ya(new xo("heartbeat",e=>new pk(e),"PRIVATE")),$s(ug,K_,t),$s(ug,K_,"esm2020"),$s("fire-js","")}wk("");function xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vk=xb,Ib=new Su("auth","Firebase",xb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Yg("@firebase/auth");function _k(t,...e){Vh.logLevel<=ct.WARN&&Vh.warn(`Auth (${Ra}): ${t}`,...e)}function wh(t,...e){Vh.logLevel<=ct.ERROR&&Vh.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw ty(t,...e)}function Kr(t,...e){return ty(t,...e)}function ey(t,e,n){const r={...vk(),[e]:n};return new Su("auth","Firebase",r).create(e,{appName:t.name})}function _i(t){return ey(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jr(t,"argument-error"),ey(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ty(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ib.create(t,...e)}function We(t,e,...n){if(!t)throw ty(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wh(e),new Error(e)}function xi(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){return typeof self<"u"&&self.location?.href||""}function Ek(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ek()||XI()||"connection"in navigator)?navigator.onLine:!0}function Ck(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=JI()||ZI()}get(){return bk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ik=new Ru(3e4,6e4);function Ri(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ws(t,e,n,r,o={}){return Rb(t,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=ku({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:f,...a};return YI()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ka(t.emulatorConfig.host)&&(g.credentials="include"),kb.fetch()(await Pb(t,t.config.apiHost,n,h),g)})}async function Rb(t,e,n){t._canInitEmulator=!1;const r={...Tk,...e};try{const o=new kk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ih(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw ih(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw ih(t,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ey(t,v,g);Jr(t,v)}}catch(o){if(o instanceof Js)throw o;Jr(t,"network-request-failed",{message:String(o)})}}async function Pu(t,e,n,r,o={}){const a=await ws(t,e,n,r,o);return"mfaPendingCredential"in a&&Jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Pb(t,e,n,r){const o=`${e}${n}?${r}`,a=t,c=a.config.emulator?ny(t.config,o):`${t.config.apiScheme}://${o}`;return xk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function Sk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),Ik.get())})}}function ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Kr(t,e,r);return o.customData._tokenResponse=n,o}function e0(t){return t!==void 0&&t.enterprise!==void 0}class Rk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pk(t,e){return ws(t,"GET","/v2/recaptchaConfig",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function Fh(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nk(t,e=!1){const n=At(t),r=await n.getIdToken(e),o=ry(r);We(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:ou(Bm(o.auth_time)),issuedAtTime:ou(Bm(o.iat)),expirationTime:ou(Bm(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Bm(t){return Number(t)*1e3}function ry(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pb(n);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t0(t){const e=ry(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&Dk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Dk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t){const e=t.auth,n=await t.getIdToken(),r=await wa(t,Fh(e,{idToken:n}));We(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?Ab(o.providerUserInfo):[],c=Lk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!c?.length,g=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new pg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function jk(t){const e=At(t);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Ab(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(t,e){const n=await Rb(t,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=await Pb(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ka(t.emulatorConfig.host)&&(f.credentials="include"),kb.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vk(t,e){return ws(t,"POST","/v2/accounts:revokeToken",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=t0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await Mk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,c=new Rl;return r&&(We(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(We(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(We(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hs{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ok(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wa(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nk(this,e)}reload(){return jk(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await wa(this,Ak(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:M,stsTokenManager:U}=n;We(E&&U,e,"internal-error");const O=Rl.fromJSON(this.name,U);We(typeof E=="string",e,"internal-error"),so(r,e.name),so(o,e.name),We(typeof T=="boolean",e,"internal-error"),We(typeof A=="boolean",e,"internal-error"),so(a,e.name),so(c,e.name),so(h,e.name),so(f,e.name),so(g,e.name),so(v,e.name);const K=new hs({uid:E,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:O,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(K.providerData=M.map(V=>({...V}))),f&&(K._redirectEventId=f),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new Rl;o.updateFromServerResponse(n);const a=new hs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await $h(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];We(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Ab(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new Rl;h.updateFromIdToken(r);const f=new hs({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;function wi(t){xi(t instanceof Function,"Expected a class definition");let e=n0.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nb.type="NONE";const r0=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,a),this.fullPersistenceKey=vh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?hs._fromGetAccountInfoResponse(this.auth,n,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(wi(r0),e,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||wi(r0);const c=vh(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const T=await Fh(e,{idToken:v}).catch(()=>{});if(!T)break;E=await hs._fromGetAccountInfoResponse(e,T,v)}else E=hs._fromJSON(e,v);g!==a&&(h=E),a=g;break}}catch{}const f=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Pl(a,e,r):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new Pl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vb(e))return"Blackberry";if(Fb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||jb(e))&&!e.includes("edge/"))return"Chrome";if(Mb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Db(t=Wn()){return/firefox\//i.test(t)}function Ob(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jb(t=Wn()){return/crios\//i.test(t)}function Lb(t=Wn()){return/iemobile/i.test(t)}function Mb(t=Wn()){return/android/i.test(t)}function Vb(t=Wn()){return/blackberry/i.test(t)}function Fb(t=Wn()){return/webos/i.test(t)}function sy(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fk(t=Wn()){return sy(t)&&!!window.navigator?.standalone}function $k(){return eS()&&document.documentMode===10}function $b(t=Wn()){return sy(t)||Mb(t)||Fb(t)||Vb(t)||/windows phone/i.test(t)||Lb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e=[]){let n;switch(t){case"Browser":n=s0(Wn());break;case"Worker":n=`${s0(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e={}){return ws(t,"GET","/v2/passwordPolicy",Ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=6;class Hk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i0(this),this.idTokenSubscription=new i0(this),this.beforeStateQueue=new Uk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),r=await hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(er(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(_i(this));const n=e?At(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bk(this),n=new Hk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_k(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pi(t){return At(t)}class i0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lS(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wk(t){xf=t}function Bb(t){return xf.loadJS(t)}function Gk(){return xf.recaptchaEnterpriseScript}function Kk(){return xf.gapiScript}function Jk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Qk{constructor(){this.enterprise=new Yk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xk="recaptcha-enterprise",zb="NO_RECAPTCHA";class Zk{constructor(e){this.type=Xk,this.auth=Pi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{Pk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new Rk(f);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function o(a,c,h){const f=window.grecaptcha;e0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(g=>{c(g)}).catch(()=>{c(zb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qk().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&e0(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Gk();f.length!==0&&(f+=h),Bb(f).then(()=>{o(h,a,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function o0(t,e,n,r=!1,o=!1){const a=new Zk(t);let c;if(o)c=zb;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Uh(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await o0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await o0(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e){const n=Tf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(Ci(a,e??{}))return o;Jr(o,"already-initialized")}return n.initialize({options:e})}function tR(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nR(t,e,n){const r=Pi(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Hb(e),{host:c,port:h}=rR(e),f=h===null?"":`:${h}`,g={url:`${a}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Ci(g,r.config.emulator)&&Ci(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ka(c)?(Jg(`${a}//${c}${f}`),Qg("Auth",!0)):sR()}function Hb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rR(t){const e=Hb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:a0(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:a0(c)}}}function a0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function iR(t,e){return ws(t,"POST","/v1/accounts:update",e)}async function oR(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e){return Pu(t,"POST","/v1/accounts:signInWithPassword",Ri(t,e))}async function lR(t,e){return ws(t,"POST","/v1/accounts:sendOobCode",Ri(t,e))}async function cR(t,e){return lR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}async function dR(t,e){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends iy{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(e,n,"signInWithPassword",aR);case"emailLink":return uR(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(e,r,"signUpPassword",oR);case"emailLink":return dR(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e){return Pu(t,"POST","/v1/accounts:signInWithIdp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="http://localhost";class va extends iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const c=new va(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:hR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pR(t){const e=Zc(eu(t)).link,n=e?Zc(eu(e)).deep_link_id:null,r=Zc(eu(t)).deep_link_id;return(r?Zc(eu(r)).link:null)||r||n||e||t}class oy{constructor(e){const n=Zc(eu(e)),r=n.apiKey??null,o=n.oobCode??null,a=fR(n.mode??null);We(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pR(e);try{return new oy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=oy.parseLink(n);return We(r,"argument-error"),gu._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends If{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Au{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return va._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Au{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.GITHUB_SIGN_IN_METHOD="github.com";uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Au{constructor(){super("twitter.com")}static credential(e,n){return va._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t,e){return Pu(t,"POST","/v1/accounts:signUp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await hs._fromIdTokenResponse(e,r,o),c=l0(r);return new _a({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=l0(r);return new _a({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function l0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Js{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Bh(e,n,r,o)}}function qb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(t,a,e,r):a})}async function gR(t,e,n=!1){const r=await wa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(_i(r));const o="reauthenticate";try{const a=await wa(t,qb(r,o,e,t),n);We(a.idToken,r,"internal-error");const c=ry(a.idToken);We(c,r,"internal-error");const{sub:h}=c;return We(t.uid===h,r,"user-mismatch"),_a._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(t,e,n=!1){if(er(t.app))return Promise.reject(_i(t));const r="signIn",o=await qb(t,r,e),a=await _a._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function yR(t,e){return Gb(Pi(t),e)}async function wR(t,e){return Wb(At(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(t){const e=Pi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jb(t,e,n){const r=Pi(t);await Uh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",cR)}async function vR(t,e,n){if(er(t.app))return Promise.reject(_i(t));const r=Pi(t),c=await Uh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Kb(t),f}),h=await _a._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function _R(t,e,n){return er(t.app)?Promise.reject(_i(t)):yR(At(t),Pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e){return ws(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await wa(r,ER(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function bR(t,e){return CR(At(t),null,e)}async function CR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const c=await wa(t,iR(r,a));await t._updateTokensIfNecessary(c,!0)}function TR(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function xR(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function IR(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function Nu(t){return At(t).signOut()}async function SR(t){return At(t).delete()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=1e3,RR=10;class Xb extends Yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);$k()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xb.type="LOCAL";const PR=Xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends Yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zb.type="SESSION";const e1=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async g=>g(n.origin,a)),f=await AR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const g=ay("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function DR(t){Us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function OR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){return navigator?.serviceWorker?.controller||null}function LR(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",MR=1,Hh="firebaseLocalStorage",r1="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kf(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function VR(){const t=indexedDB.deleteDatabase(n1);return new Du(t).toPromise()}function mg(){const t=indexedDB.open(n1,MR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hh,{keyPath:r1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await VR(),e(await mg()))})})}async function c0(t,e,n){const r=kf(t,!0).put({[r1]:e,value:n});return new Du(r).toPromise()}async function FR(t,e){const n=kf(t,!1).get(e),r=await new Du(n).toPromise();return r===void 0?null:r.value}function u0(t,e){const n=kf(t,!0).delete(e);return new Du(n).toPromise()}const $R=800,UR=3;class s1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(LR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OR(),!this.activeServiceWorker)return;this.sender=new NR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await c0(e,zh,"1"),await u0(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>c0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>u0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=kf(o,!1).getAll();return new Du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s1.type="LOCAL";const BR=s1;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){return e?wi(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zR(t){return Gb(t.auth,new cy(t),t.bypassAuthState)}function HR(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),Wb(n,new cy(t),t.bypassAuthState)}async function qR(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),gR(n,new cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zR;case"linkViaPopup":case"linkViaRedirect":return qR;case"reauthViaPopup":case"reauthViaRedirect":return HR;default:Jr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Ru(2e3,1e4);async function GR(t,e,n){if(er(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=Pi(t);Sb(t,e,If);const o=ly(r,n);return new fo(r,"signInViaPopup",e,o).executeNotNull()}async function KR(t,e,n){const r=At(t);if(er(r.auth.app))return Promise.reject(Kr(r.auth,"operation-not-supported-in-this-environment"));Sb(r.auth,e,If);const o=ly(r.auth,n);return new fo(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class fo extends i1{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WR.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="pendingRedirect",_h=new Map;class QR extends i1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await YR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YR(t,e){const n=eP(e),r=ZR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function XR(t,e){_h.set(t._key(),e)}function ZR(t){return wi(t._redirectPersistence)}function eP(t){return vh(JR,t.config.apiKey,t.name)}async function tP(t,e,n=!1){if(er(t.app))return Promise.reject(_i(t));const r=Pi(t),o=ly(r,e),c=await new QR(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=600*1e3;class rP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!o1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Kr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nP&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(e))}saveEventToCache(e){this.cachedEventUids.add(d0(e)),this.lastProcessedEventTime=Date.now()}}function d0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function lP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iP(t);for(const n of e)try{if(cP(n))return}catch{}Jr(t,"unauthorized-domain")}function cP(t){const e=fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!aP.test(n))return!1;if(oP.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Ru(3e4,6e4);function h0(){const t=Us().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dP(t){return new Promise((e,n)=>{function r(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(Kr(t,"network-request-failed"))},timeout:uP.get()})}if(Us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Us().gapi?.load)r();else{const o=Jk("iframefcb");return Us()[o]=()=>{gapi.load?r():n(Kr(t,"network-request-failed"))},Bb(`${Kk()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function hP(t){return Eh=Eh||dP(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Ru(5e3,15e3),pP="__/auth/iframe",mP="emulator/auth/iframe",gP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wP(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ny(e,mP):`https://${t.config.authDomain}/${pP}`,r={apiKey:e.apiKey,appName:t.name,v:Ra},o=yP.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ku(r).slice(1)}`}async function vP(t){const e=await hP(t),n=Us().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:wP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=Kr(t,"network-request-failed"),h=Us().setTimeout(()=>{a(c)},fP.get());function f(){Us().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EP=500,bP=600,CP="_blank",TP="http://localhost";class f0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xP(t,e,n,r=EP,o=bP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={..._P,width:r.toString(),height:o.toString(),top:a,left:c},g=Wn().toLowerCase();n&&(h=jb(g)?CP:n),Db(g)&&(e=e||TP,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[A,M])=>`${T}${A}=${M},`,"");if(Fk(g)&&h!=="_self")return IP(e||"",h),new f0(null);const E=window.open(e||"",h,v);We(E,t,"popup-blocked");try{E.focus()}catch{}return new f0(E)}function IP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__/auth/handler",kP="emulator/auth/handler",RP=encodeURIComponent("fac");async function p0(t,e,n,r,o,a){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ra,eventId:o};if(e instanceof If){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",aS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Au){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),g=f?`#${RP}=${encodeURIComponent(f)}`:"";return`${PP(t)}?${ku(h).slice(1)}${g}`}function PP({config:t}){return t.emulator?ny(t,kP):`https://${t.authDomain}/${SP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class AP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=tP,this._overrideRedirectResult=XR}async _openPopup(e,n,r,o){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await p0(e,n,r,fg(),o);return xP(e,a,ay())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await p0(e,n,r,fg(),o);return DR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vP(e),r=new rP(e);return n.register("authEvent",o=>(We(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zm,{type:zm},o=>{const a=o?.[0]?.[zm];a!==void 0&&n(!!a),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $b()||Ob()||sy()}}const NP=AP;var m0="@firebase/auth",g0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jP(t){ya(new xo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;We(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ub(t)},g=new qk(r,o,a,f);return tR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new xo("auth-internal",e=>{const n=Pi(e.getProvider("auth").getImmediate());return(r=>new DP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(m0,g0,OP(t)),$s(m0,g0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=300,MP=wb("authIdTokenMaxAge")||LP;let y0=null;const VP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MP)return;const o=n?.token;y0!==o&&(y0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Zr(t=Zg()){const e=Tf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eR(t,{popupRedirectResolver:NP,persistence:[BR,PR,e1]}),r=wb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=VP(a.toString());xR(n,c,()=>c(n.currentUser)),TR(n,h=>c(h))}}const o=mb("auth");return o&&nR(n,`http://${o}`),n}function FP(){return document.getElementsByTagName("head")?.[0]??document}Wk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Kr("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",FP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jP("Browser");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,a1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function k(){}k.prototype=x.prototype,I.D=x.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(R,D,$){for(var P=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)P[Be-2]=arguments[Be];return x.prototype[D].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,k){k||(k=0);var R=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)R[D]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(D=0;16>D;++D)R[D]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=I.g[0],k=I.g[1],D=I.g[2];var $=I.g[3],P=x+($^k&(D^$))+R[0]+3614090360&4294967295;x=k+(P<<7&4294967295|P>>>25),P=$+(D^x&(k^D))+R[1]+3905402710&4294967295,$=x+(P<<12&4294967295|P>>>20),P=D+(k^$&(x^k))+R[2]+606105819&4294967295,D=$+(P<<17&4294967295|P>>>15),P=k+(x^D&($^x))+R[3]+3250441966&4294967295,k=D+(P<<22&4294967295|P>>>10),P=x+($^k&(D^$))+R[4]+4118548399&4294967295,x=k+(P<<7&4294967295|P>>>25),P=$+(D^x&(k^D))+R[5]+1200080426&4294967295,$=x+(P<<12&4294967295|P>>>20),P=D+(k^$&(x^k))+R[6]+2821735955&4294967295,D=$+(P<<17&4294967295|P>>>15),P=k+(x^D&($^x))+R[7]+4249261313&4294967295,k=D+(P<<22&4294967295|P>>>10),P=x+($^k&(D^$))+R[8]+1770035416&4294967295,x=k+(P<<7&4294967295|P>>>25),P=$+(D^x&(k^D))+R[9]+2336552879&4294967295,$=x+(P<<12&4294967295|P>>>20),P=D+(k^$&(x^k))+R[10]+4294925233&4294967295,D=$+(P<<17&4294967295|P>>>15),P=k+(x^D&($^x))+R[11]+2304563134&4294967295,k=D+(P<<22&4294967295|P>>>10),P=x+($^k&(D^$))+R[12]+1804603682&4294967295,x=k+(P<<7&4294967295|P>>>25),P=$+(D^x&(k^D))+R[13]+4254626195&4294967295,$=x+(P<<12&4294967295|P>>>20),P=D+(k^$&(x^k))+R[14]+2792965006&4294967295,D=$+(P<<17&4294967295|P>>>15),P=k+(x^D&($^x))+R[15]+1236535329&4294967295,k=D+(P<<22&4294967295|P>>>10),P=x+(D^$&(k^D))+R[1]+4129170786&4294967295,x=k+(P<<5&4294967295|P>>>27),P=$+(k^D&(x^k))+R[6]+3225465664&4294967295,$=x+(P<<9&4294967295|P>>>23),P=D+(x^k&($^x))+R[11]+643717713&4294967295,D=$+(P<<14&4294967295|P>>>18),P=k+($^x&(D^$))+R[0]+3921069994&4294967295,k=D+(P<<20&4294967295|P>>>12),P=x+(D^$&(k^D))+R[5]+3593408605&4294967295,x=k+(P<<5&4294967295|P>>>27),P=$+(k^D&(x^k))+R[10]+38016083&4294967295,$=x+(P<<9&4294967295|P>>>23),P=D+(x^k&($^x))+R[15]+3634488961&4294967295,D=$+(P<<14&4294967295|P>>>18),P=k+($^x&(D^$))+R[4]+3889429448&4294967295,k=D+(P<<20&4294967295|P>>>12),P=x+(D^$&(k^D))+R[9]+568446438&4294967295,x=k+(P<<5&4294967295|P>>>27),P=$+(k^D&(x^k))+R[14]+3275163606&4294967295,$=x+(P<<9&4294967295|P>>>23),P=D+(x^k&($^x))+R[3]+4107603335&4294967295,D=$+(P<<14&4294967295|P>>>18),P=k+($^x&(D^$))+R[8]+1163531501&4294967295,k=D+(P<<20&4294967295|P>>>12),P=x+(D^$&(k^D))+R[13]+2850285829&4294967295,x=k+(P<<5&4294967295|P>>>27),P=$+(k^D&(x^k))+R[2]+4243563512&4294967295,$=x+(P<<9&4294967295|P>>>23),P=D+(x^k&($^x))+R[7]+1735328473&4294967295,D=$+(P<<14&4294967295|P>>>18),P=k+($^x&(D^$))+R[12]+2368359562&4294967295,k=D+(P<<20&4294967295|P>>>12),P=x+(k^D^$)+R[5]+4294588738&4294967295,x=k+(P<<4&4294967295|P>>>28),P=$+(x^k^D)+R[8]+2272392833&4294967295,$=x+(P<<11&4294967295|P>>>21),P=D+($^x^k)+R[11]+1839030562&4294967295,D=$+(P<<16&4294967295|P>>>16),P=k+(D^$^x)+R[14]+4259657740&4294967295,k=D+(P<<23&4294967295|P>>>9),P=x+(k^D^$)+R[1]+2763975236&4294967295,x=k+(P<<4&4294967295|P>>>28),P=$+(x^k^D)+R[4]+1272893353&4294967295,$=x+(P<<11&4294967295|P>>>21),P=D+($^x^k)+R[7]+4139469664&4294967295,D=$+(P<<16&4294967295|P>>>16),P=k+(D^$^x)+R[10]+3200236656&4294967295,k=D+(P<<23&4294967295|P>>>9),P=x+(k^D^$)+R[13]+681279174&4294967295,x=k+(P<<4&4294967295|P>>>28),P=$+(x^k^D)+R[0]+3936430074&4294967295,$=x+(P<<11&4294967295|P>>>21),P=D+($^x^k)+R[3]+3572445317&4294967295,D=$+(P<<16&4294967295|P>>>16),P=k+(D^$^x)+R[6]+76029189&4294967295,k=D+(P<<23&4294967295|P>>>9),P=x+(k^D^$)+R[9]+3654602809&4294967295,x=k+(P<<4&4294967295|P>>>28),P=$+(x^k^D)+R[12]+3873151461&4294967295,$=x+(P<<11&4294967295|P>>>21),P=D+($^x^k)+R[15]+530742520&4294967295,D=$+(P<<16&4294967295|P>>>16),P=k+(D^$^x)+R[2]+3299628645&4294967295,k=D+(P<<23&4294967295|P>>>9),P=x+(D^(k|~$))+R[0]+4096336452&4294967295,x=k+(P<<6&4294967295|P>>>26),P=$+(k^(x|~D))+R[7]+1126891415&4294967295,$=x+(P<<10&4294967295|P>>>22),P=D+(x^($|~k))+R[14]+2878612391&4294967295,D=$+(P<<15&4294967295|P>>>17),P=k+($^(D|~x))+R[5]+4237533241&4294967295,k=D+(P<<21&4294967295|P>>>11),P=x+(D^(k|~$))+R[12]+1700485571&4294967295,x=k+(P<<6&4294967295|P>>>26),P=$+(k^(x|~D))+R[3]+2399980690&4294967295,$=x+(P<<10&4294967295|P>>>22),P=D+(x^($|~k))+R[10]+4293915773&4294967295,D=$+(P<<15&4294967295|P>>>17),P=k+($^(D|~x))+R[1]+2240044497&4294967295,k=D+(P<<21&4294967295|P>>>11),P=x+(D^(k|~$))+R[8]+1873313359&4294967295,x=k+(P<<6&4294967295|P>>>26),P=$+(k^(x|~D))+R[15]+4264355552&4294967295,$=x+(P<<10&4294967295|P>>>22),P=D+(x^($|~k))+R[6]+2734768916&4294967295,D=$+(P<<15&4294967295|P>>>17),P=k+($^(D|~x))+R[13]+1309151649&4294967295,k=D+(P<<21&4294967295|P>>>11),P=x+(D^(k|~$))+R[4]+4149444226&4294967295,x=k+(P<<6&4294967295|P>>>26),P=$+(k^(x|~D))+R[11]+3174756917&4294967295,$=x+(P<<10&4294967295|P>>>22),P=D+(x^($|~k))+R[2]+718787259&4294967295,D=$+(P<<15&4294967295|P>>>17),P=k+($^(D|~x))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+$&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var k=x-this.blockSize,R=this.B,D=this.h,$=0;$<x;){if(D==0)for(;$<=k;)o(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<x;)if(R[D++]=I.charCodeAt($++),D==this.blockSize){o(this,R),D=0;break}}else for(;$<x;)if(R[D++]=I[$++],D==this.blockSize){o(this,R),D=0;break}}this.h=D,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var k=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=k&255,k/=256;for(this.u(I),I=Array(16),x=k=0;4>x;++x)for(var R=0;32>R;R+=8)I[k++]=this.g[x]>>>R&255;return I};function a(I,x){var k=h;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=x(I)}function c(I,x){this.h=x;for(var k=[],R=!0,D=I.length-1;0<=D;D--){var $=I[D]|0;R&&$==x||(k[D]=$,R=!1)}this.g=k}var h={};function f(I){return-128<=I&&128>I?a(I,function(x){return new c([x|0],0>x?-1:0)}):new c([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(0>I)return O(g(-I));for(var x=[],k=1,R=0;I>=k;R++)x[R]=I/k|0,k*=4294967296;return new c(x,0)}function v(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return O(v(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=g(Math.pow(x,8)),R=E,D=0;D<I.length;D+=8){var $=Math.min(8,I.length-D),P=parseInt(I.substring(D,D+$),x);8>$?($=g(Math.pow(x,$)),R=R.j($).add(g(P))):(R=R.j(k),R=R.add(g(P)))}return R}var E=f(0),T=f(1),A=f(16777216);t=c.prototype,t.m=function(){if(U(this))return-O(this).m();for(var I=0,x=1,k=0;k<this.g.length;k++){var R=this.i(k);I+=(0<=R?R:4294967296+R)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(U(this))return"-"+O(this).toString(I);for(var x=g(Math.pow(I,6)),k=this,R="";;){var D=Y(k,x).g;k=K(k,D.j(x));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=D,M(k))return $+R;for(;6>$.length;)$="0"+$;R=$+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function U(I){return I.h==-1}t.l=function(I){return I=K(this,I),U(I)?-1:M(I)?0:1};function O(I){for(var x=I.g.length,k=[],R=0;R<x;R++)k[R]=~I.g[R];return new c(k,~I.h).add(T)}t.abs=function(){return U(this)?O(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),k=[],R=0,D=0;D<=x;D++){var $=R+(this.i(D)&65535)+(I.i(D)&65535),P=($>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);R=P>>>16,$&=65535,P&=65535,k[D]=P<<16|$}return new c(k,k[k.length-1]&-2147483648?-1:0)};function K(I,x){return I.add(O(x))}t.j=function(I){if(M(this)||M(I))return E;if(U(this))return U(I)?O(this).j(O(I)):O(O(this).j(I));if(U(I))return O(this.j(O(I)));if(0>this.l(A)&&0>I.l(A))return g(this.m()*I.m());for(var x=this.g.length+I.g.length,k=[],R=0;R<2*x;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<I.g.length;D++){var $=this.i(R)>>>16,P=this.i(R)&65535,Be=I.i(D)>>>16,Oe=I.i(D)&65535;k[2*R+2*D]+=P*Oe,V(k,2*R+2*D),k[2*R+2*D+1]+=$*Oe,V(k,2*R+2*D+1),k[2*R+2*D+1]+=P*Be,V(k,2*R+2*D+1),k[2*R+2*D+2]+=$*Be,V(k,2*R+2*D+2)}for(R=0;R<x;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=x;R<2*x;R++)k[R]=0;return new c(k,0)};function V(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function z(I,x){this.g=I,this.h=x}function Y(I,x){if(M(x))throw Error("division by zero");if(M(I))return new z(E,E);if(U(I))return x=Y(O(I),x),new z(O(x.g),O(x.h));if(U(x))return x=Y(I,O(x)),new z(O(x.g),x.h);if(30<I.g.length){if(U(I)||U(x))throw Error("slowDivide_ only works with positive integers.");for(var k=T,R=x;0>=R.l(I);)k=ie(k),R=ie(R);var D=Q(k,1),$=Q(R,1);for(R=Q(R,2),k=Q(k,2);!M(R);){var P=$.add(R);0>=P.l(I)&&(D=D.add(k),$=P),R=Q(R,1),k=Q(k,1)}return x=K(I,D.j(x)),new z(D,x)}for(D=E;0<=I.l(x);){for(k=Math.max(1,Math.floor(I.m()/x.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),$=g(k),P=$.j(x);U(P)||0<P.l(I);)k-=R,$=g(k),P=$.j(x);M($)&&($=T),D=D.add($),I=K(I,P)}return new z(D,I)}t.A=function(I){return Y(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),k=[],R=0;R<x;R++)k[R]=this.i(R)&I.i(R);return new c(k,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),k=[],R=0;R<x;R++)k[R]=this.i(R)|I.i(R);return new c(k,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),k=[],R=0;R<x;R++)k[R]=this.i(R)^I.i(R);return new c(k,this.h^I.h)};function ie(I){for(var x=I.g.length+1,k=[],R=0;R<x;R++)k[R]=I.i(R)<<1|I.i(R-1)>>>31;return new c(k,I.h)}function Q(I,x){var k=x>>5;x%=32;for(var R=I.g.length-k,D=[],$=0;$<R;$++)D[$]=0<x?I.i($+k)>>>x|I.i($+k+1)<<32-x:I.i($+k);return new c(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,_o=c}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,tu,c1,bh,gg,u1,d1,h1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,_){return u==Array.prototype||u==Object.prototype||(u[y]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,y){if(y)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in _))break e;_=_[q]}u=u[u.length-1],S=_[u],y=y(S),y!=S&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}function a(u,y){u instanceof String&&(u+="");var _=0,S=!1,q={next:function(){if(!S&&_<u.length){var Z=_++;return{value:y(Z,u[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return a(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function g(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function v(u,y,_){return u.call.apply(u.bind,arguments)}function E(u,y,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),u.apply(y,q)}}return function(){return u.apply(y,arguments)}}function T(u,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function A(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function M(u,y){function _(){}_.prototype=y.prototype,u.aa=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,q,Z){for(var me=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)me[Tt-2]=arguments[Tt];return y.prototype[q].apply(S,me)}}function U(u){const y=u.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=u[S];return _}return[]}function O(u,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const q=u.length||0,Z=S.length||0;u.length=q+Z;for(let me=0;me<Z;me++)u[q+me]=S[me]}else u.push(S)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var ie=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Q(u,y,_){for(const S in u)y.call(_,u[S],S,u)}function I(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function x(u){const y={};for(const _ in u)y[_]=u[_];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,y){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)u[_]=S[_];for(let Z=0;Z<k.length;Z++)_=k[Z],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function D(u){var y=1;u=u.split(":");const _=[];for(;0<y&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function $(u){h.setTimeout(()=>{throw u},0)}function P(){var u=se;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,_){const S=Oe.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Oe=new K(()=>new Ye,u=>u.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ee=!1,se=new Be,ne=()=>{const u=h.Promise.resolve(void 0);je=()=>{u.then(L)}};var L=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){$(_)}var y=Oe;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}ee=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var de=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return u})();function _e(u,y){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(ie){e:{try{Y(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ie[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}M(_e,ae);var Ie={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function H(u,y,_,S,q){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=q,this.key=++Ge,this.da=this.fa=!1}function Ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,y,_,S,q){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var me=ye(u,y,S,q);return-1<me?(y=u[me],_||(y.fa=!1)):(y=new H(y,this.src,Z,!!S,q),y.fa=_,u.push(y)),y};function Te(u,y){var _=y.type;if(_ in u.g){var S=u.g[_],q=Array.prototype.indexOf.call(S,y,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(S,q,1),Z&&(Ee(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ye(u,y,_,S){for(var q=0;q<u.length;++q){var Z=u[q];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==S)return q}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Ve={};function it(u,y,_,S,q){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)it(u,y[Z],_,S,q);return null}return _=at(_),u&&u[Ke]?u.K(y,_,g(S)?!!S.capture:!1,q):Se(u,y,_,!1,S,q)}function Se(u,y,_,S,q,Z){if(!y)throw Error("Invalid event type");var me=g(q)?!!q.capture:!!q,Tt=et(u);if(Tt||(u[be]=Tt=new ge(u)),_=Tt.add(y,_,S,me,Z),_.proxy)return _;if(S=pe(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)de||(q=me),q===void 0&&(q=!1),u.addEventListener(y.toString(),S,q);else if(u.attachEvent)u.attachEvent(Xe(y.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function pe(){function u(_){return y.call(u.src,u.listener,_)}const y=It;return u}function ht(u,y,_,S,q){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)ht(u,y[Z],_,S,q);else S=g(S)?!!S.capture:!!S,_=at(_),u&&u[Ke]?(u=u.i,y=String(y).toString(),y in u.g&&(Z=u.g[y],_=ye(Z,_,S,q),-1<_&&(Ee(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete u.g[y],u.h--)))):u&&(u=et(u))&&(y=u.g[y.toString()],u=-1,y&&(u=ye(y,_,S,q)),(_=-1<u?y[u]:null)&&ze(_))}function ze(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Ke])Te(y.i,u);else{var _=u.type,S=u.proxy;y.removeEventListener?y.removeEventListener(_,S,u.capture):y.detachEvent?y.detachEvent(Xe(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=et(y))?(Te(_,u),_.h==0&&(_.src=null,y[be]=null)):Ee(u)}}}function Xe(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function It(u,y){if(u.da)u=!0;else{y=new _e(y,this);var _=u.listener,S=u.ha||u.src;u.fa&&ze(u),u=_.call(S,y)}return u}function et(u){return u=u[be],u instanceof ge?u:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(u){return typeof u=="function"?u:(u[ot]||(u[ot]=function(y){return u.handleEvent(y)}),u[ot])}function lt(){W.call(this),this.i=new ge(this),this.M=this,this.F=null}M(lt,W),lt.prototype[Ke]=!0,lt.prototype.removeEventListener=function(u,y,_,S){ht(this,u,y,_,S)};function St(u,y){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=y.type||y,typeof y=="string")y=new ae(y,u);else if(y instanceof ae)y.target=y.target||u;else{var q=y;y=new ae(S,u),R(y,q)}if(q=!0,_)for(var Z=_.length-1;0<=Z;Z--){var me=y.g=_[Z];q=wr(me,S,!0,y)&&q}if(me=y.g=u,q=wr(me,S,!0,y)&&q,q=wr(me,S,!1,y)&&q,_)for(Z=0;Z<_.length;Z++)me=y.g=_[Z],q=wr(me,S,!1,y)&&q}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var _=u.g[y],S=0;S<_.length;S++)Ee(_[S]);delete u.g[y],u.h--}}this.F=null},lt.prototype.K=function(u,y,_,S){return this.i.add(String(u),y,!1,_,S)},lt.prototype.L=function(u,y,_,S){return this.i.add(String(u),y,!0,_,S)};function wr(u,y,_,S){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Z=0;Z<y.length;++Z){var me=y[Z];if(me&&!me.da&&me.capture==_){var Tt=me.listener,fn=me.ha||me.src;me.fa&&Te(u.i,me),q=Tt.call(fn,S)!==!1&&q}}return q&&!S.defaultPrevented}function jo(u,y,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(u,y||0)}function Es(u){u.g=jo(()=>{u.g=null,u.i&&(u.i=!1,Es(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class bs extends W{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Es(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(u){W.call(this),this.h=u,this.g={}}M(Cs,W);var Lo=[];function Mo(u){Q(u.g,function(y,_){this.g.hasOwnProperty(_)&&ze(y)},u),u.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Mo(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=h.JSON.stringify,Vo=h.JSON.parse,Fo=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Ys(){}Ys.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function Ni(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){ae.call(this,"d")}M(vr,ae);function Lr(){ae.call(this,"c")}M(Lr,ae);var Mr={},$o=null;function Ts(){return $o=$o||new lt}Mr.La="serverreachability";function Di(u){ae.call(this,Mr.La,u)}M(Di,ae);function Vr(u){const y=Ts();St(y,new Di(y))}Mr.STAT_EVENT="statevent";function Oi(u,y){ae.call(this,Mr.STAT_EVENT,u),this.stat=y}M(Oi,ae);function Ft(u){const y=Ts();St(y,new Oi(y,u))}Mr.Ma="timingevent";function Zs(u,y){ae.call(this,Mr.Ma,u),this.size=y}M(Zs,ae);function sr(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},y)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function ei(u,y,_,S,q,Z){u.info(function(){if(u.g)if(Z)for(var me="",Tt=Z.split("&"),fn=0;fn<Tt.length;fn++){var pt=Tt[fn].split("=");if(1<pt.length){var _n=pt[0];pt=pt[1];var sn=_n.split("_");me=2<=sn.length&&sn[1]=="type"?me+(_n+"="+pt+"&"):me+(_n+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+_+`
`+me})}function ji(u,y,_,S,q,Z,me){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+_+`
`+Z+" "+me})}function nn(u,y,_,S){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Uo(u,_)+(S?" "+S:"")})}function kn(u,y){u.info(function(){return"TIMEOUT: "+y})}xs.prototype.info=function(){};function Uo(u,y){if(!u.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<q.length;me++)q[me]=""}}}}return Ai(_)}catch{return y}}var ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kt;function ir(){}M(ir,Ys),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},Kt=new ir;function _r(u,y,_,S){this.j=u,this.i=y,this.l=_,this.R=S||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fr}function Fr(){this.i=null,this.g="",this.h=!1}var Li={},es={};function ni(u,y,_){u.L=1,u.v=Fi(rn(y)),u.m=_,u.P=!0,zo(u,null)}function zo(u,y){u.F=Date.now(),kt(u),u.A=rn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Ui(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Fr,u.g=cd(u.j,_?y:null,!u.m),0<u.O&&(u.M=new bs(T(u.Y,u,u.g),u.O)),y=u.U,_=u.g,S=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Lo[0]=q.toString()),q=Lo);for(var Z=0;Z<q.length;Z++){var me=it(_,q[Z],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),Vr(),ei(u.i,u.u,u.A,u.l,u.R,u.m)}_r.prototype.ca=function(u){u=u.target;const y=this.M;y&&lr(u)==3?y.j():this.Y(u)},_r.prototype.Y=function(u){try{if(u==this.g)e:{const sn=lr(this.g);var y=this.g.Ba();const Ur=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||sn!=4||y==7||(y==8||0>=Ur?Vr(3):Vr(2)),Er(this);var _=this.g.Z();this.X=_;t:if(Fa(this)){var S=_c(this.g);u="";var q=S.length,Z=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){or(this),Is(this);var me="";break t}this.h.i=new h.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,u+=this.h.i.decode(S[y],{stream:!(Z&&y==q-1)});S.length=0,this.h.g+=u,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,ji(this.i,this.u,this.A,this.l,this.R,sn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,fn=this.g;if((Tt=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Tt)){var pt=Tt;break t}}pt=null}if(_=pt)nn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ho(this,_);else{this.o=!1,this.s=3,Ft(12),or(this),Is(this);break e}}if(this.P){_=!0;let Tr;for(;!this.J&&this.C<me.length;)if(Tr=gc(this,me),Tr==es){sn==4&&(this.s=4,Ft(14),_=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==Li){this.s=4,Ft(15),nn(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else nn(this.i,this.l,Tr,null),Ho(this,Tr);if(Fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||me.length!=0||this.h.h||(this.s=1,Ft(16),_=!1),this.o=this.o&&_,!_)nn(this.i,this.l,me,"[Invalid Chunked Response]"),or(this),Is(this);else if(0<me.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),bc(_n),_n.M=!0,Ft(11))}}else nn(this.i,this.l,me,null),Ho(this,me);sn==4&&or(this),this.o&&!this.J&&(sn==4?Xa(this.j,this):(this.o=!1,kt(this)))}else Ga(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),or(this),Is(this)}}}catch{}finally{}};function Fa(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gc(u,y){var _=u.C,S=y.indexOf(`
`,_);return S==-1?es:(_=Number(y.substring(_,S)),isNaN(_)?Li:(S+=1,S+_>y.length?es:(y=y.slice(S,S+_),u.C=S+_,y)))}_r.prototype.cancel=function(){this.J=!0,or(this)};function kt(u){u.S=Date.now()+u.I,Yt(u,u.I)}function Yt(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=sr(T(u.ba,u),y)}function Er(u){u.B&&(h.clearTimeout(u.B),u.B=null)}_r.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(kn(this.i,this.A),this.L!=2&&(Vr(),Ft(17)),or(this),this.s=2,Is(this)):Yt(this,this.S-u)};function Is(u){u.j.G==0||u.J||Xa(u.j,u)}function or(u){Er(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Mo(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Ho(u,y){try{var _=u.j;if(_.G!=0&&(_.g==u||Jt(_.h,u))){if(!u.K&&Jt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ya(_),is(_);else break e;Qa(_),Ft(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=sr(T(_.Za,_),6e3));if(1>=Ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ai(_,11)}else if((u.K||_.g==u)&&Ya(_),!V(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let pt=q[y];if(_.T=pt[0],pt=pt[1],_.G==2)if(pt[0]=="c"){_.K=pt[1],_.ia=pt[2];const _n=pt[3];_n!=null&&(_.la=_n,_.j.info("VER="+_.la));const sn=pt[4];sn!=null&&(_.Aa=sn,_.j.info("SVER="+_.Aa));const Ur=pt[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(S=1.5*Ur,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Tr=u.g;if(Tr){const Jo=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jo){var Z=S.h;Z.g||Jo.indexOf("spdy")==-1&&Jo.indexOf("quic")==-1&&Jo.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qo(Z,Z.h),Z.h=null))}if(S.D){const el=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(S.ya=el,Nt(S.I,S.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var me=u;if(S.qa=ld(S,S.J?S.ia:null,S.W),me.K){Ba(S.h,me);var Tt=me,fn=S.L;fn&&(Tt.I=fn),Tt.B&&(Er(Tt),kt(Tt)),S.g=me}else Ko(S);0<_.i.length&&Ps(_)}else pt[0]!="stop"&&pt[0]!="close"||ai(_,7);else _.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?ai(_,7):Pn(_):pt[0]!="noop"&&_.l&&_.l.ta(pt),_.v=0)}}Vr(4)}catch{}}var $a=class{constructor(u,y){this.g=u,this.map=y}};function ri(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ua(u){return u.h?1:u.g?u.g.size:0}function Jt(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function qo(u,y){u.g?u.g.add(y):u.h=y}function Ba(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}ri.prototype.cancel=function(){if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function za(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.D);return y}return U(u.i)}function Le(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var y=[],_=u.length,S=0;S<_;S++)y.push(u[S]);return y}y=[],_=0;for(S in u)y[_++]=u[S];return y}function nt(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var y=[];u=u.length;for(var _=0;_<u;_++)y.push(_);return y}y=[],_=0;for(const S in u)y[_++]=S;return y}}}function $t(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var _=nt(u),S=Le(u),q=S.length,Z=0;Z<q;Z++)y.call(void 0,S[Z],_&&_[Z],u)}var hn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function He(u,y){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),q=null;if(0<=S){var Z=u[_].substring(0,S);q=u[_].substring(S+1)}else Z=u[_];y(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function br(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof br){this.h=u.h,Mn(this,u.j),this.o=u.o,this.g=u.g,Mi(this,u.s),this.l=u.l;var y=u.i,_=new Ss;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Vi(this,_),this.m=u.m}else u&&(y=String(u).match(hn))?(this.h=!1,Mn(this,y[1]||"",!0),this.o=ft(y[2]||""),this.g=ft(y[3]||"",!0),Mi(this,y[4]),this.l=ft(y[5]||"",!0),Vi(this,y[6]||"",!0),this.m=ft(y[7]||"")):(this.h=!1,this.i=new Ss(null,this.h))}br.prototype.toString=function(){var u=[],y=this.j;y&&u.push($i(y,Ha,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push($i(y,Ha,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push($i(_,_.charAt(0)=="/"?ed:Zu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",$i(_,yc)),u.join("")};function rn(u){return new br(u)}function Mn(u,y,_){u.j=_?ft(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Mi(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function Vi(u,y,_){y instanceof Ss?(u.i=y,ks(u.i,u.h)):(_||(y=$i(y,td)),u.i=new Ss(y,u.h))}function Nt(u,y,_){u.i.set(y,_)}function Fi(u){return Nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ft(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $i(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,Xu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ha=/[#\/\?@]/g,Zu=/[#\?:]/g,ed=/[#\?]/g,td=/[#\?@]/g,yc=/#/g;function Ss(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&He(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=Ss.prototype,t.add=function(u,y){Rn(this),this.i=null,u=$r(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function ts(u,y){Rn(u),y=$r(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function ns(u,y){return Rn(u),y=$r(u,y),u.g.has(y)}t.forEach=function(u,y){Rn(this),this.g.forEach(function(_,S){_.forEach(function(q){u.call(y,q,S,this)},this)},this)},t.na=function(){Rn(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const q=u[S];for(let Z=0;Z<q.length;Z++)_.push(y[S])}return _},t.V=function(u){Rn(this);let y=[];if(typeof u=="string")ns(this,u)&&(y=y.concat(this.g.get($r(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)y=y.concat(u[_])}return y},t.set=function(u,y){return Rn(this),this.i=null,u=$r(this,u),ns(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},t.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function Ui(u,y,_){ts(u,y),0<_.length&&(u.i=null,u.g.set($r(u,y),U(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Z=encodeURIComponent(String(S)),me=this.V(S);for(S=0;S<me.length;S++){var q=Z;me[S]!==""&&(q+="="+encodeURIComponent(String(me[S]))),u.push(q)}}return this.i=u.join("&")};function $r(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ks(u,y){y&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(ts(this,S),Ui(this,q,_))},u)),u.j=y}function cp(u,y){const _=new xs;if(h.Image){const S=new Image;S.onload=A(ar,_,"TestLoadImage: loaded",!0,y,S),S.onerror=A(ar,_,"TestLoadImage: error",!1,y,S),S.onabort=A(ar,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=A(ar,_,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else y(!1)}function nd(u,y){const _=new xs,S=new AbortController,q=setTimeout(()=>{S.abort(),ar(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:S.signal}).then(Z=>{clearTimeout(q),Z.ok?ar(_,"TestPingServer: ok",!0,y):ar(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),ar(_,"TestPingServer: error",!1,y)})}function ar(u,y,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function up(){this.g=new Fo}function rd(u,y,_){const S=_||"";try{$t(u,function(q,Z){let me=q;g(q)&&(me=Ai(q)),y.push(S+Z+"="+encodeURIComponent(me))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function si(u){this.l=u.Ub||null,this.j=u.eb||!1}M(si,Ys),si.prototype.g=function(){return new Wo(this.l,this.j)},si.prototype.i=(function(u){return function(){return u}})({});function Wo(u,y){lt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Wo,lt),t=Wo.prototype,t.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,ss(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sd(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function sd(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?rs(this):ss(this),this.readyState==3&&sd(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,rs(this))},t.Qa=function(u){this.g&&(this.response=u,rs(this))},t.ga=function(){this.g&&rs(this)};function rs(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ss(u)}t.setRequestHeader=function(u,y){this.u.append(u,y)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function ss(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ii(u){let y="";return Q(u,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Bi(u,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=ii(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Nt(u,y,_))}function Ut(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ut,lt);var dp=/^https?$/i,wc=["POST","PUT"];t=Ut.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kt.g(),this.v=this.o?Xs(this.o):Xs(Kt),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(Z){Go(this,Z);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())_.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wc,y,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of _)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){Go(this,Z)}};function Go(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,qa(u),Cr(u)}function qa(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),Cr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vc(this):this.bb())},t.bb=function(){vc(this)};function vc(u){if(u.h&&typeof c<"u"&&(!u.v[1]||lr(u)!=4||u.Z()!=2)){if(u.u&&lr(u)==4)jo(u.Ea,0,u);else if(St(u,"readystatechange"),lr(u)==4){u.h=!1;try{const me=u.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=me===0){var q=String(u.D).match(hn)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),S=!dp.test(q?q.toLowerCase():"")}_=S}if(_)St(u,"complete"),St(u,"success");else{u.m=6;try{var Z=2<lr(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",qa(u)}}finally{Cr(u)}}}}function Cr(u,y){if(u.g){Wa(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||St(u,"ready");try{_.onreadystatechange=S}catch{}}}function Wa(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function lr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Vo(y)}};function _c(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(u){const y={};u=(u.g&&2<=lr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(V(u[S]))continue;var _=D(u[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[q]||[];y[q]=Z,Z.push(_)}I(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Ec(u){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,u),this.cb=Rs("retryDelaySeedMs",1e4,u),this.Wa=Rs("forwardChannelMaxRetries",2,u),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new up,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ec.prototype,t.la=8,t.G=1,t.connect=function(u,y,_,S){Ft(0),this.W=u,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ld(this,null,this.W),Ps(this)};function Pn(u){if(Ka(u),u.G==3){var y=u.U++,_=rn(u.I);if(Nt(_,"SID",u.K),Nt(_,"RID",y),Nt(_,"TYPE","terminate"),oi(u,_),y=new _r(u,u.j,y),y.L=2,y.v=Fi(rn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.v,_=!0),_||(y.g=cd(y.j,null),y.g.ea(y.v)),y.F=Date.now(),kt(y)}ad(u)}function is(u){u.g&&(bc(u),u.g.cancel(),u.g=null)}function Ka(u){is(u),u.u&&(h.clearTimeout(u.u),u.u=null),Ya(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Ps(u){if(!Jn(u.h)&&!u.s){u.s=!0;var y=u.Ga;je||ne(),ee||(je(),ee=!0),se.add(y,u),u.B=0}}function hp(u,y){return Ua(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=sr(T(u.Ga,u,y),od(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new _r(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=x(Z),R(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=zi(this,q,y),_=rn(this.I),Nt(_,"RID",u),Nt(_,"CVER",22),this.D&&Nt(_,"X-HTTP-Session-Id",this.D),oi(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(ii(Z)))+"&"+y:this.m&&Bi(_,this.m,Z)),qo(this.h,q),this.Ua&&Nt(_,"TYPE","init"),this.P?(Nt(_,"$req",y),Nt(_,"SID","null"),q.T=!0,ni(q,_,null)):ni(q,_,y),this.G=2}}else this.G==3&&(u?Ja(this,u):this.i.length==0||Jn(this.h)||Ja(this))};function Ja(u,y){var _;y?_=y.l:_=u.U++;const S=rn(u.I);Nt(S,"SID",u.K),Nt(S,"RID",_),Nt(S,"AID",u.T),oi(u,S),u.m&&u.o&&Bi(S,u.m,u.o),_=new _r(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),y&&(u.i=y.D.concat(u.i)),y=zi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qo(u.h,_),ni(_,S,y)}function oi(u,y){u.H&&Q(u.H,function(_,S){Nt(y,S,_)}),u.l&&$t({},function(_,S){Nt(y,S,_)})}function zi(u,y,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var q=u.i;let Z=-1;for(;;){const me=["count="+_];Z==-1?0<_?(Z=q[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let Tt=!0;for(let fn=0;fn<_;fn++){let pt=q[fn].g;const _n=q[fn].map;if(pt-=Z,0>pt)Z=Math.max(0,q[fn].g-100),Tt=!1;else try{rd(_n,me,"req"+pt+"_")}catch{S&&S(_n)}}if(Tt){S=me.join("&");break e}}}return u=u.i.splice(0,_),y.D=u,S}function Ko(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;je||ne(),ee||(je(),ee=!0),se.add(y,u),u.v=0}}function Qa(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=sr(T(u.Fa,u),od(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,id(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=sr(T(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),is(this),id(this))};function bc(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function id(u){u.g=new _r(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=rn(u.qa);Nt(y,"RID","rpc"),Nt(y,"SID",u.K),Nt(y,"AID",u.T),Nt(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&Nt(y,"TO",u.ja),Nt(y,"TYPE","xmlhttp"),oi(u,y),u.m&&u.o&&Bi(y,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Fi(rn(y)),_.m=null,_.P=!0,zo(_,u)}t.Za=function(){this.C!=null&&(this.C=null,is(this),Qa(this),Ft(19))};function Ya(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Xa(u,y){var _=null;if(u.g==y){Ya(u),bc(u),u.g=null;var S=2}else if(Jt(u.h,y))_=y.D,Ba(u.h,y),S=1;else return;if(u.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=u.B;S=Ts(),St(S,new Zs(S,_)),Ps(u)}else Ko(u);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&hp(u,y)||S==2&&Qa(u)))switch(_&&0<_.length&&(y=u.h,y.i=y.i.concat(_)),q){case 1:ai(u,5);break;case 4:ai(u,10);break;case 3:ai(u,6);break;default:ai(u,2)}}}function od(u,y){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*y}function ai(u,y){if(u.j.info("Error code "+y),y==2){var _=T(u.fb,u),S=u.Xa;const q=!S;S=new br(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Mn(S,"https"),Fi(S),q?cp(S.toString(),_):nd(S.toString(),_)}else Ft(2);u.G=0,u.l&&u.l.sa(y),ad(u),Ka(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function ad(u){if(u.G=0,u.ka=[],u.l){const y=za(u.h);(y.length!=0||u.i.length!=0)&&(O(u.ka,y),O(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function ld(u,y,_){var S=_ instanceof br?rn(_):new br(_);if(S.g!="")y&&(S.g=y+"."+S.g),Mi(S,S.s);else{var q=h.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Z=new br(null);S&&Mn(Z,S),y&&(Z.g=y),q&&Mi(Z,q),_&&(Z.l=_),S=Z}return _=u.D,y=u.ya,_&&y&&Nt(S,_,y),Nt(S,"VER",u.la),oi(u,S),S}function cd(u,y,_){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new Ut(new si({eb:_})):new Ut(u.pa),y.Ha(u.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}t=Cc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Za(){}Za.prototype.g=function(u,y){return new Qn(u,y)};function Qn(u,y){lt.call(this),this.g=new Ec(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!V(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new As(this)}M(Qn,lt),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Pn(this.g)},Qn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ai(u),u=_);y.i.push(new $a(y.Ya++,u)),y.G==3&&Ps(y)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Pn(this.g),delete this.g,Qn.aa.N.call(this)};function ud(u){vr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}M(ud,vr);function dd(){Lr.call(this),this.status=1}M(dd,Lr);function As(u){this.g=u}M(As,Cc),As.prototype.ua=function(){St(this.g,"a")},As.prototype.ta=function(u){St(this.g,new ud(u))},As.prototype.sa=function(u){St(this.g,new dd)},As.prototype.ra=function(){St(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,h1=function(){return new Za},d1=function(){return Ts()},u1=Mr,gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ti.NO_ERROR=0,ti.TIMEOUT=8,ti.HTTP_ERROR=6,bh=ti,Bo.COMPLETE="complete",c1=Bo,Ni.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,tu=Ni,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,l1=Ut}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",_0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Yg("@firebase/firestore");function Cl(){return Ea.logLevel}function Ce(t,...e){if(Ea.logLevel<=ct.DEBUG){const n=e.map(uy);Ea.debug(`Firestore (${tc}): ${t}`,...n)}}function Ii(t,...e){if(Ea.logLevel<=ct.ERROR){const n=e.map(uy);Ea.error(`Firestore (${tc}): ${t}`,...n)}}function jl(t,...e){if(Ea.logLevel<=ct.WARN){const n=e.map(uy);Ea.warn(`Firestore (${tc}): ${t}`,...n)}}function uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,f1(t,r,n)}function f1(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ii(r),new Error(r)}function gt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||f1(e,o,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(zn.UNAUTHENTICATED)))}shutdown(){}}class UP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BP{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new p1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class zP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=WP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function yg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Hm(o)===Hm(a)?ut(o,a):Hm(o)?1:-1}return ut(t.length,e.length)}const GP=55296,KP=57343;function Hm(t){const e=t.charCodeAt(0);return e>=GP&&e<=KP}function Ll(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__name__";class Ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=Ls.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return ut(e.length,n.length)}static compareSegments(e,n){const r=Ls.isNumericId(e),o=Ls.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ls.extractNumericId(e).compare(Ls.extractNumericId(n)):yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class Pt extends Ls{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const JP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends Ls{construct(e,n,r){return new On(e,n,r)}static isValidIdentifier(e){return JP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new On([b0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(a(),o++)}if(a(),c)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(n)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Pt.fromString(e))}static fromName(e){return new De(Pt.fromString(e).popFirst(5))}static empty(){return new De(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e,n){if(!n)throw new we(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QP(t,e,n,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C0(t){if(!De.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T0(t){if(De.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rf(t);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ou(t,e){if(!g1(t))throw new we(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new we(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=-62135596800,I0=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*I0);return new Vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x0)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:dn("string",Vt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Vt(0,0))}static max(){return new qe(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function YP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=qe.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Io(o,De.empty(),e)}function XP(t){return new Io(t.readTime,t.key,yu)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(qe.min(),De.empty(),yu)}static max(){return new Io(qe.max(),De.empty(),yu)}}function ZP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==eA)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&n()}),(f=>r(f)))})),c=!0,a===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((o=>o?oe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;n(e[g]).next((v=>{c[g]=v,++h,h===a&&r(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new oe(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function nA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function ju(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function rA(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="";function sA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S0(e)),e=iA(t.get(n),e);return S0(e)}function iA(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case y1:n+="";break;default:n+=a}}return n}function S0(t){return t+y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function w1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=o??Dn.EMPTY,this.right=a??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Dn(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Dn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new R0(this.data.getIterator())}getIteratorFrom(e){return new R0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class R0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new wn(On.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new v1("Invalid base64 string: "+a):a}})(e);return new jn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=oA.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",E1="__type__",b1="__previous_value__",C1="__local_write_time__";function fy(t){return(t?.mapValue?.fields||{})[E1]?.stringValue===_1}function Af(t){const e=t.mapValue.fields[b1];return fy(e)?Af(e):e}function wu(t){const e=So(t.mapValue.fields[C1].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,o,a,c,h,f,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=v}}const Wh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",lA="__max__",lh={mapValue:{}},x1="__vector__",Gh="value";function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fy(t)?4:uA(t)?9007199254740991:cA(t)?10:11:Me(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=So(o.timestampValue),h=So(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return ko(o.bytesValue).isEqual(ko(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return en(o.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(o.geoPointValue.longitude)===en(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return en(o.integerValue)===en(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=en(o.doubleValue),h=en(a.doubleValue);return c===h?qh(c)===qh(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(k0(c)!==k0(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ws(c[f],h[f])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function _u(t,e){return(t.values||[]).find((n=>Ws(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=en(a.integerValue||a.doubleValue),f=en(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return P0(t.timestampValue,e.timestampValue);case 4:return P0(wu(t),wu(e));case 5:return yg(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=ko(a),f=ko(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const v=ut(h[g],f[g]);if(v!==0)return v}return ut(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=ut(en(a.latitude),en(c.latitude));return h!==0?h:ut(en(a.longitude),en(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return A0(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},f=c.fields||{},g=h[Gh]?.arrayValue,v=f[Gh]?.arrayValue,E=ut(g?.values?.length||0,v?.values?.length||0);return E!==0?E:A0(g,v)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===lh.mapValue&&c===lh.mapValue)return 0;if(a===lh.mapValue)return 1;if(c===lh.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),g=c.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const T=yg(f[E],v[E]);if(T!==0)return T;const A=Ml(h[f[E]],g[v[E]]);if(A!==0)return A}return ut(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function P0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=So(t),r=So(e),o=ut(n.seconds,r.seconds);return o!==0?o:ut(n.nanos,r.nanos)}function A0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Ml(n[o],r[o]);if(a)return a}return ut(n.length,r.length)}function Vl(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ko(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=wg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${wg(n.fields[c])}`;return o+"}"})(t.mapValue):Me(61005,{value:t})}function Ch(t){switch(Ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+Ch(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Ch(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return No(r.fields,((a,c)=>{o+=a.length+Ch(c)})),o})(t.mapValue);default:throw Me(13486,{value:t})}}function N0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vg(t){return!!t&&"integerValue"in t}function py(t){return!!t&&"arrayValue"in t}function D0(t){return!!t&&"nullValue"in t}function O0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function cA(t){return(t?.mapValue?.fields||{})[T1]?.stringValue===x1}function au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=au(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return{...t}}function uA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=On.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}c?r[h.lastSegment()]=au(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){No(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new tr(au(this.value))}}function I1(t){const e=[];return No(t.fields,((n,r)=>{const o=new On([n]);if(Th(r)){const a=I1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,o,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new In(e,0,qe.min(),qe.min(),qe.min(),tr.empty(),0)}static newFoundDocument(e,n,r,o){return new In(e,1,n,qe.min(),r,o,0)}static newNoDocument(e,n){return new In(e,2,n,qe.min(),qe.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,qe.min(),qe.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function j0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?r=De.comparator(De.fromName(c.referenceValue),n.key):r=Ml(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function L0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function dA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{}class cn extends S1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fA(e,n,r):n==="array-contains"?new gA(e,r):n==="in"?new yA(e,r):n==="not-in"?new wA(e,r):n==="array-contains-any"?new vA(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pA(e,r):new mA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends S1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ms(e,n)}matches(e){return k1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(t){return t.op==="and"}function R1(t){return hA(t)&&k1(t)}function hA(t){for(const e of t.filters)if(e instanceof ms)return!1;return!0}function _g(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(R1(t))return t.filters.map((e=>_g(e))).join(",");{const e=t.filters.map((n=>_g(n))).join(",");return`${t.op}(${e})`}}function P1(t,e){return t instanceof cn?(function(r,o){return o instanceof cn&&r.op===o.op&&r.field.isEqual(o.field)&&Ws(r.value,o.value)})(t,e):t instanceof ms?(function(r,o){return o instanceof ms&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,h)=>a&&P1(c,o.filters[h])),!0):!1})(t,e):void Me(19439)}function A1(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`})(t):t instanceof ms?(function(n){return n.op.toString()+" {"+n.getFilters().map(A1).join(" ,")+"}"})(t):"Filter"}class fA extends cn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class pA extends cn{constructor(e,n){super(e,"in",n),this.keys=N1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mA extends cn{constructor(e,n){super(e,"not-in",n),this.keys=N1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function N1(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class gA extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return py(n)&&_u(n.arrayValue,this.value)}}class yA extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class wA extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class vA extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!py(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_u(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n=null,r=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function M0(t,e=null,n=[],r=[],o=null,a=null,c=null){return new _A(t,e,n,r,o,a,c)}function my(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_g(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Vl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Vl(r))).join(",")),e.Te=n}return e.Te}function gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L0(t.startAt,e.startAt)&&L0(t.endAt,e.endAt)}function Eg(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n=null,r=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EA(t,e,n,r,o,a,c,h){return new Lu(t,e,n,r,o,a,c,h)}function Nf(t){return new Lu(t)}function V0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D1(t){return t.collectionGroup!==null}function lu(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new wn(On.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Jh(a,r))})),n.has(On.keyField().canonicalString())||e.Ie.push(new Jh(On.keyField(),r))}return e.Ie}function zs(t){const e=Qe(t);return e.Ee||(e.Ee=bA(e,lu(t))),e.Ee}function bA(t,e){if(t.limitType==="F")return M0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Jh(o.field,a)}));const n=t.endAt?new Kh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kh(t.startAt.position,t.startAt.inclusive):null;return M0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e){const n=t.filters.concat([e]);return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cg(t,e,n){return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Df(t,e){return gy(zs(t),zs(e))&&t.limitType===e.limitType}function O1(t){return`${my(zs(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>A1(o))).join(", ")}]`),ju(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Vl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Vl(o))).join(",")),`Target(${r})`})(zs(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of lu(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,f){const g=j0(c,h,f);return c.inclusive?g<=0:g<0})(r.startAt,lu(r),o)||r.endAt&&!(function(c,h,f){const g=j0(c,h,f);return c.inclusive?g>=0:g>0})(r.endAt,lu(r),o))})(t,e)}function CA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j1(t){return(e,n)=>{let r=!1;for(const o of lu(t)){const a=TA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function TA(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(a,c,h){const f=c.data.field(a),g=h.data.field(a);return f!==null&&g!==null?Ml(f,g):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Gt(De.comparator);function Si(){return xA}const L1=new Gt(De.comparator);function nu(...t){let e=L1;for(const n of t)e=e.insert(n.key,n);return e}function M1(t){let e=L1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function da(){return cu()}function V1(){return cu()}function cu(){return new Aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const IA=new Gt(De.comparator),SA=new wn(De.comparator);function dt(...t){let e=SA;for(const n of t)e=e.add(n);return e}const kA=new wn(ut);function RA(){return kA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function F1(t){return{integerValue:""+t}}function $1(t,e){return rA(e)?F1(e):yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function PA(t,e,n){return t instanceof Eu?(function(o,a){const c={fields:{[E1]:{stringValue:_1},[C1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&fy(a)&&(a=Af(a)),a&&(c.fields[b1]=a),{mapValue:c}})(n,e):t instanceof Fl?B1(t,e):t instanceof $l?z1(t,e):(function(o,a){const c=U1(o,a),h=F0(c)+F0(o.Ae);return vg(c)&&vg(o.Ae)?F1(h):yy(o.serializer,h)})(t,e)}function AA(t,e,n){return t instanceof Fl?B1(t,e):t instanceof $l?z1(t,e):n}function U1(t,e){return t instanceof bu?(function(r){return vg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Eu extends jf{}class Fl extends jf{constructor(e){super(),this.elements=e}}function B1(t,e){const n=H1(e);for(const r of t.elements)n.some((o=>Ws(o,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends jf{constructor(e){super(),this.elements=e}}function z1(t,e){let n=H1(e);for(const r of t.elements)n=n.filter((o=>!Ws(o,r)));return{arrayValue:{values:n}}}class bu extends jf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function F0(t){return en(t.integerValue||t.doubleValue)}function H1(t){return py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.field=e,this.transform=n}}function NA(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Fl&&o instanceof Fl||r instanceof $l&&o instanceof $l?Ll(r.elements,o.elements,Ws):r instanceof bu&&o instanceof bu?Ws(r.Ae,o.Ae):r instanceof Eu&&o instanceof Eu})(t.transform,e.transform)}class DA{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mf{}function q1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vu(t.key,un.none()):new Mu(t.key,t.data,un.none());{const n=t.data,r=tr.empty();let o=new wn(On.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new Do(t.key,r,new Pr(o.toArray()),un.none())}}function OA(t,e,n){t instanceof Mu?(function(o,a,c){const h=o.value.clone(),f=U0(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Do?(function(o,a,c){if(!xh(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=U0(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(W1(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function uu(t,e,n,r){return t instanceof Mu?(function(a,c,h,f){if(!xh(a.precondition,c))return h;const g=a.value.clone(),v=B0(a.fieldTransforms,f,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof Do?(function(a,c,h,f){if(!xh(a.precondition,c))return h;const g=B0(a.fieldTransforms,f,c),v=c.data;return v.setAll(W1(a)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(a,c,h){return xh(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function jA(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=U1(r.transform,o||null);a!=null&&(n===null&&(n=tr.empty()),n.set(r.field,a))}return n||null}function $0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ll(r,o,((a,c)=>NA(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends Mf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Do extends Mf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function W1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function U0(t,e,n){const r=new Map;gt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,h=e.data.field(a.field);r.set(a.field,AA(c,h,n[o]))}return r}function B0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);r.set(o.field,PA(a,c,e))}return r}class Vu extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G1 extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&OA(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V1();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(o.key)?null:h;const f=q1(c,h);f!==null&&r.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((n,r)=>$0(n,r)))&&Ll(this.baseMutations,e.baseMutations,((n,r)=>$0(n,r)))}}class wy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return IA})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new wy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,mt;function K1(t){switch(t){case re.OK:return Me(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function J1(t){if(t===void 0)return Ii("GRPC error has no .code"),re.UNKNOWN;switch(t){case an.OK:return re.OK;case an.CANCELLED:return re.CANCELLED;case an.UNKNOWN:return re.UNKNOWN;case an.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case an.INTERNAL:return re.INTERNAL;case an.UNAVAILABLE:return re.UNAVAILABLE;case an.UNAUTHENTICATED:return re.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case an.NOT_FOUND:return re.NOT_FOUND;case an.ALREADY_EXISTS:return re.ALREADY_EXISTS;case an.PERMISSION_DENIED:return re.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case an.ABORTED:return re.ABORTED;case an.OUT_OF_RANGE:return re.OUT_OF_RANGE;case an.UNIMPLEMENTED:return re.UNIMPLEMENTED;case an.DATA_LOSS:return re.DATA_LOSS;default:return Me(39323,{code:t})}}(mt=an||(an={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new _o([4294967295,4294967295],0);function z0(t){const e=FA().encode(t),n=new a1;return n.update(e),new Uint8Array(n.digest())}function H0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _o([n,r],0),new _o([o,a],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_o.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(_o.fromNumber(r)));return o.compare($A)===1&&(o=new _o([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=z0(e),[r,o]=H0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new vy(a,o,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=z0(e),[r,o]=H0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vf(qe.min(),o,new Gt(ut),Si(),dt())}}class Fu{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Q1{constructor(e,n){this.targetId=e,this.Ce=n}}class Y1{constructor(e,n,r=jn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class q0{constructor(){this.ve=0,this.Fe=W0(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Me(38017,{changeType:a})}})),new Fu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=W0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.Je=ch(),this.He=ch(),this.Ye=new Gt(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Eg(a))if(r===0){const c=new De(a.path);this.et(n,c,In.newNoDocument(c,qe.min()))}else gt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let c,h;try{c=ko(r).toUint8Array()}catch(f){if(f instanceof v1)return jl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new vy(c,o,a)}catch(f){return jl(f instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&Eg(h.target)){const f=new De(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,In.newNoDocument(f,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=dt();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new Vf(e,n,this.Ye,this.je,r);return this.je=Si(),this.Je=ch(),this.He=ch(),this.Ye=new Gt(ut),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new q0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new wn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new wn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new Gt(De.comparator)}function W0(){return new Gt(De.comparator)}const BA={asc:"ASCENDING",desc:"DESCENDING"},zA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HA={and:"AND",or:"OR"};class qA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||ju(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WA(t,e){return Qh(t,e.toTimestamp())}function Nr(t){return gt(!!t,49232),qe.fromTimestamp((function(n){const r=So(n);return new Vt(r.seconds,r.nanos)})(t))}function _y(t,e){return xg(t,e).canonicalString()}function xg(t,e){const n=(function(o){return new Pt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Z1(t){const e=Pt.fromString(t);return gt(iC(e),10190,{key:e.toString()}),e}function Yh(t,e){return _y(t.databaseId,e.path)}function du(t,e){const n=Z1(e);if(n.get(1)!==t.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(tC(n))}function eC(t,e){return _y(t.databaseId,e)}function GA(t){const e=Z1(t);return e.length===4?Pt.emptyPath():tC(e)}function Ig(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tC(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function G0(t,e,n){return{name:Yh(t,e),fields:n.value.mapValue.fields}}function KA(t,e){return"found"in e?(function(r,o){gt(!!o.found,43571),o.found.name,o.found.updateTime;const a=du(r,o.found.name),c=Nr(o.found.updateTime),h=o.found.createTime?Nr(o.found.createTime):qe.min(),f=new tr({mapValue:{fields:o.found.fields}});return In.newFoundDocument(a,c,h,f)})(t,e):"missing"in e?(function(r,o){gt(!!o.missing,3894),gt(!!o.readTime,22933);const a=du(r,o.missing),c=Nr(o.readTime);return In.newNoDocument(a,c)})(t,e):Me(7234,{result:e})}function JA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Me(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,v){return g.useProto3Json?(gt(v===void 0||typeof v=="string",58123),jn.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),jn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?re.UNKNOWN:J1(g.code);return new we(v,g.message||"")})(c);n=new Y1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=du(t,r.document.name),a=Nr(r.document.updateTime),c=r.document.createTime?Nr(r.document.createTime):qe.min(),h=new tr({mapValue:{fields:r.document.fields}}),f=In.newFoundDocument(o,a,c,h),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Ih(g,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=du(t,r.document),a=r.readTime?Nr(r.readTime):qe.min(),c=In.newNoDocument(o,a),h=r.removedTargetIds||[];n=new Ih([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=du(t,r.document),a=r.removedTargetIds||[];n=new Ih([],a,o,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new VA(o,a),h=r.targetId;n=new Q1(h,c)}}return n}function nC(t,e){let n;if(e instanceof Mu)n={update:G0(t,e.key,e.value)};else if(e instanceof Vu)n={delete:Yh(t,e.key)};else if(e instanceof Do)n={update:G0(t,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof G1))return Me(16599,{Vt:e.type});n={verify:Yh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof Eu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $l)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bu)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Me(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:WA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)})(t,e.precondition)),n}function QA(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map((n=>(function(o,a){let c=o.updateTime?Nr(o.updateTime):Nr(a);return c.isEqual(qe.min())&&(c=Nr(a)),new DA(c,o.transformResults||[])})(n,e)))):[]}function YA(t,e){return{documents:[eC(t,e.path)]}}function XA(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eC(t,o);const a=(function(g){if(g.length!==0)return sC(ms.create(g,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:xl(T.field),direction:t2(T.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Tg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function ZA(t){let e=GA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){gt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(E){const T=rC(E);return T instanceof ms&&R1(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((T=>(function(M){return new Jh(Il(M.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(E){let T;return T=typeof E=="object"?E.value:E,ju(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(E){const T=!!E.before,A=E.values||[];return new Kh(A,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const T=!E.before,A=E.values||[];return new Kh(A,T)})(n.endAt)),EA(e,o,c,a,h,"F",f,g)}function e2(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Il(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Il(n.unaryFilter.field);return cn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Il(n.unaryFilter.field);return cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Il(n.unaryFilter.field);return cn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(Il(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ms.create(n.compositeFilter.filters.map((r=>rC(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function t2(t){return BA[t]}function n2(t){return zA[t]}function r2(t){return HA[t]}function xl(t){return{fieldPath:t.canonicalString()}}function Il(t){return On.fromServerFormat(t.fieldPath)}function sC(t){return t instanceof cn?(function(n){if(n.op==="=="){if(O0(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NAN"}};if(D0(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O0(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NAN"}};if(D0(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(n.field),op:n2(n.op),value:n.value}}})(t):t instanceof ms?(function(n){const r=n.getFilters().map((o=>sC(o)));return r.length===1?r[0]:{compositeFilter:{op:r2(n.op),filters:r}}})(t):Me(54877,{filter:t})}function s2(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,o,a=qe.min(),c=qe.min(),h=jn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.yt=e}}function o2(t){const e=ZA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Cn=new l2}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Io.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class l2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new wn(Pt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new wn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oC=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(oC,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ul(0)}static cr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="LruGarbageCollector",c2=1048576;function Q0([t,e],[n,r]){const o=ut(t,n);return o===0?ut(e,r):o}class u2{constructor(e){this.Ir=e,this.buffer=new wn(Q0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Q0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(J0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?Ce(J0,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Vr(3e5)}))}}class h2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Pf.ce);const r=new u2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(K0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,c,h,f,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,h=Date.now(),this.removeTargets(e,r,n)))).next((E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(g=Date.now(),Cl()<=ct.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(g-f)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function f2(t,e){return new h2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.changes=new Aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&uu(r.mutation,o,Pr.empty(),Vt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const o=da();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let c=nu();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=da();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,o){let a=Si();const c=cu(),h=(function(){return cu()})();return n.forEach(((f,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Do)?a=a.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),uu(v.mutation,g,v.mutation.getFieldMask(),Vt.now())):c.set(g.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new m2(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=cu();let o=new Gt(((c,h)=>c-h)),a=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=n.get(f);if(g===null)return;let v=r.get(f)||Pr.empty();v=h.applyToLocalView(g,v),r.set(f,v);const E=(o.get(h.batchId)||dt()).add(f);o=o.insert(h.batchId,E)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,v=f.value,E=V1();v.forEach((T=>{if(!a.has(T)){const A=q1(n.get(T),r.get(T));A!==null&&E.set(T,A),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return oe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):oe.resolve(da());let h=yu,f=a;return c.next((g=>oe.forEach(g,((v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,f,g,dt()))).next((v=>({batchId:h,changes:M1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let o=nu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,a).next((h=>oe.forEach(h,(f=>{const g=(function(E,T){return new Lu(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((v=>{v.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((c=>{a.forEach(((f,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,In.newInvalidDocument(v)))}));let h=nu();return c.forEach(((f,g)=>{const v=a.get(f);v!==void 0&&uu(v.mutation,g,Pr.empty(),Vt.now()),Of(n,g)&&(h=h.insert(f,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:o2(o.bundledQuery),readTime:Nr(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.overlays=new Gt(De.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=da();return oe.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const o=da(),a=n.length+1,c=new De(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Gt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=a.get(g.largestBatchId);v===null&&(v=da(),a=a.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=da(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=o)););return oe.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new MA(n,r));let a=this.qr.get(n);a===void 0&&(a=dt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.Qr=new wn(Tn.$r),this.Ur=new wn(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Tn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Pt([])),r=new Tn(n,e),o=new Tn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Pt([])),r=new Tn(n,e),o=new Tn(n,e+1);let a=dt();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new Tn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new wn(Tn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new LA(a,n,r,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new Tn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?hy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tn(n,0),o=new Tn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const h=this.Xr(c.Yr);a.push(h)})),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(ut);return n.forEach((o=>{const a=new Tn(o,0),c=new Tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const c=new Tn(new De(a),0);let h=new wn(ut);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(h=h.add(f.Yr)),!0)}),c),oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(o=>{const a=new Tn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Tn(n,0),o=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.ri=e,this.docs=(function(){return new Gt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=Si();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():In.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Si();const c=n.path,h=new De(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:v}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ZP(XP(v),r)<=0||(o.has(v.key)||Of(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Me(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new b2(this)}getSize(e){return oe.resolve(this.size)}}class b2 extends p2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.persistence=e,this.si=new Aa((n=>my(n)),gy),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ey,this.targetCount=0,this.ai=Ul.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),oe.waitFor(a).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pf(0),this.li=!1,this.li=!0,this.hi=new v2,this.referenceDelegate=e(this),this.Pi=new C2(this),this.indexManager=new a2,this.remoteDocumentCache=(function(o){return new E2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new i2(n),this.Ii=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new _2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const o=new T2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class T2 extends tA{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Ri=new Ey,this.Vi=null}static mi(e){return new by(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const o=De.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.pi=new Aa((r=>sA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=f2(this,n)}static mi(e,n){return new Xh(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?oe.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,a.removeEntry(c,qe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return oe.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=dt(),o=dt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Cy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:nA(Wn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new x2;return this.Ss(e,n,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Cl()<=ct.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Cl()<=ct.DEBUG&&Ce("QueryEngine","Query:",Tl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Cl()<=ct.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):oe.resolve())}ys(e,n){if(V0(n))return oe.resolve(null);let r=zs(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Cg(n,null,"F"),r=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=dt(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const g=this.Ds(n,h);return this.Cs(n,g,c,f.readTime)?this.ys(e,Cg(n,null,"F")):this.vs(e,g,n,f)}))))})))))}ws(e,n,r,o){return V0(n)||o.isEqual(qe.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,o)?oe.resolve(null):(Cl()<=ct.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tl(n)),this.vs(e,c,n,YP(o,yu)).next((h=>h)))}))}Ds(e,n){let r=new wn(j1(e));return n.forEach(((o,a)=>{Of(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return Cl()<=ct.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ps.getDocumentsMatchingQuery(e,n,Io.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",S2=3e8;class k2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Gt(ut),this.xs=new Aa((a=>my(a)),gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function R2(t,e,n,r){return new k2(t,e,n,r)}async function lC(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let f=dt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}for(const g of a){h.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function P2(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,v){const E=g.batch,T=E.keys();let A=oe.resolve();return T.forEach((M=>{A=A.next((()=>v.getEntry(f,M))).next((U=>{const O=g.docVersions.get(M);gt(O!==null,48541),U.version.compareTo(O)<0&&(E.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,E)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=dt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function cC(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function A2(t,e){const n=Qe(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((v,E)=>{const T=o.get(E);if(!T)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,E))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(jn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),o=o.insert(E,A),(function(U,O,K){return U.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=S2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(T,A,v)&&h.push(n.Pi.updateTargetData(a,A))}));let f=Si(),g=dt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(N2(a,c,e.documentUpdates).next((v=>{f=v.ks,g=v.qs}))),!r.isEqual(qe.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((E=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return oe.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,g))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function N2(t,e,n){let r=dt(),o=dt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=Si();return n.forEach(((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Ce(Ty,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:o}}))}function D2(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function O2(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,oe.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new po(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Sg(t,e,n){const r=Qe(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!rc(c))throw c;Ce(Ty,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Y0(t,e,n){const r=Qe(t);let o=qe.min(),a=dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,v){const E=Qe(f),T=E.xs.get(v);return T!==void 0?oe.resolve(E.Ms.get(T)):E.Pi.getTargetData(g,v)})(r,c,zs(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:qe.min(),n?a:dt()))).next((h=>(j2(r,CA(e),h),{documents:h,Qs:a})))))}function j2(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class X0{constructor(){this.activeTargetIds=RA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L2{constructor(){this.Mo=new X0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function kg(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const c=kg(),h=this.zo(e,n.toUriEncodedString());Ce(qm,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:g}=new URL(h),v=ka(g);return this.Jo(e,h,f,r,v).then((E=>(Ce(qm,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw jl(qm,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",r),E}))}Ho(e,n,r,o,a,c){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=V2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class U2 extends F2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const c=kg();return new Promise(((h,f)=>{const g=new l1;g.setWithCredentials(!0),g.listenOnce(c1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const E=g.getResponseJson();Ce(Bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case bh.TIMEOUT:Ce(Bn,`RPC '${e}' ${c} timed out`),f(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const T=g.getStatus();if(Ce(Bn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const U=(function(K){const V=K.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(V)>=0?V:re.UNKNOWN})(M.status);f(new we(U,M.message))}else f(new we(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new we(re.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ce(Bn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);Ce(Bn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=kg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=h1(),h=d1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");Ce(Bn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const E=c.createWebChannel(v,f);this.I_(E);let T=!1,A=!1;const M=new $2({Yo:O=>{A?Ce(Bn,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(Ce(Bn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),Ce(Bn,`RPC '${e}' stream ${o} sending:`,O),E.send(O))},Zo:()=>E.close()}),U=(O,K,V)=>{O.listen(K,(z=>{try{V(z)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return U(E,tu.EventType.OPEN,(()=>{A||(Ce(Bn,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),U(E,tu.EventType.CLOSE,(()=>{A||(A=!0,Ce(Bn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(E))})),U(E,tu.EventType.ERROR,(O=>{A||(A=!0,jl(Bn,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),M.a_(new we(re.UNAVAILABLE,"The operation could not be completed")))})),U(E,tu.EventType.MESSAGE,(O=>{if(!A){const K=O.data[0];gt(!!K,16349);const V=K,z=V?.error||V[0]?.error;if(z){Ce(Bn,`RPC '${e}' stream ${o} received error:`,z);const Y=z.status;let ie=(function(x){const k=an[x];if(k!==void 0)return J1(k)})(Y),Q=z.message;ie===void 0&&(ie=re.INTERNAL,Q="Unknown error status: "+Y+" with message "+z.message),A=!0,M.a_(new we(ie,Q)),E.close()}else Ce(Bn,`RPC '${e}' stream ${o} received:`,K),M.u_(K)}})),U(h,u1.STAT_EVENT,(O=>{O.stat===gg.PROXY?Ce(Bn,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===gg.NOPROXY&&Ce(Bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return new qA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&Ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="PersistentStream";class uC{constructor(e,n,r,o,a,c,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xy(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ce(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B2 extends uC{constructor(e,n,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return qe.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?qe.min():c.readTime?Nr(c.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ig(this.serializer),n.addTarget=(function(a,c){let h;const f=c.target;if(h=Eg(f)?{documents:YA(a,f)}:{query:XA(a,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=X1(a,c.resumeToken);const g=Tg(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(qe.min())>0){h.readTime=Qh(a,c.snapshotVersion.toTimestamp());const g=Tg(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=e2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ig(this.serializer),n.removeTarget=e,this.q_(n)}}class z2 extends uC{constructor(e,n,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QA(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>nC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{}class q2 extends H2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,xg(n,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(re.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,xg(n,r),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class W2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class G2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Na(this)&&(Ce(ba,"Restarting streams for network reachability change."),await(async function(f){const g=Qe(f);g.Ea.add(4),await $u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $f(g)})(this))}))})),this.Ra=new W2(r,o)}}async function $f(t){if(Na(t))for(const e of t.da)await e(!0)}async function $u(t){for(const e of t.da)await e(!1)}function dC(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ry(n)?ky(n):sc(n).O_()&&Sy(n,e))}function Iy(t,e){const n=Qe(t),r=sc(n);n.Ia.delete(e),r.O_()&&hC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Na(n)&&n.Ra.set("Unknown"))}function Sy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sc(t).Y_(e)}function hC(t,e){t.Va.Ue(e),sc(t).Z_(e)}function ky(t){t.Va=new UA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sc(t).start(),t.Ra.ua()}function Ry(t){return Na(t)&&!sc(t).x_()&&t.Ia.size>0}function Na(t){return Qe(t).Ea.size===0}function fC(t){t.Va=void 0}async function K2(t){t.Ra.set("Online")}async function J2(t){t.Ia.forEach(((e,n)=>{Sy(t,e)}))}async function Q2(t,e){fC(t),Ry(t)?(t.Ra.ha(e),ky(t)):t.Ra.set("Unknown")}async function Y2(t,e,n){if(t.Ra.set("Online"),e instanceof Y1&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){Ce(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zh(t,r)}else if(e instanceof Ih?t.Va.Ze(e):e instanceof Q1?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await cC(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(g);v&&a.Ia.set(g,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(jn.EMPTY_BYTE_STRING,v.snapshotVersion)),hC(a,f);const E=new po(v.target,f,g,v.sequenceNumber);Sy(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Ce(ba,"Failed to raise snapshot:",r),await Zh(t,r)}}async function Zh(t,e,n){if(!rc(e))throw e;t.Ea.add(1),await $u(t),t.Ra.set("Offline"),n||(n=()=>cC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce(ba,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $f(t)}))}function pC(t,e){return e().catch((n=>Zh(t,n,e)))}async function Uf(t){const e=Qe(t),n=Po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hy;for(;X2(e);)try{const o=await D2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Z2(e,o)}catch(o){await Zh(e,o)}mC(e)&&gC(e)}function X2(t){return Na(t)&&t.Ta.length<10}function Z2(t,e){t.Ta.push(e);const n=Po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mC(t){return Na(t)&&!Po(t).x_()&&t.Ta.length>0}function gC(t){Po(t).start()}async function eN(t){Po(t).ra()}async function tN(t){const e=Po(t);for(const n of t.Ta)e.ea(n.mutations)}async function nN(t,e,n){const r=t.Ta.shift(),o=wy.from(r,e,n);await pC(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Uf(t)}async function rN(t,e){e&&Po(t).X_&&await(async function(r,o){if((function(c){return K1(c)&&c!==re.ABORTED})(o.code)){const a=r.Ta.shift();Po(r).B_(),await pC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Uf(r)}})(t,e),mC(t)&&gC(t)}async function nE(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Ce(ba,"RemoteStore received new credentials");const r=Na(n);n.Ea.add(3),await $u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $f(n)}async function sN(t,e){const n=Qe(t);e?(n.Ea.delete(2),await $f(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function sc(t){return t.ma||(t.ma=(function(n,r,o){const a=Qe(n);return a.sa(),new B2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:K2.bind(null,t),t_:J2.bind(null,t),r_:Q2.bind(null,t),H_:Y2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ry(t)?ky(t):t.Ra.set("Unknown")):(await t.ma.stop(),fC(t))}))),t.ma}function Po(t){return t.fa||(t.fa=(function(n,r,o){const a=Qe(n);return a.sa(),new z2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eN.bind(null,t),r_:rN.bind(null,t),ta:tN.bind(null,t),na:nN.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Uf(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(ba,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const c=Date.now()+r,h=new Py(e,n,c,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),rc(t))return new we(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=nu(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.ga=new Gt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bl{constructor(e,n,r,o,a,c,h,f,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Bl(e,n,Nl.emptySet(n),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oN{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Qe(n),a=o.queries;o.queries=sE(),a.forEach(((c,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new we(re.ABORTED,"Firestore shutting down"))}}function sE(){return new Aa((t=>O1(t)),Df)}async function Ny(t,e){const n=Qe(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new iN,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=Ay(c,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Oy(n)}async function Dy(t,e){const n=Qe(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aN(t,e){const n=Qe(t);let r=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const h of c.Sa)h.Fa(o)&&(r=!0);c.wa=o}}r&&Oy(n)}function lN(t,e,n){const r=Qe(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function Oy(t){t.Ca.forEach((e=>{e.next()}))}var Rg,iE;(iE=Rg||(Rg={})).Ma="default",iE.Cache="cache";class jy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.key=e}}class wC{constructor(e){this.key=e}}class cN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=j1(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new rE,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const T=o.get(v),A=Of(this.query,E)?E:null,M=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;T&&A?T.data.isEqual(A.data)?M!==U&&(r.track({type:3,doc:A}),O=!0):this.su(T,A)||(r.track({type:2,doc:A}),O=!0,(f&&this.eu(A,f)>0||g&&this.eu(A,g)<0)&&(h=!0)):!T&&A?(r.track({type:0,doc:A}),O=!0):T&&!A&&(r.track({type:1,doc:T}),O=!0,(f||g)&&(h=!0)),O&&(A?(c=c.add(A),a=U?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(A,M){const U=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:O})}};return U(A)-U(M)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new Bl(this.query,e.tu,a,c,e.mutatedKeys,f===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new wC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new yC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ly="SyncEngine";class uN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dN{constructor(e){this.key=e,this.hu=!1}}class hN{constructor(e,n,r,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa((h=>O1(h)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new Gt(De.comparator),this.Au=new Map,this.Ru=new Ey,this.Vu={},this.mu=new Map,this.fu=Ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(t,e,n=!0){const r=TC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await vC(r,e,n,!0),o}async function pN(t,e){const n=TC(t);await vC(n,e,!0,!1)}async function vC(t,e,n,r){const o=await O2(t.localStore,zs(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await mN(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&dC(t.remoteStore,o),h}async function mN(t,e,n,r,o){t.pu=(E,T,A)=>(async function(U,O,K,V){let z=O.view.ru(K);z.Cs&&(z=await Y0(U.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,z))));const Y=V&&V.targetChanges.get(O.targetId),ie=V&&V.targetMismatches.get(O.targetId)!=null,Q=O.view.applyChanges(z,U.isPrimaryClient,Y,ie);return aE(U,O.targetId,Q.au),Q.snapshot})(t,E,T,A);const a=await Y0(t.localStore,e,!0),c=new cN(e,a.Qs),h=c.ru(a.documents),f=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),g=c.applyChanges(h,t.isPrimaryClient,f);aE(t,n,g.au);const v=new uN(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function gN(t,e,n){const r=Qe(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!Df(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Sg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Iy(r.remoteStore,o.targetId),Pg(r,o.targetId)})).catch(nc)):(Pg(r,o.targetId),await Sg(r.localStore,o.targetId,!0))}async function yN(t,e){const n=Qe(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iy(n.remoteStore,r.targetId))}async function wN(t,e,n){const r=xN(t);try{const o=await(function(c,h){const f=Qe(c),g=Vt.now(),v=h.reduce(((A,M)=>A.add(M.key)),dt());let E,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=Si(),U=dt();return f.Ns.getEntries(A,v).next((O=>{M=O,M.forEach(((K,V)=>{V.isValidDocument()||(U=U.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,M))).next((O=>{E=O;const K=[];for(const V of h){const z=jA(V,E.get(V.key).overlayedDocument);z!=null&&K.push(new Do(V.key,z,I1(z.value.mapValue),un.exists(!0)))}return f.mutationQueue.addMutationBatch(A,g,K,h)})).next((O=>{T=O;const K=O.applyToLocalDocumentSet(E,U);return f.documentOverlayCache.saveOverlays(A,O.batchId,K)}))})).then((()=>({batchId:T.batchId,changes:M1(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new Gt(ut)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,n),await Uu(r,o.changes),await Uf(r.remoteStore)}catch(o){const a=Ay(o,"Failed to persist write");n.reject(a)}}async function _C(t,e){const n=Qe(t);try{const r=await A2(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=n.Au.get(a);c&&(gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?gt(c.hu,14607):o.removedDocuments.size>0&&(gt(c.hu,42227),c.hu=!1))})),await Uu(n,r,e)}catch(r){await nc(r)}}function oE(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=Qe(c);f.onlineState=h;let g=!1;f.queries.forEach(((v,E)=>{for(const T of E.Sa)T.va(h)&&(g=!0)})),g&&Oy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vN(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new Gt(De.comparator);c=c.insert(a,In.newNoDocument(a,qe.min()));const h=dt().add(a),f=new Vf(qe.min(),new Map,new Gt(ut),c,h);await _C(r,f),r.du=r.du.remove(a),r.Au.delete(e),My(r)}else await Sg(r.localStore,e,!1).then((()=>Pg(r,e,n))).catch(nc)}async function _N(t,e){const n=Qe(t),r=e.batch.batchId;try{const o=await P2(n.localStore,e);bC(n,r,null),EC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,o)}catch(o){await nc(o)}}async function EN(t,e,n){const r=Qe(t);try{const o=await(function(c,h){const f=Qe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return f.mutationQueue.lookupMutationBatch(g,h).next((E=>(gt(E!==null,37113),v=E.keys(),f.mutationQueue.removeMutationBatch(g,E)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>f.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);bC(r,e,n),EC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,o)}catch(o){await nc(o)}}function EC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bC(t,e,n){const r=Qe(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||CC(t,r)}))}function CC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Iy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),My(t))}function aE(t,e,n){for(const r of n)r instanceof yC?(t.Ru.addReference(r.key,e),bN(t,r)):r instanceof wC?(Ce(Ly,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||CC(t,r.key)):Me(19791,{wu:r})}function bN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ce(Ly,"New document in limbo: "+n),t.Eu.add(r),My(t))}function My(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new dN(n)),t.du=t.du.insert(n,r),dC(t.remoteStore,new po(zs(Nf(n.path)),r,"TargetPurposeLimboResolution",Pf.ce))}}async function Uu(t,e,n){const r=Qe(t),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Cy.As(f.targetId,g);a.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(f,g){const v=Qe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>oe.forEach(g,(T=>oe.forEach(T.Es,(A=>v.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>oe.forEach(T.ds,(A=>v.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!rc(E))throw E;Ce(Ty,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const A=v.Ms.get(T),M=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(T,U)}}})(r.localStore,a))}async function CN(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Ce(Ly,"User change. New user:",e.toKey());const r=await lC(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new we(re.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.Ls)}}function TN(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let o=dt();const a=n.Iu.get(e);if(!a)return o;for(const c of a){const h=n.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function TC(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_C.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vN.bind(null,e),e.Pu.H_=aN.bind(null,e.eventManager),e.Pu.yu=lN.bind(null,e.eventManager),e}function xN(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EN.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return R2(this.persistence,new I2,e.initialUser,this.serializer)}Cu(e){return new aC(by.mi,this.serializer)}Du(e){return new L2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class IN extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gt(this.persistence.referenceDelegate instanceof Xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new d2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new aC((r=>Xh.mi(r,n)),this.serializer)}}class Ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),await sN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oN})()}createDatastore(e){const n=Ff(e.databaseInfo.databaseId),r=(function(a){return new U2(a)})(e.databaseInfo);return(function(a,c,h,f){return new q2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,c,h){return new G2(r,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>oE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new M2})())}createSyncEngine(e,n){return(function(o,a,c,h,f,g,v){const E=new hN(o,a,c,h,f,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Qe(n);Ce(ba,"RemoteStore shutting down."),r.Ea.add(5),await $u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,a){const c=Qe(o),h={documents:a.map((E=>Yh(c.serializer,E)))},f=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Pt.emptyPath(),h,a.length),g=new Map;f.forEach((E=>{const T=KA(c.serializer,E);g.set(T.key.toString(),T)}));const v=[];return a.forEach((E=>{const T=g.get(E.toString());gt(!!T,55234,{key:E}),v.push(T)})),v})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const o=De.fromPath(r);this.mutations.push(new G1(o,this.precondition(o)))})),await(async function(r,o){const a=Qe(r),c={writes:o.map((h=>nC(a.serializer,h)))};await a.Go("Commit",a.serializer.databaseId,Pt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Me(50498,{Gu:e.constructor.name});n=qe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new we(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(qe.min())?un.exists(!1):un.updateTime(n):un.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(qe.min()))throw new we(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(n)}return un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r,o,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=a,this.zu=r.maxAttempts,this.M_=new xy(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new SN(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Yu(o)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!ju(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!K1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class RN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=zn.UNAUTHENTICATED,this.clientId=dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{Ce(Ao,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ce(Ao,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ay(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(Ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await lC(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PN(t);Ce(Ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>nE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>nE(e.remoteStore,o))),t._onlineComponents=e}async function PN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(Ao,"Using user provided OfflineComponentProvider");try{await Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await Gm(t,new ef)}}else Ce(Ao,"Using default OfflineComponentProvider"),await Gm(t,new IN(void 0));return t._offlineComponents}async function Fy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(Ao,"Using user provided OnlineComponentProvider"),await lE(t,t._uninitializedComponentsProvider._online)):(Ce(Ao,"Using default OnlineComponentProvider"),await lE(t,new Ag))),t._onlineComponents}function AN(t){return Fy(t).then((e=>e.syncEngine))}function NN(t){return Fy(t).then((e=>e.datastore))}async function tf(t){const e=await Fy(t),n=e.eventManager;return n.onListen=fN.bind(null,e.syncEngine),n.onUnlisten=gN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yN.bind(null,e.syncEngine),n}function DN(t,e,n={}){const r=new Bs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,g){const v=new Vy({next:T=>{v.Nu(),c.enqueueAndForget((()=>Dy(a,E)));const A=T.docs.has(h);!A&&T.fromCache?g.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?g.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new jy(Nf(h.path),v,{includeMetadataChanges:!0,qa:!0});return Ny(a,E)})(await tf(t),t.asyncQueue,e,n,r))),r.promise}function ON(t,e,n={}){const r=new Bs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,g){const v=new Vy({next:T=>{v.Nu(),c.enqueueAndForget((()=>Dy(a,E))),T.fromCache&&f.source==="server"?g.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new jy(h,v,{includeMetadataChanges:!0,qa:!0});return Ny(a,E)})(await tf(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firestore.googleapis.com",uE=!0;class dE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IC,this.ssl=uE}else this.host=e.host,this.ssl=e.ssl??uE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c2)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $P;switch(r.type){case"firstParty":return new HP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=cE.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),cE.delete(n),r.terminate())})(this),Promise.resolve()}}function jN(t,e,n,r={}){t=qn(t,Bf);const o=ka(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(Jg(`https://${h}`),Qg("Firestore",!0)),a.host!==IC&&a.host!==h&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!Ci(f,c)&&(t._setSettings(f),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=zn.MOCK_USER;else{g=vb(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new zn(E)}t._authCredentials=new UP(new p1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ou(n,Wt._jsonSchema))return new Wt(e,r||null,new De(Pt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:dn("string",Wt._jsonSchemaVersion),referencePath:dn("string")};class Eo extends Da{constructor(e,n,r){super(e,n,Nf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new De(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function yn(t,e,...n){if(t=At(t),m1("collection","path",e),t instanceof Bf){const r=Pt.fromString(e,...n);return T0(r),new Eo(t,null,r)}{if(!(t instanceof Wt||t instanceof Eo))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return T0(r),new Eo(t.firestore,null,r)}}function Ne(t,e,...n){if(t=At(t),arguments.length===1&&(e=dy.newId()),m1("doc","path",e),t instanceof Bf){const r=Pt.fromString(e,...n);return C0(r),new Wt(t,null,new De(r))}{if(!(t instanceof Wt||t instanceof Eo))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return C0(r),new Wt(t.firestore,t instanceof Eo?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xy(this,"async_queue_retry"),this._c=()=>{const r=Wm();r&&Ce(hE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rc(e))throw e;Ce(hE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",pE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Py.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Me(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class gs extends Bf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new fE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function yr(t,e){const n=typeof t=="object"?t:Zg(),r=typeof t=="string"?t:Wh,o=Tf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=gb("firestore");a&&jN(o,...a)}return o}function ic(t){if(t._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LN(t),t._firestoreClient}function LN(t){const e=t._freezeSettings(),n=(function(o,a,c,h){return new aA(o,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new RN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(jn.fromBase64String(e))}catch(n){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:dn("string",Rr._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Hs._jsonSchema))return new Hs(e.latitude,e.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:dn("string",Hs._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qs(e.vectorValues);throw new we(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:dn("string",qs._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^__.*__$/;class VN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Do(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class SC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Do(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class zf{constructor(e,n,r,o,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kC(this.Ac)&&MN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ff(e)}Cc(e,n,r,o=!1){return new zf({Ac:e,methodName:n,Dc:r,path:On.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ac(t){const e=t._freezeSettings(),n=Ff(t._databaseId);return new FN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hf(t,e,n,r,o,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);Wy("Data must be an object, but it was:",c,r);const h=PC(r,c);let f,g;if(a.merge)f=new Pr(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const T=Ng(e,E,n);if(!c.contains(T))throw new we(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);NC(v,T)||v.push(T)}f=new Pr(v),g=c.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,g=c.fieldTransforms;return new VN(new tr(h),f,g)}class qf extends Oa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function RC(t,e,n){return new zf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $y extends Oa{_toFieldTransform(e){return new Lf(e.path,new Eu)}isEqual(e){return e instanceof $y}}class Uy extends Oa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=RC(this,e,!0),r=this.vc.map((a=>ja(a,n))),o=new Fl(r);return new Lf(e.path,o)}isEqual(e){return e instanceof Uy&&Ci(this.vc,e.vc)}}class By extends Oa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=RC(this,e,!0),r=this.vc.map((a=>ja(a,n))),o=new $l(r);return new Lf(e.path,o)}isEqual(e){return e instanceof By&&Ci(this.vc,e.vc)}}class zy extends Oa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new bu(e.serializer,$1(e.serializer,this.Fc));return new Lf(e.path,n)}isEqual(e){return e instanceof zy&&this.Fc===e.Fc}}function Hy(t,e,n,r){const o=t.Cc(1,e,n);Wy("Data must be an object, but it was:",o,r);const a=[],c=tr.empty();No(r,((f,g)=>{const v=Gy(e,f,n);g=At(g);const E=o.yc(v);if(g instanceof qf)a.push(v);else{const T=ja(g,E);T!=null&&(a.push(v),c.set(v,T))}}));const h=new Pr(a);return new SC(c,h,o.fieldTransforms)}function qy(t,e,n,r,o,a){const c=t.Cc(1,e,n),h=[Ng(e,r,n)],f=[o];if(a.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(Ng(e,a[T])),f.push(a[T+1]);const g=[],v=tr.empty();for(let T=h.length-1;T>=0;--T)if(!NC(g,h[T])){const A=h[T];let M=f[T];M=At(M);const U=c.yc(A);if(M instanceof qf)g.push(A);else{const O=ja(M,U);O!=null&&(g.push(A),v.set(A,O))}}const E=new Pr(g);return new SC(v,E,c.fieldTransforms)}function $N(t,e,n,r=!1){return ja(n,t.Cc(r?4:3,e))}function ja(t,e){if(AC(t=At(t)))return Wy("Unsupported field value:",e,t),PC(t,e);if(t instanceof Oa)return(function(r,o){if(!kC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const h of r){let f=ja(h,o.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Vt.fromDate(r);return{timestampValue:Qh(o.serializer,a)}}if(r instanceof Vt){const a=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,a)}}if(r instanceof Hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rr)return{bytesValue:X1(o.serializer,r._byteString)};if(r instanceof Wt){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_y(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof qs)return(function(c,h){return{mapValue:{fields:{[T1]:{stringValue:x1},[Gh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return yy(h.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Rf(r)}`)})(t,e)}function PC(t,e){const n={};return w1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,((r,o)=>{const a=ja(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function AC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof Hs||t instanceof Rr||t instanceof Wt||t instanceof Oa||t instanceof qs)}function Wy(t,e,n){if(!AC(n)||!g1(n)){const r=Rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ng(t,e,n){if((e=At(e))instanceof oc)return e._internalPath;if(typeof e=="string")return Gy(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const UN=new RegExp("[~\\*/\\[\\]]");function Gy(t,e,n){if(e.search(UN)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oc(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nf(t,e,n,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${o}`),f+=")"),new we(re.INVALID_ARGUMENT,h+t+f)}function NC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BN extends rf{data(){return super.data()}}function Ky(t,e){return typeof e=="string"?Gy(t,e):e instanceof oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class zN extends Jy{}function vi(t,e,...n){let r=[];e instanceof Jy&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((f=>f instanceof Qy)).length,h=a.filter((f=>f instanceof Wf)).length;if(c>1||c>0&&h>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Wf extends zN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wf(e,n,r)}_apply(e){const n=this._parse(e);return OC(e._query,n),new Da(e.firestore,e.converter,bg(e._query,n))}_parse(e){const n=ac(e.firestore);return(function(a,c,h,f,g,v,E){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){yE(E,v);const M=[];for(const U of E)M.push(gE(f,a,U));T={arrayValue:{values:M}}}else T=gE(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||yE(E,v),T=$N(h,c,E,v==="in"||v==="not-in");return cn.create(g,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bo(t,e,n){const r=e,o=Ky("where",t);return Wf._create(o,r,n)}class Qy extends Jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const f of h)OC(c,f),c=bg(c,f)})(e._query,n),new Da(e.firestore,e.converter,bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gE(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D1(e)&&n.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!De.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return N0(t,new De(r))}if(n instanceof Wt)return N0(t,n._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rf(n)}.`)}function yE(t,e){if(!Array.isArray(t)||t.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OC(t,e){const n=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jC{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map((r=>en(r.doubleValue)));return new qs(n)}convertGeoPoint(e){return new Hs(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=So(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);gt(iC(r),9688,{name:e});const o=new vu(r.get(1),r.get(3)),a=new De(r.popFirst(5));return o.isEqual(n)||Ii(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class HN extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Co extends rf{constructor(e,n,r,o,a,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:dn("string",Co._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Sh extends Co{data(e={}){return super.data(e)}}class fa{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Sl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const f=new Sh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Sh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:qN(h.type),doc:f,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){t=qn(t,Wt);const e=qn(t.firestore,gs);return DN(ic(e),t._key).then((n=>LC(e,t,n)))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:dn("string",fa._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Kf extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function ys(t){t=qn(t,Da);const e=qn(t.firestore,gs),n=ic(e),r=new Kf(e);return DC(t._query),ON(n,t._query).then((o=>new fa(e,r,t,o)))}function zl(t,e,n){t=qn(t,Wt);const r=qn(t.firestore,gs),o=Gf(t.converter,e,n);return Bu(r,[Hf(ac(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,un.none())])}function Rt(t,e,n,...r){t=qn(t,Wt);const o=qn(t.firestore,gs),a=ac(o);let c;return c=typeof(e=At(e))=="string"||e instanceof oc?qy(a,"updateDoc",t._key,e,n,r):Hy(a,"updateDoc",t._key,e),Bu(o,[c.toMutation(t._key,un.exists(!0))])}function Yy(t){return Bu(qn(t.firestore,gs),[new Vu(t._key,un.none())])}function Cu(t,e){const n=qn(t.firestore,gs),r=Ne(t),o=Gf(t.converter,e);return Bu(n,[Hf(ac(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then((()=>r))}function Kc(t,...e){t=At(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||mE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mE(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,c,h;if(t instanceof Wt)c=qn(t.firestore,gs),h=Nf(t._key.path),a={next:f=>{e[r]&&e[r](LC(c,t,f))},error:e[r+1],complete:e[r+2]};else{const f=qn(t,Da);c=qn(f.firestore,gs),h=f._query;const g=new Kf(c);a={next:v=>{e[r]&&e[r](new fa(c,g,f,v))},error:e[r+1],complete:e[r+2]},DC(t._query)}return(function(g,v,E,T){const A=new Vy(T),M=new jy(v,A,E);return g.asyncQueue.enqueueAndForget((async()=>Ny(await tf(g),M))),()=>{A.Nu(),g.asyncQueue.enqueueAndForget((async()=>Dy(await tf(g),M)))}})(ic(c),h,o,a)}function Bu(t,e){return(function(r,o){const a=new Bs;return r.asyncQueue.enqueueAndForget((async()=>wN(await AN(r),o,a))),a.promise})(ic(t),e)}function LC(t,e,n){const r=n.docs.get(e._key),o=new Kf(t);return new Co(t,o,e._key,r,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ac(e)}set(e,n,r){this._verifyNotCommitted();const o=mo(e,this._firestore),a=Gf(o.converter,n,r),c=Hf(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,un.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const a=mo(e,this._firestore);let c;return c=typeof(n=At(n))=="string"||n instanceof oc?qy(this._dataReader,"WriteBatch.update",a._key,n,r,o):Hy(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(c.toMutation(a._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mo(e,this._firestore);return this._mutations=this._mutations.concat(new Vu(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mo(t,e){if((t=At(t)).firestore!==e)throw new we(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ac(e)}get(e){const n=mo(e,this._firestore),r=new HN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Me(24041);const a=o[0];if(a.isFoundDocument())return new rf(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new rf(this._firestore,r,n._key,null,n.converter);throw Me(18433,{doc:a})}))}set(e,n,r){const o=mo(e,this._firestore),a=Gf(o.converter,n,r),c=Hf(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,r);return this._transaction.set(o._key,c),this}update(e,n,r,...o){const a=mo(e,this._firestore);let c;return c=typeof(n=At(n))=="string"||n instanceof oc?qy(this._dataReader,"Transaction.update",a._key,n,r,o):Hy(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,c),this}delete(e){const n=mo(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends KN{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=mo(e,this._firestore),r=new Kf(this._firestore);return super.get(e).then((o=>new Co(this._firestore,r,n._key,o._document,new Sl(!1,!1),n.converter)))}}function QN(t,e,n){t=qn(t,gs);const r={...WN,...n};return(function(a){if(a.maxAttempts<1)throw new we(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,c,h){const f=new Bs;return a.asyncQueue.enqueueAndForget((async()=>{const g=await NN(a);new kN(a.asyncQueue,g,h,c,f).ju()})),f.promise})(ic(t),(o=>e(new JN(t,o))),r)}function Xy(){return new $y("serverTimestamp")}function Jf(...t){return new Uy("arrayUnion",t)}function Ca(...t){return new By("arrayRemove",t)}function Hl(t){return new zy("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){return ic(t=qn(t,gs)),new GN(t,(e=>Bu(t,e)))}(function(e,n=!0){(function(o){tc=o})(Ra),ya(new xo("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new gs(new BP(r.getProvider("auth-internal")),new qP(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,v)})(c,o),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),$s(v0,_0,e),$s(v0,_0,"esm2020")})();var XN="firebase",ZN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(XN,ZN,"app");const eD={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},Ln=bb(eD),tD=yr(Ln);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wE="popstate";function nD(t={}){function e(o,a){let{pathname:c="/",search:h="",hash:f=""}=La(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Dg("",{pathname:c,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=o.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof a=="string"?a:Tu(a))}function r(o,a){Qr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return sD(e,n,r,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rD(){return Math.random().toString(36).substring(2,10)}function vE(t,e){return{usr:t.state,key:t.key,idx:e}}function Dg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:n,key:e&&e.key||r||rD()}}function Tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function La(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function sD(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,h="POP",f=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){h="POP";let O=v(),K=O==null?null:O-g;g=O,f&&f({action:h,location:U.location,delta:K})}function T(O,K){h="PUSH";let V=Dg(U.location,O,K);n&&n(V,O),g=v()+1;let z=vE(V,g),Y=U.createHref(V);try{c.pushState(z,"",Y)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(Y)}a&&f&&f({action:h,location:U.location,delta:1})}function A(O,K){h="REPLACE";let V=Dg(U.location,O,K);n&&n(V,O),g=v();let z=vE(V,g),Y=U.createHref(V);c.replaceState(z,"",Y),a&&f&&f({action:h,location:U.location,delta:0})}function M(O){return iD(O)}let U={get action(){return h},get location(){return t(o,c)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(wE,E),f=O,()=>{o.removeEventListener(wE,E),f=null}},createHref(O){return e(o,O)},createURL:M,encodeLocation(O){let K=M(O);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:T,replace:A,go(O){return c.go(O)}};return U}function iD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Tu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MC(t,e,n="/"){return oD(t,e,n,!1)}function oD(t,e,n,r){let o=typeof e=="string"?La(e):e,a=ki(o.pathname||"/",n);if(a==null)return null;let c=VC(t);aD(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=wD(a);h=gD(c[f],g,r)}return h}function VC(t,e=[],n=[],r="",o=!1){let a=(c,h,f=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;zt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=Ei([r,v.relativePath]),T=n.concat(v);c.children&&c.children.length>0&&(zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),VC(c.children,e,T,E,f)),!(c.path==null&&!c.index)&&e.push({path:E,score:pD(E,c.index),routesMeta:T})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let f of FC(c.path))a(c,h,!0,f)}),e}function FC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=FC(r.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function aD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lD=/^:[\w-]+$/,cD=3,uD=2,dD=1,hD=10,fD=-2,_E=t=>t==="*";function pD(t,e){let n=t.split("/"),r=n.length;return n.some(_E)&&(r+=fD),e&&(r+=uD),n.filter(o=>!_E(o)).reduce((o,a)=>o+(lD.test(a)?cD:a===""?dD:hD),r)}function mD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function gD(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],g=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},v),T=f.route;if(!E&&g&&n&&!r[r.length-1].route.index&&(E=sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Ei([a,E.pathname]),pathnameBase:bD(Ei([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Ei([a,E.pathnameBase]))}return c}function sf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yD(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:E},T)=>{if(v==="*"){let M=h[T]||"";c=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const A=h[T];return E&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:t}}function yD(t,e=!1,n=!0){Qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function wD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vD(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?La(t):t;return{pathname:n?n.startsWith("/")?n:_D(n,e):e,search:CD(r),hash:TD(o)}}function _D(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Km(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ED(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zy(t){let e=ED(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ew(t,e,n,r=!1){let o;typeof t=="string"?o=La(t):(o={...t},zt(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),zt(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),zt(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let f=vD(o,h),g=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||v)&&(f.pathname+="/"),f}var Ei=t=>t.join("/").replace(/\/\/+/g,"/"),bD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $C=["POST","PUT","PATCH","DELETE"];new Set($C);var ID=["GET",...$C];new Set(ID);var lc=C.createContext(null);lc.displayName="DataRouter";var Qf=C.createContext(null);Qf.displayName="DataRouterState";C.createContext(!1);var UC=C.createContext({isTransitioning:!1});UC.displayName="ViewTransition";var SD=C.createContext(new Map);SD.displayName="Fetchers";var kD=C.createContext(null);kD.displayName="Await";var vs=C.createContext(null);vs.displayName="Navigation";var zu=C.createContext(null);zu.displayName="Location";var _s=C.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var tw=C.createContext(null);tw.displayName="RouteError";function RD(t,{relative:e}={}){zt(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(vs),{hash:o,pathname:a,search:c}=Hu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:Ei([n,a])),r.createHref({pathname:h,search:c,hash:o})}function cc(){return C.useContext(zu)!=null}function Oo(){return zt(cc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(zu).location}var BC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zC(t){C.useContext(vs).static||C.useLayoutEffect(t)}function nw(){let{isDataRoute:t}=C.useContext(_s);return t?zD():PD()}function PD(){zt(cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(lc),{basename:e,navigator:n}=C.useContext(vs),{matches:r}=C.useContext(_s),{pathname:o}=Oo(),a=JSON.stringify(Zy(r)),c=C.useRef(!1);return zC(()=>{c.current=!0}),C.useCallback((f,g={})=>{if(Qr(c.current,BC),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=ew(f,JSON.parse(a),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ei([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,a,o,t])}C.createContext(null);function AD(){let{matches:t}=C.useContext(_s),e=t[t.length-1];return e?e.params:{}}function Hu(t,{relative:e}={}){let{matches:n}=C.useContext(_s),{pathname:r}=Oo(),o=JSON.stringify(Zy(n));return C.useMemo(()=>ew(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function ND(t,e){return HC(t,e)}function HC(t,e,n,r,o){zt(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(vs),{matches:c}=C.useContext(_s),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let V=E&&E.path||"";qC(g,!E||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let T=Oo(),A;if(e){let V=typeof e=="string"?La(e):e;zt(v==="/"||V.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),A=V}else A=T;let M=A.pathname||"/",U=M;if(v!=="/"){let V=v.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(V.length).join("/")}let O=MC(t,{pathname:U});Qr(E||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Qr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=MD(O&&O.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:Ei([v,a.encodeLocation?a.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:Ei([v,a.encodeLocation?a.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),c,n,r,o);return e&&K?C.createElement(zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},K):K}function DD(){let t=BD(),e=xD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,c)}var OD=C.createElement(DD,null),jD=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(_s.Provider,{value:this.props.routeContext},C.createElement(tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LD({routeContext:t,match:e,children:n}){let r=C.useContext(lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(_s.Provider,{value:t},n)}function MD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let g=a.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);zt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:E,errors:T}=n,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let T,A=!1,M=null,U=null;n&&(T=c&&v.route.id?c[v.route.id]:void 0,M=v.route.errorElement||OD,h&&(f<0&&E===0?(qC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):f===E&&(A=!0,U=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,E+1)),K=()=>{let V;return T?V=M:A?V=U:v.route.Component?V=C.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=g,C.createElement(LD,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:V})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?C.createElement(jD,{location:n.location,revalidation:n.revalidation,component:M,error:T,children:K(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):K()},null)}function rw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VD(t){let e=C.useContext(lc);return zt(e,rw(t)),e}function FD(t){let e=C.useContext(Qf);return zt(e,rw(t)),e}function $D(t){let e=C.useContext(_s);return zt(e,rw(t)),e}function sw(t){let e=$D(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UD(){return sw("useRouteId")}function BD(){let t=C.useContext(tw),e=FD("useRouteError"),n=sw("useRouteError");return t!==void 0?t:e.errors?.[n]}function zD(){let{router:t}=VD("useNavigate"),e=sw("useNavigate"),n=C.useRef(!1);return zC(()=>{n.current=!0}),C.useCallback(async(o,a={})=>{Qr(n.current,BC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var EE={};function qC(t,e,n){!e&&!EE[t]&&(EE[t]=!0,Qr(!1,n))}C.memo(HD);function HD({routes:t,future:e,state:n,unstable_onError:r}){return HC(t,void 0,n,r,e)}function El({to:t,replace:e,state:n,relative:r}){zt(cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(vs);Qr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(_s),{pathname:c}=Oo(),h=nw(),f=ew(t,Zy(a),c,r==="path"),g=JSON.stringify(f);return C.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:r})},[h,g,r,e,n]),null}function oo(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){zt(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=La(n));let{pathname:f="/",search:g="",hash:v="",state:E=null,key:T="default"}=n,A=C.useMemo(()=>{let M=ki(f,c);return M==null?null:{location:{pathname:M,search:g,hash:v,state:E,key:T},navigationType:r}},[c,f,g,v,E,T,r]);return Qr(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:C.createElement(vs.Provider,{value:h},C.createElement(zu.Provider,{children:e,value:A}))}function WD({children:t,location:e}){return ND(Og(t),e)}function Og(t,e=[]){let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let a=[...e,o];if(r.type===C.Fragment){n.push.apply(n,Og(r.props.children,a));return}zt(r.type===oo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Og(r.props.children,a)),n.push(c)}),n}var kh="get",Rh="application/x-www-form-urlencoded";function Yf(t){return t!=null&&typeof t.tagName=="string"}function GD(t){return Yf(t)&&t.tagName.toLowerCase()==="button"}function KD(t){return Yf(t)&&t.tagName.toLowerCase()==="form"}function JD(t){return Yf(t)&&t.tagName.toLowerCase()==="input"}function QD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YD(t,e){return t.button===0&&(!e||e==="_self")&&!QD(t)}var dh=null;function XD(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var ZD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jm(t){return t!=null&&!ZD.has(t)?(Qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rh}"`),null):t}function eO(t,e){let n,r,o,a,c;if(KD(t)){let h=t.getAttribute("action");r=h?ki(h,e):null,n=t.getAttribute("method")||kh,o=Jm(t.getAttribute("enctype"))||Rh,a=new FormData(t)}else if(GD(t)||JD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?ki(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||kh,o=Jm(t.getAttribute("formenctype"))||Jm(h.getAttribute("enctype"))||Rh,a=new FormData(h,t),!XD()){let{name:g,type:v,value:E}=t;if(v==="image"){let T=g?`${g}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else g&&a.append(g,E)}}else{if(Yf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kh,r=null,o=Rh,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ki(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sO(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await nO(a,n);return c.links?c.links():[]}return[]}));return lO(r.flat(1).filter(rO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bE(t,e,n,r,o,a){let c=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,h=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):a==="data"?e.filter((f,g)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function iO(t,e,{includeHydrateFallback:n}={}){return oO(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function oO(t){return[...new Set(t)]}function aO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function lO(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(aO(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function WC(){let t=C.useContext(lc);return iw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cO(){let t=C.useContext(Qf);return iw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ow=C.createContext(void 0);ow.displayName="FrameworkContext";function GC(){let t=C.useContext(ow);return iw(t,"You must render this element inside a <HydratedRouter> element"),t}function uO(t,e){let n=C.useContext(ow),[r,o]=C.useState(!1),[a,c]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,T=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let U=K=>{K.forEach(V=>{c(V.isIntersecting)})},O=new IntersectionObserver(U,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[t]),C.useEffect(()=>{if(r){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[r]);let A=()=>{o(!0)},M=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:Jc(h,A),onBlur:Jc(f,M),onMouseEnter:Jc(g,A),onMouseLeave:Jc(v,M),onTouchStart:Jc(E,A)}]:[!1,T,{}]}function Jc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dO({page:t,...e}){let{router:n}=WC(),r=C.useMemo(()=>MC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(fO,{page:t,matches:r,...e}):null}function hO(t){let{manifest:e,routeModules:n}=GC(),[r,o]=C.useState([]);return C.useEffect(()=>{let a=!1;return sO(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),r}function fO({page:t,matches:e,...n}){let r=Oo(),{manifest:o,routeModules:a}=GC(),{basename:c}=WC(),{loaderData:h,matches:f}=cO(),g=C.useMemo(()=>bE(t,e,f,o,r,"data"),[t,e,f,o,r]),v=C.useMemo(()=>bE(t,e,f,o,r,"assets"),[t,e,f,o,r]),E=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let M=new Set,U=!1;if(e.forEach(K=>{let V=o.routes[K.route.id];!V||!V.hasLoader||(!g.some(z=>z.route.id===K.route.id)&&K.route.id in h&&a[K.route.id]?.shouldRevalidate||V.hasClientLoader?U=!0:M.add(K.route.id))}),M.size===0)return[];let O=tO(t,c,"data");return U&&M.size>0&&O.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[O.pathname+O.search]},[c,h,r,o,g,e,t,a]),T=C.useMemo(()=>iO(v,o),[v,o]),A=hO(v);return C.createElement(C.Fragment,null,E.map(M=>C.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),T.map(M=>C.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),A.map(({key:M,link:U})=>C.createElement("link",{key:M,nonce:n.nonce,...U})))}function pO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KC&&(window.__reactRouterVersion="7.8.2")}catch{}function mO({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=nD({window:n,v5Compat:!0}));let o=r.current,[a,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(f=>{C.startTransition(()=>c(f))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(qD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var JC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:c,state:h,target:f,to:g,preventScrollReset:v,viewTransition:E,...T},A){let{basename:M}=C.useContext(vs),U=typeof g=="string"&&JC.test(g),O,K=!1;if(typeof g=="string"&&U&&(O=g,KC))try{let k=new URL(window.location.href),R=g.startsWith("//")?new URL(k.protocol+g):new URL(g),D=ki(R.pathname,M);R.origin===k.origin&&D!=null?g=D+R.search+R.hash:K=!0}catch{Qr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=RD(g,{relative:o}),[z,Y,ie]=uO(r,T),Q=vO(g,{replace:c,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:E});function I(k){e&&e(k),k.defaultPrevented||Q(k)}let x=C.createElement("a",{...T,...ie,href:O||V,onClick:K||a?e:I,ref:pO(A,Y),target:f,"data-discover":!U&&n==="render"?"true":void 0});return z&&!U?C.createElement(C.Fragment,null,x,C.createElement(dO,{page:V})):x});_t.displayName="Link";var gO=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:c,viewTransition:h,children:f,...g},v){let E=Hu(c,{relative:g.relative}),T=Oo(),A=C.useContext(Qf),{navigator:M,basename:U}=C.useContext(vs),O=A!=null&&TO(E)&&h===!0,K=M.encodeLocation?M.encodeLocation(E).pathname:E.pathname,V=T.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(V=V.toLowerCase(),z=z?z.toLowerCase():null,K=K.toLowerCase()),z&&U&&(z=ki(z,U)||z);const Y=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ie=V===K||!o&&V.startsWith(K)&&V.charAt(Y)==="/",Q=z!=null&&(z===K||!o&&z.startsWith(K)&&z.charAt(K.length)==="/"),I={isActive:ie,isPending:Q,isTransitioning:O},x=ie?e:void 0,k;typeof r=="function"?k=r(I):k=[r,ie?"active":null,Q?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(I):a;return C.createElement(_t,{...g,"aria-current":x,className:k,ref:v,style:R,to:c,viewTransition:h},typeof f=="function"?f(I):f)});gO.displayName="NavLink";var yO=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:c=kh,action:h,onSubmit:f,relative:g,preventScrollReset:v,viewTransition:E,...T},A)=>{let M=bO(),U=CO(h,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&JC.test(h),V=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let Y=z.nativeEvent.submitter,ie=Y?.getAttribute("formmethod")||c;M(Y||z.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:a,relative:g,preventScrollReset:v,viewTransition:E})};return C.createElement("form",{ref:A,method:O,action:U,onSubmit:r?f:V,...T,"data-discover":!K&&t==="render"?"true":void 0})});yO.displayName="Form";function wO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QC(t){let e=C.useContext(lc);return zt(e,wO(t)),e}function vO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=nw(),f=Oo(),g=Hu(t,{relative:a});return C.useCallback(v=>{if(YD(v,e)){v.preventDefault();let E=n!==void 0?n:Tu(f)===Tu(g);h(t,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:c})}},[f,h,g,n,r,e,t,o,a,c])}var _O=0,EO=()=>`__${String(++_O)}__`;function bO(){let{router:t}=QC("useSubmit"),{basename:e}=C.useContext(vs),n=UD();return C.useCallback(async(r,o={})=>{let{action:a,method:c,encType:h,formData:f,body:g}=eO(r,e);if(o.navigate===!1){let v=o.fetcherKey||EO();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function CO(t,{relative:e}={}){let{basename:n}=C.useContext(vs),r=C.useContext(_s);zt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Hu(t||".",{relative:e})},c=Oo();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ei([n,a.pathname])),Tu(a)}function TO(t,{relative:e}={}){let n=C.useContext(UC);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QC("useViewTransitionState"),o=Hu(t,{relative:e});if(!n.isTransitioning)return!1;let a=ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sf(o.pathname,c)!=null||sf(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function YC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function xO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CE(t,e){return t.get(YC(t,e))}function IO(t,e,n){xO(t,e),e.set(t,n)}function SO(t,e,n){return t.set(YC(t,e),n),n}const kO=100,Ue={},RO=()=>{Ue.previousActiveElement instanceof HTMLElement?(Ue.previousActiveElement.focus(),Ue.previousActiveElement=null):document.body&&document.body.focus()},PO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Ue.restoreFocusTimeout=setTimeout(()=>{RO(),e()},kO),window.scrollTo(n,r)}),XC="swal2-",AO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],te=AO.reduce((t,e)=>(t[e]=XC+e,t),{}),NO=["success","warning","info","question","error"],of=NO.reduce((t,e)=>(t[e]=XC+e,t),{}),ZC="SweetAlert2:",aw=t=>t.charAt(0).toUpperCase()+t.slice(1),nr=t=>{console.warn(`${ZC} ${typeof t=="object"?t.join(" "):t}`)},Ma=t=>{console.error(`${ZC} ${t}`)},TE=[],DO=t=>{TE.includes(t)||(TE.push(t),nr(t))},eT=(t,e=null)=>{DO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Xf=t=>typeof t=="function"?t():t,lw=t=>t&&typeof t.toPromise=="function",qu=t=>lw(t)?t.toPromise():Promise.resolve(t),cw=t=>t&&Promise.resolve(t)===t,rr=()=>document.body.querySelector(`.${te.container}`),Wu=t=>{const e=rr();return e?e.querySelector(t):null},Or=t=>Wu(`.${t}`),vt=()=>Or(te.popup),uc=()=>Or(te.icon),OO=()=>Or(te["icon-content"]),tT=()=>Or(te.title),uw=()=>Or(te["html-container"]),nT=()=>Or(te.image),dw=()=>Or(te["progress-steps"]),Zf=()=>Or(te["validation-message"]),Gs=()=>Wu(`.${te.actions} .${te.confirm}`),dc=()=>Wu(`.${te.actions} .${te.cancel}`),Va=()=>Wu(`.${te.actions} .${te.deny}`),jO=()=>Or(te["input-label"]),hc=()=>Wu(`.${te.loader}`),Gu=()=>Or(te.actions),rT=()=>Or(te.footer),ep=()=>Or(te["timer-progress-bar"]),hw=()=>Or(te.close),LO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,fw=()=>{const t=vt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(LO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>gr(a))},pw=()=>bi(document.body,te.shown)&&!bi(document.body,te["toast-shown"])&&!bi(document.body,te["no-backdrop"]),tp=()=>{const t=vt();return t?bi(t,te.toast):!1},MO=()=>{const t=vt();return t?t.hasAttribute("data-loading"):!1},jr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(c=>{t.appendChild(c)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},bi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},VO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(te).includes(n)&&!Object.values(of).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Dr=(t,e,n)=>{if(VO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){nr(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Et(t,r)}},np=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${te.popup} > .${te[e]}`);case"checkbox":return t.querySelector(`.${te.popup} > .${te.checkbox} input`);case"radio":return t.querySelector(`.${te.popup} > .${te.radio} input:checked`)||t.querySelector(`.${te.popup} > .${te.radio} input:first-child`);case"range":return t.querySelector(`.${te.popup} > .${te.range} input`);default:return t.querySelector(`.${te.popup} > .${te.input}`)}},sT=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},iT=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Et=(t,e)=>{iT(t,e,!0)},Yr=(t,e)=>{iT(t,e,!1)},go=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&bi(o,e))return o}},pa=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Sn=(t,e="flex")=>{t&&(t.style.display=e)},Gn=t=>{t&&(t.style.display="none")},mw=(t,e="block")=>{t&&new MutationObserver(()=>{Ku(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},xE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Ku=(t,e,n="flex")=>{e?Sn(t,n):Gn(t)},gr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),FO=()=>!gr(Gs())&&!gr(Va())&&!gr(dc()),jg=t=>t.scrollHeight>t.clientHeight,$O=(t,e)=>{let n=t;for(;n&&n!==e;){if(jg(n))return!0;n=n.parentElement}return!1},oT=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},gw=(t,e=!1)=>{const n=ep();n&&gr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},UO=()=>{const t=ep();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},BO=()=>typeof window>"u"||typeof document>"u",zO=`
 <div aria-labelledby="${te.title}" aria-describedby="${te["html-container"]}" class="${te.popup}" tabindex="-1">
   <button type="button" class="${te.close}"></button>
   <ul class="${te["progress-steps"]}"></ul>
   <div class="${te.icon}"></div>
   <img class="${te.image}" />
   <h2 class="${te.title}" id="${te.title}"></h2>
   <div class="${te["html-container"]}" id="${te["html-container"]}"></div>
   <input class="${te.input}" id="${te.input}" />
   <input type="file" class="${te.file}" />
   <div class="${te.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${te.select}" id="${te.select}"></select>
   <div class="${te.radio}"></div>
   <label class="${te.checkbox}">
     <input type="checkbox" id="${te.checkbox}" />
     <span class="${te.label}"></span>
   </label>
   <textarea class="${te.textarea}" id="${te.textarea}"></textarea>
   <div class="${te["validation-message"]}" id="${te["validation-message"]}"></div>
   <div class="${te.actions}">
     <div class="${te.loader}"></div>
     <button type="button" class="${te.confirm}"></button>
     <button type="button" class="${te.deny}"></button>
     <button type="button" class="${te.cancel}"></button>
   </div>
   <div class="${te.footer}"></div>
   <div class="${te["timer-progress-bar-container"]}">
     <div class="${te["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),HO=()=>{const t=rr();return t?(t.remove(),Yr([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0):!1},la=()=>{Ue.currentInstance.resetValidationMessage()},qO=()=>{const t=vt(),e=go(t,te.input),n=go(t,te.file),r=t.querySelector(`.${te.range} input`),o=t.querySelector(`.${te.range} output`),a=go(t,te.select),c=t.querySelector(`.${te.checkbox} input`),h=go(t,te.textarea);e.oninput=la,n.onchange=la,a.onchange=la,c.onchange=la,h.oninput=la,r.oninput=()=>{la(),o.value=r.value},r.onchange=()=>{la(),o.value=r.value}},WO=t=>typeof t=="string"?document.querySelector(t):t,GO=t=>{const e=vt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},KO=t=>{window.getComputedStyle(t).direction==="rtl"&&Et(rr(),te.rtl)},JO=t=>{const e=HO();if(BO()){Ma("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=te.container,e&&Et(n,te["no-transition"]),jr(n,zO),n.dataset.swal2Theme=t.theme;const r=WO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),GO(t),KO(r),qO()},yw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?QO(t,e):t&&jr(e,t)},QO=(t,e)=>{t.jquery?YO(e,t):jr(e,t.toString())},YO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},XO=(t,e)=>{const n=Gu(),r=hc();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Gn(n):Sn(n),Dr(n,e,"actions"),ZO(n,r,e),jr(r,e.loaderHtml||""),Dr(r,e,"loader"))};function ZO(t,e,n){const r=Gs(),o=Va(),a=dc();!r||!o||!a||(Ym(r,"confirm",n),Ym(o,"deny",n),Ym(a,"cancel",n),ej(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function ej(t,e,n,r){if(!r.buttonsStyling){Yr([t,e,n],te.styled);return}Et([t,e,n],te.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Qm(t),Qm(e),Qm(n)}function Qm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Ym(t,e,n){const r=aw(e);Ku(t,n[`show${r}Button`],"inline-block"),jr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=te[e],Dr(t,n,`${e}Button`)}const tj=(t,e)=>{const n=hw();n&&(jr(n,e.closeButtonHtml||""),Dr(n,e,"closeButton"),Ku(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},nj=(t,e)=>{const n=rr();n&&(rj(n,e.backdrop),sj(n,e.position),ij(n,e.grow),Dr(n,e,"container"))};function rj(t,e){typeof e=="string"?t.style.background=e:e||Et([document.documentElement,document.body],te["no-backdrop"])}function sj(t,e){e&&(e in te?Et(t,te[e]):(nr('The "position" parameter is not valid, defaulting to "center"'),Et(t,te.center)))}function ij(t,e){e&&Et(t,te[`grow-${e}`])}var Ot={innerParams:new WeakMap,domCache:new WeakMap};const oj=["input","file","range","select","radio","checkbox","textarea"],aj=(t,e)=>{const n=vt();if(!n)return;const r=Ot.innerParams.get(t),o=!r||e.input!==r.input;oj.forEach(a=>{const c=go(n,te[a]);c&&(uj(a,e.inputAttributes),c.className=te[a],o&&Gn(c))}),e.input&&(o&&lj(e),dj(e))},lj=t=>{if(!t.input)return;if(!Zt[t.input]){Ma(`Unexpected type of input! Expected ${Object.keys(Zt).join(" | ")}, got "${t.input}"`);return}const e=aT(t.input);if(!e)return;const n=Zt[t.input](e,t);Sn(e),t.inputAutoFocus&&setTimeout(()=>{sT(n)})},cj=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},uj=(t,e)=>{const n=vt();if(!n)return;const r=np(n,t);if(r){cj(r);for(const o in e)r.setAttribute(o,e[o])}},dj=t=>{if(!t.input)return;const e=aT(t.input);e&&Dr(e,t,"input")},ww=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Ju=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=te["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&Et(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},aT=t=>{const e=vt();if(e)return go(e,te[t]||te.input)},af=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:cw(e)||nr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Zt={};Zt.text=Zt.email=Zt.password=Zt.number=Zt.tel=Zt.url=Zt.search=Zt.date=Zt["datetime-local"]=Zt.time=Zt.week=Zt.month=(t,e)=>(af(t,e.inputValue),Ju(t,t,e),ww(t,e),t.type=e.input,t);Zt.file=(t,e)=>(Ju(t,t,e),ww(t,e),t);Zt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return af(n,e.inputValue),n.type=e.input,af(r,e.inputValue),Ju(n,t,e),t};Zt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");jr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Ju(t,t,e),t};Zt.radio=t=>(t.textContent="",t);Zt.checkbox=(t,e)=>{const n=np(vt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return jr(r,e.inputPlaceholder||e.inputLabel),n};Zt.textarea=(t,e)=>{af(t,e.inputValue),ww(t,e),Ju(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(vt()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?vt().style.width=`${a}px`:pa(vt(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const hj=(t,e)=>{const n=uw();n&&(mw(n),Dr(n,e,"htmlContainer"),e.html?(yw(e.html,n),Sn(n,"block")):e.text?(n.textContent=e.text,Sn(n,"block")):Gn(n),aj(t,e))},fj=(t,e)=>{const n=rT();n&&(mw(n),Ku(n,e.footer,"block"),e.footer&&yw(e.footer,n),Dr(n,e,"footer"))},pj=(t,e)=>{const n=Ot.innerParams.get(t),r=uc();if(!r)return;if(n&&e.icon===n.icon){SE(r,e),IE(r,e);return}if(!e.icon&&!e.iconHtml){Gn(r);return}if(e.icon&&Object.keys(of).indexOf(e.icon)===-1){Ma(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Gn(r);return}Sn(r),SE(r,e),IE(r,e),Et(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",lT)},IE=(t,e)=>{for(const[n,r]of Object.entries(of))e.icon!==n&&Yr(t,r);Et(t,e.icon&&of[e.icon]),yj(t,e),lT(),Dr(t,e,"icon")},lT=()=>{const t=vt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},mj=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,gj=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,SE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=kE(e.iconHtml):e.icon==="success"?(r=mj(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=gj:e.icon&&(r=kE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&jr(t,r)},yj=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])xE(t,n,"background-color",e.iconColor);xE(t,".swal2-success-ring","border-color",e.iconColor)}},kE=t=>`<div class="${te["icon-content"]}">${t}</div>`,wj=(t,e)=>{const n=nT();if(n){if(!e.imageUrl){Gn(n);return}Sn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),pa(n,"width",e.imageWidth),pa(n,"height",e.imageHeight),n.className=te.image,Dr(n,e,"image")}};let vw=!1,cT=0,uT=0,dT=0,hT=0;const vj=t=>{t.addEventListener("mousedown",lf),document.body.addEventListener("mousemove",cf),t.addEventListener("mouseup",uf),t.addEventListener("touchstart",lf),document.body.addEventListener("touchmove",cf),t.addEventListener("touchend",uf)},_j=t=>{t.removeEventListener("mousedown",lf),document.body.removeEventListener("mousemove",cf),t.removeEventListener("mouseup",uf),t.removeEventListener("touchstart",lf),document.body.removeEventListener("touchmove",cf),t.removeEventListener("touchend",uf)},lf=t=>{const e=vt();if(t.target===e||uc().contains(t.target)){vw=!0;const n=fT(t);cT=n.clientX,uT=n.clientY,dT=parseInt(e.style.insetInlineStart)||0,hT=parseInt(e.style.insetBlockStart)||0,Et(e,"swal2-dragging")}},cf=t=>{const e=vt();if(vw){let{clientX:n,clientY:r}=fT(t);e.style.insetInlineStart=`${dT+(n-cT)}px`,e.style.insetBlockStart=`${hT+(r-uT)}px`}},uf=()=>{const t=vt();vw=!1,Yr(t,"swal2-dragging")},fT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},Ej=(t,e)=>{const n=rr(),r=vt();if(!(!n||!r)){if(e.toast){pa(n,"width",e.width),r.style.width="100%";const o=hc();o&&r.insertBefore(o,uc())}else pa(r,"width",e.width);pa(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Gn(Zf()),bj(r,e),e.draggable&&!e.toast?(Et(r,te.draggable),vj(r)):(Yr(r,te.draggable),_j(r))}},bj=(t,e)=>{const n=e.showClass||{};t.className=`${te.popup} ${gr(t)?n.popup:""}`,e.toast?(Et([document.documentElement,document.body],te["toast-shown"]),Et(t,te.toast)):Et(t,te.modal),Dr(t,e,"popup"),typeof e.customClass=="string"&&Et(t,e.customClass),e.icon&&Et(t,te[`icon-${e.icon}`])},Cj=(t,e)=>{const n=dw();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){Gn(n);return}Sn(n),n.textContent="",o>=r.length&&nr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,c)=>{const h=Tj(a);if(n.appendChild(h),c===o&&Et(h,te["active-progress-step"]),c!==r.length-1){const f=xj(e);n.appendChild(f)}})},Tj=t=>{const e=document.createElement("li");return Et(e,te["progress-step"]),jr(e,t),e},xj=t=>{const e=document.createElement("li");return Et(e,te["progress-step-line"]),t.progressStepsDistance&&pa(e,"width",t.progressStepsDistance),e},Ij=(t,e)=>{const n=tT();n&&(mw(n),Ku(n,e.title||e.titleText,"block"),e.title&&yw(e.title,n),e.titleText&&(n.innerText=e.titleText),Dr(n,e,"title"))},pT=(t,e)=>{Ej(t,e),nj(t,e),Cj(t,e),pj(t,e),wj(t,e),Ij(t,e),tj(t,e),hj(t,e),XO(t,e),fj(t,e);const n=vt();typeof e.didRender=="function"&&n&&e.didRender(n),Ue.eventEmitter.emit("didRender",n)},Sj=()=>gr(vt()),mT=()=>{var t;return(t=Gs())===null||t===void 0?void 0:t.click()},kj=()=>{var t;return(t=Va())===null||t===void 0?void 0:t.click()},Rj=()=>{var t;return(t=dc())===null||t===void 0?void 0:t.click()},fc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),gT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Pj=(t,e,n)=>{gT(t),e.toast||(t.keydownHandler=r=>Nj(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:vt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Lg=(t,e)=>{var n;const r=fw();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=vt())===null||n===void 0||n.focus()},yT=["ArrowRight","ArrowDown"],Aj=["ArrowLeft","ArrowUp"],Nj=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Dj(e,t):e.key==="Tab"?Oj(e):[...yT,...Aj].includes(e.key)?jj(e.key):e.key==="Escape"&&Lj(e,t,n)))},Dj=(t,e)=>{if(!Xf(e.allowEnterKey))return;const n=np(vt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;mT(),t.preventDefault()}},Oj=t=>{const e=t.target,n=fw();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?Lg(r,-1):Lg(r,1),t.stopPropagation(),t.preventDefault()},jj=t=>{const e=Gu(),n=Gs(),r=Va(),o=dc();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const c=yT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&gr(h))break}h instanceof HTMLButtonElement&&h.focus()}},Lj=(t,e,n)=>{t.preventDefault(),Xf(e.allowEscapeKey)&&n(fc.esc)};var ql={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Mj=()=>{const t=rr();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},wT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},vT=typeof window<"u"&&!!window.GestureEvent,Vj=()=>{if(vT&&!bi(document.body,te.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Et(document.body,te.iosfix),Fj()}},Fj=()=>{const t=rr();if(!t)return;let e;t.ontouchstart=n=>{e=$j(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},$j=t=>{const e=t.target,n=rr(),r=uw();return!n||!r||Uj(t)||Bj(t)?!1:e===n||!jg(n)&&e instanceof HTMLElement&&!$O(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(jg(r)&&r.contains(e))},Uj=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",Bj=t=>t.touches&&t.touches.length>1,zj=()=>{if(bi(document.body,te.iosfix)){const t=parseInt(document.body.style.top,10);Yr(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Hj=()=>{const t=document.createElement("div");t.className=te["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Dl=null;const qj=t=>{Dl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Dl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Dl+Hj()}px`)},Wj=()=>{Dl!==null&&(document.body.style.paddingRight=`${Dl}px`,Dl=null)};function _T(t,e,n,r){tp()?RE(t,r):(PO(n).then(()=>RE(t,r)),gT(Ue)),vT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),pw()&&(Wj(),zj(),wT()),Gj()}function Gj(){Yr([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}function yo(t){t=Jj(t);const e=ql.swalPromiseResolve.get(this),n=Kj(this);this.isAwaitingPromise?t.isDismissed||(Qu(this),e(t)):n&&e(t)}const Kj=t=>{const e=vt();if(!e)return!1;const n=Ot.innerParams.get(t);if(!n||bi(e,n.hideClass.popup))return!1;Yr(e,n.showClass.popup),Et(e,n.hideClass.popup);const r=rr();return Yr(r,n.showClass.backdrop),Et(r,n.hideClass.backdrop),Qj(t,e,n),!0};function ET(t){const e=ql.swalPromiseReject.get(this);Qu(this),e&&e(t)}const Qu=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ot.innerParams.get(t)||t._destroy())},Jj=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Qj=(t,e,n)=>{var r;const o=rr(),a=oT(e);typeof n.willClose=="function"&&n.willClose(e),(r=Ue.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?Yj(t,e,o,n.returnFocus,n.didClose):_T(t,o,n.returnFocus,n.didClose)},Yj=(t,e,n,r,o)=>{Ue.swalCloseEventFinishedCallback=_T.bind(null,t,n,r,o);const a=function(c){if(c.target===e){var h;(h=Ue.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Ue),delete Ue.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},RE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Ue.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Wl=t=>{let e=vt();if(e||new Pe,e=vt(),!e)return;const n=hc();tp()?Gn(uc()):Xj(e,t),Sn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Xj=(t,e)=>{const n=Gu(),r=hc();!n||!r||(!e&&gr(Gs())&&(e=Gs()),Sn(n),e&&(Gn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Et([t,n],te.loading))},Zj=(t,e)=>{e.input==="select"||e.input==="radio"?sL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(lw(e.inputValue)||cw(e.inputValue))&&(Wl(Gs()),iL(t,e))},eL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return tL(n);case"radio":return nL(n);case"file":return rL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},tL=t=>t.checked?1:0,nL=t=>t.checked?t.value:null,rL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,sL=(t,e)=>{const n=vt();if(!n)return;const r=o=>{e.input==="select"?oL(n,df(o),e):e.input==="radio"&&aL(n,df(o),e)};lw(e.inputOptions)||cw(e.inputOptions)?(Wl(Gs()),qu(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ma(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},iL=(t,e)=>{const n=t.getInput();n&&(Gn(n),qu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Sn(n),n.focus(),t.hideLoading()}).catch(r=>{Ma(`Error in inputValue promise: ${r}`),n.value="",Sn(n),n.focus(),t.hideLoading()}))};function oL(t,e,n){const r=go(t,te.select);if(!r)return;const o=(a,c,h)=>{const f=document.createElement("option");f.value=h,jr(f,c),f.selected=bT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const c=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=c,f.disabled=!1,r.appendChild(f),h.forEach(g=>o(f,g[1],g[0]))}else o(r,h,c)}),r.focus()}function aL(t,e,n){const r=go(t,te.radio);if(!r)return;e.forEach(a=>{const c=a[0],h=a[1],f=document.createElement("input"),g=document.createElement("label");f.type="radio",f.name=te.radio,f.value=c,bT(c,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");jr(v,h),v.className=te.label,g.appendChild(f),g.appendChild(v),r.appendChild(g)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const df=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=df(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=df(r)),e.push([n,r])}),e},bT=(t,e)=>!!e&&e.toString()===t.toString(),lL=t=>{const e=Ot.innerParams.get(t);t.disableButtons(),e.input?CT(t,"confirm"):Ew(t,!0)},cL=t=>{const e=Ot.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?CT(t,"deny"):_w(t,!1)},uL=(t,e)=>{t.disableButtons(),e(fc.cancel)},CT=(t,e)=>{const n=Ot.innerParams.get(t);if(!n.input){Ma(`The "input" parameter is needed to be set when using returnInputValueOn${aw(e)}`);return}const r=t.getInput(),o=eL(t,n);n.inputValidator?dL(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?_w(t,o):Ew(t,o)},dL=(t,e,n)=>{const r=Ot.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>qu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?_w(t,e):Ew(t,e)})},_w=(t,e)=>{const n=Ot.innerParams.get(t||void 0);n.showLoaderOnDeny&&Wl(Va()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>qu(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Qu(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>TT(t||void 0,o))):t.close({isDenied:!0,value:e})},PE=(t,e)=>{t.close({isConfirmed:!0,value:e})},TT=(t,e)=>{t.rejectPromise(e)},Ew=(t,e)=>{const n=Ot.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Wl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>qu(n.preConfirm(e,n.validationMessage))).then(o=>{gr(Zf())||o===!1?(t.hideLoading(),Qu(t)):PE(t,typeof o>"u"?e:o)}).catch(o=>TT(t||void 0,o))):PE(t,e)};function hf(){const t=Ot.innerParams.get(this);if(!t)return;const e=Ot.domCache.get(this);Gn(e.loader),tp()?t.icon&&Sn(uc()):hL(e),Yr([e.popup,e.actions],te.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const hL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Sn(e[0],"inline-block"):FO()&&Gn(t.actions)};function xT(){const t=Ot.innerParams.get(this),e=Ot.domCache.get(this);return e?np(e.popup,t.input):null}function IT(t,e,n){const r=Ot.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function ST(t,e){const n=vt();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${te.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function kT(){IT(this,["confirmButton","denyButton","cancelButton"],!1)}function RT(){IT(this,["confirmButton","denyButton","cancelButton"],!0)}function PT(){ST(this.getInput(),!1)}function AT(){ST(this.getInput(),!0)}function NT(t){const e=Ot.domCache.get(this),n=Ot.innerParams.get(this);jr(e.validationMessage,t),e.validationMessage.className=te["validation-message"],n.customClass&&n.customClass.validationMessage&&Et(e.validationMessage,n.customClass.validationMessage),Sn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",te["validation-message"]),sT(r),Et(r,te.inputerror))}function DT(){const t=Ot.domCache.get(this);t.validationMessage&&Gn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Yr(e,te.inputerror))}const Ol={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},fL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],pL={allowEnterKey:void 0},mL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],OT=t=>Object.prototype.hasOwnProperty.call(Ol,t),jT=t=>fL.indexOf(t)!==-1,LT=t=>pL[t],gL=t=>{OT(t)||nr(`Unknown parameter "${t}"`)},yL=t=>{mL.includes(t)&&nr(`The parameter "${t}" is incompatible with toasts`)},wL=t=>{const e=LT(t);e&&eT(t,e)},MT=t=>{t.backdrop===!1&&t.allowOutsideClick&&nr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&nr(`Invalid theme "${t.theme}"`);for(const e in t)gL(e),t.toast&&yL(e),wL(e)};function VT(t){const e=rr(),n=vt(),r=Ot.innerParams.get(this);if(!n||bi(n,r.hideClass.popup)){nr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=vL(t),a=Object.assign({},r,o);MT(a),e.dataset.swal2Theme=a.theme,pT(this,a),Ot.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const vL=t=>{const e={};return Object.keys(t).forEach(n=>{jT(n)?e[n]=t[n]:nr(`Invalid parameter to update: ${n}`)}),e};function FT(){const t=Ot.domCache.get(this),e=Ot.innerParams.get(this);if(!e){$T(this);return}t.popup&&Ue.swalCloseEventFinishedCallback&&(Ue.swalCloseEventFinishedCallback(),delete Ue.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ue.eventEmitter.emit("didDestroy"),_L(this)}const _L=t=>{$T(t),delete t.params,delete Ue.keydownHandler,delete Ue.keydownTarget,delete Ue.currentInstance},$T=t=>{t.isAwaitingPromise?(Xm(Ot,t),t.isAwaitingPromise=!0):(Xm(ql,t),Xm(Ot,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Xm=(t,e)=>{for(const n in t)t[n].delete(e)};var EL=Object.freeze({__proto__:null,_destroy:FT,close:yo,closeModal:yo,closePopup:yo,closeToast:yo,disableButtons:RT,disableInput:AT,disableLoading:hf,enableButtons:kT,enableInput:PT,getInput:xT,handleAwaitingPromise:Qu,hideLoading:hf,rejectPromise:ET,resetValidationMessage:DT,showValidationMessage:NT,update:VT});const bL=(t,e,n)=>{t.toast?CL(t,e,n):(xL(e),IL(e),SL(t,e,n))},CL=(t,e,n)=>{e.popup.onclick=()=>{t&&(TL(t)||t.timer||t.input)||n(fc.close)}},TL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let ff=!1;const xL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(ff=!0)}}},IL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(ff=!0)}}},SL=(t,e,n)=>{e.container.onclick=r=>{if(ff){ff=!1;return}r.target===e.container&&Xf(t.allowOutsideClick)&&n(fc.backdrop)}},kL=t=>typeof t=="object"&&t.jquery,AE=t=>t instanceof Element||kL(t),RL=t=>{const e={};return typeof t[0]=="object"&&!AE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||AE(o)?e[n]=o:o!==void 0&&Ma(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function PL(...t){return new this(...t)}function AL(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const NL=()=>Ue.timeout&&Ue.timeout.getTimerLeft(),UT=()=>{if(Ue.timeout)return UO(),Ue.timeout.stop()},BT=()=>{if(Ue.timeout){const t=Ue.timeout.start();return gw(t),t}},DL=()=>{const t=Ue.timeout;return t&&(t.running?UT():BT())},OL=t=>{if(Ue.timeout){const e=Ue.timeout.increase(t);return gw(e,!0),e}},jL=()=>!!(Ue.timeout&&Ue.timeout.isRunning());let NE=!1;const Mg={};function LL(t="data-swal-template"){Mg[t]=this,NE||(document.body.addEventListener("click",ML),NE=!0)}const ML=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Mg){const r=e.getAttribute(n);if(r){Mg[n].fire({template:r});return}}};class VL{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ue.eventEmitter=new VL;const FL=(t,e)=>{Ue.eventEmitter.on(t,e)},$L=(t,e)=>{Ue.eventEmitter.once(t,e)},UL=(t,e)=>{if(!t){Ue.eventEmitter.reset();return}e?Ue.eventEmitter.removeListener(t,e):Ue.eventEmitter.removeAllListeners(t)};var BL=Object.freeze({__proto__:null,argsToParams:RL,bindClickHandler:LL,clickCancel:Rj,clickConfirm:mT,clickDeny:kj,enableLoading:Wl,fire:PL,getActions:Gu,getCancelButton:dc,getCloseButton:hw,getConfirmButton:Gs,getContainer:rr,getDenyButton:Va,getFocusableElements:fw,getFooter:rT,getHtmlContainer:uw,getIcon:uc,getIconContent:OO,getImage:nT,getInputLabel:jO,getLoader:hc,getPopup:vt,getProgressSteps:dw,getTimerLeft:NL,getTimerProgressBar:ep,getTitle:tT,getValidationMessage:Zf,increaseTimer:OL,isDeprecatedParameter:LT,isLoading:MO,isTimerRunning:jL,isUpdatableParameter:jT,isValidParameter:OT,isVisible:Sj,mixin:AL,off:UL,on:FL,once:$L,resumeTimer:BT,showLoading:Wl,stopTimer:UT,toggleTimer:DL});class zL{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const zT=["swal-title","swal-html","swal-footer"],HL=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return XL(n),Object.assign(qL(n),WL(n),GL(n),KL(n),JL(n),QL(n),YL(n,zT))},qL=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Ta(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof Ol[o]=="boolean"?e[o]=a!=="false":typeof Ol[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},WL=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},GL=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Ta(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${aw(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},KL=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ta(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},JL=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ta(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},QL=t=>{const e={},n=t.querySelector("swal-input");n&&(Ta(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{Ta(o,["value"]);const a=o.getAttribute("value");if(!a)return;const c=o.innerHTML;e.inputOptions[a]=c})),e},YL=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(Ta(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},XL=t=>{const e=zT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||nr(`Unrecognized element <${r}>`)})},Ta=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&nr([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},HT=10,ZL=t=>{const e=rr(),n=vt();typeof t.willOpen=="function"&&t.willOpen(n),Ue.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;nM(e,n,t),setTimeout(()=>{eM(e,n)},HT),pw()&&(tM(e,t.scrollbarPadding,o),Mj()),!tp()&&!Ue.previousActiveElement&&(Ue.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Ue.eventEmitter.emit("didOpen",n),Yr(e,te["no-transition"])},pf=t=>{const e=vt();if(t.target!==e)return;const n=rr();e.removeEventListener("animationend",pf),e.removeEventListener("transitionend",pf),n.style.overflowY="auto"},eM=(t,e)=>{oT(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",pf),e.addEventListener("transitionend",pf)):t.style.overflowY="auto"},tM=(t,e,n)=>{Vj(),e&&n!=="hidden"&&qj(n),setTimeout(()=>{t.scrollTop=0})},nM=(t,e,n)=>{Et(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Sn(e,"grid"),setTimeout(()=>{Et(e,n.showClass.popup),e.style.removeProperty("opacity")},HT)):Sn(e,"grid"),Et([document.documentElement,document.body],te.shown),n.heightAuto&&n.backdrop&&!n.toast&&Et([document.documentElement,document.body],te["height-auto"])};var DE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function rM(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=DE.email),t.input==="url"&&(t.inputValidator=DE.url))}function sM(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(nr('Target parameter is not valid, defaulting to "body"'),t.target="body")}function iM(t){rM(t),t.showLoaderOnConfirm&&!t.preConfirm&&nr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),sM(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),JO(t)}let Ms;var hh=new WeakMap;class tn{constructor(...e){if(IO(this,hh,void 0),typeof window>"u")return;Ms=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,SO(hh,this,this._main(Ms.params))}_main(e,n={}){if(MT(Object.assign({},n,e)),Ue.currentInstance){const a=ql.swalPromiseResolve.get(Ue.currentInstance),{isAwaitingPromise:c}=Ue.currentInstance;Ue.currentInstance._destroy(),c||a({isDismissed:!0}),pw()&&wT()}Ue.currentInstance=Ms;const r=aM(e,n);iM(r),Object.freeze(r),Ue.timeout&&(Ue.timeout.stop(),delete Ue.timeout),clearTimeout(Ue.restoreFocusTimeout);const o=lM(Ms);return pT(Ms,r),Ot.innerParams.set(Ms,r),oM(Ms,o,r)}then(e){return CE(hh,this).then(e)}finally(e){return CE(hh,this).finally(e)}}const oM=(t,e,n)=>new Promise((r,o)=>{const a=c=>{t.close({isDismissed:!0,dismiss:c})};ql.swalPromiseResolve.set(t,r),ql.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{lL(t)},e.denyButton.onclick=()=>{cL(t)},e.cancelButton.onclick=()=>{uL(t,a)},e.closeButton.onclick=()=>{a(fc.close)},bL(n,e,a),Pj(Ue,n,a),Zj(t,n),ZL(n),cM(Ue,n,a),uM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),aM=(t,e)=>{const n=HL(t),r=Object.assign({},Ol,e,n,t);return r.showClass=Object.assign({},Ol.showClass,r.showClass),r.hideClass=Object.assign({},Ol.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},lM=t=>{const e={popup:vt(),container:rr(),actions:Gu(),confirmButton:Gs(),denyButton:Va(),cancelButton:dc(),loader:hc(),closeButton:hw(),validationMessage:Zf(),progressSteps:dw()};return Ot.domCache.set(t,e),e},cM=(t,e,n)=>{const r=ep();Gn(r),e.timer&&(t.timeout=new zL(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Sn(r),Dr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&gw(e.timer)})))},uM=(t,e)=>{if(!e.toast){if(!Xf(e.allowEnterKey)){eT("allowEnterKey"),fM();return}dM(t)||hM(t,e)||Lg(-1,1)}},dM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&gr(n))return n.focus(),!0;return!1},hM=(t,e)=>e.focusDeny&&gr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&gr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&gr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,fM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};tn.prototype.disableButtons=RT;tn.prototype.enableButtons=kT;tn.prototype.getInput=xT;tn.prototype.disableInput=AT;tn.prototype.enableInput=PT;tn.prototype.hideLoading=hf;tn.prototype.disableLoading=hf;tn.prototype.showValidationMessage=NT;tn.prototype.resetValidationMessage=DT;tn.prototype.close=yo;tn.prototype.closePopup=yo;tn.prototype.closeModal=yo;tn.prototype.closeToast=yo;tn.prototype.rejectPromise=ET;tn.prototype.update=VT;tn.prototype._destroy=FT;Object.assign(tn,BL);Object.keys(EL).forEach(t=>{tn[t]=function(...e){return Ms&&Ms[t]?Ms[t](...e):null}});tn.DismissReason=fc;tn.version="11.23.0";const Pe=tn;Pe.default=Pe;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const xa="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",Ct="/Fantasy-Casadillos/SinPerfil.jpg",pM="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",mM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",gM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",yM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Qc=Zr(Ln),Zm=yr(Ln),wM=new Fs,vM=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),[o,a]=C.useState(pM),c=nw();C.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async v=>{v.preventDefault();const E=new FormData(v.currentTarget),T=E.get("email"),A=E.get("password");if(n)try{const M=E.get("nick"),U=yn(Zm,"usuarios"),O=vi(U,bo("nick","==",M));if(!(await ys(O)).empty){Pe.fire({icon:"error",title:"Nick en uso",text:"Ese nombre de usuario ya está ocupado. Elige otro."});return}const{user:V}=await vR(Qc,T,A);await Qb(Qc.currentUser,{displayName:M});const z={nick:M,correo:T,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await zl(Ne(Zm,"usuarios",V.uid),z,{merge:!0})}catch(M){console.error("Error registrando usuario:",M);let U="No se pudo crear la cuenta. Revisa los datos.";M.code==="auth/email-already-in-use"?U="Ya existe una cuenta con este correo.":M.code==="auth/weak-password"?U="La contraseña debe tener al menos 6 caracteres.":M.code==="auth/invalid-email"?U="El correo electrónico no es válido.":U=`Error desconocido: ${M.code}`,Pe.fire({icon:"error",title:"Error",text:U})}else try{await _R(Qc,T,A),console.log("Inicio de sesión exitoso"),c("/home")}catch(M){console.error("Error iniciando sesión:",M);let U="Error al iniciar sesión.";(M.code==="auth/invalid-credential"||M.code==="auth/wrong-password"||M.code==="auth/user-not-found")&&(U="Correo o contraseña incorrectos."),Pe.fire({icon:"error",title:"Error al iniciar sesión",text:U})}},f=async()=>{const{value:v}=await Pe.fire({title:"Recuperar contraseña",input:"email",inputLabel:"Introduce tu correo electrónico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:E=>{if(!E)return"El correo es obligatorio"}});if(v)try{await Jb(Qc,v),Pe.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(E){Pe.fire("Error",E.message,"error")}},g=async()=>{try{const v=await GR(Qc,wM);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const E=v.user,T=Ne(Zm,"usuarios",E.uid);(await xt(T)).exists()||await zl(T,{nick:E.displayName||"",correo:E.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),Pe.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesión con Google"})}};return m.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${xa})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),m.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[m.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),m.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:m.jsx("label",{style:{cursor:"default",display:"inline-block"},children:m.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),m.jsxs("form",{onSubmit:h,children:[m.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&m.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),m.jsxs("div",{className:"cajaContainerContraseña",children:[m.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contraseña",className:"cajacontraseña",required:!0}),m.jsx("img",{src:t?gM:yM,alt:"Mostrar contraseña",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!n&&m.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:m.jsx("button",{type:"button",onClick:f,className:"link-style",children:"¿Has olvidado la contraseña?"})}),n?m.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[m.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesión"}),m.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),m.jsxs("button",{type:"button",onClick:g,className:"btn-google",style:{width:"auto"},children:[m.jsx("img",{src:mM,alt:"Google"}),"Google"]})]})]}),m.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",m.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"})]})]})]})},Vg={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebasestorage.googleapis.com",_M="storageBucket",EM=120*1e3,bM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Js{constructor(e,n,r=0){super(eg(e),`Firebase Storage: ${n} (${eg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ks||(Ks={}));function eg(t){return"storage/"+t}function CM(){const t="An unknown error occurred, please check the error payload for server response.";return new Qs(Ks.UNKNOWN,t)}function TM(){return new Qs(Ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xM(){return new Qs(Ks.CANCELED,"User canceled the upload/download.")}function IM(t){return new Qs(Ks.INVALID_URL,"Invalid URL '"+t+"'.")}function SM(t){return new Qs(Ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OE(t){return new Qs(Ks.INVALID_ARGUMENT,t)}function WT(){return new Qs(Ks.APP_DELETED,"The Firebase app was deleted.")}function kM(t){return new Qs(Ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fs.makeFromUrl(e,n)}catch{return new fs(e,"")}if(r.path==="")return r;throw SM(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function g(Y){Y.path_=decodeURIComponent(Y.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${v}/b/${o}/o${T}`,"i"),M={bucket:1,path:3},U=n===qT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",K=new RegExp(`^https?://${U}/${o}/${O}`,"i"),z=[{regex:h,indices:f,postModify:a},{regex:A,indices:M,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let Y=0;Y<z.length;Y++){const ie=z[Y],Q=ie.regex.exec(e);if(Q){const I=Q[ie.indices.bucket];let x=Q[ie.indices.path];x||(x=""),r=new fs(I,x),ie.postModify(r);break}}if(r==null)throw IM(e);return r}}class RM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){let r=1,o=null,a=null,c=!1,h=0;function f(){return h===2}let g=!1;function v(...O){g||(g=!0,e.apply(null,O))}function E(O){o=setTimeout(()=>{o=null,t(A,f())},O)}function T(){a&&clearTimeout(a)}function A(O,...K){if(g){T();return}if(O){T(),v.call(null,O,...K);return}if(f()||c){T(),v.call(null,O,...K);return}r<64&&(r*=2);let z;h===1?(h=2,z=0):z=(r+Math.random())*1e3,E(z)}let M=!1;function U(O){M||(M=!0,T(),!g&&(o!==null?(O||(h=2),clearTimeout(o),E(0)):O||(h=1)))}return E(0),a=setTimeout(()=>{c=!0,U(!0)},n),U}function AM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){return t!==void 0}function jE(t,e,n,r){if(r<e)throw OE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw OE(`Invalid value for '${t}'. Expected ${n} or less.`)}function DM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var mf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mf||(mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,r,o,a,c,h,f,g,v,E,T=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,U)=>{this.resolve_=M,this.reject_=U,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new fh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const f=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===mf.NO_ERROR,f=a.getStatus();if(!h||OM(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===mf.ABORT;r(!1,new fh(!1,null,v));return}const g=this.successCodes_.indexOf(f)!==-1;r(!0,new fh(g,a))})},n=(r,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());NM(f)?a(f):a()}catch(f){c(f)}else if(h!==null){const f=CM();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(o.canceled){const f=this.appDelete_?WT():xM();c(f)}else{const f=TM();c(f)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=PM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $M(t,e,n,r,o,a,c=!0,h=!1){const f=DM(t.urlParams),g=t.url+f,v=Object.assign({},t.headers);return VM(v,e),LM(v,n),MM(v,a),FM(v,r),new jM(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this._service=e,n instanceof fs?this._location=n:this._location=fs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gf(e,n)}get root(){const e=new fs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BM(this._location.path)}get storage(){return this._service}get parent(){const e=UM(this._location.path);if(e===null)return null;const n=new fs(this._location.bucket,e);return new gf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kM(e)}}function LE(t,e){const n=e?.[_M];return n==null?null:fs.makeFromBucketSpec(n,t)}function zM(t,e,n,r={}){t.host=`${e}:${n}`;const o=ka(e);o&&(Jg(`https://${t.host}/b`),Qg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:vb(a,t.app.options.projectId))}class HM{constructor(e,n,r,o,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=qT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EM,this._maxUploadRetryTime=bM,this._requests=new Set,o!=null?this._bucket=fs.makeFromBucketSpec(o,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fs.makeFromBucketSpec(this._url,e):this._bucket=LE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gf(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new RM(WT());{const c=$M(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const ME="@firebase/storage",VE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="storage";function Yu(t=Zg(),e){t=At(t);const r=Tf(t,GT).getImmediate({identifier:e}),o=gb("storage");return o&&qM(r,...o),r}function qM(t,e,n,r={}){zM(t,e,n,r)}function WM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new HM(n,r,o,e,Ra)}function GM(){ya(new xo(GT,WM,"PUBLIC").setMultipleInstances(!0)),$s(ME,VE,""),$s(ME,VE,"esm2020")}GM();function Gl({usuario:t,openModal:e,setOpenModal:n}){const r=Zr(),o=yr();Yu();const a=t?.fotoPerfil||Ct,[c,h]=C.useState(!1),[f,g]=C.useState(!1),[v,E]=C.useState(a),[T,A]=C.useState(null),[M,U]=C.useState(t.nick),[O,K]=C.useState(t.correo),[V,z]=C.useState(""),[Y,ie]=C.useState(!1),[Q,I]=C.useState(""),[x,k]=C.useState(""),R=C.useRef();C.useEffect(()=>{e&&(E(t.fotoPerfil),A(null),U(t.nick),K(t.correo),z(""),I(t.nick),k(t.correo))},[e,t]),C.useEffect(()=>{const ee=M!==Q||O!==x||V.length>0||T!==null;g(ee)},[M,O,V,T,Q,x]);const D=async()=>{const ee=r.currentUser?.email;if(!ee){Pe.fire("Error","No se encontró un correo asociado al usuario","error");return}try{await Jb(r,ee),await Pe.fire("¡Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(se){Pe.fire("Error",se.message,"error")}},$=ee=>ee.toLocaleString("es-ES")+"€",P=ee=>{ee.target===R.current&&n(!1)},Be=ee=>{const se=ee.target.files[0];if(!se)return;A(se);const ne=new FileReader;ne.onloadend=()=>E(ne.result),ne.readAsDataURL(se)},Oe=async()=>{try{ie(!0);const ee=r.currentUser;let se=t.fotoPerfil;if(T){if(T.size>1*1024*1024){await Pe.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (máx. 1 MB)."});return}const L=new FormData;L.append("file",T),L.append("upload_preset","perfil_preset");const _e=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:L})).json();if(_e.secure_url)se=_e.secure_url;else{Pe.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}M!==t.nick&&await Qb(ee,{displayName:M}),V&&await bR(ee,V);const ne=Ne(o,"usuarios",ee.uid);await Rt(ne,{fotoPerfil:se,nick:M}),await Pe.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(ee){console.error("Error guardando perfil:",ee),alert("No se pudo guardar los cambios: "+ee.message)}finally{ie(!1),window.location.reload()}},Ye=async()=>{const ee=r.currentUser;if(!ee)throw new Error("No hay usuario autenticado.");const se=ee.uid;if(ee.providerData[0].providerId==="password"){const{value:de}=await Pe.fire({title:"Confirma tu contraseña",input:"password",inputLabel:"Introduce tu contraseña para continuar",inputPlaceholder:"Tu contraseña",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!de)throw new Error("Se canceló la reautenticación");const _e=Pa.credential(ee.email,de);await wR(ee,_e)}else if(ee.providerData[0].providerId==="google.com"){const de=new Fs;await KR(ee,de)}else throw new Error("Proveedor no soportado para reautenticación.");const ne=vi(yn(o,"jugadores"),bo("dueños","array-contains",se)),W=(await ys(ne)).docs.map(async de=>{const _e=de.ref;await Rt(_e,{stockLibre:Hl(1),dueños:Ca(se)})});await Promise.all(W);const ae=Ne(o,"usuarios",se);await Yy(ae),await SR(ee)},je=async()=>{if((await Pe.fire({title:"¿Estás seguro?",text:"Esta acción eliminará tu cuenta permanentemente. No podrás deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{ie(!0),await Ye(),await Pe.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(se){console.error("Error al borrar la cuenta:",se),Pe.fire("Error","No se pudo borrar la cuenta: "+se.message,"error")}finally{ie(!1)}};return e?m.jsx("div",{className:"modal-overlay",ref:R,onClick:P,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsxs("label",{className:"modal-avatar",children:[m.jsx("img",{src:v,alt:"Perfil"}),m.jsx("input",{type:"file",accept:"image/*",onChange:Be}),m.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),m.jsxs("div",{className:"modal-userinfo",children:[m.jsx("h2",{children:t.nick}),m.jsx("small",{children:t.correo}),m.jsxs("small",{children:["Dinero: ",m.jsx("span",{className:"dinero-verde",children:$(t.dinero)})]}),m.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((ee,se,ne)=>{const L=ee??"-",W=ne.length<5?se+1:t.puntuaciones.length-5+se+1;let ae="";return typeof ee=="number"&&(ee>=36?ae="verde":ee<28?ae="rojo":ae="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",W]}),m.jsx("div",{className:`jornada-cuadro ${ae}`,children:L})]},se)}):[...Array(5)].map((ee,se)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",se+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},se))})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"field-group",children:[m.jsxs("label",{children:["Nick ",m.jsx("small",{children:"(Recomendado máximo 12 caracteres)"})]}),m.jsxs("div",{className:"field-with-icon",children:[m.jsx("input",{type:"text",value:M,onChange:ee=>U(ee.target.value),disabled:!c}),m.jsx("button",{className:"icon-pencil",onClick:()=>h(!c),title:"Editar nick",children:"✎"})]})]}),m.jsx("div",{style:{textAlign:"left"},children:m.jsx("button",{type:"button",onClick:D,className:"link-style",children:"Cambiar contraseña"})})]}),m.jsxs("div",{className:"modal-footer",children:[f&&m.jsx("button",{className:"modal-save-btn",onClick:Oe,disabled:Y,children:Y?"Guardando…":"Guardar cambios"}),m.jsx("button",{className:"modal-delete-btn",onClick:je,disabled:Y,children:"Borrar cuenta"})]})]})}):null}function KM({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:o,edicionActiva:a}){const c=Zr(),h=yr(Ln);Yu();const f=t?.foto||Ct,[g,v]=C.useState(null),E=c.currentUser,[T,A]=C.useState(!1);C.useEffect(()=>{const Q=async()=>{try{const I=Ne(h,"mercadoUsuarios","actual"),x=await xt(I);if(!x.exists()){A(!1);return}const D=(x.data().jugadores||[]).some($=>$.jugadorId===t.id);A(D)}catch(I){console.error("Error al comprobar venta:",I),A(!1)}};t?.id&&Q()},[t]);const M=async()=>{if(!t||!o)return;if(!a){await Pe.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const Q=Math.round(t.precio*.6),I=Ne(h,"usuarios",o.uid),x=Ne(h,"jugadores",t.id);try{await Rt(I,{dinero:Hl(Q)}),await Rt(x,{stockLibre:Hl(1),dueños:Ca(o.uid)});const k=await xt(I);if(k.exists()){const R=k.data(),D=R.equipo.titulares.map(P=>P.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:P),$=R.equipo.banquillo.map(P=>P.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:P);await Rt(I,{"equipo.titulares":D,"equipo.banquillo":$})}await Cu(yn(h,"historial"),{tipo:"venta directa",vendedorId:E.uid,vendedorNick:o.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:Q,fecha:new Date}),await Pe.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${Q.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(k){console.error("Error en la venta:",k),await Pe.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}},U=async(Q,I)=>{try{const x=c.currentUser;if(!x)throw new Error("Usuario no autenticado");const k=Ne(h,"usuarios",x.uid),D=(await xt(k)).data();if(!D)throw new Error("No se encontró el usuario en Firestore");const $={jugadorId:Q.id,precioVenta:I,vendedorUid:x.uid,vendedorNick:D.nick,fecha:new Date().toISOString()},P=Ne(h,"mercadoUsuarios","actual");await zl(P,{jugadores:Jf($),ultimaActualizacion:Xy()},{merge:!0}),await Pe.fire({icon:"success",title:"¡Jugador puesto en venta!",confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"})}catch(x){console.error("Error al poner en mercado:",x)}},O=()=>{const Q=Math.round(t.precio*.6);Pe.fire({title:"¿Cómo quieres vender?",showDenyButton:!0,confirmButtonText:"💰 Poner en el Mercado",denyButtonText:`Venta Directa
(<span style="color:#2ecc71">+${Q.toLocaleString("es-ES")}€</span>)`,confirmButtonColor:"#28a745",denyButtonColor:"#4878a4ff",background:"#1e1e1e",scrollbarPadding:!1,color:"#fff"}).then(async I=>{if(I.isConfirmed){const{value:x}=await Pe.fire({title:"Introduce el precio de venta",input:"number",inputLabel:"Precio en €",inputPlaceholder:"Ej: 5.000.000",confirmButtonText:"Poner en venta",cancelButtonText:"Cancelar",showCancelButton:!0,background:"#1e1e1e",scrollbarPadding:!1,color:"#fff",inputValidator:k=>{if(!k||k<=0)return"Debes introducir un precio válido";if(k<t.precio)return"Debes introducir un precio que sea mínimo superior al valor de mercado"}});x&&(console.log("Venta en mercado por",x),U(t,parseInt(x,10)))}else I.isDenied&&(console.log("Venta directa por",Q),M())})},K=Q=>{switch(Q){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return Q||"Sin posición"}},V=C.useRef();C.useEffect(()=>{(async()=>{if(!o)return;const I=Ne(h,"usuarios",o.uid),x=await xt(I);if(x.exists()){const k=x.data();v(k.equipo?.capitan||null)}})()},[o,h,n]);const z=async Q=>{try{const I=Ne(h,"usuarios",o.uid);await Rt(I,{"equipo.capitan":Q}),v(Q),await Pe.fire({icon:"success",title:"¡Capitán asignado!",text:`${t.nombre} ahora es tu capitán.`,confirmButtonColor:"#28a745"})}catch(I){console.error("Error al asignar capitán:",I),Pe.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitán, inténtalo de nuevo."})}finally{window.location.reload()}},Y=Q=>{Q.target===V.current&&r(!1)},ie=Q=>Q.toLocaleString("es-ES")+"€";return n?m.jsx("div",{className:"modal-overlay",ref:V,onClick:Y,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:f,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:K(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",ie(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const Q=t.historialPrecios||[];if(Q.length===0)return m.jsx("small",{children:"(±0€)"});const I=Q[Q.length-1].precio||0,x=t.precio-I,k=x>0?"+":x<0?"-":"±";return m.jsxs("small",{className:x>0?"subida":x<0?"bajada":"igual",children:["(",k,ie(Math.abs(x)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",ie(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(Q=>typeof Q=="number").reduce((Q,I,x,k)=>Q+I/k.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((Q,I,x)=>{const k=Q??"-",R=x.length<5?I+1:t.puntosPorJornada.length-5+I+1;let D="";return typeof Q=="number"&&(Q>=9?D="verde":Q<7?D="rojo":D="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",R]}),m.jsx("div",{className:`jornada-cuadro ${D}`,children:k})]},I)}):[...Array(5)].map((Q,I)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",I+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},I))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:a?m.jsxs(m.Fragment,{children:[T?m.jsx("button",{className:"btn-accion",disabled:!0,children:"Ya está en venta"}):m.jsx("button",{className:"btn-accion",onClick:()=>O(),children:"Vender"}),m.jsx("button",{className:"btn-capitan",disabled:g===t.id,onClick:()=>z(t.id),children:g===t.id?"Ya es capitán":"Nombrar capitán"})]}):m.jsx("button",{className:"btn-accion",disabled:!0,children:"🔒 Jornada empezada"})})]})}):null}const Ar=yr(Ln),JM=async()=>{try{const t=Ne(Ar,"mercado","actual"),e=await xt(t),n=e.exists()?e.data().jugadores||[]:[],r=Array.from(new Set(n.map(f=>f&&f.idJugador).filter(Boolean)));if(r.length===0)return console.log("ℹ️ No había jugadores previos en mercado/actual.jugadores"),{procesados:0,reparados:0,noExistentes:0,sinMercado:0};let o=0,a=0,c=0,h=0;console.log(`↩️ Devolviendo ${r.length} jugadores al stock (si procede)...`);for(const f of r){const g=Ne(Ar,"jugadores",f);await QN(Ar,async v=>{const E=await v.get(g);if(h++,!E.exists()){console.warn(`⚠️ Jugador ${f} no existe (se omite).`),a++;return}const T=E.data()||{};if(!(Array.isArray(T.dueños)?T.dueños:[]).includes("mercado")){console.log(`ℹ️ ${f} no tenía 'mercado' en dueños — sin cambios.`),c++;return}v.update(g,{stockLibre:Hl(1),dueños:Ca("mercado")}),o++,console.log(`✅ ${f}: stockLibre +1 y 'mercado' eliminado de dueños.`)})}return console.log("✅ Procesado completo de devolverJugadoresPrevioAlMercado"),{procesados:h,reparados:o,noExistentes:a,sinMercado:c}}catch(t){throw console.error("❌ Error en devolverJugadoresPrevioAlMercado:",t),t}},QM=async()=>{const t=Ne(Ar,"mercado","actual"),r=(await ys(yn(Ar,"jugadores"))).docs.map(c=>({idJugador:c.id,...c.data()})).filter(c=>(c.stockLibre??0)>0&&!(c.dueños||[]).includes("mercado"));for(let c=r.length-1;c>0;c--){const h=Math.floor(Math.random()*(c+1));[r[c],r[h]]=[r[h],r[c]]}const o=r.slice(0,15);console.log(`🆕 Seleccionados ${o.length} jugadores para el nuevo mercado.`);const a=YN(Ar);for(const c of o){const h=Ne(Ar,"jugadores",c.idJugador);a.update(h,{stockLibre:Hl(-1),dueños:Jf("mercado")})}a.set(t,{jugadores:o.map(c=>({idJugador:c.idJugador,nombre:c.nombre||""})),ultimaActualizacion:Xy()}),await a.commit(),console.log("✅ Mercado actualizado correctamente.")},KT=async()=>{try{return console.log("🔁 Iniciando proceso completo de refresco de mercado..."),await JM(),await QM(),console.log("🎉 Refresco de mercado completado con éxito."),!0}catch(t){throw console.error("❌ Error durante el refresco de mercado:",t),t}},YM=async()=>{try{const t=Ne(Ar,"mercado","actual"),e=await xt(t);if(!e.exists())return console.warn("El documento mercado/actual no existía, se ha creado vacío."),await zl(t,{jugadores:[],ultimaActualizacion:null}),!0;const n=e.data();for(const a of n.jugadores||[])if(a.vendedor==="Fantasy Casadillos"){const c=Ne(Ar,"jugadores",a.idJugador);await Rt(c,{stockLibre:Hl(a.stock||1),dueños:Ca("mercado")})}const r=yn(Ar,"mercado/actual/usuarios"),o=await ys(r);for(const a of o.docs)await Yy(a.ref);return await Rt(t,{jugadores:[],ultimaActualizacion:null}),console.log("✅ Mercado reseteado correctamente"),!0}catch(t){throw console.error("Error al resetear mercado:",t),t}},XM=async()=>{const t=Ne(Ar,"mercadoUsuarios","actual"),e=await xt(t);if(!e.exists())return;const{jugadores:n=[]}=e.data();for(const r of n){const o=Ne(Ar,"jugadores",r.jugadorId),a=await xt(o);if(!a.exists())continue;const h=a.data().precio,f=Math.random()<.5?-1:1,g=.1*h,v=Math.floor(h+f*(Math.random()*g));await Cu(yn(Ar,"ofertas"),{jugadorId:r.jugadorId,vendedorUid:r.vendedorUid,vendedorNick:r.vendedorNick,precioVenta:r.precioVenta,oferta:v,comprador:"Fantasy Casadillos",compradorUid:"system",fecha:new Date})}};function Kl({user:t,openModal:e,setOpenModal:n}){Zr();const r=yr();Yu();const o=C.useRef(),[a,c]=C.useState(!1),[h,f]=C.useState(!1),g=v=>{v.target===o.current&&n(!1)};return e?m.jsx("div",{className:"modal-overlay",ref:o,onClick:g,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-footer-grid",children:[m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:a,onClick:async()=>{c(!0);try{await KT(),(await Pe.fire({title:"Mercado actualizado",text:"Se ha refrescado el mercado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch(v){console.error(v),await Pe.fire({title:"Error",text:"No se pudo actualizar el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{c(!1)}},children:a?"⏳ Cargando...":"🔄 Actualizar mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:h,onClick:async()=>{f(!0);try{await YM(),(await Pe.fire({title:"Éxito",text:"El mercado se ha reseteado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch{await Pe.fire({title:"Error",text:"No se pudo resetear el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{f(!1)}},children:h?"⏳ Reseteando...":"♻️ Resetear mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ne(r,"admin","controles");await Rt(v,{edicionActiva:!1}),await Pe.fire({title:"Jornada iniciada",text:"Se han bloqueado los cambios de formaciones y mercado",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al empezar jornada:",v),await Pe.fire({title:"Error",text:"No se pudo empezar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"⏱️ Empezar jornada"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ne(r,"admin","controles");await Rt(v,{edicionActiva:!0}),await Rt(v,{clausulaPermitida:!0}),await Pe.fire({title:"Jornada finalizada",text:"Se han repartido los puntos y desbloqueado la edición",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al finalizar la jornada:",v),await Pe.fire({title:"Error",text:"No se pudo acabar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:"📊 Repartir puntos"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ne(r,"admin","controles");await Rt(v,{clausulaPermitida:!0}),await Pe.fire({title:"Cláusulas activadas",text:"Los jugadores pueden ser comprados por cláusula",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al activar cláusulas:",v),await Pe.fire({title:"Error",text:"No se pudo activar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"📝 Activar cláusulas"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Ne(r,"admin","controles");await Rt(v,{clausulaPermitida:!1}),await Pe.fire({title:"Cláusulas desactivadas",text:"Las cláusulas de rescisión han sido bloqueadas",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al desactivar cláusulas:",v),await Pe.fire({title:"Error",text:"No se pudo desactivar la cláusula",icon:"error",confirmButtonText:"Aceptar"})}},children:"🚫 Bloquear cláusulas"})]})]})}):null}const io=yr(Ln),FE=Zr(Ln),ZM={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function $E(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=ZM[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const c=t.posicion;return c==="POR"?r=a==="POR"?"green":"red":c==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":c==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":c==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function eV({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,c]=C.useState(!1),h=t?.fotoPerfil||Ct,f=t?.equipo?.titulares||[],g=t?.equipo?.banquillo||[],[v,E]=C.useState(f),[T,A]=C.useState(g),[M,U]=C.useState([]),[O,K]=C.useState(null),V=t?.equipo?.capitan||"",z=Object.keys(Vg),[Y,ie]=C.useState(t?.equipo?.formacion||"2-1-1"),[Q,I]=C.useState(Y),[x,k]=C.useState(!1),[R,D]=C.useState(!1),[$,P]=C.useState(t?.equipocreado),[Be,Oe]=C.useState(!1),[Ye,je]=C.useState(!1),[ee,se]=C.useState(!1),[ne,L]=C.useState(!1),W=C.useRef(null),ae=()=>Nu(FE),[de,_e]=C.useState(!1),[Ie,Ke]=C.useState(null),[Ge,H]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const pe=Ne(io,"admin","controles"),ht=await xt(pe);if(ht.exists()){const ze=ht.data();H(ze.edicionActiva===!0)}}catch(pe){console.error("Error al obtener estado de edición:",pe)}})()},[]);const Ee=()=>{_e(!de),Ke(null)},ge=(Se,pe,ht)=>{if(de)if(ht==="titulares"?[...v]:[...T],!Ie)Ke({jugadorId:Se,index:pe,tipo:ht});else{const{index:ze,tipo:Xe}=Ie,It=Xe==="titulares"?v[ze]:T[ze],et=ht==="titulares"?v[pe]:T[pe];if(It===null&&et===null){Ke(null);return}if(Xe==="titulares"&&ht==="titulares"){const ot=[...v];[ot[ze],ot[pe]]=[ot[pe],ot[ze]],E(ot)}else if(Xe==="banquillo"&&ht==="banquillo"){const ot=[...T];[ot[ze],ot[pe]]=[ot[pe],ot[ze]],A(ot)}else{const ot=[...v],at=[...T];Xe==="titulares"?[ot[ze],at[pe]]=[at[pe],ot[ze]]:[at[ze],ot[pe]]=[ot[pe],at[ze]],E(ot),A(at)}D(!0),Ke(null)}};C.useEffect(()=>{const Se=pe=>{W.current&&!W.current.contains(pe.target)&&L(!1)};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[]);const Te=Se=>{I(Se.target.value)},ye=async()=>{try{k(!0);const Se=Ne(io,"usuarios",t.uid);await Rt(Se,{"equipo.formacion":Q,"equipo.titulares":v,"equipo.banquillo":T}),ie(Q),D(!1)}catch(Se){console.error("Error al guardar formación:",Se)}finally{k(!1),_e(!1)}},be=()=>{c(!a)},Ve=Se=>Se.toLocaleString("es-ES")+"€",it=async()=>{try{k(!0);const Se=await ys(yn(io,"jugadores"));let pe=[];if(Se.forEach(at=>{const lt=at.data();lt.stockLibre>0&&pe.push({id:at.id,...lt})}),pe.length<4){await Pe.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),k(!1);return}const ht=pe.filter(at=>at.precio>15e6&&at.precio<=4e7),ze=pe.filter(at=>at.precio<=15e6);let Xe=[],It=0;if(ht.length>=1&&ze.length>=3){const at=Math.floor(Math.random()*ht.length);Xe.push(ht[at]);for(let lt=0;lt<3;lt++){const St=Math.floor(Math.random()*ze.length);Xe.push(ze[St]),ze.splice(St,1)}}else{const at=pe.filter(lt=>lt.precio<=4e7);if(at.length<4){await Pe.fire({icon:"error",title:"No hay jugadores válidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),k(!1);return}for(let lt=0;lt<4;lt++){const St=Math.floor(Math.random()*at.length);Xe.push(at[St]),at.splice(St,1)}Xe.every(lt=>lt.precio<15e6)&&(It=1e7)}const et=Xe.map(async at=>{const lt=Ne(io,"jugadores",at.id);return Rt(lt,{stockLibre:at.stockLibre-1,dueños:Jf(t.uid)})});await Promise.all(et);const ot=Ne(io,"usuarios",t.uid);await Rt(ot,{"equipo.titulares":Xe.map(at=>({jugadorId:at.id,clausulaPersonal:at.precioClausula})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,...It>0&&{dinero:increment(It)}}),P(!0)}catch(Se){console.error("Error al crear equipo:",Se),await Pe.fire({icon:"error",title:"Error al crear el equipo",text:"Inténtalo de nuevo más tarde."})}finally{k(!1),window.location.reload()}};return C.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const pe=setTimeout(async()=>{try{const ht=Ne(io,"usuarios",FE.currentUser.uid);await Rt(ht,{onboarding:!0}),window.location.reload()}catch(ht){console.error("Error actualizando onboarding:",ht)}},500);return()=>clearTimeout(pe)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const pe=Ne(io,"usuarios",t.uid);xt(pe).then(ht=>{ht.exists()&&o(ht.data().dinero)})}(async()=>{const pe=[...f?.map(et=>et?.jugadorId)||[],...g?.map(et=>et?.jugadorId)||[]].filter(Boolean);if(pe.length===0)return;const ht=yn(io,"jugadores"),ze=[];for(let et=0;et<pe.length;et+=10){const ot=pe.slice(et,et+10),at=vi(ht,bo("__name__","in",ot));ze.push(ys(at))}const It=(await Promise.all(ze)).flatMap(et=>et.docs.map(ot=>({id:ot.id,...ot.data()})));U(It)})()},[t],[f,g]),$?m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:Se=>{Se.currentTarget.onerror=null,Se.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>L(!ne),onMouseEnter:()=>L(!0)}),ne&&m.jsxs("div",{className:"perfil-bocadillo",ref:W,onMouseLeave:()=>L(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Oe(!0),L(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:ae,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{se(!0),L(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:Ve(r)})]})]})]}),m.jsx("button",{onClick:be,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xa})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Be&&m.jsx(Gl,{usuario:t,openModal:Be,setOpenModal:Oe}),ee&&m.jsx(Kl,{usuario:t,openModal:ee,setOpenModal:se}),Ye&&O&&m.jsx(KM,{jugador:O,clausulaPersonal:t?.equipo?.titulares?.find(Se=>Se.jugadorId===O.id)?.clausulaPersonal??t?.equipo?.banquillo?.find(Se=>Se.jugadorId===O.id)?.clausulaPersonal,openModal:Ye,setOpenModal:je,user:t,edicionActiva:Ge}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[m.jsxs("div",{className:"formacion-selector",children:[m.jsx("label",{htmlFor:"formacion-select",children:"Formación:"}),m.jsx("select",{id:"formacion-select",value:Q,onChange:Te,disabled:!Ge,children:z.map(Se=>m.jsx("option",{value:Se,children:Se},Se))}),(Q!==Y||R)&&m.jsx("button",{onClick:ye,disabled:x,children:x?"Guardando...":"Guardar"})]}),m.jsx("div",{className:"modo-edicion-buttons",children:m.jsx("button",{onClick:Ee,disabled:!Ge,children:Ge?de?"Desactivar modo edición":"Activar modo edición":"🔒 Jornada Empezada"})}),m.jsx("div",{className:"campo",children:Vg[Q]?.map((Se,pe)=>{const ht=v[pe],ze=ht?.jugadorId||null;ht?.clausulaPersonal;const Xe=M.find(et=>et.id===ze),It=Ie?.index===pe&&Ie?.tipo==="titulares";return m.jsxs("div",{className:`jugador ${de?"modo-edicion":""} ${It?"seleccionado":""}`,style:{position:"absolute",top:Se.top,left:Se.left,transform:"translate(-50%, -50%)"},onClick:()=>{de?ge(Xe?.id||null,pe,"titulares"):Xe&&(je(!0),K(Xe))},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:Xe?.foto||Ct,alt:Xe?.nombre||"Vacío",className:"jugador-img",style:$E(Xe,pe,Q).style}),(()=>{const{status:et}=$E(Xe,pe,Q);if(!et)return null;if(et==="green")return m.jsx("div",{className:"status-badge green",children:"✓"});if(et==="orange")return m.jsx("div",{className:"status-badge orange",children:"!"});if(et==="red")return m.jsx("div",{className:"status-badge red",children:"✕"})})(),V===Xe?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Xe?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const et=Xe.puntosPorJornada[Xe.puntosPorJornada.length-1];if(et==null)return null;let ot=et==="-"?"gray":et<7?"red":et<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${ot}`,children:et})})()]}),m.jsx("p",{className:"jugador-nombre",children:Xe?.nombre||"Vacío"})]},Xe?.id||pe)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:T.map((Se,pe)=>{const ht=Se?.jugadorId||null,ze=M.find(It=>It.id===ht),Xe=Ie?.index===pe&&Ie?.tipo==="banquillo";return m.jsx("div",{className:`banquillo-slot ${de?"modo-edicion":""} ${Xe?"seleccionado":""}`,onClick:()=>{de?ge(ze?.id||null,pe,"banquillo"):ze&&(je(!0),K(ze))},children:ze?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:ze?.foto||Ct,alt:ze?.nombre||"Vacío",className:"jugador-img"}),V===ze?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!ze?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const It=ze.puntosPorJornada[ze.puntosPorJornada.length-1];if(It==null)return null;let et=It==="-"?"gray":It<7?"red":It<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${et}`,children:It})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:ze?.nombre})]}):m.jsx(_t,{to:de?"#":"/mercado",className:`banquillo-add ${de?"disabled":""}`,onClick:It=>{de&&It.preventDefault()},children:"+"})},ze?.id||pe)})})]})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]}):m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:Se=>{Se.currentTarget.onerror=null,Se.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>L(!ne),onMouseEnter:()=>L(!0)}),ne&&m.jsxs("div",{className:"perfil-bocadillo",ref:W,onMouseLeave:()=>L(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{Oe(!0),L(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:ae,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{se(!0),L(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:Ve(r)})]})]})]}),m.jsx("button",{onClick:be,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xa})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Be&&m.jsx(Gl,{usuario:t,openModal:Be,setOpenModal:Oe}),ee&&m.jsx(Kl,{usuario:t,openModal:ee,setOpenModal:se}),m.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx("div",{className:"campo",children:m.jsx("button",{className:"crear-equipo-btn",onClick:it,disabled:x,children:x?"Creando equipo...":"Crear equipo"})})})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}function tV({jugador:t,openModal:e,setOpenModal:n}){Zr(),yr(),Yu();const r=t?.foto||Ct,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posición"}},a=C.useRef(),c=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"—":f.toLocaleString("es-ES")+"€";return e?m.jsx("div",{className:"modal-overlay",ref:a,onClick:c,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:r,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:o(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return m.jsx("small",{children:"(±0€)"});const g=f[f.length-1].precio||0,v=t.precio-g,E=v>0?"+":v<0?"-":"±";return m.jsxs("small",{className:v>0?"subida":v<0?"bajada":"igual",children:["(",E,h(Math.abs(v)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:t?.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsxs("span",{className:"media",children:[" ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(f=>typeof f=="number").reduce((f,g,v,E)=>f+g/E.length,0).toFixed(2):"-"]})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,g,v)=>{const E=f??"-",T=v.length<5?g+1:t.puntosPorJornada.length-5+g+1;let A="";return typeof f=="number"&&(f>=9?A="verde":f<7?A="rojo":A="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",T]}),m.jsx("div",{className:`jornada-cuadro ${A}`,children:E})]},g)}):[...Array(5)].map((f,g)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",g+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},g))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]})]})}):null}function nV(){const[t,e]=C.useState("");return C.useEffect(()=>{const n=()=>{const o=new Date,a=new Date;a.setHours(24,0,0,0);const c=a-o,h=Math.floor(c/(1e3*60*60)),f=Math.floor(c%(1e3*60*60)/(1e3*60)),g=Math.floor(c%(1e3*60)/1e3);e(`${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`)};n();const r=setInterval(n,1e3);return()=>clearInterval(r)},[]),m.jsx("div",{className:"temporizador",children:m.jsxs("p",{children:["Refrescar Mercado - ",t]})})}const Zn=yr(Ln),Yc=Zr(Ln);function rV({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,c]=C.useState(!1),h=t?.fotoPerfil||Ct;t?.equipo?.titulares;const[f,g]=C.useState(!1);t?.equipo?.banquillo;const[v,E]=C.useState([]),[T,A]=C.useState([]),[M,U]=C.useState([]),[O,K]=C.useState([]),[V,z]=C.useState(!1),[Y,ie]=C.useState(!1),[Q,I]=C.useState(!1),[x,k]=C.useState(null),[R,D]=C.useState(!1),[$,P]=C.useState(!1),[Be,Oe]=C.useState({}),[Ye,je]=C.useState([]),ee=C.useRef(null),[se,ne]=C.useState("mercado"),L=()=>Nu(Yc),W=H=>typeof H!="number"||isNaN(H)?"—":H.toLocaleString("es-ES")+"€",ae=H=>{switch(H){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return H||"Sin posición"}};C.useEffect(()=>{const H=Ne(Zn,"mercado","actual"),Ee=Kc(H,async ge=>{const Te=ge.exists()?ge.data().jugadores||[]:[];try{const ye=await Promise.all(Te.map(async be=>{const Ve=Ne(Zn,"jugadores",be.idJugador),it=await xt(Ve),Se=it.exists()?it.data():{};return{source:"system",idJugador:be.idJugador,nombre:Se.nombre||be.nombre||"Sin nombre",foto:Se.foto||be.foto||Ct,posicion:Se.posicion||be.posicion||"—",precio:typeof be.precio=="number"?be.precio:Number(be.precio)||Se.precio||0,stock:be.stock??1,historialPrecios:Se.historialPrecios||be.historialPrecios||[],puntosPorJornada:Se.puntosPorJornada||be.puntosPorJornada||[],vendedor:be.vendedor||"Fantasy Casadillos",goles:Se.goles,asistencias:Se.asistencias,partidos:Se.partidos,valoracion:Se.valoracion,nota:Se.nota,puntosTotales:Se.puntosTotales,_raw:be}}));E(ye.filter(Boolean))}catch(ye){console.error("Error enriqueciendo mercado sistema:",ye),E([])}});return()=>Ee()},[]),C.useEffect(()=>{const H=Ne(Zn,"mercadoUsuarios","actual"),Ee=Kc(H,async ge=>{const Te=ge.exists()?ge.data().jugadores||[]:[];try{const be=(await Promise.all(Te.map(async Ve=>{if(!Ve||!Ve.jugadorId)return null;const it=Ne(Zn,"jugadores",Ve.jugadorId),Se=await xt(it),pe=Se.exists()?Se.data():null;return pe?{source:"user",idJugador:Ve.jugadorId,nombre:pe.nombre||"Sin nombre",foto:pe.foto||Ct,posicion:pe.posicion||"—",precio:pe.precio||0,precioVenta:typeof Ve.precioVenta=="number"?Ve.precioVenta:Number(Ve.precioVenta),historialPrecios:pe.historialPrecios||[],puntosPorJornada:pe.puntosPorJornada||[],vendedor:Ve.vendedorNick||"Usuario",vendedorUid:Ve.vendedorUid,goles:pe.goles,asistencias:pe.asistencias,partidos:pe.partidos,valoracion:pe.valoracion,nota:pe.nota,puntosTotales:pe.puntosTotales,fecha:Ve.fecha||null}:{source:"user",idJugador:Ve.jugadorId,nombre:"Jugador no encontrado",foto:Ct,posicion:"—",precio:Ve.precioVenta??0,historialPrecios:[],puntosPorJornada:[],vendedor:Ve.vendedorNick||"Usuario",vendedorUid:Ve.vendedorUid,fecha:Ve.fecha||null}}))).filter(Boolean);A(be),t&&t.uid?K(be.filter(Ve=>Ve.vendedorUid===t.uid)):K([])}catch(ye){console.error("Error enriqueciendo mercado usuarios:",ye),A([]),K([])}});return()=>Ee()},[t]),C.useEffect(()=>{if(!t?.uid){je([]);return}const H=vi(yn(Zn,"ofertas"),bo("compradorUid","==",t.uid)),Ee=Kc(H,async ge=>{const Te=[];for(const ye of ge.docs){const be=ye.data();if(!be.jugadorId)continue;const Ve=await xt(Ne(Zn,"jugadores",be.jugadorId)),it=Ve.exists()?Ve.data():{};Te.push({id:ye.id,idJugador:be.jugadorId,nombre:it.nombre||"Jugador no encontrado",foto:it.foto||Ct,posicion:it.posicion||"—",precio:it.precio||0,precioOferta:be.precio||0,vendedorUid:be.vendedorUid,vendedorNick:be.vendedorNick,fecha:be.fecha||null,puntosPorJornada:it.puntosPorJornada||[]})}je(Te)});return()=>Ee()},[t]),C.useEffect(()=>{U([...v,...T])},[v,T]),C.useEffect(()=>{(async()=>{try{const Ee=Ne(Zn,"admin","controles"),ge=await xt(Ee);if(ge.exists()){const Te=ge.data();P(Te.edicionActiva===!0)}}catch(Ee){console.error("Error al obtener estado de edición:",Ee)}})()},[]),C.useEffect(()=>{if(!t?.uid)return;const H=vi(yn(Zn,"ofertas"),bo("compradorUid","==",t.uid)),Ee=Kc(H,ge=>{const Te=ge.docs.map(ye=>({id:ye.id,...ye.data()}));console.log("📦 Ofertas detectadas para el usuario:",Te),je(Te)});return()=>Ee()},[t]),C.useEffect(()=>{const H=vi(yn(Zn,"ofertas")),Ee=Kc(H,ge=>{const Te={};ge.forEach(ye=>{const be=ye.data(),Ve=`${be.jugadorId}-${be.source}-${be.vendedorUid||"system"}`;Te[Ve]=(Te[Ve]||0)+1}),Oe(Te)});return()=>Ee()},[]);const de=async(H,Ee)=>{const ge=Yc.currentUser;if(!ge){Pe.fire("⚠️ Atención","Debes iniciar sesión para hacer una oferta.","warning");return}try{await Cu(yn(Zn,"ofertas"),{jugadorId:H.idJugador,source:H.source||"system",vendedorUid:H.vendedorUid||null,compradorUid:ge.uid,precioOferta:Ee,fecha:Xy()}),Pe.fire("✅ Oferta realizada",`Has hecho una oferta por ${H.nombre}`,"success")}catch(Te){console.error("Error creando oferta:",Te),Pe.fire("❌ Error","Ocurrió un problema al hacer la oferta","error")}},_e=async H=>{try{const Ee=Ne(Zn,"mercadoUsuarios","actual");await Rt(Ee,{jugadores:Ca({jugadorId:H.idJugador,precioVenta:H.precioVenta,vendedorNick:H.vendedor,vendedorUid:H.vendedorUid,fecha:H.fecha})}),Pe.fire("✅ Venta retirada",`${H.nombre} se ha retirado del mercado.`,"success")}catch(Ee){console.error(Ee),Pe.fire("❌ Error","No se pudo retirar la venta","error")}},Ie=async H=>{const Ee=vi(yn(Zn,"ofertas"),bo("jugadorId","==",H.idJugador)),Te=(await ys(Ee)).docs.map(be=>be.data());if(Te.length===0){Pe.fire("ℹ️ Sin ofertas","Todavía no hay ofertas para este jugador.","info");return}let ye=Te.map(be=>`<p><b>${be.precioOferta.toLocaleString("es-ES")}€</b> - Comprador: ${be.compradorUid}</p>`).join("");Pe.fire({title:`Ofertas para ${H.nombre}`,html:ye,confirmButtonText:"Cerrar"})},Ke=async H=>{const{value:Ee}=await Pe.fire({title:`Oferta por ${H.nombre}`,input:"number",inputLabel:"Introduce tu oferta (€)",inputPlaceholder:"Ej: 5.000.000",showCancelButton:!0,confirmButtonText:"Enviar oferta"});Ee&&await de(H,Number(Ee))},Ge=async H=>{try{await deleteDoc(Ne(Zn,"ofertas",H.id)),Pe.fire("✅ Oferta retirada","Tu oferta ha sido retirada","success")}catch(Ee){console.error(Ee),Pe.fire("❌ Error","No se pudo retirar la oferta","error")}};return C.useEffect(()=>{const H=Ee=>{ee.current&&!ee.current.contains(Ee.target)&&D(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),C.useEffect(()=>{if(t){if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t?.onboarding===!1){n(!0);const H=setTimeout(async()=>{try{const Ee=Ne(Zn,"usuarios",t.uid);await Rt(Ee,{onboarding:!0}),window.location.reload()}catch(Ee){console.error(Ee)}},500);return()=>clearTimeout(H)}(async()=>{try{const H=Ne(Zn,"usuarios",t.uid),Ee=await xt(H);Ee.exists()&&o(Ee.data().dinero)}catch{}})()}},[t]),m.jsxs("div",{style:{backgroundColor:"black"},children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:H=>{H.currentTarget.onerror=null,H.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>D(!R),onMouseEnter:()=>D(!0)}),R&&m.jsxs("div",{className:"perfil-bocadillo",ref:ee,onMouseLeave:()=>D(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{z(!0),D(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:L,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{I(!0),D(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:W(r)})]})]})]}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera-mercado",style:{backgroundImage:`url(${xa})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),V&&m.jsx(Gl,{usuario:t,openModal:V,setOpenModal:z}),Q&&m.jsx(Kl,{usuario:t,openModal:Q,setOpenModal:I}),Y&&x&&m.jsx(tV,{jugador:x,openModal:Y,setOpenModal:ie}),m.jsx("div",{className:"temporizador",children:m.jsx(nV,{})}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsxs("div",{className:"tabs-container",children:[m.jsx("button",{className:`tab-btn ${se==="mercado"?"active":""}`,onClick:()=>ne("mercado"),children:"Mercado"}),m.jsx("button",{className:`tab-btn ${se==="operaciones"?"active":""}`,onClick:()=>ne("operaciones"),children:"Mis operaciones"})]}),se==="mercado"&&m.jsx("div",{className:"mercado-jugadores",children:M.length===0?m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No hay mercado disponible"})}):m.jsx("ul",{className:"lista-jugadores",children:M.map(H=>{const Ee=`${H.idJugador}-${H.source}-${H.vendedorUid||"system"}`;return m.jsx("li",{className:"jugador-card",onClick:()=>{k(H),ie(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:H.foto||Ct,alt:H.nombre,onError:ge=>{ge.currentTarget.onerror=null,ge.currentTarget.src=Ct}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:H.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${H.posicion||""}`,children:m.jsx("small",{children:ae(H.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(H.precio)?W(Number(H.precio)):"—"]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ge=H.historialPrecios||[];if(ge.length===0)return m.jsx("small",{children:"(±0€)"});const Te=ge[ge.length-1]?.precio||0,ye=(H.precio||0)-Te,be=ye>0?"+":ye<0?"-":"±";return m.jsxs("small",{className:ye>0?"subida":ye<0?"bajada":"igual",children:["(",be,W(Math.abs(ye)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor: ",m.jsx("span",{className:"vendedor",children:H.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsx("span",{className:"media",children:H.puntosPorJornada&&H.puntosPorJornada.length>0?H.puntosPorJornada.filter(ge=>typeof ge=="number").reduce((ge,Te,ye,be)=>ge+Te/be.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(H.puntosPorJornada||[]).slice(-5).map((ge,Te)=>{const ye=ge??"-",be=H.puntosPorJornada?H.puntosPorJornada.length:0,Ve=Math.max(1,be-5+Te+1);let it="";return typeof ge=="number"&&(ge>=9?it="verde":ge<7&&(it="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Ve]}),m.jsx("div",{className:`jornada-cuadro ${it}`,children:ye})]},Te)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"btn-comprar",disabled:!$||H.vendedorUid===Yc.currentUser?.uid,onClick:async ge=>{ge.stopPropagation();const{value:Te}=await Pe.fire({title:"Introduce el precio de venta",input:"number",inputLabel:"Precio en €",inputPlaceholder:"Ej: 5.000.000",confirmButtonText:"Hacer oferta",cancelButtonText:"Cancelar",showCancelButton:!0,scrollbarPadding:!1,background:"#1e1e1e",color:"#fff",inputValidator:ye=>{if(!ye||ye<=0)return"Debes introducir un precio válido";if(ye<H.precio)return"Debes introducir un precio que sea mínimo superior al valor de mercado"}});Te&&(console.log("Venta en mercado por",Te),de(H,parseInt(Te,10)))},children:H.vendedorUid===Yc.currentUser?.uid?"Es tu venta":`Hacer oferta - (${Be[`${H.idJugador}-${H.source}-${H.vendedorUid||"system"}`]||0})`})})]})},Ee)})})}),se==="operaciones"&&m.jsxs("div",{className:"mercado-jugadores",children:[O.length===0&&Ye.length===0?m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No tienes operaciones activas."})}):m.jsx("ul",{className:"lista-jugadores",children:O.map((H,Ee)=>{const ge=`${H.idJugador}-${Ee}-${H.vendedorUid||"yo"}`,Te=H.vendedorUid===Yc.currentUser?.uid;return m.jsx("li",{className:"jugador-card",onClick:()=>{k(H),ie(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:H.foto||Ct,alt:H.nombre,onError:ye=>{ye.currentTarget.onerror=null,ye.currentTarget.src=Ct}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:H.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${H.posicion||""}`,children:m.jsx("small",{children:ae(H.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(H.precio)?W(Number(H.precio)):"—"]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ye=H.historialPrecios||[];if(ye.length===0)return m.jsx("small",{children:"(±0€)"});const be=ye[ye.length-1]?.precio||0,Ve=(H.precio||0)-be,it=Ve>0?"+":Ve<0?"-":"±";return m.jsxs("small",{className:Ve>0?"subida":Ve<0?"bajada":"igual",children:["(",it,W(Math.abs(Ve)),")"]})})()})]}),m.jsx("div",{className:"precio-container",children:m.jsxs("small",{className:"precio",children:[m.jsx("span",{className:"texto-blanco",children:"Precio Venta:"})," ",Number(H.precioVenta)?W(Number(H.precioVenta)):"—"," "]})}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsx("span",{className:"media",children:H.puntosPorJornada&&H.puntosPorJornada.length>0?H.puntosPorJornada.filter(ye=>typeof ye=="number").reduce((ye,be,Ve,it)=>ye+be/it.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(H.puntosPorJornada||[]).slice(-5).map((ye,be)=>{const Ve=ye??"-",it=H.puntosPorJornada?H.puntosPorJornada.length:0,Se=Math.max(1,it-5+be+1);let pe="";return typeof ye=="number"&&(ye>=9?pe="verde":ye<7&&(pe="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Se]}),m.jsx("div",{className:`jornada-cuadro ${pe}`,children:Ve})]},be)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:Te?m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"btn-comprar",onClick:ye=>{ye.stopPropagation(),Ie(H)},children:["Ver ofertas - (",Be[`${H.idJugador}-${H.vendedorUid}`]||0,")"]}),m.jsx("button",{className:"btn-cancelar",onClick:ye=>{ye.stopPropagation(),_e(H)},children:"Retirar venta"})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn-comprar",onClick:ye=>{ye.stopPropagation(),Ke(H)},children:"Hacer oferta"}),m.jsxs("button",{className:"btn-comprar",onClick:ye=>{ye.stopPropagation(),Ie(H)},children:["Ver ofertas - (",Be[`${H.idJugador}-${H.vendedorUid}`]||0,")"]})]})})]})},ge)})}),Ye.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"titulo-seccion",children:"Mis ofertas activas"}),m.jsx("ul",{className:"lista-jugadores",children:Ye.map((H,Ee)=>m.jsx("li",{className:"jugador-card",children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:H.foto||Ct,alt:H.nombre})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:H.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${H.posicion||""}`,children:m.jsx("small",{children:ae(H.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(H.precio)?W(Number(H.precio)):"—"]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ge=H.historialPrecios||[];if(ge.length===0)return m.jsx("small",{children:"(±0€)"});const Te=ge[ge.length-1]?.precio||0,ye=(H.precio||0)-Te,be=ye>0?"+":ye<0?"-":"±";return m.jsxs("small",{className:ye>0?"subida":ye<0?"bajada":"igual",children:["(",be,W(Math.abs(ye)),")"]})})()})]}),m.jsx("div",{className:"precio-container",children:m.jsxs("small",{className:"precio",children:[m.jsx("span",{className:"texto-blanco",children:"Precio Venta:"})," ",Number(H.precioVenta)?W(Number(j.precioVenta)):"—"," "]})}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos: ",m.jsx("span",{className:"media",children:H.puntosPorJornada&&H.puntosPorJornada.length>0?H.puntosPorJornada.filter(ge=>typeof ge=="number").reduce((ge,Te,ye,be)=>ge+Te/be.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(H.puntosPorJornada||[]).slice(-5).map((ge,Te)=>{const ye=ge??"-",be=H.puntosPorJornada?H.puntosPorJornada.length:0,Ve=Math.max(1,be-5+Te+1);let it="";return typeof ge=="number"&&(ge>=9?it="verde":ge<7&&(it="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Ve]}),m.jsx("div",{className:`jornada-cuadro ${it}`,children:ye})]},Te)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"btn-cancelar",onClick:ge=>{ge.stopPropagation(),Ge(H)},children:"Retirar oferta"})})]})},H.id))})]})]})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}var Hn=function(){return Hn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hn.apply(this,arguments)};function yf(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Mt="-ms-",hu="-moz-",bt="-webkit-",JT="comm",rp="rule",bw="decl",sV="@import",QT="@keyframes",iV="@layer",YT=Math.abs,Cw=String.fromCharCode,Fg=Object.assign;function oV(t,e){return xn(t,0)^45?(((e<<2^xn(t,0))<<2^xn(t,1))<<2^xn(t,2))<<2^xn(t,3):0}function XT(t){return t.trim()}function gi(t,e){return(t=e.exec(t))?t[0]:t}function Ze(t,e,n){return t.replace(e,n)}function Ph(t,e,n){return t.indexOf(e,n)}function xn(t,e){return t.charCodeAt(e)|0}function Jl(t,e,n){return t.slice(e,n)}function Vs(t){return t.length}function ZT(t){return t.length}function su(t,e){return e.push(t),t}function aV(t,e){return t.map(e).join("")}function UE(t,e){return t.filter(function(n){return!gi(n,e)})}var sp=1,Ql=1,ex=0,Xr=0,ln=0,pc="";function ip(t,e,n,r,o,a,c,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:sp,column:Ql,length:c,return:"",siblings:h}}function ao(t,e){return Fg(ip("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function bl(t){for(;t.root;)t=ao(t.root,{children:[t]});su(t,t.siblings)}function lV(){return ln}function cV(){return ln=Xr>0?xn(pc,--Xr):0,Ql--,ln===10&&(Ql=1,sp--),ln}function ps(){return ln=Xr<ex?xn(pc,Xr++):0,Ql++,ln===10&&(Ql=1,sp++),ln}function ma(){return xn(pc,Xr)}function Ah(){return Xr}function op(t,e){return Jl(pc,t,e)}function $g(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uV(t){return sp=Ql=1,ex=Vs(pc=t),Xr=0,[]}function dV(t){return pc="",t}function tg(t){return XT(op(Xr-1,Ug(t===91?t+2:t===40?t+1:t)))}function hV(t){for(;(ln=ma())&&ln<33;)ps();return $g(t)>2||$g(ln)>3?"":" "}function fV(t,e){for(;--e&&ps()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return op(t,Ah()+(e<6&&ma()==32&&ps()==32))}function Ug(t){for(;ps();)switch(ln){case t:return Xr;case 34:case 39:t!==34&&t!==39&&Ug(ln);break;case 40:t===41&&Ug(t);break;case 92:ps();break}return Xr}function pV(t,e){for(;ps()&&t+ln!==57;)if(t+ln===84&&ma()===47)break;return"/*"+op(e,Xr-1)+"*"+Cw(t===47?t:ps())}function mV(t){for(;!$g(ma());)ps();return op(t,Xr)}function gV(t){return dV(Nh("",null,null,null,[""],t=uV(t),0,[0],t))}function Nh(t,e,n,r,o,a,c,h,f){for(var g=0,v=0,E=c,T=0,A=0,M=0,U=1,O=1,K=1,V=0,z="",Y=o,ie=a,Q=r,I=z;O;)switch(M=V,V=ps()){case 40:if(M!=108&&xn(I,E-1)==58){Ph(I+=Ze(tg(V),"&","&\f"),"&\f",YT(g?h[g-1]:0))!=-1&&(K=-1);break}case 34:case 39:case 91:I+=tg(V);break;case 9:case 10:case 13:case 32:I+=hV(M);break;case 92:I+=fV(Ah()-1,7);continue;case 47:switch(ma()){case 42:case 47:su(yV(pV(ps(),Ah()),e,n,f),f);break;default:I+="/"}break;case 123*U:h[g++]=Vs(I)*K;case 125*U:case 59:case 0:switch(V){case 0:case 125:O=0;case 59+v:K==-1&&(I=Ze(I,/\f/g,"")),A>0&&Vs(I)-E&&su(A>32?zE(I+";",r,n,E-1,f):zE(Ze(I," ","")+";",r,n,E-2,f),f);break;case 59:I+=";";default:if(su(Q=BE(I,e,n,g,v,o,h,z,Y=[],ie=[],E,a),a),V===123)if(v===0)Nh(I,e,Q,Q,Y,a,E,h,ie);else switch(T===99&&xn(I,3)===110?100:T){case 100:case 108:case 109:case 115:Nh(t,Q,Q,r&&su(BE(t,Q,Q,0,0,o,h,z,o,Y=[],E,ie),ie),o,ie,E,h,r?Y:ie);break;default:Nh(I,Q,Q,Q,[""],ie,0,h,ie)}}g=v=A=0,U=K=1,z=I="",E=c;break;case 58:E=1+Vs(I),A=M;default:if(U<1){if(V==123)--U;else if(V==125&&U++==0&&cV()==125)continue}switch(I+=Cw(V),V*U){case 38:K=v>0?1:(I+="\f",-1);break;case 44:h[g++]=(Vs(I)-1)*K,K=1;break;case 64:ma()===45&&(I+=tg(ps())),T=ma(),v=E=Vs(z=I+=mV(Ah())),V++;break;case 45:M===45&&Vs(I)==2&&(U=0)}}return a}function BE(t,e,n,r,o,a,c,h,f,g,v,E){for(var T=o-1,A=o===0?a:[""],M=ZT(A),U=0,O=0,K=0;U<r;++U)for(var V=0,z=Jl(t,T+1,T=YT(O=c[U])),Y=t;V<M;++V)(Y=XT(O>0?A[V]+" "+z:Ze(z,/&\f/g,A[V])))&&(f[K++]=Y);return ip(t,e,n,o===0?rp:h,f,g,v,E)}function yV(t,e,n,r){return ip(t,e,n,JT,Cw(lV()),Jl(t,2,-2),0,r)}function zE(t,e,n,r,o){return ip(t,e,n,bw,Jl(t,0,r),Jl(t,r+1,-1),r,o)}function tx(t,e,n){switch(oV(t,e)){case 5103:return bt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+t+t;case 4789:return hu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+t+hu+t+Mt+t+t;case 5936:switch(xn(t,e+11)){case 114:return bt+t+Mt+Ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return bt+t+Mt+Ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return bt+t+Mt+Ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return bt+t+Mt+t+t;case 6165:return bt+t+Mt+"flex-"+t+t;case 5187:return bt+t+Ze(t,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Mt+"flex-$1$2")+t;case 5443:return bt+t+Mt+"flex-item-"+Ze(t,/flex-|-self/g,"")+(gi(t,/flex-|baseline/)?"":Mt+"grid-row-"+Ze(t,/flex-|-self/g,""))+t;case 4675:return bt+t+Mt+"flex-line-pack"+Ze(t,/align-content|flex-|-self/g,"")+t;case 5548:return bt+t+Mt+Ze(t,"shrink","negative")+t;case 5292:return bt+t+Mt+Ze(t,"basis","preferred-size")+t;case 6060:return bt+"box-"+Ze(t,"-grow","")+bt+t+Mt+Ze(t,"grow","positive")+t;case 4554:return bt+Ze(t,/([^-])(transform)/g,"$1"+bt+"$2")+t;case 6187:return Ze(Ze(Ze(t,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),t,"")+t;case 5495:case 3959:return Ze(t,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return Ze(Ze(t,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Mt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+t+t;case 4200:if(!gi(t,/flex-|baseline/))return Mt+"grid-column-align"+Jl(t,e)+t;break;case 2592:case 3360:return Mt+Ze(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,gi(r.props,/grid-\w+-end/)})?~Ph(t+(n=n[e].value),"span",0)?t:Mt+Ze(t,"-start","")+t+Mt+"grid-row-span:"+(~Ph(n,"span",0)?gi(n,/\d+/):+gi(n,/\d+/)-+gi(t,/\d+/))+";":Mt+Ze(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return gi(r.props,/grid-\w+-start/)})?t:Mt+Ze(Ze(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ze(t,/(.+)-inline(.+)/,bt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vs(t)-1-e>6)switch(xn(t,e+1)){case 109:if(xn(t,e+4)!==45)break;case 102:return Ze(t,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+hu+(xn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ph(t,"stretch",0)?tx(Ze(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ze(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,c,h,f,g){return Mt+o+":"+a+g+(c?Mt+o+"-span:"+(h?f:+f-+a)+g:"")+t});case 4949:if(xn(t,e+6)===121)return Ze(t,":",":"+bt)+t;break;case 6444:switch(xn(t,xn(t,14)===45?18:11)){case 120:return Ze(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bt+(xn(t,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Mt+"$2box$3")+t;case 100:return Ze(t,":",":"+Mt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ze(t,"scroll-","scroll-snap-")+t}return t}function wf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function wV(t,e,n,r){switch(t.type){case iV:if(t.children.length)break;case sV:case bw:return t.return=t.return||t.value;case JT:return"";case QT:return t.return=t.value+"{"+wf(t.children,r)+"}";case rp:if(!Vs(t.value=t.props.join(",")))return""}return Vs(n=wf(t.children,r))?t.return=t.value+"{"+n+"}":""}function vV(t){var e=ZT(t);return function(n,r,o,a){for(var c="",h=0;h<e;h++)c+=t[h](n,r,o,a)||"";return c}}function _V(t){return function(e){e.root||(e=e.return)&&t(e)}}function EV(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case bw:t.return=tx(t.value,t.length,n);return;case QT:return wf([ao(t,{value:Ze(t.value,"@","@"+bt)})],r);case rp:if(t.length)return aV(n=t.props,function(o){switch(gi(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":bl(ao(t,{props:[Ze(o,/:(read-\w+)/,":"+hu+"$1")]})),bl(ao(t,{props:[o]})),Fg(t,{props:UE(n,r)});break;case"::placeholder":bl(ao(t,{props:[Ze(o,/:(plac\w+)/,":"+bt+"input-$1")]})),bl(ao(t,{props:[Ze(o,/:(plac\w+)/,":"+hu+"$1")]})),bl(ao(t,{props:[Ze(o,/:(plac\w+)/,Mt+"input-$1")]})),bl(ao(t,{props:[o]})),Fg(t,{props:UE(n,r)});break}return""})}}var bV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kr={},Yl=typeof process<"u"&&kr!==void 0&&(kr.REACT_APP_SC_ATTR||kr.SC_ATTR)||"data-styled",nx="active",rx="data-styled-version",ap="6.1.19",Tw=`/*!sc*/
`,vf=typeof window<"u"&&typeof document<"u",CV=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&kr!==void 0&&kr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&kr.REACT_APP_SC_DISABLE_SPEEDY!==""?kr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&kr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&kr!==void 0&&kr.SC_DISABLE_SPEEDY!==void 0&&kr.SC_DISABLE_SPEEDY!==""&&kr.SC_DISABLE_SPEEDY!=="false"&&kr.SC_DISABLE_SPEEDY),lp=Object.freeze([]),Xl=Object.freeze({});function TV(t,e,n){return n===void 0&&(n=Xl),t.theme!==n.theme&&t.theme||e||n.theme}var sx=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),xV=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,IV=/(^-|-$)/g;function HE(t){return t.replace(xV,"-").replace(IV,"")}var SV=/(a)(d)/gi,ph=52,qE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Bg(t){var e,n="";for(e=Math.abs(t);e>ph;e=e/ph|0)n=qE(e%ph)+n;return(qE(e%ph)+n).replace(SV,"$1-$2")}var ng,ix=5381,kl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},ox=function(t){return kl(ix,t)};function kV(t){return Bg(ox(t)>>>0)}function RV(t){return t.displayName||t.name||"Component"}function rg(t){return typeof t=="string"&&!0}var ax=typeof Symbol=="function"&&Symbol.for,lx=ax?Symbol.for("react.memo"):60115,PV=ax?Symbol.for("react.forward_ref"):60112,AV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},NV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DV=((ng={})[PV]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ng[lx]=cx,ng);function WE(t){return("type"in(e=t)&&e.type.$$typeof)===lx?cx:"$$typeof"in t?DV[t.$$typeof]:AV;var e}var OV=Object.defineProperty,jV=Object.getOwnPropertyNames,GE=Object.getOwnPropertySymbols,LV=Object.getOwnPropertyDescriptor,MV=Object.getPrototypeOf,KE=Object.prototype;function ux(t,e,n){if(typeof e!="string"){if(KE){var r=MV(e);r&&r!==KE&&ux(t,r,n)}var o=jV(e);GE&&(o=o.concat(GE(e)));for(var a=WE(t),c=WE(e),h=0;h<o.length;++h){var f=o[h];if(!(f in NV||n&&n[f]||c&&f in c||a&&f in a)){var g=LV(e,f);try{OV(t,f,g)}catch{}}}}return t}function Ia(t){return typeof t=="function"}function xw(t){return typeof t=="object"&&"styledComponentId"in t}function ha(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function JE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function xu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function zg(t,e,n){if(n===void 0&&(n=!1),!n&&!xu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=zg(t[r],e[r]);else if(xu(e))for(var r in e)t[r]=zg(t[r],e[r]);return t}function Iw(t,e){Object.defineProperty(t,"toString",{value:e})}function Sa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var VV=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw Sa(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var c=o;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(e+1),f=(c=0,n.length);c<f;c++)this.tag.insertRule(h,n[c])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,c=o;c<a;c++)n+="".concat(this.tag.getRule(c)).concat(Tw);return n},t})(),Dh=new Map,_f=new Map,Oh=1,mh=function(t){if(Dh.has(t))return Dh.get(t);for(;_f.has(Oh);)Oh++;var e=Oh++;return Dh.set(t,e),_f.set(e,t),e},FV=function(t,e){Oh=e+1,Dh.set(t,e),_f.set(e,t)},$V="style[".concat(Yl,"][").concat(rx,'="').concat(ap,'"]'),UV=new RegExp("^".concat(Yl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),BV=function(t,e,n){for(var r,o=n.split(","),a=0,c=o.length;a<c;a++)(r=o[a])&&t.registerName(e,r)},zV=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Tw),o=[],a=0,c=r.length;a<c;a++){var h=r[a].trim();if(h){var f=h.match(UV);if(f){var g=0|parseInt(f[1],10),v=f[2];g!==0&&(FV(v,g),BV(t,v,f[3]),t.getTag().insertRules(g,o)),o.length=0}else o.push(h)}}},QE=function(t){for(var e=document.querySelectorAll($V),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(Yl)!==nx&&(zV(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function HV(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var dx=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(Yl,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(Yl,nx),r.setAttribute(rx,ap);var c=HV();return c&&r.setAttribute("nonce",c),n.insertBefore(r,a),r},qV=(function(){function t(e){this.element=dx(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var c=r[o];if(c.ownerNode===n)return c}throw Sa(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),WV=(function(){function t(e){this.element=dx(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),GV=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),YE=vf,KV={isServer:!vf,useCSSOMInjection:!CV},hx=(function(){function t(e,n,r){e===void 0&&(e=Xl),n===void 0&&(n={});var o=this;this.options=Hn(Hn({},KV),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&vf&&YE&&(YE=!1,QE(this)),Iw(this,function(){return(function(a){for(var c=a.getTag(),h=c.length,f="",g=function(E){var T=(function(K){return _f.get(K)})(E);if(T===void 0)return"continue";var A=a.names.get(T),M=c.getGroup(E);if(A===void 0||!A.size||M.length===0)return"continue";var U="".concat(Yl,".g").concat(E,'[id="').concat(T,'"]'),O="";A!==void 0&&A.forEach(function(K){K.length>0&&(O+="".concat(K,","))}),f+="".concat(M).concat(U,'{content:"').concat(O,'"}').concat(Tw)},v=0;v<h;v++)g(v);return f})(o)})}return t.registerId=function(e){return mh(e)},t.prototype.rehydrate=function(){!this.server&&vf&&QE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Hn(Hn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new GV(o):r?new qV(o):new WV(o)})(this.options),new VV(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(mh(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(mh(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(mh(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),JV=/&/g,QV=/^\s*\/\/.*$/gm;function fx(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=fx(n.children,e)),n})}function YV(t){var e,n,r,o=Xl,a=o.options,c=a===void 0?Xl:a,h=o.plugins,f=h===void 0?lp:h,g=function(T,A,M){return M.startsWith(n)&&M.endsWith(n)&&M.replaceAll(n,"").length>0?".".concat(e):T},v=f.slice();v.push(function(T){T.type===rp&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(JV,n).replace(r,g))}),c.prefix&&v.push(EV),v.push(wV);var E=function(T,A,M,U){A===void 0&&(A=""),M===void 0&&(M=""),U===void 0&&(U="&"),e=U,n=A,r=new RegExp("\\".concat(n,"\\b"),"g");var O=T.replace(QV,""),K=gV(M||A?"".concat(M," ").concat(A," { ").concat(O," }"):O);c.namespace&&(K=fx(K,c.namespace));var V=[];return wf(K,vV(v.concat(_V(function(z){return V.push(z)})))),V};return E.hash=f.length?f.reduce(function(T,A){return A.name||Sa(15),kl(T,A.name)},ix).toString():"",E}var XV=new hx,Hg=YV(),px=tt.createContext({shouldForwardProp:void 0,styleSheet:XV,stylis:Hg});px.Consumer;tt.createContext(void 0);function XE(){return C.useContext(px)}var ZV=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=Hg);var c=r.name+a.hash;o.hasNameForId(r.id,c)||o.insertRules(r.id,c,a(r.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Iw(this,function(){throw Sa(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Hg),this.name+e.hash},t})(),e5=function(t){return t>="A"&&t<="Z"};function ZE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;e5(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var mx=function(t){return t==null||t===!1||t===""},gx=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!mx(a)&&(Array.isArray(a)&&a.isCss||Ia(a)?r.push("".concat(ZE(o),":"),a,";"):xu(a)?r.push.apply(r,yf(yf(["".concat(o," {")],gx(a),!1),["}"],!1)):r.push("".concat(ZE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in bV||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ga(t,e,n,r){if(mx(t))return[];if(xw(t))return[".".concat(t.styledComponentId)];if(Ia(t)){if(!Ia(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ga(o,e,n,r)}var a;return t instanceof ZV?n?(t.inject(n,r),[t.getName(r)]):[t]:xu(t)?gx(t):Array.isArray(t)?Array.prototype.concat.apply(lp,t.map(function(c){return ga(c,e,n,r)})):[t.toString()]}function t5(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ia(n)&&!xw(n))return!1}return!0}var n5=ox(ap),r5=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&t5(e),this.componentId=n,this.baseHash=kl(n5,n),this.baseStyle=r,hx.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ha(o,this.staticRulesId);else{var a=JE(ga(this.rules,e,n,r)),c=Bg(kl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,c)){var h=r(a,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,h)}o=ha(o,c),this.staticRulesId=c}else{for(var f=kl(this.baseHash,r.hash),g="",v=0;v<this.rules.length;v++){var E=this.rules[v];if(typeof E=="string")g+=E;else if(E){var T=JE(ga(E,e,n,r));f=kl(f,T+v),g+=T}}if(g){var A=Bg(f>>>0);n.hasNameForId(this.componentId,A)||n.insertRules(this.componentId,A,r(g,".".concat(A),void 0,this.componentId)),o=ha(o,A)}}return o},t})(),Ef=tt.createContext(void 0);Ef.Consumer;function s5(t){var e=tt.useContext(Ef),n=C.useMemo(function(){return(function(r,o){if(!r)throw Sa(14);if(Ia(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw Sa(8);return o?Hn(Hn({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?tt.createElement(Ef.Provider,{value:n},t.children):null}var sg={};function i5(t,e,n){var r=xw(t),o=t,a=!rg(t),c=e.attrs,h=c===void 0?lp:c,f=e.componentId,g=f===void 0?(function(Y,ie){var Q=typeof Y!="string"?"sc":HE(Y);sg[Q]=(sg[Q]||0)+1;var I="".concat(Q,"-").concat(kV(ap+Q+sg[Q]));return ie?"".concat(ie,"-").concat(I):I})(e.displayName,e.parentComponentId):f,v=e.displayName,E=v===void 0?(function(Y){return rg(Y)?"styled.".concat(Y):"Styled(".concat(RV(Y),")")})(t):v,T=e.displayName&&e.componentId?"".concat(HE(e.displayName),"-").concat(e.componentId):e.componentId||g,A=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,M=e.shouldForwardProp;if(r&&o.shouldForwardProp){var U=o.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;M=function(Y,ie){return U(Y,ie)&&O(Y,ie)}}else M=U}var K=new r5(n,T,r?o.componentStyle:void 0);function V(Y,ie){return(function(Q,I,x){var k=Q.attrs,R=Q.componentStyle,D=Q.defaultProps,$=Q.foldedComponentIds,P=Q.styledComponentId,Be=Q.target,Oe=tt.useContext(Ef),Ye=XE(),je=Q.shouldForwardProp||Ye.shouldForwardProp,ee=TV(I,Oe,D)||Xl,se=(function(_e,Ie,Ke){for(var Ge,H=Hn(Hn({},Ie),{className:void 0,theme:Ke}),Ee=0;Ee<_e.length;Ee+=1){var ge=Ia(Ge=_e[Ee])?Ge(H):Ge;for(var Te in ge)H[Te]=Te==="className"?ha(H[Te],ge[Te]):Te==="style"?Hn(Hn({},H[Te]),ge[Te]):ge[Te]}return Ie.className&&(H.className=ha(H.className,Ie.className)),H})(k,I,ee),ne=se.as||Be,L={};for(var W in se)se[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&se.theme===ee||(W==="forwardedAs"?L.as=se.forwardedAs:je&&!je(W,ne)||(L[W]=se[W]));var ae=(function(_e,Ie){var Ke=XE(),Ge=_e.generateAndInjectStyles(Ie,Ke.styleSheet,Ke.stylis);return Ge})(R,se),de=ha($,P);return ae&&(de+=" "+ae),se.className&&(de+=" "+se.className),L[rg(ne)&&!sx.has(ne)?"class":"className"]=de,x&&(L.ref=x),C.createElement(ne,L)})(z,Y,ie)}V.displayName=E;var z=tt.forwardRef(V);return z.attrs=A,z.componentStyle=K,z.displayName=E,z.shouldForwardProp=M,z.foldedComponentIds=r?ha(o.foldedComponentIds,o.styledComponentId):"",z.styledComponentId=T,z.target=r?o.target:t,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Y){this._foldedDefaultProps=r?(function(ie){for(var Q=[],I=1;I<arguments.length;I++)Q[I-1]=arguments[I];for(var x=0,k=Q;x<k.length;x++)zg(ie,k[x],!0);return ie})({},o.defaultProps,Y):Y}}),Iw(z,function(){return".".concat(z.styledComponentId)}),a&&ux(z,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function eb(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var tb=function(t){return Object.assign(t,{isCss:!0})};function vn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ia(t)||xu(t))return tb(ga(eb(lp,yf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ga(r):tb(ga(eb(r,e)))}function qg(t,e,n){if(n===void 0&&(n=Xl),!e)throw Sa(1,e);var r=function(o){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(e,n,vn.apply(void 0,yf([o],a,!1)))};return r.attrs=function(o){return qg(t,e,Hn(Hn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return qg(t,e,Hn(Hn({},n),o))},r}var yx=function(t){return qg(i5,t)},st=yx;sx.forEach(function(t){st[t]=yx(t)});var To;function Zl(t,e){return t[e]}function o5(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function a5(t=[],e,n="id"){const r=t.slice(),o=Zl(e,n);return o?r.splice(r.findIndex((a=>Zl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function nb(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function fu(t,e){return Math.ceil(t/e)}function ig(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(To||(To={}));const gn=()=>null;function wx(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function jh(t,e=[],n="id"){const r=Zl(t,n);return r?e.some((o=>Zl(o,n)===r)):e.some((o=>o===t))}function gh(t,e){return e?t.findIndex((n=>pu(n.id,e))):-1}function pu(t,e){return t==e}function l5(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:c}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(c){const g=h?[...t.selectedRows,...o.filter((v=>!jh(v,t.selectedRows,r)))]:t.selectedRows.filter((v=>!jh(v,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:g.length,selectedRows:g,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:c,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:a5(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===c,selectedRows:o5(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:c}=e;if(c){const h=[...t.selectedRows,...o.filter((f=>!jh(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:c}=e,h=o&&c,f=o&&!c||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const c5=vn`
	pointer-events: none;
	opacity: 0.4;
`,u5=st.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&c5};
	${({theme:t})=>t.table.style};
`,d5=vn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,h5=st.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&d5};
	${({theme:t})=>t.head.style};
`,f5=st.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,vx=(t,...e)=>vn`
		@media screen and (max-width: ${599}px) {
			${vn(t,...e)}
		}
	`,p5=(t,...e)=>vn`
		@media screen and (max-width: ${959}px) {
			${vn(t,...e)}
		}
	`,m5=(t,...e)=>vn`
		@media screen and (max-width: ${1280}px) {
			${vn(t,...e)}
		}
	`,g5=t=>(e,...n)=>vn`
			@media screen and (max-width: ${t}px) {
				${vn(e,...n)}
			}
		`,mc=st.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,_x=st(mc)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&vn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&vx`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&p5`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&m5`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&g5(t)`
    display: none;
  `};
`,y5=vn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,w5=st(_x).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&y5};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var v5=C.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:f,onDragEnter:g,onDragLeave:v}){const{conditionalStyle:E,classNames:T}=wx(n,e.conditionalCellStyles,["rdt_TableCell"]);return C.createElement(w5,{id:t,"data-column-id":e.id,role:"cell",className:T,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:E,$isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:f,onDragEnter:g,onDragLeave:v},!e.cell&&C.createElement("div",{"data-tag":o},(function(A,M,U,O){return M?U&&typeof U=="function"?U(A,O):M(A,O):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const rb="input";var Ex=C.memo((function({name:t,component:e=rb,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:c=gn}){const h=e,f=h!==rb?n.style:(v=>Object.assign(Object.assign({fontSize:"18px"},!v&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),g=C.useMemo((()=>(function(v,...E){let T;return Object.keys(v).map((A=>v[A])).forEach(((A,M)=>{typeof A=="function"&&(T=Object.assign(Object.assign({},v),{[Object.keys(v)[M]]:A(...E)}))})),T||v})(n,r)),[n,r]);return C.createElement(h,Object.assign({type:"checkbox",ref:v=>{v&&(v.indeterminate=r)},style:f,onClick:a?gn:c,name:t,"aria-label":t,checked:o,disabled:a},g,{onChange:gn}))}));const _5=st(mc)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function E5({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:c,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:g}){const v=!(!f||!f(n));return C.createElement(_5,{onClick:E=>E.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},C.createElement(Ex,{name:t,component:a,componentOptions:c,checked:o,"aria-checked":o,onClick:()=>{g({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:v}))}const b5=st.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function C5({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const c=e?n.expanded:n.collapsed;return C.createElement(b5,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}const T5=st(mc)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function x5({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return C.createElement(T5,{onClick:c=>c.stopPropagation(),$noPadding:!0},C.createElement(C5,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const I5=st.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var S5=C.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((c=>c!=="rdt_TableRow"))].join(" ");return C.createElement(I5,{className:a,$extendedRowStyle:r},C.createElement(e,Object.assign({data:t},n)))}));const og="allowRowEvents";var bf,Wg,sb;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(bf||(bf={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Wg||(Wg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(sb||(sb={}));const k5=vn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,R5=vn`
	&:hover {
		cursor: pointer;
	}
`,P5=st.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&k5};
	${({$pointerOnHover:t})=>t&&R5};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function A5({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:c=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:g,expandOnRowClicked:v=!1,expandOnRowDoubleClicked:E=!1,highlightOnHover:T=!1,id:A,expandableInheritConditionalStyles:M,keyField:U,onRowClicked:O=gn,onRowDoubleClicked:K=gn,onRowMouseEnter:V=gn,onRowMouseLeave:z=gn,onRowExpandToggled:Y=gn,onSelectedRow:ie=gn,pointerOnHover:Q=!1,row:I,rowCount:x,rowIndex:k,selectableRowDisabled:R=null,selectableRows:D=!1,selectableRowsComponent:$,selectableRowsComponentProps:P,selectableRowsHighlight:Be=!1,selectableRowsSingle:Oe=!1,selected:Ye,striped:je=!1,draggingColumnId:ee,onDragStart:se,onDragOver:ne,onDragEnd:L,onDragEnter:W,onDragLeave:ae}){const[de,_e]=C.useState(n);C.useEffect((()=>{_e(n)}),[n]);const Ie=C.useCallback((()=>{_e(!de),Y(!de,I)}),[de,Y,I]),Ke=Q||c&&(v||E),Ge=C.useCallback((pe=>{pe.target.getAttribute("data-tag")===og&&(O(I,pe),!r&&c&&v&&Ie())}),[r,v,c,Ie,O,I]),H=C.useCallback((pe=>{pe.target.getAttribute("data-tag")===og&&(K(I,pe),!r&&c&&E&&Ie())}),[r,E,c,Ie,K,I]),Ee=C.useCallback((pe=>{V(I,pe)}),[V,I]),ge=C.useCallback((pe=>{z(I,pe)}),[z,I]),Te=Zl(I,U),{conditionalStyle:ye,classNames:be}=wx(I,e,["rdt_TableRow"]),Ve=Be&&Ye,it=M?ye:{},Se=je&&k%2==0;return C.createElement(C.Fragment,null,C.createElement(P5,{id:`row-${A}`,role:"row",$striped:Se,$highlightOnHover:T,$pointerOnHover:!r&&Ke,$dense:o,onClick:Ge,onDoubleClick:H,onMouseEnter:Ee,onMouseLeave:ge,className:be,$selected:Ve,$conditionalStyle:ye},D&&C.createElement(E5,{name:`select-row-${Te}`,keyField:U,row:I,rowCount:x,selected:Ye,selectableRowsComponent:$,selectableRowsComponentProps:P,selectableRowDisabled:R,selectableRowsSingle:Oe,onSelectedRow:ie}),c&&!g&&C.createElement(x5,{id:Te,expandableIcon:a,expanded:de,row:I,onToggled:Ie,disabled:r}),t.map((pe=>pe.omit?null:C.createElement(v5,{id:`cell-${pe.id}-${Te}`,key:`cell-${pe.id}-${Te}`,dataTag:pe.ignoreRowClick||pe.button?null:og,column:pe,row:I,rowIndex:k,isDragging:pu(ee,pe.id),onDragStart:se,onDragOver:ne,onDragEnd:L,onDragEnter:W,onDragLeave:ae})))),c&&de&&C.createElement(S5,{key:`expander-${Te}`,data:I,extendedRowStyle:it,extendedClassNames:be,ExpanderComponent:h,expanderComponentProps:f}))}const N5=st.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,D5=({sortActive:t,sortDirection:e})=>tt.createElement(N5,{$sortActive:t,$sortDirection:e},"▲"),O5=st(_x)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,j5=vn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&vn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,L5=st.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&j5};
`,M5=st.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var V5=C.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:c,pagination:h,paginationServer:f,persistSelectedOnSort:g,selectableRowsVisibleOnly:v,onSort:E,onDragStart:T,onDragOver:A,onDragEnd:M,onDragEnter:U,onDragLeave:O}){C.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[K,V]=C.useState(!1),z=C.useRef(null);if(C.useEffect((()=>{z.current&&V(z.current.scrollWidth>z.current.clientWidth)}),[K]),t.omit)return null;const Y=()=>{if(!t.sortable&&!t.selector)return;let P=o;pu(r.id,t.id)&&(P=o===To.ASC?To.DESC:To.ASC),E({type:"SORT_CHANGE",sortDirection:P,selectedColumn:t,clearSelectedOnSort:h&&f&&!g||c||v})},ie=P=>C.createElement(D5,{sortActive:P,sortDirection:o}),Q=()=>C.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),I=!(!t.sortable||!pu(r.id,t.id)),x=!t.sortable||e,k=t.sortable&&!a&&!t.right,R=t.sortable&&!a&&t.right,D=t.sortable&&a&&!t.right,$=t.sortable&&a&&t.right;return C.createElement(O5,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:pu(t.id,n),onDragStart:T,onDragOver:A,onDragEnd:M,onDragEnter:U,onDragLeave:O},t.name&&C.createElement(L5,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:x?void 0:Y,onKeyPress:x?void 0:P=>{P.key==="Enter"&&Y()},$sortActive:!x&&I,disabled:x},!x&&$&&Q(),!x&&R&&ie(I),typeof t.name=="string"?C.createElement(M5,{title:K?t.name:void 0,ref:z,"data-column-id":t.id},t.name):t.name,!x&&D&&Q(),!x&&k&&ie(I)))}));const F5=st(mc)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function $5({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:c,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:g}){const v=a.length>0&&!r,E=f?e.filter((M=>!f(M))):e,T=E.length===0,A=Math.min(e.length,E.length);return C.createElement(F5,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},C.createElement(Ex,{name:"select-all-rows",component:c,componentOptions:h,onClick:()=>{g({type:"SELECT_ALL_ROWS",rows:E,rowCount:A,mergeSelections:o,keyField:n})},checked:r,indeterminate:v,disabled:T}))}function bx(t=bf.AUTO){const e=typeof window=="object",[n,r]=C.useState(!1);return C.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],c=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||c.dir==="rtl";r(o&&h)}}),[t,e]),n}const U5=st.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,B5=st.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,ib=st.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function z5({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=bx(o),c=r>0;return n?C.createElement(ib,{$visible:c},C.cloneElement(n,{selectedCount:r})):C.createElement(ib,{$visible:c,$rtl:a},C.createElement(U5,null,((h,f,g)=>{if(f===0)return null;const v=f===1?h.singular:h.plural;return g?`${f} ${h.message||""} ${v}`:`${f} ${v} ${h.message||""}`})(t,r,a)),C.createElement(B5,null,e))}const H5=st.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,q5=st.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,W5=st.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,G5=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:c,showMenu:h=!0})=>C.createElement(H5,{className:"rdt_TableHeader",role:"heading","aria-level":1},C.createElement(q5,null,t),e&&C.createElement(W5,null,e),h&&C.createElement(z5,{contextMessage:n,contextActions:r,contextComponent:o,direction:c,selectedCount:a}));function Cx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const K5={left:"flex-start",right:"flex-end",center:"center"},J5=st.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>K5[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,Q5=t=>{var{align:e="right",wrapContent:n=!0}=t,r=Cx(t,["align","wrapContent"]);return C.createElement(J5,Object.assign({align:e,$wrapContent:n},r))},Y5=st.div`
	display: flex;
	flex-direction: column;
`,X5=st.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&vn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&vn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,ob=st.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,Z5=st.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,e4=st(mc)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,t4=st.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,n4=()=>tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},tt.createElement("path",{d:"M7 10l5 5 5-5z"}),tt.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),r4=st.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,s4=st.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,i4=t=>{var{defaultValue:e,onChange:n}=t,r=Cx(t,["defaultValue","onChange"]);return C.createElement(s4,null,C.createElement(r4,Object.assign({onChange:n,defaultValue:e},r)),C.createElement(n4,null))},he={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return tt.createElement("div",null,"To add an expander pass in a component instance via ",tt.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:tt.createElement((()=>tt.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},tt.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),tt.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:tt.createElement((()=>tt.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},tt.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),tt.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:tt.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:tt.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Wg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:tt.createElement((()=>tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},tt.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),tt.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:tt.createElement((()=>tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},tt.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),tt.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:tt.createElement((()=>tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},tt.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),tt.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:tt.createElement((()=>tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},tt.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),tt.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:bf.AUTO,onChangePage:gn,onChangeRowsPerPage:gn,onRowClicked:gn,onRowDoubleClicked:gn,onRowMouseEnter:gn,onRowMouseLeave:gn,onRowExpandToggled:gn,onSelectedRowsChange:gn,onSort:gn,onColumnOrderChange:gn},o4={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},a4=st.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,yh=st.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,l4=st.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${vx`
    width: 100%;
    justify-content: space-around;
  `};
`,Tx=st.span`
	flex-shrink: 1;
	user-select: none;
`,c4=st(Tx)`
	margin: 0 24px;
`,u4=st(Tx)`
	margin: 0 4px;
`;var d4=C.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=he.direction,paginationRowsPerPageOptions:o=he.paginationRowsPerPageOptions,paginationIconLastPage:a=he.paginationIconLastPage,paginationIconFirstPage:c=he.paginationIconFirstPage,paginationIconNext:h=he.paginationIconNext,paginationIconPrevious:f=he.paginationIconPrevious,paginationComponentOptions:g=he.paginationComponentOptions,onChangeRowsPerPage:v=he.onChangeRowsPerPage,onChangePage:E=he.onChangePage}){const T=(()=>{const P=typeof window=="object";function Be(){return{width:P?window.innerWidth:void 0,height:P?window.innerHeight:void 0}}const[Oe,Ye]=C.useState(Be);return C.useEffect((()=>{if(!P)return()=>null;function je(){Ye(Be())}return window.addEventListener("resize",je),()=>window.removeEventListener("resize",je)}),[]),Oe})(),A=bx(r),M=T.width&&T.width>599,U=fu(e,t),O=n*t,K=O-t+1,V=n===1,z=n===U,Y=Object.assign(Object.assign({},o4),g),ie=n===U?`${K}-${e} ${Y.rangeSeparatorText} ${e}`:`${K}-${O} ${Y.rangeSeparatorText} ${e}`,Q=C.useCallback((()=>E(n-1)),[n,E]),I=C.useCallback((()=>E(n+1)),[n,E]),x=C.useCallback((()=>E(1)),[E]),k=C.useCallback((()=>E(fu(e,t))),[E,e,t]),R=C.useCallback((P=>v(Number(P.target.value),n)),[n,v]),D=o.map((P=>C.createElement("option",{key:P,value:P},P)));Y.selectAllRowsItem&&D.push(C.createElement("option",{key:-1,value:e},Y.selectAllRowsItemText));const $=C.createElement(i4,{onChange:R,defaultValue:t,"aria-label":Y.rowsPerPageText},D);return C.createElement(a4,{className:"rdt_Pagination"},!Y.noRowsPerPage&&M&&C.createElement(C.Fragment,null,C.createElement(u4,null,Y.rowsPerPageText),$),M&&C.createElement(c4,null,ie),C.createElement(l4,null,C.createElement(yh,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":V,onClick:x,disabled:V,$isRTL:A},c),C.createElement(yh,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":V,onClick:Q,disabled:V,$isRTL:A},f),!Y.noRowsPerPage&&!M&&$,C.createElement(yh,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":z,onClick:I,disabled:z,$isRTL:A},h),C.createElement(yh,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":z,onClick:k,disabled:z,$isRTL:A},a)))}));const ua=(t,e)=>{const n=C.useRef(!0);C.useEffect((()=>{n.current?n.current=!1:t()}),e)};function h4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f4=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===p4})(e)})(t)},p4=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Iu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ec((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function m4(t,e,n){return t.concat(e).map((function(r){return Iu(r,n)}))}function ab(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function lb(t,e){try{return e in t}catch{return!1}}function g4(t,e,n){var r={};return n.isMergeableObject(t)&&ab(t).forEach((function(o){r[o]=Iu(t[o],n)})),ab(e).forEach((function(o){(function(a,c){return lb(a,c)&&!(Object.hasOwnProperty.call(a,c)&&Object.propertyIsEnumerable.call(a,c))})(t,o)||(lb(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,c){if(!c.customMerge)return ec;var h=c.customMerge(a);return typeof h=="function"?h:ec})(o,n)(t[o],e[o],n):r[o]=Iu(e[o],n))})),r}function ec(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||m4,n.isMergeableObject=n.isMergeableObject||f4,n.cloneUnlessOtherwiseSpecified=Iu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):g4(t,e,n):Iu(e,n)}ec.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return ec(n,r,e)}),{})};var Gg=h4(ec);const cb={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},lo={default:cb,light:cb,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function y4(t="default",e,n="default"){return lo[t]||(lo[t]=Gg(lo[n],e||{})),lo[t]=Gg(lo[t],e||{}),lo[t]}function w4(t,e,n,r){const[o,a]=C.useState((()=>nb(t))),[c,h]=C.useState(""),f=C.useRef("");ua((()=>{a(nb(t))}),[t]);const g=C.useCallback((O=>{var K,V,z;const{attributes:Y}=O.target,ie=(K=Y.getNamedItem("data-column-id"))===null||K===void 0?void 0:K.value;ie&&(f.current=((z=(V=o[gh(o,ie)])===null||V===void 0?void 0:V.id)===null||z===void 0?void 0:z.toString())||"",h(f.current))}),[o]),v=C.useCallback((O=>{var K;const{attributes:V}=O.target,z=(K=V.getNamedItem("data-column-id"))===null||K===void 0?void 0:K.value;if(z&&f.current&&z!==f.current){const Y=gh(o,f.current),ie=gh(o,z),Q=[...o];Q[Y]=o[ie],Q[ie]=o[Y],a(Q),e(Q)}}),[e,o]),E=C.useCallback((O=>{O.preventDefault()}),[]),T=C.useCallback((O=>{O.preventDefault()}),[]),A=C.useCallback((O=>{O.preventDefault(),f.current="",h("")}),[]),M=(function(O=!1){return O?To.ASC:To.DESC})(r),U=C.useMemo((()=>o[gh(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:c,handleDragStart:g,handleDragEnter:v,handleDragOver:E,handleDragLeave:T,handleDragEnd:A,defaultSortDirection:M,defaultSortColumn:U}}var v4=C.memo((function(t){const{data:e=he.data,columns:n=he.columns,title:r=he.title,actions:o=he.actions,keyField:a=he.keyField,striped:c=he.striped,highlightOnHover:h=he.highlightOnHover,pointerOnHover:f=he.pointerOnHover,dense:g=he.dense,selectableRows:v=he.selectableRows,selectableRowsSingle:E=he.selectableRowsSingle,selectableRowsHighlight:T=he.selectableRowsHighlight,selectableRowsNoSelectAll:A=he.selectableRowsNoSelectAll,selectableRowsVisibleOnly:M=he.selectableRowsVisibleOnly,selectableRowSelected:U=he.selectableRowSelected,selectableRowDisabled:O=he.selectableRowDisabled,selectableRowsComponent:K=he.selectableRowsComponent,selectableRowsComponentProps:V=he.selectableRowsComponentProps,onRowExpandToggled:z=he.onRowExpandToggled,onSelectedRowsChange:Y=he.onSelectedRowsChange,expandableIcon:ie=he.expandableIcon,onChangeRowsPerPage:Q=he.onChangeRowsPerPage,onChangePage:I=he.onChangePage,paginationServer:x=he.paginationServer,paginationServerOptions:k=he.paginationServerOptions,paginationTotalRows:R=he.paginationTotalRows,paginationDefaultPage:D=he.paginationDefaultPage,paginationResetDefaultPage:$=he.paginationResetDefaultPage,paginationPerPage:P=he.paginationPerPage,paginationRowsPerPageOptions:Be=he.paginationRowsPerPageOptions,paginationIconLastPage:Oe=he.paginationIconLastPage,paginationIconFirstPage:Ye=he.paginationIconFirstPage,paginationIconNext:je=he.paginationIconNext,paginationIconPrevious:ee=he.paginationIconPrevious,paginationComponent:se=he.paginationComponent,paginationComponentOptions:ne=he.paginationComponentOptions,responsive:L=he.responsive,progressPending:W=he.progressPending,progressComponent:ae=he.progressComponent,persistTableHead:de=he.persistTableHead,noDataComponent:_e=he.noDataComponent,disabled:Ie=he.disabled,noTableHead:Ke=he.noTableHead,noHeader:Ge=he.noHeader,fixedHeader:H=he.fixedHeader,fixedHeaderScrollHeight:Ee=he.fixedHeaderScrollHeight,pagination:ge=he.pagination,subHeader:Te=he.subHeader,subHeaderAlign:ye=he.subHeaderAlign,subHeaderWrap:be=he.subHeaderWrap,subHeaderComponent:Ve=he.subHeaderComponent,noContextMenu:it=he.noContextMenu,contextMessage:Se=he.contextMessage,contextActions:pe=he.contextActions,contextComponent:ht=he.contextComponent,expandableRows:ze=he.expandableRows,onRowClicked:Xe=he.onRowClicked,onRowDoubleClicked:It=he.onRowDoubleClicked,onRowMouseEnter:et=he.onRowMouseEnter,onRowMouseLeave:ot=he.onRowMouseLeave,sortIcon:at=he.sortIcon,onSort:lt=he.onSort,sortFunction:St=he.sortFunction,sortServer:wr=he.sortServer,expandableRowsComponent:jo=he.expandableRowsComponent,expandableRowsComponentProps:Es=he.expandableRowsComponentProps,expandableRowDisabled:bs=he.expandableRowDisabled,expandableRowsHideExpander:Cs=he.expandableRowsHideExpander,expandOnRowClicked:Lo=he.expandOnRowClicked,expandOnRowDoubleClicked:Mo=he.expandOnRowDoubleClicked,expandableRowExpanded:Ai=he.expandableRowExpanded,expandableInheritConditionalStyles:Vo=he.expandableInheritConditionalStyles,defaultSortFieldId:Fo=he.defaultSortFieldId,defaultSortAsc:Ys=he.defaultSortAsc,clearSelectedRows:Xs=he.clearSelectedRows,conditionalRowStyles:Ni=he.conditionalRowStyles,theme:Kn=he.theme,customStyles:vr=he.customStyles,direction:Lr=he.direction,onColumnOrderChange:Mr=he.onColumnOrderChange,className:$o,ariaLabel:Ts}=t,{tableColumns:Di,draggingColumnId:Vr,handleDragStart:Oi,handleDragEnter:Ft,handleDragOver:Zs,handleDragLeave:sr,handleDragEnd:xs,defaultSortDirection:ei,defaultSortColumn:ji}=w4(n,Mr,Fo,Ys),[{rowsPerPage:nn,currentPage:kn,selectedRows:Uo,allSelected:ti,selectedCount:Bo,selectedColumn:Kt,sortDirection:ir,toggleOnSelectedRowsChange:_r},Fr]=C.useReducer(l5,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:ji,toggleOnSelectedRowsChange:!1,sortDirection:ei,currentPage:D,rowsPerPage:P,selectedRowsFlag:!1,contextMessage:he.contextMessage}),{persistSelectedOnSort:Li=!1,persistSelectedOnPageChange:es=!1}=k,ni=!(!x||!es&&!Li),zo=ge&&!W&&e.length>0,Fa=se||d4,gc=C.useMemo((()=>((Le={},nt="default",$t="default")=>{const hn=lo[nt]?nt:$t;return Gg({table:{style:{color:(He=lo[hn]).text.primary,backgroundColor:He.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:He.text.primary,backgroundColor:He.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:He.background.default,minHeight:"52px"}},head:{style:{color:He.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:He.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:He.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:He.context.background,fontSize:"18px",fontWeight:400,color:He.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:He.text.primary,backgroundColor:He.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:He.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:He.selected.text,backgroundColor:He.selected.default,borderBottomColor:He.background.default}},highlightOnHoverStyle:{color:He.highlightOnHover.text,backgroundColor:He.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:He.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:He.background.default},stripedStyle:{color:He.striped.text,backgroundColor:He.striped.default}},expanderRow:{style:{color:He.text.primary,backgroundColor:He.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:He.button.default,fill:He.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:He.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:He.button.hover},"&:focus":{outline:"none",backgroundColor:He.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:He.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:He.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:He.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:He.button.default,fill:He.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:He.button.disabled,fill:He.button.disabled},"&:hover:not(:disabled)":{backgroundColor:He.button.hover},"&:focus":{outline:"none",backgroundColor:He.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:He.text.primary,backgroundColor:He.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:He.text.primary,backgroundColor:He.background.default}}},Le);var He})(vr,Kn)),[vr,Kn]),kt=C.useMemo((()=>Object.assign({},Lr!=="auto"&&{dir:Lr})),[Lr]),Yt=C.useMemo((()=>{if(wr)return e;if(Kt?.sortFunction&&typeof Kt.sortFunction=="function"){const Le=Kt.sortFunction,nt=ir===To.ASC?Le:($t,hn)=>-1*Le($t,hn);return[...e].sort(nt)}return(function(Le,nt,$t,hn){return nt?hn&&typeof hn=="function"?hn(Le.slice(0),nt,$t):Le.slice(0).sort(((He,br)=>{const rn=nt(He),Mn=nt(br);if($t==="asc"){if(rn<Mn)return-1;if(rn>Mn)return 1}if($t==="desc"){if(rn>Mn)return-1;if(rn<Mn)return 1}return 0})):Le})(e,Kt?.selector,ir,St)}),[wr,Kt,ir,e,St]),Er=C.useMemo((()=>{if(ge&&!x){const Le=kn*nn,nt=Le-nn;return Yt.slice(nt,Le)}return Yt}),[kn,ge,x,nn,Yt]),Is=C.useCallback((Le=>{Fr(Le)}),[]),or=C.useCallback((Le=>{Fr(Le)}),[]),Ho=C.useCallback((Le=>{Fr(Le)}),[]),$a=C.useCallback(((Le,nt)=>Xe(Le,nt)),[Xe]),ri=C.useCallback(((Le,nt)=>It(Le,nt)),[It]),Jn=C.useCallback(((Le,nt)=>et(Le,nt)),[et]),Ua=C.useCallback(((Le,nt)=>ot(Le,nt)),[ot]),Jt=C.useCallback((Le=>Fr({type:"CHANGE_PAGE",page:Le,paginationServer:x,visibleOnly:M,persistSelectedOnPageChange:es})),[x,es,M]),qo=C.useCallback((Le=>{const nt=fu(R||Er.length,Le),$t=ig(kn,nt);x||Jt($t),Fr({type:"CHANGE_ROWS_PER_PAGE",page:$t,rowsPerPage:Le})}),[kn,Jt,x,R,Er.length]);if(ge&&!x&&Yt.length>0&&Er.length===0){const Le=fu(Yt.length,nn),nt=ig(kn,Le);Jt(nt)}ua((()=>{Y({allSelected:ti,selectedCount:Bo,selectedRows:Uo.slice(0)})}),[_r]),ua((()=>{lt(Kt,ir,Yt.slice(0))}),[Kt,ir]),ua((()=>{I(kn,R||Yt.length)}),[kn]),ua((()=>{Q(nn,kn)}),[nn]),ua((()=>{Jt(D)}),[D,$]),ua((()=>{if(ge&&x&&R>0){const Le=fu(R,nn),nt=ig(kn,Le);kn!==nt&&Jt(nt)}}),[R]),C.useEffect((()=>{Fr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Xs})}),[E,Xs]),C.useEffect((()=>{if(!U)return;const Le=Yt.filter(($t=>U($t))),nt=E?Le.slice(0,1):Le;Fr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:nt,totalRows:Yt.length,mergeSelections:ni})}),[e,U]);const Ba=M?Er:Yt,za=es||E||A;return C.createElement(s5,{theme:gc},!Ge&&(!!r||!!o)&&C.createElement(G5,{title:r,actions:o,showMenu:!it,selectedCount:Bo,direction:Lr,contextActions:pe,contextComponent:ht,contextMessage:Se}),Te&&C.createElement(Q5,{align:ye,wrapContent:be},Ve),C.createElement(X5,Object.assign({$responsive:L,$fixedHeader:H,$fixedHeaderScrollHeight:Ee,className:$o},kt),C.createElement(Z5,null,W&&!de&&C.createElement(ob,null,ae),C.createElement(u5,Object.assign({disabled:Ie,className:"rdt_Table",role:"table"},Ts&&{"aria-label":Ts}),!Ke&&(!!de||Yt.length>0&&!W)&&C.createElement(h5,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:H},C.createElement(f5,{className:"rdt_TableHeadRow",role:"row",$dense:g},v&&(za?C.createElement(mc,{style:{flex:"0 0 48px"}}):C.createElement($5,{allSelected:ti,selectedRows:Uo,selectableRowsComponent:K,selectableRowsComponentProps:V,selectableRowDisabled:O,rowData:Ba,keyField:a,mergeSelections:ni,onSelectAllRows:or})),ze&&!Cs&&C.createElement(e4,null),Di.map((Le=>C.createElement(V5,{key:Le.id,column:Le,selectedColumn:Kt,disabled:W||Yt.length===0,pagination:ge,paginationServer:x,persistSelectedOnSort:Li,selectableRowsVisibleOnly:M,sortDirection:ir,sortIcon:at,sortServer:wr,onSort:Is,onDragStart:Oi,onDragOver:Zs,onDragEnd:xs,onDragEnter:Ft,onDragLeave:sr,draggingColumnId:Vr}))))),!Yt.length&&!W&&C.createElement(t4,null,_e),W&&de&&C.createElement(ob,null,ae),!W&&Yt.length>0&&C.createElement(Y5,{className:"rdt_TableBody",role:"rowgroup"},Er.map(((Le,nt)=>{const $t=Zl(Le,a),hn=(function(Mn=""){return typeof Mn!="number"&&(!Mn||Mn.length===0)})($t)?nt:$t,He=jh(Le,Uo,a),br=!!(ze&&Ai&&Ai(Le)),rn=!!(ze&&bs&&bs(Le));return C.createElement(A5,{id:hn,key:hn,keyField:a,"data-row-id":hn,columns:Di,row:Le,rowCount:Yt.length,rowIndex:nt,selectableRows:v,expandableRows:ze,expandableIcon:ie,highlightOnHover:h,pointerOnHover:f,dense:g,expandOnRowClicked:Lo,expandOnRowDoubleClicked:Mo,expandableRowsComponent:jo,expandableRowsComponentProps:Es,expandableRowsHideExpander:Cs,defaultExpanderDisabled:rn,defaultExpanded:br,expandableInheritConditionalStyles:Vo,conditionalRowStyles:Ni,selected:He,selectableRowsHighlight:T,selectableRowsComponent:K,selectableRowsComponentProps:V,selectableRowDisabled:O,selectableRowsSingle:E,striped:c,onRowExpandToggled:z,onRowClicked:$a,onRowDoubleClicked:ri,onRowMouseEnter:Jn,onRowMouseLeave:Ua,onSelectedRow:Ho,draggingColumnId:Vr,onDragStart:Oi,onDragOver:Zs,onDragEnd:xs,onDragEnter:Ft,onDragLeave:sr})})))))),zo&&C.createElement("div",null,C.createElement(Fa,{onChangePage:Jt,onChangeRowsPerPage:qo,rowCount:R||Yt.length,currentPage:kn,rowsPerPage:nn,direction:Lr,paginationRowsPerPageOptions:Be,paginationIconLastPage:Oe,paginationIconFirstPage:Ye,paginationIconNext:je,paginationIconPrevious:ee,paginationComponentOptions:ne})))}));const ub=yr(Ln),_4=Zr(Ln);y4("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function E4({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,c]=C.useState(!1),[h,f]=C.useState(!1),[g,v]=C.useState(!1),[E,T]=C.useState(!1),A=C.useRef(null),M=()=>Nu(_4);C.useEffect(()=>{const R=D=>{A.current&&!A.current.contains(D.target)&&T(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const U=R=>parseInt(R),O=t?.fotoPerfil||Ct,K=[{when:R=>R.pos==="1º",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>R.pos==="2º",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>R.pos==="3º",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>U(R.pos)>3&&U(R.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>U(R.pos)>3&&U(R.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],V=[{name:"Pos.",selector:R=>R.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:R=>R.jugador,cell:R=>m.jsxs(_t,{to:R.id===t.uid?"/home":`/equipo/${R.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[m.jsx("img",{src:R.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),m.jsx("span",{children:R.jugador})]})},{name:"Puntos",selector:R=>R.puntos,width:"5.5rem",center:!0}],z=()=>{c(!a)},Y=R=>R>=1e6?(R/1e6).toFixed(2)+"M":R>=1e3?(R/1e3).toFixed(2)+"K":R.toFixed(2);C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const R=Ne(ub,"usuarios",t.uid);xt(R).then(D=>{D.exists()&&o(D.data().dinero)})}},[t]);const[ie,Q]=C.useState([]),[I,x]=C.useState(!1);C.useEffect(()=>{(async()=>{x(!0);try{const D=yn(ub,"usuarios");let Be=(await ys(D)).docs.map(Oe=>({id:Oe.id,...Oe.data()})).sort((Oe,Ye)=>(Ye.puntos||0)-(Oe.puntos||0)).map((Oe,Ye)=>({id:Oe.id,pos:`${Ye+1}º`,jugador:Oe.nick||"Sin nombre",puntos:Oe.puntos||0,fotoPerfil:Oe.fotoPerfil||Ct}));Q(Be)}catch(D){console.error("Error al cargar usuarios:",D)}finally{x(!1)}})()},[]);const k={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:O,onError:R=>{R.currentTarget.onerror=null,R.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>T(!E),onMouseEnter:()=>T(!0)}),E&&m.jsxs("div",{className:"perfil-bocadillo",ref:A,onMouseLeave:()=>T(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),T(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:M,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),T(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:Y(r)})]})]})]}),m.jsx("button",{onClick:z,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xa})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&m.jsx(Gl,{usuario:t,openModal:h,setOpenModal:f}),g&&m.jsx(Kl,{usuario:t,openModal:g,setOpenModal:v}),m.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx(v4,{title:"CLASIFICACIÓN",columns:V,data:ie,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:I,progressComponent:m.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:K,customStyles:k,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:m.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function b4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,idUsuario:o}){const a=Zr(),c=yr();Yu();const h=t?.foto||Ct,[f,g]=C.useState(!1),[v,E]=C.useState(!1),T=async()=>{if(!t||!a.currentUser)return;if(!v||!f){await Pe.fire({icon:"error",title:"Jornada Empezada",text:"No se puede pagar clausulas un día antes de la jornada.",confirmButtonText:"Ok"});return}const V=a.currentUser,z=Ne(c,"usuarios",V.uid),Y=Ne(c,"usuarios",o),ie=Ne(c,"jugadores",t.id);try{const[Q,I]=await Promise.all([xt(z),xt(Y)]);if(!Q.exists()||!I.exists())throw new Error("Usuario no encontrado en la base de datos");const x=Q.data(),k=I.data(),R=x.equipo.titulares.findIndex(se=>se.jugadorId===null),D=x.equipo.banquillo.findIndex(se=>se.jugadorId===null);if(R===-1&&D===-1){await Pe.fire({icon:"error",title:"Equipo completo",text:"No tienes hueco en tu plantilla para fichar a este jugador.",confirmButtonText:"Ok"});return}if(x.dinero<e){await Pe.fire({icon:"error",title:"Fondos insuficientes",text:"No tienes suficiente dinero para pagar esta cláusula.",confirmButtonText:"Ok"});return}await Rt(z,{dinero:x.dinero-e}),await Rt(Y,{dinero:k.dinero+e});let $=[...x.equipo.titulares],P=[...x.equipo.banquillo];R!==-1?$[R]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)}:P[D]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)},await Rt(z,{"equipo.titulares":$,"equipo.banquillo":P});let Be=[...k.equipo.titulares],Oe=[...k.equipo.banquillo];Be=Be.map(se=>se.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:se),Oe=Oe.map(se=>se.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:se),await Rt(Y,{"equipo.titulares":Be,"equipo.banquillo":Oe}),await Rt(ie,{dueños:Ca(o)}),await Rt(ie,{dueños:Jf(V.uid)}),await Cu(yn(c,"historial"),{tipo:"clausulazo",compradorUid:V.uid,compradorNombre:x.nick,vendedorUid:o,vendedorNombre:k.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:e,fecha:new Date}),await Pe.fire({icon:"success",title:"¡Cláusula pagada!",html:`Has fichado a <strong>${t.nombre}</strong> por <strong>${e.toLocaleString("es-ES")}€</strong><br/>Nueva cláusula: <strong>${Math.round(e*1.5).toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"});const Ye=yn(c,"mercado/usuarios"),je=vi(Ye,bo("jugadorId","==",t.id)),ee=await ys(je);for(const se of ee.docs)await Yy(Ne(c,"mercado/usuarios",se.id));window.location.reload()}catch(Q){console.error("Error al pagar cláusula:",Q),await Pe.fire({icon:"error",title:"Error",text:"No se pudo completar el pago de la cláusula.",confirmButtonText:"Ok"})}},A=async()=>{if(!t||!user)return;if(!f){await Pe.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const V=Math.round(t.precio*.6),z=Ne(c,"usuarios",user.uid),Y=Ne(c,"jugadores",t.id);try{await Rt(z,{dinero:increment(V)}),await Rt(Y,{stockLibre:increment(1),dueños:Ca(user.uid)});const ie=await xt(z);if(ie.exists()){const Q=ie.data(),I=Q.equipo.titulares.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k),x=Q.equipo.banquillo.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k);await Rt(z,{"equipo.titulares":I,"equipo.banquillo":x})}await Cu(yn(c,"historial"),{tipo:"venta directa",vendedorNombre:user.nick,compradorNombre:"",jugadorNombre:t.nombre,fotoJugador:t?.foto,precio:V,fecha:new Date}),await Pe.fire({icon:"success",title:"¡Jugador vendido!",html:`Has recibido <strong>${V.toLocaleString("es-ES")}€</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(ie){console.error("Error en la venta:",ie),await Pe.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}};C.useEffect(()=>{(async()=>{try{const z=Ne(c,"admin","controles"),Y=await xt(z);if(Y.exists()){const ie=Y.data();g(ie.edicionActiva===!0),E(ie.clausulaPermitida===!0)}}catch(z){console.error("Error al obtener estado de edición:",z)}})()},[]);const M=V=>{switch(V){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return V||"Sin posición"}},U=C.useRef(),O=V=>{V.target===U.current&&r(!1)},K=V=>V.toLocaleString("es-ES")+"€";return n?m.jsx("div",{className:"modal-overlay",ref:U,onClick:O,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:"×"}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:h,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:M(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",K(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const V=t.historialPrecios||[];if(V.length===0)return m.jsx("small",{children:"(±0€)"});const z=V[V.length-1].precio||0,Y=t.precio-z,ie=Y>0?"+":Y<0?"-":"±";return m.jsxs("small",{className:Y>0?"subida":Y<0?"bajada":"igual",children:["(",ie,K(Math.abs(Y)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Claúsula:"})," ",K(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(V=>typeof V=="number").reduce((V,z,Y,ie)=>V+z/ie.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((V,z,Y)=>{const ie=V??"-",Q=Y.length<5?z+1:t.puntosPorJornada.length-5+z+1;let I="";return typeof V=="number"&&(V>=9?I="verde":V<7?I="rojo":I="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Q]}),m.jsx("div",{className:`jornada-cuadro ${I}`,children:ie})]},z)}):[...Array(5)].map((V,z)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",z+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},z))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoración"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-footer",children:[m.jsxs("button",{className:"btn-accion",disabled:!v||!f,onClick:()=>{T()},children:["Pagar Cláusula",m.jsxs("small",{className:"precio-compra",children:["(-",K(t.precioClausula),")"]})]}),m.jsx("button",{className:"btn-accion",disabled:!f,onClick:()=>{A()},children:"Hacer oferta"})]})]})}):null}const ag=yr(Ln),C4=Zr(Ln),T4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function db(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=T4[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const c=t.posicion;return c==="POR"?r=a==="POR"?"green":"red":c==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":c==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":c==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function x4({usuario:t}){const{jugadorId:e}=AD(),[n,r]=C.useState(!0),[o,a]=C.useState(null),[c,h]=C.useState(!1),[f,g]=C.useState(!1),[v,E]=C.useState(null),T=t?.fotoPerfil||Ct,A=o?.equipo?.titulares||[],M=o?.equipo?.banquillo||[],[U,O]=C.useState([]),K=o?.equipo?.capitan||"",[V,z]=C.useState(o?.equipo?.formacion||"2-1-1"),[Y,ie]=C.useState(V);C.useEffect(()=>{o?.equipo?.formacion&&(z(o.equipo.formacion),ie(o.equipo.formacion))},[o]);const[Q,I]=C.useState(!1),[x,k]=C.useState(!1),[R,D]=C.useState(!1),[$,P]=C.useState(null),[Be,Oe]=C.useState(!1),Ye=C.useRef(null),je=()=>Nu(C4);C.useEffect(()=>{const ne=L=>{Ye.current&&!Ye.current.contains(L.target)&&Oe(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),C.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const ne=Ne(ag,"usuarios",t.uid);xt(ne).then(L=>{L.exists()&&E(L.data().dinero)})}},[t]),C.useEffect(()=>{(async()=>{if(e){r(!0);try{const L=await xt(Ne(ag,"usuarios",e));L.exists()?a({id:L.id,...L.data()}):a(null)}catch(L){console.error("Error fetching jugador:",L)}finally{r(!1)}}})()},[e]),C.useEffect(()=>{(async()=>{if(o?.equipo)try{const L=[...(o.equipo.titulares||[]).map(Ie=>Ie?.jugadorId).filter(Boolean),...(o.equipo.banquillo||[]).map(Ie=>Ie?.jugadorId).filter(Boolean)];if(L.length===0){O([]);return}const W=yn(ag,"jugadores"),ae=vi(W,bo("__name__","in",L)),_e=(await ys(ae)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));O(_e)}catch(L){console.error("Error cargando jugadores:",L)}})()},[o]);const ee=()=>{h(!c)},se=ne=>ne.toLocaleString("es-ES")+"€";return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:T,onError:ne=>{ne.currentTarget.onerror=null,ne.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>Oe(!Be),onMouseEnter:()=>Oe(!0)}),Be&&m.jsxs("div",{className:"perfil-bocadillo",ref:Ye,onMouseLeave:()=>Oe(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{I(!0),Oe(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:je,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{D(!0),Oe(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),v!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:se(v)})]})]})]}),m.jsx("button",{onClick:ee,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${c?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xa})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Q&&m.jsx(Gl,{usuario:t,openModal:Q,setOpenModal:I}),R&&m.jsx(Kl,{usuario:t,openModal:R,setOpenModal:D}),x&&$&&m.jsx(b4,{jugador:$,clausulaPersonal:o?.equipo?.titulares?.find(ne=>ne.jugadorId===$.id)?.clausulaPersonal??o?.equipo?.banquillo?.find(ne=>ne.jugadorId===$.id)?.clausulaPersonal,openModal:x,setOpenModal:k,idUsuario:o?.id}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[m.jsxs("div",{className:"datos-equipo",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Formación:"})," ",m.jsx("small",{children:Y})," "]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Dinero:"})," ",m.jsx("small",{children:m.jsx("span",{className:"verde",children:se(o?.dinero||0)})})]})]}),m.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((ne,L,W)=>{const ae=ne??"-",de=W.length<5?L+1:o?.puntuaciones.length-5+L+1;let _e="";return typeof ne=="number"&&(ne>=36?_e="verde":ne<28?_e="rojo":_e="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",de]}),m.jsx("div",{className:`jornada-cuadro ${_e}`,children:ae})]},L)}):[...Array(5)].map((ne,L)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",L+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},L))}),m.jsx("div",{className:"campo",children:Vg[Y]?.map((ne,L)=>{const W=A[L],ae=U.find(de=>de.id===W?.jugadorId);return m.jsxs("div",{className:"jugador",style:{position:"absolute",top:ne.top,left:ne.left,transform:"translate(-50%, -50%)"},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:ae?.foto||Ct,alt:ae?.nombre||"Vacío",className:"jugador-img",style:db(ae,L,Y).style,onClick:()=>{k(!0),P(ae)}}),(()=>{const{status:de}=db(ae,L,Y);return console.log(de),de?de==="green"?m.jsx("div",{className:"status-badge green",children:"✓"}):de==="orange"?m.jsx("div",{className:"status-badge orange",children:"!"}):de==="red"?m.jsx("div",{className:"status-badge red",children:"✕"}):null:null})(),K===ae?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(ae?.puntosPorJornada.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const de=ae?.puntosPorJornada?.length?ae?.puntosPorJornada[ae?.puntosPorJornada.length-1]:null;if(de==null)return null;let _e=de==="-"?"gray":de<7?"red":de<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${_e}`,children:de})})()]}),m.jsx("p",{className:"jugador-nombre",children:ae?.nombre||"Vacío"})]},ae?.id||L)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:"⚽ Banquillo"}),m.jsx("div",{className:"banquillo-container",children:M.map((ne,L)=>{const W=U.find(ae=>ae.id===ne?.jugadorId);return m.jsx("div",{className:"banquillo-slot",children:W?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:W?.foto||Ct,alt:W?.nombre||"Vacío",className:"jugador-img",onClick:()=>{k(!0),P(W)}}),(()=>{if(W?.puntosPorJornada?.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const ae=W?.puntosPorJornada?.length?W?.puntosPorJornada[W?.puntosPorJornada.length-1]:null;if(ae==null)return null;let de=ae==="-"?"gray":ae<7?"red":ae<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${de}`,children:ae})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:W?.nombre})]}):m.jsx(_t,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}const Xc=yr(Ln),I4=Zr(Ln);function S4({usuario:t}){const[e,n]=C.useState([]),[r,o]=C.useState(!1),a=C.useRef(null),[c,h]=C.useState(null),[f,g]=C.useState(!1),[v,E]=C.useState(!1),[T,A]=C.useState(!1),M=t?.fotoPerfil||Ct,U=()=>Nu(I4);C.useEffect(()=>{const V=z=>{a.current&&!a.current.contains(z.target)&&A(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]),C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const z=Ne(Xc,"usuarios",t.uid);xt(z).then(Y=>{Y.exists()&&h(Y.data().dinero)})}(async()=>{try{const z=await ys(yn(Xc,"historial"));if(z.empty)n([]);else{const Y=z.docs.map(I=>({id:I.id,...I.data()})),Q=(await Promise.all(Y.map(async I=>{let x={},k={},R={};if(I.jugadorId){const D=Ne(Xc,"jugadores",I.jugadorId),$=await xt(D);$.exists()&&(x=$.data())}if(I.compradorUid){const D=Ne(Xc,"usuarios",I.compradorUid),$=await xt(D);$.exists()&&(k=$.data())}if(I.vendedorUid){const D=Ne(Xc,"usuarios",I.vendedorUid),$=await xt(D);$.exists()&&(R=$.data())}return{...I,jugadorNombre:x?.nombre||"Jugador desconocido",fotoJugador:x?.foto||Ct,compradorNombre:k?.nick||"Desconocido",vendedorNombre:R?.nick||"Desconocido"}}))).sort((I,x)=>(x.fecha?.toMillis?.()||0)-(I.fecha?.toMillis?.()||0));n(Q)}}catch(z){console.error("Error cargando historial:",z),n([])}})()},[t]);const O=V=>typeof V!="number"||isNaN(V)?"—":V.toLocaleString("es-ES")+"€",K=()=>{o(!r)};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:M,onError:V=>{V.currentTarget.onerror=null,V.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>A(!T),onMouseEnter:()=>A(!0)}),T&&m.jsxs("div",{className:"perfil-bocadillo",ref:a,onMouseLeave:()=>A(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{g(!0),A(!1)},children:"👤 Perfil"}),m.jsx("button",{className:"btn-logout",onClick:U,children:"➜] Cerrar sesión"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{E(!0),A(!1)},children:"⚙️ Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),c!==null&&m.jsxs("p",{className:"dinero-usuario",children:["💰",m.jsx("strong",{children:O(c)})]})]})]}),m.jsx("button",{onClick:K,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${r?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIÓN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(_t,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${xa})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),f&&m.jsx(Gl,{usuario:t,openModal:f,setOpenModal:g}),v&&m.jsx(Kl,{usuario:t,openModal:v,setOpenModal:E}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsx("div",{className:"tabs-container",children:m.jsx("button",{className:"tab-btn active",children:"Historial de transacciones"})}),m.jsx("div",{className:"historial-container",children:e.length===0?m.jsx("div",{className:"sin-historial",children:m.jsx("p",{children:"🕒 Todavía no ha habido ninguna transacción"})}):m.jsx("ul",{className:"lista-historial",children:e.map(V=>{let z,Y="#2c2c2c";return V.tipo==="venta directa"?(Y="rgba(59, 1, 1, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:V.vendedorNombre})," ha vendido de forma rápida a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:V.jugadorNombre})," por"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:O(V.precio)})]})):V.tipo==="clausulazo"?(Y="rgba(0, 67, 6, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:V.compradorNombre})," ha pagado la cláusula de"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:V.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:V.vendedorNombre})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:O(V.precio)})]})):(Y="rgba(0, 0, 0, 0.65)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:V.compradorNombre})," ha pagado"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:O(V.precio)})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:V.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:V.vendedorNombre})]})),m.jsx("li",{className:"historial-item",style:{backgroundColor:Y},children:m.jsxs("div",{className:"historial-card",children:[m.jsx("img",{src:V.fotoJugador,alt:V.jugadorNombre,className:"historial-foto"}),m.jsxs("div",{className:"historial-info",children:[m.jsx("p",{children:z}),m.jsx("small",{children:V.fecha?.toDate?V.fecha.toDate().toLocaleString("es-ES"):""})]})]})},V.id)})})})]})]})]})}function k4({usuario:t}){return m.jsx("main",{className:"fallback-root",role:"main",children:m.jsxs("div",{className:"fallback-card","aria-live":"polite",children:[m.jsx("div",{className:"fallback-illustration","aria-hidden":"true",children:m.jsxs("svg",{viewBox:"0 0 600 400",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"g1",x1:"0",x2:"1",children:[m.jsx("stop",{offset:"0",stopColor:"#06202a"}),m.jsx("stop",{offset:"1",stopColor:"#072f34"})]})}),m.jsx("rect",{width:"100%",height:"100%",rx:"16",fill:"url(#g1)",opacity:"0.12"}),m.jsxs("g",{transform:"translate(50,40)",fill:"none",stroke:"#bfe7e8",strokeOpacity:"0.08",strokeWidth:"6",children:[m.jsx("path",{d:"M0 150 C 120 10, 360 10, 480 150",strokeLinecap:"round"}),m.jsx("circle",{cx:"120",cy:"120",r:"18"}),m.jsx("circle",{cx:"360",cy:"120",r:"18"})]})]})}),m.jsxs("div",{className:"fallback-body",children:[m.jsx("h1",{className:"fallback-title",children:"Página no encontrada"}),m.jsxs("p",{className:"fallback-sub",children:["Lo sentimos, la ruta que buscas no existe o ha sido movida.",t?" Vamos a llevarte a tu panel.":" Usa el botón para volver al inicio."]}),m.jsxs("div",{className:"fallback-actions",children:[m.jsx(_t,{to:t?"/home":"/",className:"btn-primary",children:"Volver al inicio"}),t&&m.jsx(_t,{to:"/mercado",className:"btn-ghost",children:"Ir al mercado"})]}),m.jsx("small",{className:"fallback-hint",children:"Si crees que esto es un error, revisa la URL o contacta con soporte."})]})]})})}async function R4(t){const e=Ne(tD,"admin","mercado"),n=await xt(e),r=new Date,o=new Date;if(o.setHours(0,0,0,0),!n.exists()){await zl(e,{ultimaActualizacion:o,ultimaActualizacionHora:r}),await t();return}const c=n.data().ultimaActualizacion?.toDate?.()||null;(!c||c<o)&&(await t(),await zl(e,{ultimaActualizacion:o,ultimaActualizacionHora:r}))}const P4=Zr(Ln),A4=yr(Ln);function N4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const o=IR(P4,async a=>{if(a)try{const c=await xt(Ne(A4,"usuarios",a.uid));c.exists()?e({uid:a.uid,...c.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(c){console.error("Error obteniendo datos de usuario:",c),e(null)}else e(null);r(!1)});return()=>o()},[]),C.useEffect(()=>{(async()=>{await R4(KT)&&await XM()})()},[]),n?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):m.jsx(mO,{children:m.jsxs(WD,{children:[m.jsx(oo,{path:"/",element:t?m.jsx(El,{to:"/home",replace:!0}):m.jsx(vM,{})}),m.jsx(oo,{path:"/home",element:t?m.jsx(eV,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(oo,{path:"/mercado",element:t?m.jsx(rV,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(oo,{path:"/clasificacion",element:t?m.jsx(E4,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(oo,{path:"/equipo/:jugadorId",element:t?m.jsx(x4,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(oo,{path:"/historial",element:t?m.jsx(S4,{usuario:t}):m.jsx(El,{to:"/",replace:!0})}),m.jsx(oo,{path:"*",element:m.jsx(k4,{usuario:t})})]})})}MI.createRoot(document.getElementById("root")).render(m.jsx(C.StrictMode,{children:m.jsx(N4,{})}));
