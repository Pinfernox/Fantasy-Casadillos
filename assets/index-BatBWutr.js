(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function _S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bm={exports:{}},Fc={},Cm={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function ES(){if(T_)return Ze;T_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function O(j,G,B){this.props=j,this.context=G,this.refs=$,this.updater=B||A}O.prototype.isReactComponent={},O.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function W(){}W.prototype=O.prototype;function M(j,G,B){this.props=j,this.context=G,this.refs=$,this.updater=B||A}var z=M.prototype=new W;z.constructor=M,L(z,O.prototype),z.isPureReactComponent=!0;var Q=Array.isArray,ie=Object.prototype.hasOwnProperty,J={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(j,G,B){var ne,ce={},ae=null,ge=null;if(G!=null)for(ne in G.ref!==void 0&&(ge=G.ref),G.key!==void 0&&(ae=""+G.key),G)ie.call(G,ne)&&!S.hasOwnProperty(ne)&&(ce[ne]=G[ne]);var me=arguments.length-2;if(me===1)ce.children=B;else if(1<me){for(var ye=Array(me),Ke=0;Ke<me;Ke++)ye[Ke]=arguments[Ke+2];ce.children=ye}if(j&&j.defaultProps)for(ne in me=j.defaultProps,me)ce[ne]===void 0&&(ce[ne]=me[ne]);return{$$typeof:t,type:j,key:ae,ref:ge,props:ce,_owner:J.current}}function k(j,G){return{$$typeof:t,type:j.type,key:G,ref:j.ref,props:j.props,_owner:j._owner}}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function D(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(B){return G[B]})}var F=/\/+/g;function P(j,G){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):G.toString(36)}function Me(j,G,B,ne,ce){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var ge=!1;if(j===null)ge=!0;else switch(ae){case"string":case"number":ge=!0;break;case"object":switch(j.$$typeof){case t:case e:ge=!0}}if(ge)return ge=j,ce=ce(ge),j=ne===""?"."+P(ge,0):ne,Q(ce)?(B="",j!=null&&(B=j.replace(F,"$&/")+"/"),Me(ce,G,B,"",function(Ke){return Ke})):ce!=null&&(R(ce)&&(ce=k(ce,B+(!ce.key||ge&&ge.key===ce.key?"":(""+ce.key).replace(F,"$&/")+"/")+j)),G.push(ce)),1;if(ge=0,ne=ne===""?".":ne+":",Q(j))for(var me=0;me<j.length;me++){ae=j[me];var ye=ne+P(ae,me);ge+=Me(ae,G,B,ye,ce)}else if(ye=T(j),typeof ye=="function")for(j=ye.call(j),me=0;!(ae=j.next()).done;)ae=ae.value,ye=ne+P(ae,me++),ge+=Me(ae,G,B,ye,ce);else if(ae==="object")throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ge}function xe(j,G,B){if(j==null)return j;var ne=[],ce=0;return Me(j,ne,"","",function(ae){return G.call(B,ae,ce++)}),ne}function He(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(B){(j._status===0||j._status===-1)&&(j._status=1,j._result=B)},function(B){(j._status===0||j._status===-1)&&(j._status=2,j._result=B)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var ke={current:null},Z={transition:null},se={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Z,ReactCurrentOwner:J};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:xe,forEach:function(j,G,B){xe(j,function(){G.apply(this,arguments)},B)},count:function(j){var G=0;return xe(j,function(){G++}),G},toArray:function(j){return xe(j,function(G){return G})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ze.Component=O,Ze.Fragment=n,Ze.Profiler=o,Ze.PureComponent=M,Ze.StrictMode=r,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ze.act=te,Ze.cloneElement=function(j,G,B){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ne=L({},j.props),ce=j.key,ae=j.ref,ge=j._owner;if(G!=null){if(G.ref!==void 0&&(ae=G.ref,ge=J.current),G.key!==void 0&&(ce=""+G.key),j.type&&j.type.defaultProps)var me=j.type.defaultProps;for(ye in G)ie.call(G,ye)&&!S.hasOwnProperty(ye)&&(ne[ye]=G[ye]===void 0&&me!==void 0?me[ye]:G[ye])}var ye=arguments.length-2;if(ye===1)ne.children=B;else if(1<ye){me=Array(ye);for(var Ke=0;Ke<ye;Ke++)me[Ke]=arguments[Ke+2];ne.children=me}return{$$typeof:t,type:j.type,key:ce,ref:ae,props:ne,_owner:ge}},Ze.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Ze.createElement=I,Ze.createFactory=function(j){var G=I.bind(null,j);return G.type=j,G},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(j){return{$$typeof:h,render:j}},Ze.isValidElement=R,Ze.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:He}},Ze.memo=function(j,G){return{$$typeof:y,type:j,compare:G===void 0?null:G}},Ze.startTransition=function(j){var G=Z.transition;Z.transition={};try{j()}finally{Z.transition=G}},Ze.unstable_act=te,Ze.useCallback=function(j,G){return ke.current.useCallback(j,G)},Ze.useContext=function(j){return ke.current.useContext(j)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(j){return ke.current.useDeferredValue(j)},Ze.useEffect=function(j,G){return ke.current.useEffect(j,G)},Ze.useId=function(){return ke.current.useId()},Ze.useImperativeHandle=function(j,G,B){return ke.current.useImperativeHandle(j,G,B)},Ze.useInsertionEffect=function(j,G){return ke.current.useInsertionEffect(j,G)},Ze.useLayoutEffect=function(j,G){return ke.current.useLayoutEffect(j,G)},Ze.useMemo=function(j,G){return ke.current.useMemo(j,G)},Ze.useReducer=function(j,G,B){return ke.current.useReducer(j,G,B)},Ze.useRef=function(j){return ke.current.useRef(j)},Ze.useState=function(j){return ke.current.useState(j)},Ze.useSyncExternalStore=function(j,G,B){return ke.current.useSyncExternalStore(j,G,B)},Ze.useTransition=function(){return ke.current.useTransition()},Ze.version="18.3.1",Ze}var I_;function Ug(){return I_||(I_=1,Cm.exports=ES()),Cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function bS(){if(S_)return Fc;S_=1;var t=Ug(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,y){var v,b={},T=null,A=null;y!==void 0&&(T=""+y),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(b[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)b[v]===void 0&&(b[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:A,props:b,_owner:o.current}}return Fc.Fragment=n,Fc.jsx=c,Fc.jsxs=c,Fc}var x_;function CS(){return x_||(x_=1,bm.exports=bS()),bm.exports}var m=CS(),C=Ug();const Ye=_S(C);var Gd={},Tm={exports:{}},ar={},Im={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function TS(){return k_||(k_=1,(function(t){function e(Z,se){var te=Z.length;Z.push(se);e:for(;0<te;){var j=te-1>>>1,G=Z[j];if(0<o(G,se))Z[j]=se,Z[te]=G,te=j;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var se=Z[0],te=Z.pop();if(te!==se){Z[0]=te;e:for(var j=0,G=Z.length,B=G>>>1;j<B;){var ne=2*(j+1)-1,ce=Z[ne],ae=ne+1,ge=Z[ae];if(0>o(ce,te))ae<G&&0>o(ge,ce)?(Z[j]=ge,Z[ae]=te,j=ae):(Z[j]=ce,Z[ne]=te,j=ne);else if(ae<G&&0>o(ge,te))Z[j]=ge,Z[ae]=te,j=ae;else break e}}return se}function o(Z,se){var te=Z.sortIndex-se.sortIndex;return te!==0?te:Z.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],y=[],v=1,b=null,T=3,A=!1,L=!1,$=!1,O=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Z){for(var se=n(y);se!==null;){if(se.callback===null)r(y);else if(se.startTime<=Z)r(y),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(y)}}function Q(Z){if($=!1,z(Z),!L)if(n(f)!==null)L=!0,He(ie);else{var se=n(y);se!==null&&ke(Q,se.startTime-Z)}}function ie(Z,se){L=!1,$&&($=!1,W(I),I=-1),A=!0;var te=T;try{for(z(se),b=n(f);b!==null&&(!(b.expirationTime>se)||Z&&!D());){var j=b.callback;if(typeof j=="function"){b.callback=null,T=b.priorityLevel;var G=j(b.expirationTime<=se);se=t.unstable_now(),typeof G=="function"?b.callback=G:b===n(f)&&r(f),z(se)}else r(f);b=n(f)}if(b!==null)var B=!0;else{var ne=n(y);ne!==null&&ke(Q,ne.startTime-se),B=!1}return B}finally{b=null,T=te,A=!1}}var J=!1,S=null,I=-1,k=5,R=-1;function D(){return!(t.unstable_now()-R<k)}function F(){if(S!==null){var Z=t.unstable_now();R=Z;var se=!0;try{se=S(!0,Z)}finally{se?P():(J=!1,S=null)}}else J=!1}var P;if(typeof M=="function")P=function(){M(F)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,xe=Me.port2;Me.port1.onmessage=F,P=function(){xe.postMessage(null)}}else P=function(){O(F,0)};function He(Z){S=Z,J||(J=!0,P())}function ke(Z,se){I=O(function(){Z(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){L||A||(L=!0,He(ie))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var te=T;T=se;try{return Z()}finally{T=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=T;T=Z;try{return se()}finally{T=te}},t.unstable_scheduleCallback=function(Z,se,te){var j=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?j+te:j):te=j,Z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=te+G,Z={id:v++,callback:se,priorityLevel:Z,startTime:te,expirationTime:G,sortIndex:-1},te>j?(Z.sortIndex=te,e(y,Z),n(f)===null&&Z===n(y)&&($?(W(I),I=-1):$=!0,ke(Q,te-j))):(Z.sortIndex=G,e(f,Z),L||A||(L=!0,He(ie))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var se=T;return function(){var te=T;T=se;try{return Z.apply(this,arguments)}finally{T=te}}}})(Sm)),Sm}var R_;function IS(){return R_||(R_=1,Im.exports=TS()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function SS(){if(P_)return ar;P_=1;var t=Ug(),e=IS();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function T(s){return f.call(b,s)?!0:f.call(v,s)?!1:y.test(s)?b[s]=!0:(v[s]=!0,!1)}function A(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function L(s,i,l,d){if(i===null||typeof i>"u"||A(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(s,i,l,d,p,w,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=E}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new $(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];O[i]=new $(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new $(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new $(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new $(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new $(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new $(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new $(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new $(s,5,!1,s.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(W,M);O[i]=new $(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(W,M);O[i]=new $(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(W,M);O[i]=new $(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new $(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new $(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,i,l,d){var p=O.hasOwnProperty(i)?O[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(L(i,l,p,d)&&(l=null),d||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),J=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),Z=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,j;function G(s){if(j===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+s}var B=!1;function ne(s,i){if(!s||B)return"";B=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Y){var d=Y}Reflect.construct(s,[],i)}else{try{i.call()}catch(Y){d=Y}s.call(i.prototype)}else{try{throw Error()}catch(Y){d=Y}s()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),w=d.stack.split(`
`),E=p.length-1,N=w.length-1;1<=E&&0<=N&&p[E]!==w[N];)N--;for(;1<=E&&0<=N;E--,N--)if(p[E]!==w[N]){if(E!==1||N!==1)do if(E--,N--,0>N||p[E]!==w[N]){var V=`
`+p[E].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=E&&0<=N);break}}}finally{B=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?G(s):""}function ce(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=ne(s.type,!1),s;case 11:return s=ne(s.type.render,!1),s;case 1:return s=ne(s.type,!0),s;default:return""}}function ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case J:return"Portal";case k:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case Me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case R:return(s._context.displayName||"Context")+".Provider";case F:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xe:return i=s.displayName||null,i!==null?i:ae(s.type)||"Memo";case He:i=s._payload,s=s._init;try{return ae(s(i))}catch{}}return null}function ge(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ye(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ke(s){var i=ye(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,w=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,w.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Be(s){s._valueTracker||(s._valueTracker=Ke(s))}function Je(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=ye(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function Un(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Bn(s,i){var l=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function fr(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=me(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Jr(s,i){i=i.checked,i!=null&&z(s,"checked",i,!1)}function $e(s,i){Jr(s,i);var l=me(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?at(s,i.type,l):i.hasOwnProperty("defaultValue")&&at(s,i.type,me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Ee(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function at(s,i,l){(i!=="number"||Un(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Oe=Array.isArray;function We(s,i,l,d){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+me(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function _t(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Qe(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Oe(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:me(l)}}function tt(s,i){var l=me(i.value),d=me(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function nt(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function rt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?rt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var pr,Po=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=pr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function gs(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(s){ws.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ys[i]=ys[s]})});function Ao(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ys.hasOwnProperty(s)&&ys[s]?(""+i).trim():i+"px"}function No(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ao(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var ki=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(s,i){if(i){if(ki[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Oo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ws=null;function Gs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ri=null,zn=null,mr=null;function Rr(s){if(s=Tc(s)){if(typeof Ri!="function")throw Error(n(280));var i=s.stateNode;i&&(i=ld(i),Ri(s.stateNode,s.type,i))}}function Pr(s){zn?mr?mr.push(s):mr=[s]:zn=s}function jo(){if(zn){var s=zn,i=mr;if(mr=zn=null,Rr(s),i)for(s=0;s<i.length;s++)Rr(i[s])}}function vs(s,i){return s(i)}function Pi(){}var Ar=!1;function Ai(s,i,l){if(Ar)return s(i,l);Ar=!0;try{return vs(s,i,l)}finally{Ar=!1,(zn!==null||mr!==null)&&(Pi(),jo())}}function Ot(s,i){var l=s.stateNode;if(l===null)return null;var d=ld(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Ks=!1;if(h)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Ks=!1}function _s(s,i,l,d,p,w,E,N,V){var Y=Array.prototype.slice.call(arguments,3);try{i.apply(l,Y)}catch(ue){this.onError(ue)}}var Js=!1,Ni=null,Yt=!1,_n=null,Lo={onError:function(s){Js=!0,Ni=s}};function Qs(s,i,l,d,p,w,E,N,V){Js=!1,Ni=null,_s.apply(Lo,arguments)}function Mo(s,i,l,d,p,w,E,N,V){if(Qs.apply(this,arguments),Js){if(Js){var Y=Ni;Js=!1,Ni=null}else throw Error(n(198));Yt||(Yt=!0,_n=Y)}}function Bt(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Xn(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function gr(s){if(Bt(s)!==s)throw Error(n(188))}function Nr(s){var i=s.alternate;if(!i){if(i=Bt(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,d=i;;){var p=l.return;if(p===null)break;var w=p.alternate;if(w===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===l)return gr(p),s;if(w===d)return gr(p),i;w=w.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=w;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,d=w;break}if(N===d){E=!0,d=p,l=w;break}N=N.sibling}if(!E){for(N=w.child;N;){if(N===l){E=!0,l=w,d=p;break}if(N===d){E=!0,d=w,l=p;break}N=N.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function Di(s){return s=Nr(s),s!==null?Qr(s):null}function Qr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Qr(s);if(i!==null)return i;s=s.sibling}return null}var Ys=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,Oa=e.unstable_shouldYield,lc=e.unstable_requestPaint,bt=e.unstable_now,Wt=e.unstable_getCurrentPriorityLevel,yr=e.unstable_ImmediatePriority,Es=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,ja=e.unstable_IdlePriority,Xs=null,Hn=null;function La(s){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Xs,s,void 0,(s.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Va,$o=Math.log,Ma=Math.LN2;function Va(s){return s>>>=0,s===0?32:31-($o(s)/Ma|0)|0}var Re=64,Xe=4194304;function jt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function on(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,w=s.pingedLanes,E=l&268435455;if(E!==0){var N=E&~p;N!==0?d=jt(N):(w&=E,w!==0&&(d=jt(w)))}else E=l&~p,E!==0?d=jt(E):w!==0&&(d=jt(w));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,w=i&-i,p>=w||p===16&&(w&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-zt(i),p=1<<l,d|=s[l],i&=~p;return d}function je(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,w=s.pendingLanes;0<w;){var E=31-zt(w),N=1<<E,V=p[E];V===-1?((N&l)===0||(N&d)!==0)&&(p[E]=je(N,i)):V<=i&&(s.expiredLanes|=N),w&=~N}}function Xt(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Rn(){var s=Re;return Re<<=1,(Re&4194240)===0&&(Re=64),s}function Oi(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ji(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-zt(i),s[i]=l}function Tt(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-zt(l),w=1<<p;i[p]=0,d[p]=-1,s[p]=-1,l&=~w}}function Li(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-zt(l),p=1<<d;p&i|s[d]&i&&(s[d]|=i),l&=~p}}var lt=0;function Mi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Uu,Fa,Bu,zu,Hu,cc=!1,bs=[],En=null,Yr=null,Xr=null,Vi=new Map,Dr=new Map,Cs=[],Zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(s,i){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(i.pointerId)}}function er(s,i,l,d,p,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[p]},i!==null&&(i=Tc(i),i!==null&&Fa(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function ep(s,i,l,d,p){switch(i){case"focusin":return En=er(En,s,i,l,d,p),!0;case"dragenter":return Yr=er(Yr,s,i,l,d,p),!0;case"mouseover":return Xr=er(Xr,s,i,l,d,p),!0;case"pointerover":var w=p.pointerId;return Vi.set(w,er(Vi.get(w)||null,s,i,l,d,p)),!0;case"gotpointercapture":return w=p.pointerId,Dr.set(w,er(Dr.get(w)||null,s,i,l,d,p)),!0}return!1}function Wu(s){var i=qo(s.target);if(i!==null){var l=Bt(i);if(l!==null){if(i=l.tag,i===13){if(i=Xn(l),i!==null){s.blockedOn=i,Hu(s.priority,function(){Bu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zs(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=$a(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Ws=d,l.target.dispatchEvent(d),Ws=null}else return i=Tc(l),i!==null&&Fa(i),s.blockedOn=l,!1;i.shift()}return!0}function Uo(s,i,l){Zs(s)&&l.delete(i)}function Gu(){cc=!1,En!==null&&Zs(En)&&(En=null),Yr!==null&&Zs(Yr)&&(Yr=null),Xr!==null&&Zs(Xr)&&(Xr=null),Vi.forEach(Uo),Dr.forEach(Uo)}function Zr(s,i){s.blockedOn===i&&(s.blockedOn=null,cc||(cc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gu)))}function es(s){function i(p){return Zr(p,s)}if(0<bs.length){Zr(bs[0],s);for(var l=1;l<bs.length;l++){var d=bs[l];d.blockedOn===s&&(d.blockedOn=null)}}for(En!==null&&Zr(En,s),Yr!==null&&Zr(Yr,s),Xr!==null&&Zr(Xr,s),Vi.forEach(i),Dr.forEach(i),l=0;l<Cs.length;l++)d=Cs[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Cs.length&&(l=Cs[0],l.blockedOn===null);)Wu(l),l.blockedOn===null&&Cs.shift()}var ei=Q.ReactCurrentBatchConfig,Fi=!0;function Lt(s,i,l,d){var p=lt,w=ei.transition;ei.transition=null;try{lt=1,uc(s,i,l,d)}finally{lt=p,ei.transition=w}}function tp(s,i,l,d){var p=lt,w=ei.transition;ei.transition=null;try{lt=4,uc(s,i,l,d)}finally{lt=p,ei.transition=w}}function uc(s,i,l,d){if(Fi){var p=$a(s,i,l,d);if(p===null)hp(s,i,d,Bo,l),qu(s,d);else if(ep(p,s,i,l,d))d.stopPropagation();else if(qu(s,d),i&4&&-1<Zf.indexOf(s)){for(;p!==null;){var w=Tc(p);if(w!==null&&Uu(w),w=$a(s,i,l,d),w===null&&hp(s,i,d,Bo,l),w===p)break;p=w}p!==null&&d.stopPropagation()}else hp(s,i,d,null,l)}}var Bo=null;function $a(s,i,l,d){if(Bo=null,s=Gs(d),s=qo(s),s!==null)if(i=Bt(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Xn(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Bo=s,null}function dc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case yr:return 1;case Es:return 4;case Zn:case Fo:return 16;case ja:return 536870912;default:return 16}default:return 16}}var vr=null,Ua=null,tr=null;function hc(){if(tr)return tr;var s,i=Ua,l=i.length,d,p="value"in vr?vr.value:vr.textContent,w=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===p[w-d];d++);return tr=p.slice(s,1<d?1-d:void 0)}function Ba(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ts(){return!0}function fc(){return!1}function bn(s){function i(l,d,p,w,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(w):w[N]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ts:fc,this.isPropagationStopped=fc,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),i}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=bn(ts),Is=te({},ts,{view:0,detail:0}),np=bn(Is),Ha,ti,$i,zo=te({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(Ha=s.screenX-$i.screenX,ti=s.screenY-$i.screenY):ti=Ha=0,$i=s),Ha)},movementY:function(s){return"movementY"in s?s.movementY:ti}}),qa=bn(zo),pc=te({},zo,{dataTransfer:0}),Ku=bn(pc),Wa=te({},Is,{relatedTarget:0}),Ga=bn(Wa),Ju=te({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=bn(Ju),Qu=te({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yu=bn(Qu),Xu=te({},ts,{data:0}),mc=bn(Xu),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Zu[s])?!!i[s]:!1}function Ss(){return ed}var u=te({},Is,{key:function(s){if(s.key){var i=Ka[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ba(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?qn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(s){return s.type==="keypress"?Ba(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ba(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=bn(u),_=te({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=bn(_),H=te({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),X=bn(H),pe=te({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),vt=bn(pe),an=te({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=bn(an),fn=[9,13,27,32],Zt=h&&"CompositionEvent"in window,Or=null;h&&"documentMode"in document&&(Or=document.documentMode);var _r=h&&"TextEvent"in window&&!Or,Ho=h&&(!Zt||Or&&8<Or&&11>=Or),Ja=" ",ww=!1;function vw(s,i){switch(s){case"keyup":return fn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _w(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qa=!1;function yI(s,i){switch(s){case"compositionend":return _w(i);case"keypress":return i.which!==32?null:(ww=!0,Ja);case"textInput":return s=i.data,s===Ja&&ww?null:s;default:return null}}function wI(s,i){if(Qa)return s==="compositionend"||!Zt&&vw(s,i)?(s=hc(),tr=Ua=vr=null,Qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ho&&i.locale!=="ko"?null:i.data;default:return null}}var vI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ew(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!vI[s.type]:i==="textarea"}function bw(s,i,l,d){Pr(d),i=id(i,"onChange"),0<i.length&&(l=new za("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var gc=null,yc=null;function _I(s){$w(s,0)}function td(s){var i=tl(s);if(Je(i))return s}function EI(s,i){if(s==="change")return i}var Cw=!1;if(h){var rp;if(h){var sp="oninput"in document;if(!sp){var Tw=document.createElement("div");Tw.setAttribute("oninput","return;"),sp=typeof Tw.oninput=="function"}rp=sp}else rp=!1;Cw=rp&&(!document.documentMode||9<document.documentMode)}function Iw(){gc&&(gc.detachEvent("onpropertychange",Sw),yc=gc=null)}function Sw(s){if(s.propertyName==="value"&&td(yc)){var i=[];bw(i,yc,s,Gs(s)),Ai(_I,i)}}function bI(s,i,l){s==="focusin"?(Iw(),gc=i,yc=l,gc.attachEvent("onpropertychange",Sw)):s==="focusout"&&Iw()}function CI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return td(yc)}function TI(s,i){if(s==="click")return td(i)}function II(s,i){if(s==="input"||s==="change")return td(i)}function SI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ns=typeof Object.is=="function"?Object.is:SI;function wc(s,i){if(ns(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!ns(s[p],i[p]))return!1}return!0}function xw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kw(s,i){var l=xw(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xw(l)}}function Rw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Rw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Pw(){for(var s=window,i=Un();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Un(s.document)}return i}function ip(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function xI(s){var i=Pw(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Rw(l.ownerDocument.documentElement,l)){if(d!==null&&ip(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,w=Math.min(d.start,p);d=d.end===void 0?w:Math.min(d.end,p),!s.extend&&w>d&&(p=d,d=w,w=p),p=kw(l,w);var E=kw(l,d);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),w>d?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var kI=h&&"documentMode"in document&&11>=document.documentMode,Ya=null,op=null,vc=null,ap=!1;function Aw(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ap||Ya==null||Ya!==Un(d)||(d=Ya,"selectionStart"in d&&ip(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),vc&&wc(vc,d)||(vc=d,d=id(op,"onSelect"),0<d.length&&(i=new za("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Ya)))}function nd(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Xa={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},lp={},Nw={};h&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function rd(s){if(lp[s])return lp[s];if(!Xa[s])return s;var i=Xa[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Nw)return lp[s]=i[l];return s}var Dw=rd("animationend"),Ow=rd("animationiteration"),jw=rd("animationstart"),Lw=rd("transitionend"),Mw=new Map,Vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(s,i){Mw.set(s,i),a(i,[s])}for(var cp=0;cp<Vw.length;cp++){var up=Vw[cp],RI=up.toLowerCase(),PI=up[0].toUpperCase()+up.slice(1);Ui(RI,"on"+PI)}Ui(Dw,"onAnimationEnd"),Ui(Ow,"onAnimationIteration"),Ui(jw,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(Lw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("cancel close invalid load scroll toggle".split(" ").concat(_c));function Fw(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,Mo(d,i,void 0,s),s.currentTarget=null}function $w(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var w=void 0;if(i)for(var E=d.length-1;0<=E;E--){var N=d[E],V=N.instance,Y=N.currentTarget;if(N=N.listener,V!==w&&p.isPropagationStopped())break e;Fw(p,N,Y),w=V}else for(E=0;E<d.length;E++){if(N=d[E],V=N.instance,Y=N.currentTarget,N=N.listener,V!==w&&p.isPropagationStopped())break e;Fw(p,N,Y),w=V}}}if(Yt)throw s=_n,Yt=!1,_n=null,s}function Rt(s,i){var l=i[wp];l===void 0&&(l=i[wp]=new Set);var d=s+"__bubble";l.has(d)||(Uw(i,s,2,!1),l.add(d))}function dp(s,i,l){var d=0;i&&(d|=4),Uw(l,s,d,i)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Ec(s){if(!s[sd]){s[sd]=!0,r.forEach(function(l){l!=="selectionchange"&&(AI.has(l)||dp(l,!1,s),dp(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[sd]||(i[sd]=!0,dp("selectionchange",!1,i))}}function Uw(s,i,l,d){switch(dc(i)){case 1:var p=Lt;break;case 4:p=tp;break;default:p=uc}l=p.bind(null,i,l,s),p=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function hp(s,i,l,d,p){var w=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;E=E.return}for(;N!==null;){if(E=qo(N),E===null)return;if(V=E.tag,V===5||V===6){d=w=E;continue e}N=N.parentNode}}d=d.return}Ai(function(){var Y=w,ue=Gs(l),de=[];e:{var le=Mw.get(s);if(le!==void 0){var ve=za,Ce=s;switch(s){case"keypress":if(Ba(l)===0)break e;case"keydown":case"keyup":ve=g;break;case"focusin":Ce="focus",ve=Ga;break;case"focusout":Ce="blur",ve=Ga;break;case"beforeblur":case"afterblur":ve=Ga;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=X;break;case Dw:case Ow:case jw:ve=ni;break;case Lw:ve=vt;break;case"scroll":ve=np;break;case"wheel":ve=ct;break;case"copy":case"cut":case"paste":ve=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=x}var Te=(i&4)!==0,Gt=!Te&&s==="scroll",q=Te?le!==null?le+"Capture":null:le;Te=[];for(var U=Y,K;U!==null;){K=U;var fe=K.stateNode;if(K.tag===5&&fe!==null&&(K=fe,q!==null&&(fe=Ot(U,q),fe!=null&&Te.push(bc(U,fe,K)))),Gt)break;U=U.return}0<Te.length&&(le=new ve(le,Ce,null,l,ue),de.push({event:le,listeners:Te}))}}if((i&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",le&&l!==Ws&&(Ce=l.relatedTarget||l.fromElement)&&(qo(Ce)||Ce[ri]))break e;if((ve||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(Ce=l.relatedTarget||l.toElement,ve=Y,Ce=Ce?qo(Ce):null,Ce!==null&&(Gt=Bt(Ce),Ce!==Gt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ve=null,Ce=Y),ve!==Ce)){if(Te=qa,fe="onMouseLeave",q="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Te=x,fe="onPointerLeave",q="onPointerEnter",U="pointer"),Gt=ve==null?le:tl(ve),K=Ce==null?le:tl(Ce),le=new Te(fe,U+"leave",ve,l,ue),le.target=Gt,le.relatedTarget=K,fe=null,qo(ue)===Y&&(Te=new Te(q,U+"enter",Ce,l,ue),Te.target=K,Te.relatedTarget=Gt,fe=Te),Gt=fe,ve&&Ce)t:{for(Te=ve,q=Ce,U=0,K=Te;K;K=Za(K))U++;for(K=0,fe=q;fe;fe=Za(fe))K++;for(;0<U-K;)Te=Za(Te),U--;for(;0<K-U;)q=Za(q),K--;for(;U--;){if(Te===q||q!==null&&Te===q.alternate)break t;Te=Za(Te),q=Za(q)}Te=null}else Te=null;ve!==null&&Bw(de,le,ve,Te,!1),Ce!==null&&Gt!==null&&Bw(de,Gt,Ce,Te,!0)}}e:{if(le=Y?tl(Y):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var Ie=EI;else if(Ew(le))if(Cw)Ie=II;else{Ie=CI;var Pe=bI}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ie=TI);if(Ie&&(Ie=Ie(s,Y))){bw(de,Ie,l,ue);break e}Pe&&Pe(s,le,Y),s==="focusout"&&(Pe=le._wrapperState)&&Pe.controlled&&le.type==="number"&&at(le,"number",le.value)}switch(Pe=Y?tl(Y):window,s){case"focusin":(Ew(Pe)||Pe.contentEditable==="true")&&(Ya=Pe,op=Y,vc=null);break;case"focusout":vc=op=Ya=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,Aw(de,l,ue);break;case"selectionchange":if(kI)break;case"keydown":case"keyup":Aw(de,l,ue)}var Ae;if(Zt)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Qa?vw(s,l)&&(Ue="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ho&&l.locale!=="ko"&&(Qa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Qa&&(Ae=hc()):(vr=ue,Ua="value"in vr?vr.value:vr.textContent,Qa=!0)),Pe=id(Y,Ue),0<Pe.length&&(Ue=new mc(Ue,s,null,l,ue),de.push({event:Ue,listeners:Pe}),Ae?Ue.data=Ae:(Ae=_w(l),Ae!==null&&(Ue.data=Ae)))),(Ae=_r?yI(s,l):wI(s,l))&&(Y=id(Y,"onBeforeInput"),0<Y.length&&(ue=new mc("onBeforeInput","beforeinput",null,l,ue),de.push({event:ue,listeners:Y}),ue.data=Ae))}$w(de,i)})}function bc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function id(s,i){for(var l=i+"Capture",d=[];s!==null;){var p=s,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=Ot(s,l),w!=null&&d.unshift(bc(s,w,p)),w=Ot(s,i),w!=null&&d.push(bc(s,w,p))),s=s.return}return d}function Za(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Bw(s,i,l,d,p){for(var w=i._reactName,E=[];l!==null&&l!==d;){var N=l,V=N.alternate,Y=N.stateNode;if(V!==null&&V===d)break;N.tag===5&&Y!==null&&(N=Y,p?(V=Ot(l,w),V!=null&&E.unshift(bc(l,V,N))):p||(V=Ot(l,w),V!=null&&E.push(bc(l,V,N)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var NI=/\r\n?/g,DI=/\u0000|\uFFFD/g;function zw(s){return(typeof s=="string"?s:""+s).replace(NI,`
`).replace(DI,"")}function od(s,i,l){if(i=zw(i),zw(s)!==i&&l)throw Error(n(425))}function ad(){}var fp=null,pp=null;function mp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,OI=typeof clearTimeout=="function"?clearTimeout:void 0,Hw=typeof Promise=="function"?Promise:void 0,jI=typeof queueMicrotask=="function"?queueMicrotask:typeof Hw<"u"?function(s){return Hw.resolve(null).then(s).catch(LI)}:gp;function LI(s){setTimeout(function(){throw s})}function yp(s,i){var l=i,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),es(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);es(i)}function Bi(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function qw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var el=Math.random().toString(36).slice(2),xs="__reactFiber$"+el,Cc="__reactProps$"+el,ri="__reactContainer$"+el,wp="__reactEvents$"+el,MI="__reactListeners$"+el,VI="__reactHandles$"+el;function qo(s){var i=s[xs];if(i)return i;for(var l=s.parentNode;l;){if(i=l[ri]||l[xs]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=qw(s);s!==null;){if(l=s[xs])return l;s=qw(s)}return i}s=l,l=s.parentNode}return null}function Tc(s){return s=s[xs]||s[ri],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function tl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ld(s){return s[Cc]||null}var vp=[],nl=-1;function zi(s){return{current:s}}function Pt(s){0>nl||(s.current=vp[nl],vp[nl]=null,nl--)}function It(s,i){nl++,vp[nl]=s.current,s.current=i}var Hi={},Pn=zi(Hi),nr=zi(!1),Wo=Hi;function rl(s,i){var l=s.type.contextTypes;if(!l)return Hi;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in l)p[w]=i[w];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function rr(s){return s=s.childContextTypes,s!=null}function cd(){Pt(nr),Pt(Pn)}function Ww(s,i,l){if(Pn.current!==Hi)throw Error(n(168));It(Pn,i),It(nr,l)}function Gw(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,ge(s)||"Unknown",p));return te({},l,d)}function ud(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,Wo=Pn.current,It(Pn,s),It(nr,nr.current),!0}function Kw(s,i,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=Gw(s,i,Wo),d.__reactInternalMemoizedMergedChildContext=s,Pt(nr),Pt(Pn),It(Pn,s)):Pt(nr),It(nr,l)}var si=null,dd=!1,_p=!1;function Jw(s){si===null?si=[s]:si.push(s)}function FI(s){dd=!0,Jw(s)}function qi(){if(!_p&&si!==null){_p=!0;var s=0,i=lt;try{var l=si;for(lt=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}si=null,dd=!1}catch(p){throw si!==null&&(si=si.slice(s+1)),Ys(yr,qi),p}finally{lt=i,_p=!1}}return null}var sl=[],il=0,hd=null,fd=0,jr=[],Lr=0,Go=null,ii=1,oi="";function Ko(s,i){sl[il++]=fd,sl[il++]=hd,hd=s,fd=i}function Qw(s,i,l){jr[Lr++]=ii,jr[Lr++]=oi,jr[Lr++]=Go,Go=s;var d=ii;s=oi;var p=32-zt(d)-1;d&=~(1<<p),l+=1;var w=32-zt(i)+p;if(30<w){var E=p-p%5;w=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ii=1<<32-zt(i)+p|l<<p|d,oi=w+s}else ii=1<<w|l<<p|d,oi=s}function Ep(s){s.return!==null&&(Ko(s,1),Qw(s,1,0))}function bp(s){for(;s===hd;)hd=sl[--il],sl[il]=null,fd=sl[--il],sl[il]=null;for(;s===Go;)Go=jr[--Lr],jr[Lr]=null,oi=jr[--Lr],jr[Lr]=null,ii=jr[--Lr],jr[Lr]=null}var Er=null,br=null,Mt=!1,rs=null;function Yw(s,i){var l=$r(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Xw(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Er=s,br=Bi(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Er=s,br=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Go!==null?{id:ii,overflow:oi}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=$r(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,Er=s,br=null,!0):!1;default:return!1}}function Cp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Tp(s){if(Mt){var i=br;if(i){var l=i;if(!Xw(s,i)){if(Cp(s))throw Error(n(418));i=Bi(l.nextSibling);var d=Er;i&&Xw(s,i)?Yw(d,l):(s.flags=s.flags&-4097|2,Mt=!1,Er=s)}}else{if(Cp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Mt=!1,Er=s}}}function Zw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Er=s}function pd(s){if(s!==Er)return!1;if(!Mt)return Zw(s),Mt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!mp(s.type,s.memoizedProps)),i&&(i=br)){if(Cp(s))throw ev(),Error(n(418));for(;i;)Yw(s,i),i=Bi(i.nextSibling)}if(Zw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){br=Bi(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}br=null}}else br=Er?Bi(s.stateNode.nextSibling):null;return!0}function ev(){for(var s=br;s;)s=Bi(s.nextSibling)}function ol(){br=Er=null,Mt=!1}function Ip(s){rs===null?rs=[s]:rs.push(s)}var $I=Q.ReactCurrentBatchConfig;function Ic(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var p=d,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(E){var N=p.refs;E===null?delete N[w]:N[w]=E},i._stringRef=w,i)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function md(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function tv(s){var i=s._init;return i(s._payload)}function nv(s){function i(q,U){if(s){var K=q.deletions;K===null?(q.deletions=[U],q.flags|=16):K.push(U)}}function l(q,U){if(!s)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function d(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function p(q,U){return q=Zi(q,U),q.index=0,q.sibling=null,q}function w(q,U,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<U?(q.flags|=2,U):K):(q.flags|=2,U)):(q.flags|=1048576,U)}function E(q){return s&&q.alternate===null&&(q.flags|=2),q}function N(q,U,K,fe){return U===null||U.tag!==6?(U=gm(K,q.mode,fe),U.return=q,U):(U=p(U,K),U.return=q,U)}function V(q,U,K,fe){var Ie=K.type;return Ie===S?ue(q,U,K.props.children,fe,K.key):U!==null&&(U.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===He&&tv(Ie)===U.type)?(fe=p(U,K.props),fe.ref=Ic(q,U,K),fe.return=q,fe):(fe=Fd(K.type,K.key,K.props,null,q.mode,fe),fe.ref=Ic(q,U,K),fe.return=q,fe)}function Y(q,U,K,fe){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=ym(K,q.mode,fe),U.return=q,U):(U=p(U,K.children||[]),U.return=q,U)}function ue(q,U,K,fe,Ie){return U===null||U.tag!==7?(U=na(K,q.mode,fe,Ie),U.return=q,U):(U=p(U,K),U.return=q,U)}function de(q,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=gm(""+U,q.mode,K),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ie:return K=Fd(U.type,U.key,U.props,null,q.mode,K),K.ref=Ic(q,null,U),K.return=q,K;case J:return U=ym(U,q.mode,K),U.return=q,U;case He:var fe=U._init;return de(q,fe(U._payload),K)}if(Oe(U)||se(U))return U=na(U,q.mode,K,null),U.return=q,U;md(q,U)}return null}function le(q,U,K,fe){var Ie=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ie!==null?null:N(q,U,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ie:return K.key===Ie?V(q,U,K,fe):null;case J:return K.key===Ie?Y(q,U,K,fe):null;case He:return Ie=K._init,le(q,U,Ie(K._payload),fe)}if(Oe(K)||se(K))return Ie!==null?null:ue(q,U,K,fe,null);md(q,K)}return null}function ve(q,U,K,fe,Ie){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return q=q.get(K)||null,N(U,q,""+fe,Ie);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case ie:return q=q.get(fe.key===null?K:fe.key)||null,V(U,q,fe,Ie);case J:return q=q.get(fe.key===null?K:fe.key)||null,Y(U,q,fe,Ie);case He:var Pe=fe._init;return ve(q,U,K,Pe(fe._payload),Ie)}if(Oe(fe)||se(fe))return q=q.get(K)||null,ue(U,q,fe,Ie,null);md(U,fe)}return null}function Ce(q,U,K,fe){for(var Ie=null,Pe=null,Ae=U,Ue=U=0,gn=null;Ae!==null&&Ue<K.length;Ue++){Ae.index>Ue?(gn=Ae,Ae=null):gn=Ae.sibling;var ht=le(q,Ae,K[Ue],fe);if(ht===null){Ae===null&&(Ae=gn);break}s&&Ae&&ht.alternate===null&&i(q,Ae),U=w(ht,U,Ue),Pe===null?Ie=ht:Pe.sibling=ht,Pe=ht,Ae=gn}if(Ue===K.length)return l(q,Ae),Mt&&Ko(q,Ue),Ie;if(Ae===null){for(;Ue<K.length;Ue++)Ae=de(q,K[Ue],fe),Ae!==null&&(U=w(Ae,U,Ue),Pe===null?Ie=Ae:Pe.sibling=Ae,Pe=Ae);return Mt&&Ko(q,Ue),Ie}for(Ae=d(q,Ae);Ue<K.length;Ue++)gn=ve(Ae,q,Ue,K[Ue],fe),gn!==null&&(s&&gn.alternate!==null&&Ae.delete(gn.key===null?Ue:gn.key),U=w(gn,U,Ue),Pe===null?Ie=gn:Pe.sibling=gn,Pe=gn);return s&&Ae.forEach(function(eo){return i(q,eo)}),Mt&&Ko(q,Ue),Ie}function Te(q,U,K,fe){var Ie=se(K);if(typeof Ie!="function")throw Error(n(150));if(K=Ie.call(K),K==null)throw Error(n(151));for(var Pe=Ie=null,Ae=U,Ue=U=0,gn=null,ht=K.next();Ae!==null&&!ht.done;Ue++,ht=K.next()){Ae.index>Ue?(gn=Ae,Ae=null):gn=Ae.sibling;var eo=le(q,Ae,ht.value,fe);if(eo===null){Ae===null&&(Ae=gn);break}s&&Ae&&eo.alternate===null&&i(q,Ae),U=w(eo,U,Ue),Pe===null?Ie=eo:Pe.sibling=eo,Pe=eo,Ae=gn}if(ht.done)return l(q,Ae),Mt&&Ko(q,Ue),Ie;if(Ae===null){for(;!ht.done;Ue++,ht=K.next())ht=de(q,ht.value,fe),ht!==null&&(U=w(ht,U,Ue),Pe===null?Ie=ht:Pe.sibling=ht,Pe=ht);return Mt&&Ko(q,Ue),Ie}for(Ae=d(q,Ae);!ht.done;Ue++,ht=K.next())ht=ve(Ae,q,Ue,ht.value,fe),ht!==null&&(s&&ht.alternate!==null&&Ae.delete(ht.key===null?Ue:ht.key),U=w(ht,U,Ue),Pe===null?Ie=ht:Pe.sibling=ht,Pe=ht);return s&&Ae.forEach(function(vS){return i(q,vS)}),Mt&&Ko(q,Ue),Ie}function Gt(q,U,K,fe){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case ie:e:{for(var Ie=K.key,Pe=U;Pe!==null;){if(Pe.key===Ie){if(Ie=K.type,Ie===S){if(Pe.tag===7){l(q,Pe.sibling),U=p(Pe,K.props.children),U.return=q,q=U;break e}}else if(Pe.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===He&&tv(Ie)===Pe.type){l(q,Pe.sibling),U=p(Pe,K.props),U.ref=Ic(q,Pe,K),U.return=q,q=U;break e}l(q,Pe);break}else i(q,Pe);Pe=Pe.sibling}K.type===S?(U=na(K.props.children,q.mode,fe,K.key),U.return=q,q=U):(fe=Fd(K.type,K.key,K.props,null,q.mode,fe),fe.ref=Ic(q,U,K),fe.return=q,q=fe)}return E(q);case J:e:{for(Pe=K.key;U!==null;){if(U.key===Pe)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){l(q,U.sibling),U=p(U,K.children||[]),U.return=q,q=U;break e}else{l(q,U);break}else i(q,U);U=U.sibling}U=ym(K,q.mode,fe),U.return=q,q=U}return E(q);case He:return Pe=K._init,Gt(q,U,Pe(K._payload),fe)}if(Oe(K))return Ce(q,U,K,fe);if(se(K))return Te(q,U,K,fe);md(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(l(q,U.sibling),U=p(U,K),U.return=q,q=U):(l(q,U),U=gm(K,q.mode,fe),U.return=q,q=U),E(q)):l(q,U)}return Gt}var al=nv(!0),rv=nv(!1),gd=zi(null),yd=null,ll=null,Sp=null;function xp(){Sp=ll=yd=null}function kp(s){var i=gd.current;Pt(gd),s._currentValue=i}function Rp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function cl(s,i){yd=s,Sp=ll=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(sr=!0),s.firstContext=null)}function Mr(s){var i=s._currentValue;if(Sp!==s)if(s={context:s,memoizedValue:i,next:null},ll===null){if(yd===null)throw Error(n(308));ll=s,yd.dependencies={lanes:0,firstContext:s}}else ll=ll.next=s;return i}var Jo=null;function Pp(s){Jo===null?Jo=[s]:Jo.push(s)}function sv(s,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Pp(i)):(l.next=p.next,p.next=l),i.interleaved=l,ai(s,d)}function ai(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Wi=!1;function Ap(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function li(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Gi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(dt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,ai(s,l)}return p=d.interleaved,p===null?(i.next=i,Pp(d)):(i.next=p.next,p.next=i),d.interleaved=i,ai(s,l)}function wd(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Li(s,l)}}function ov(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?p=w=E:w=w.next=E,l=l.next}while(l!==null);w===null?p=w=i:w=w.next=i}else p=w=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function vd(s,i,l,d){var p=s.updateQueue;Wi=!1;var w=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var V=N,Y=V.next;V.next=null,E===null?w=Y:E.next=Y,E=V;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==E&&(N===null?ue.firstBaseUpdate=Y:N.next=Y,ue.lastBaseUpdate=V))}if(w!==null){var de=p.baseState;E=0,ue=Y=V=null,N=w;do{var le=N.lane,ve=N.eventTime;if((d&le)===le){ue!==null&&(ue=ue.next={eventTime:ve,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var Ce=s,Te=N;switch(le=i,ve=l,Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){de=Ce.call(ve,de,le);break e}de=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,le=typeof Ce=="function"?Ce.call(ve,de,le):Ce,le==null)break e;de=te({},de,le);break e;case 2:Wi=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,le=p.effects,le===null?p.effects=[N]:le.push(N))}else ve={eventTime:ve,lane:le,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?(Y=ue=ve,V=de):ue=ue.next=ve,E|=le;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);if(ue===null&&(V=de),p.baseState=V,p.firstBaseUpdate=Y,p.lastBaseUpdate=ue,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else w===null&&(p.shared.lanes=0);Xo|=E,s.lanes=E,s.memoizedState=de}}function av(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Sc={},ks=zi(Sc),xc=zi(Sc),kc=zi(Sc);function Qo(s){if(s===Sc)throw Error(n(174));return s}function Np(s,i){switch(It(kc,i),It(xc,s),It(ks,Sc),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Et(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Et(i,s)}Pt(ks),It(ks,i)}function ul(){Pt(ks),Pt(xc),Pt(kc)}function lv(s){Qo(kc.current);var i=Qo(ks.current),l=Et(i,s.type);i!==l&&(It(xc,s),It(ks,l))}function Dp(s){xc.current===s&&(Pt(ks),Pt(xc))}var Ft=zi(0);function _d(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Op=[];function jp(){for(var s=0;s<Op.length;s++)Op[s]._workInProgressVersionPrimary=null;Op.length=0}var Ed=Q.ReactCurrentDispatcher,Lp=Q.ReactCurrentBatchConfig,Yo=0,$t=null,ln=null,pn=null,bd=!1,Rc=!1,Pc=0,UI=0;function An(){throw Error(n(321))}function Mp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!ns(s[l],i[l]))return!1;return!0}function Vp(s,i,l,d,p,w){if(Yo=w,$t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ed.current=s===null||s.memoizedState===null?qI:WI,s=l(d,p),Rc){w=0;do{if(Rc=!1,Pc=0,25<=w)throw Error(n(301));w+=1,pn=ln=null,i.updateQueue=null,Ed.current=GI,s=l(d,p)}while(Rc)}if(Ed.current=Id,i=ln!==null&&ln.next!==null,Yo=0,pn=ln=$t=null,bd=!1,i)throw Error(n(300));return s}function Fp(){var s=Pc!==0;return Pc=0,s}function Rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?$t.memoizedState=pn=s:pn=pn.next=s,pn}function Vr(){if(ln===null){var s=$t.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var i=pn===null?$t.memoizedState:pn.next;if(i!==null)pn=i,ln=s;else{if(s===null)throw Error(n(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},pn===null?$t.memoizedState=pn=s:pn=pn.next=s}return pn}function Ac(s,i){return typeof i=="function"?i(s):i}function $p(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=ln,p=d.baseQueue,w=l.pending;if(w!==null){if(p!==null){var E=p.next;p.next=w.next,w.next=E}d.baseQueue=p=w,l.pending=null}if(p!==null){w=p.next,d=d.baseState;var N=E=null,V=null,Y=w;do{var ue=Y.lane;if((Yo&ue)===ue)V!==null&&(V=V.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:s(d,Y.action);else{var de={lane:ue,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};V===null?(N=V=de,E=d):V=V.next=de,$t.lanes|=ue,Xo|=ue}Y=Y.next}while(Y!==null&&Y!==w);V===null?E=d:V.next=N,ns(d,i.memoizedState)||(sr=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=V,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do w=p.lane,$t.lanes|=w,Xo|=w,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Up(s){var i=Vr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,w=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do w=s(w,E.action),E=E.next;while(E!==p);ns(w,i.memoizedState)||(sr=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),l.lastRenderedState=w}return[w,d]}function cv(){}function uv(s,i){var l=$t,d=Vr(),p=i(),w=!ns(d.memoizedState,p);if(w&&(d.memoizedState=p,sr=!0),d=d.queue,Bp(fv.bind(null,l,d,s),[s]),d.getSnapshot!==i||w||pn!==null&&pn.memoizedState.tag&1){if(l.flags|=2048,Nc(9,hv.bind(null,l,d,p,i),void 0,null),mn===null)throw Error(n(349));(Yo&30)!==0||dv(l,i,p)}return p}function dv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=$t.updateQueue,i===null?(i={lastEffect:null,stores:null},$t.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function hv(s,i,l,d){i.value=l,i.getSnapshot=d,pv(i)&&mv(s)}function fv(s,i,l){return l(function(){pv(i)&&mv(s)})}function pv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!ns(s,l)}catch{return!0}}function mv(s){var i=ai(s,1);i!==null&&as(i,s,1,-1)}function gv(s){var i=Rs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:s},i.queue=s,s=s.dispatch=HI.bind(null,$t,s),[i.memoizedState,s]}function Nc(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=$t.updateQueue,i===null?(i={lastEffect:null,stores:null},$t.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function yv(){return Vr().memoizedState}function Cd(s,i,l,d){var p=Rs();$t.flags|=s,p.memoizedState=Nc(1|i,l,void 0,d===void 0?null:d)}function Td(s,i,l,d){var p=Vr();d=d===void 0?null:d;var w=void 0;if(ln!==null){var E=ln.memoizedState;if(w=E.destroy,d!==null&&Mp(d,E.deps)){p.memoizedState=Nc(i,l,w,d);return}}$t.flags|=s,p.memoizedState=Nc(1|i,l,w,d)}function wv(s,i){return Cd(8390656,8,s,i)}function Bp(s,i){return Td(2048,8,s,i)}function vv(s,i){return Td(4,2,s,i)}function _v(s,i){return Td(4,4,s,i)}function Ev(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function bv(s,i,l){return l=l!=null?l.concat([s]):null,Td(4,4,Ev.bind(null,i,s),l)}function zp(){}function Cv(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Mp(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function Tv(s,i){var l=Vr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Mp(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function Iv(s,i,l){return(Yo&21)===0?(s.baseState&&(s.baseState=!1,sr=!0),s.memoizedState=l):(ns(l,i)||(l=Rn(),$t.lanes|=l,Xo|=l,s.baseState=!0),i)}function BI(s,i){var l=lt;lt=l!==0&&4>l?l:4,s(!0);var d=Lp.transition;Lp.transition={};try{s(!1),i()}finally{lt=l,Lp.transition=d}}function Sv(){return Vr().memoizedState}function zI(s,i,l){var d=Yi(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},xv(s))kv(i,l);else if(l=sv(s,i,l,d),l!==null){var p=Gn();as(l,s,d,p),Rv(l,i,d)}}function HI(s,i,l){var d=Yi(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(xv(s))kv(i,p);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var E=i.lastRenderedState,N=w(E,l);if(p.hasEagerState=!0,p.eagerState=N,ns(N,E)){var V=i.interleaved;V===null?(p.next=p,Pp(i)):(p.next=V.next,V.next=p),i.interleaved=p;return}}catch{}finally{}l=sv(s,i,p,d),l!==null&&(p=Gn(),as(l,s,d,p),Rv(l,i,d))}}function xv(s){var i=s.alternate;return s===$t||i!==null&&i===$t}function kv(s,i){Rc=bd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Rv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Li(s,l)}}var Id={readContext:Mr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},qI={readContext:Mr,useCallback:function(s,i){return Rs().memoizedState=[s,i===void 0?null:i],s},useContext:Mr,useEffect:wv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Cd(4194308,4,Ev.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Cd(4194308,4,s,i)},useInsertionEffect:function(s,i){return Cd(4,2,s,i)},useMemo:function(s,i){var l=Rs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Rs();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=zI.bind(null,$t,s),[d.memoizedState,s]},useRef:function(s){var i=Rs();return s={current:s},i.memoizedState=s},useState:gv,useDebugValue:zp,useDeferredValue:function(s){return Rs().memoizedState=s},useTransition:function(){var s=gv(!1),i=s[0];return s=BI.bind(null,s[1]),Rs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=$t,p=Rs();if(Mt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),mn===null)throw Error(n(349));(Yo&30)!==0||dv(d,i,l)}p.memoizedState=l;var w={value:l,getSnapshot:i};return p.queue=w,wv(fv.bind(null,d,w,s),[s]),d.flags|=2048,Nc(9,hv.bind(null,d,w,l,i),void 0,null),l},useId:function(){var s=Rs(),i=mn.identifierPrefix;if(Mt){var l=oi,d=ii;l=(d&~(1<<32-zt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Pc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=UI++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},WI={readContext:Mr,useCallback:Cv,useContext:Mr,useEffect:Bp,useImperativeHandle:bv,useInsertionEffect:vv,useLayoutEffect:_v,useMemo:Tv,useReducer:$p,useRef:yv,useState:function(){return $p(Ac)},useDebugValue:zp,useDeferredValue:function(s){var i=Vr();return Iv(i,ln.memoizedState,s)},useTransition:function(){var s=$p(Ac)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:cv,useSyncExternalStore:uv,useId:Sv,unstable_isNewReconciler:!1},GI={readContext:Mr,useCallback:Cv,useContext:Mr,useEffect:Bp,useImperativeHandle:bv,useInsertionEffect:vv,useLayoutEffect:_v,useMemo:Tv,useReducer:Up,useRef:yv,useState:function(){return Up(Ac)},useDebugValue:zp,useDeferredValue:function(s){var i=Vr();return ln===null?i.memoizedState=s:Iv(i,ln.memoizedState,s)},useTransition:function(){var s=Up(Ac)[0],i=Vr().memoizedState;return[s,i]},useMutableSource:cv,useSyncExternalStore:uv,useId:Sv,unstable_isNewReconciler:!1};function ss(s,i){if(s&&s.defaultProps){i=te({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Hp(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:te({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Sd={isMounted:function(s){return(s=s._reactInternals)?Bt(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Gn(),p=Yi(s),w=li(d,p);w.payload=i,l!=null&&(w.callback=l),i=Gi(s,w,p),i!==null&&(as(i,s,p,d),wd(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Gn(),p=Yi(s),w=li(d,p);w.tag=1,w.payload=i,l!=null&&(w.callback=l),i=Gi(s,w,p),i!==null&&(as(i,s,p,d),wd(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Gn(),d=Yi(s),p=li(l,d);p.tag=2,i!=null&&(p.callback=i),i=Gi(s,p,d),i!==null&&(as(i,s,d,l),wd(i,s,d))}};function Pv(s,i,l,d,p,w,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,w,E):i.prototype&&i.prototype.isPureReactComponent?!wc(l,d)||!wc(p,w):!0}function Av(s,i,l){var d=!1,p=Hi,w=i.contextType;return typeof w=="object"&&w!==null?w=Mr(w):(p=rr(i)?Wo:Pn.current,d=i.contextTypes,w=(d=d!=null)?rl(s,p):Hi),i=new i(l,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sd,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=w),i}function Nv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Sd.enqueueReplaceState(i,i.state,null)}function qp(s,i,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Ap(s);var w=i.contextType;typeof w=="object"&&w!==null?p.context=Mr(w):(w=rr(i)?Wo:Pn.current,p.context=rl(s,w)),p.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Hp(s,i,w,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Sd.enqueueReplaceState(p,p.state,null),vd(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function dl(s,i){try{var l="",d=i;do l+=ce(d),d=d.return;while(d);var p=l}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:p,digest:null}}function Wp(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Gp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var KI=typeof WeakMap=="function"?WeakMap:Map;function Dv(s,i,l){l=li(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Dd||(Dd=!0,lm=d),Gp(s,i)},l}function Ov(s,i,l){l=li(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Gp(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){Gp(s,i),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function jv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new KI;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),s=lS.bind(null,s,i,l),i.then(s,s))}function Lv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Mv(s,i,l,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=li(-1,1),i.tag=2,Gi(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var JI=Q.ReactCurrentOwner,sr=!1;function Wn(s,i,l,d){i.child=s===null?rv(i,null,l,d):al(i,s.child,l,d)}function Vv(s,i,l,d,p){l=l.render;var w=i.ref;return cl(i,p),d=Vp(s,i,l,d,w,p),l=Fp(),s!==null&&!sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Mt&&l&&Ep(i),i.flags|=1,Wn(s,i,d,p),i.child)}function Fv(s,i,l,d,p){if(s===null){var w=l.type;return typeof w=="function"&&!mm(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=w,$v(s,i,w,d,p)):(s=Fd(l.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,(s.lanes&p)===0){var E=w.memoizedProps;if(l=l.compare,l=l!==null?l:wc,l(E,d)&&s.ref===i.ref)return ci(s,i,p)}return i.flags|=1,s=Zi(w,d),s.ref=i.ref,s.return=i,i.child=s}function $v(s,i,l,d,p){if(s!==null){var w=s.memoizedProps;if(wc(w,d)&&s.ref===i.ref)if(sr=!1,i.pendingProps=d=w,(s.lanes&p)!==0)(s.flags&131072)!==0&&(sr=!0);else return i.lanes=s.lanes,ci(s,i,p)}return Kp(s,i,l,d,p)}function Uv(s,i,l){var d=i.pendingProps,p=d.children,w=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(fl,Cr),Cr|=l;else{if((l&1073741824)===0)return s=w!==null?w.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,It(fl,Cr),Cr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:l,It(fl,Cr),Cr|=d}else w!==null?(d=w.baseLanes|l,i.memoizedState=null):d=l,It(fl,Cr),Cr|=d;return Wn(s,i,p,l),i.child}function Bv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Kp(s,i,l,d,p){var w=rr(l)?Wo:Pn.current;return w=rl(i,w),cl(i,p),l=Vp(s,i,l,d,w,p),d=Fp(),s!==null&&!sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ci(s,i,p)):(Mt&&d&&Ep(i),i.flags|=1,Wn(s,i,l,p),i.child)}function zv(s,i,l,d,p){if(rr(l)){var w=!0;ud(i)}else w=!1;if(cl(i,p),i.stateNode===null)kd(s,i),Av(i,l,d),qp(i,l,d,p),d=!0;else if(s===null){var E=i.stateNode,N=i.memoizedProps;E.props=N;var V=E.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=Mr(Y):(Y=rr(l)?Wo:Pn.current,Y=rl(i,Y));var ue=l.getDerivedStateFromProps,de=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function";de||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==d||V!==Y)&&Nv(i,E,d,Y),Wi=!1;var le=i.memoizedState;E.state=le,vd(i,d,E,p),V=i.memoizedState,N!==d||le!==V||nr.current||Wi?(typeof ue=="function"&&(Hp(i,l,ue,d),V=i.memoizedState),(N=Wi||Pv(i,l,N,d,le,V,Y))?(de||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=V),E.props=d,E.state=V,E.context=Y,d=N):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,iv(s,i),N=i.memoizedProps,Y=i.type===i.elementType?N:ss(i.type,N),E.props=Y,de=i.pendingProps,le=E.context,V=l.contextType,typeof V=="object"&&V!==null?V=Mr(V):(V=rr(l)?Wo:Pn.current,V=rl(i,V));var ve=l.getDerivedStateFromProps;(ue=typeof ve=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==de||le!==V)&&Nv(i,E,d,V),Wi=!1,le=i.memoizedState,E.state=le,vd(i,d,E,p);var Ce=i.memoizedState;N!==de||le!==Ce||nr.current||Wi?(typeof ve=="function"&&(Hp(i,l,ve,d),Ce=i.memoizedState),(Y=Wi||Pv(i,l,Y,d,le,Ce,V)||!1)?(ue||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Ce,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Ce,V)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ce),E.props=d,E.state=Ce,E.context=V,d=Y):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),d=!1)}return Jp(s,i,l,d,w,p)}function Jp(s,i,l,d,p,w){Bv(s,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&Kw(i,l,!1),ci(s,i,w);d=i.stateNode,JI.current=i;var N=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&E?(i.child=al(i,s.child,null,w),i.child=al(i,null,N,w)):Wn(s,i,N,w),i.memoizedState=d.state,p&&Kw(i,l,!0),i.child}function Hv(s){var i=s.stateNode;i.pendingContext?Ww(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Ww(s,i.context,!1),Np(s,i.containerInfo)}function qv(s,i,l,d,p){return ol(),Ip(p),i.flags|=256,Wn(s,i,l,d),i.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Yp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Wv(s,i,l){var d=i.pendingProps,p=Ft.current,w=!1,E=(i.flags&128)!==0,N;if((N=E)||(N=s!==null&&s.memoizedState===null?!1:(p&2)!==0),N?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),It(Ft,p&1),s===null)return Tp(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,s=d.fallback,w?(d=i.mode,w=i.child,E={mode:"hidden",children:E},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=E):w=$d(E,d,0,null),s=na(s,d,l,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=Yp(l),i.memoizedState=Qp,s):Xp(i,E));if(p=s.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return QI(s,i,E,d,N,p,l);if(w){w=d.fallback,E=i.mode,p=s.child,N=p.sibling;var V={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=V,i.deletions=null):(d=Zi(p,V),d.subtreeFlags=p.subtreeFlags&14680064),N!==null?w=Zi(N,w):(w=na(w,E,l,null),w.flags|=2),w.return=i,d.return=i,d.sibling=w,i.child=d,d=w,w=i.child,E=s.child.memoizedState,E=E===null?Yp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=s.childLanes&~l,i.memoizedState=Qp,d}return w=s.child,s=w.sibling,d=Zi(w,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function Xp(s,i){return i=$d({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function xd(s,i,l,d){return d!==null&&Ip(d),al(i,s.child,null,l),s=Xp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function QI(s,i,l,d,p,w,E){if(l)return i.flags&256?(i.flags&=-257,d=Wp(Error(n(422))),xd(s,i,E,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=d.fallback,p=i.mode,d=$d({mode:"visible",children:d.children},p,0,null),w=na(w,p,E,null),w.flags|=2,d.return=i,w.return=i,d.sibling=w,i.child=d,(i.mode&1)!==0&&al(i,s.child,null,E),i.child.memoizedState=Yp(E),i.memoizedState=Qp,w);if((i.mode&1)===0)return xd(s,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;return d=N,w=Error(n(419)),d=Wp(w,d,void 0),xd(s,i,E,d)}if(N=(E&s.childLanes)!==0,sr||N){if(d=mn,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,ai(s,p),as(d,s,p,-1))}return pm(),d=Wp(Error(n(421))),xd(s,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=cS.bind(null,s),p._reactRetry=i,null):(s=w.treeContext,br=Bi(p.nextSibling),Er=i,Mt=!0,rs=null,s!==null&&(jr[Lr++]=ii,jr[Lr++]=oi,jr[Lr++]=Go,ii=s.id,oi=s.overflow,Go=i),i=Xp(i,d.children),i.flags|=4096,i)}function Gv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Rp(s.return,i,l)}function Zp(s,i,l,d,p){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=l,w.tailMode=p)}function Kv(s,i,l){var d=i.pendingProps,p=d.revealOrder,w=d.tail;if(Wn(s,i,d.children,l),d=Ft.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gv(s,l,i);else if(s.tag===19)Gv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(It(Ft,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&_d(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Zp(i,!1,p,l,w);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&_d(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Zp(i,!0,l,null,w);break;case"together":Zp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function kd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ci(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Xo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=Zi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Zi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function YI(s,i,l){switch(i.tag){case 3:Hv(i),ol();break;case 5:lv(i);break;case 1:rr(i.type)&&ud(i);break;case 4:Np(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;It(gd,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(It(Ft,Ft.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Wv(s,i,l):(It(Ft,Ft.current&1),s=ci(s,i,l),s!==null?s.sibling:null);It(Ft,Ft.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return Kv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),It(Ft,Ft.current),d)break;return null;case 22:case 23:return i.lanes=0,Uv(s,i,l)}return ci(s,i,l)}var Jv,em,Qv,Yv;Jv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},em=function(){},Qv=function(s,i,l,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Qo(ks.current);var w=null;switch(l){case"input":p=Bn(s,p),d=Bn(s,d),w=[];break;case"select":p=te({},p,{value:void 0}),d=te({},d,{value:void 0}),w=[];break;case"textarea":p=_t(s,p),d=_t(s,d),w=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=ad)}Do(l,d);var E;l=null;for(Y in p)if(!d.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var N=p[Y];for(E in N)N.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in d){var V=d[Y];if(N=p?.[Y],d.hasOwnProperty(Y)&&V!==N&&(V!=null||N!=null))if(Y==="style")if(N){for(E in N)!N.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in V)V.hasOwnProperty(E)&&N[E]!==V[E]&&(l||(l={}),l[E]=V[E])}else l||(w||(w=[]),w.push(Y,l)),l=V;else Y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,N=N?N.__html:void 0,V!=null&&N!==V&&(w=w||[]).push(Y,V)):Y==="children"?typeof V!="string"&&typeof V!="number"||(w=w||[]).push(Y,""+V):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(V!=null&&Y==="onScroll"&&Rt("scroll",s),w||N===V||(w=[])):(w=w||[]).push(Y,V))}l&&(w=w||[]).push("style",l);var Y=w;(i.updateQueue=Y)&&(i.flags|=4)}},Yv=function(s,i,l,d){l!==d&&(i.flags|=4)};function Dc(s,i){if(!Mt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Nn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function XI(s,i,l){var d=i.pendingProps;switch(bp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(i),null;case 1:return rr(i.type)&&cd(),Nn(i),null;case 3:return d=i.stateNode,ul(),Pt(nr),Pt(Pn),jp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(pd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rs!==null&&(dm(rs),rs=null))),em(s,i),Nn(i),null;case 5:Dp(i);var p=Qo(kc.current);if(l=i.type,s!==null&&i.stateNode!=null)Qv(s,i,l,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Nn(i),null}if(s=Qo(ks.current),pd(i)){d=i.stateNode,l=i.type;var w=i.memoizedProps;switch(d[xs]=i,d[Cc]=w,s=(i.mode&1)!==0,l){case"dialog":Rt("cancel",d),Rt("close",d);break;case"iframe":case"object":case"embed":Rt("load",d);break;case"video":case"audio":for(p=0;p<_c.length;p++)Rt(_c[p],d);break;case"source":Rt("error",d);break;case"img":case"image":case"link":Rt("error",d),Rt("load",d);break;case"details":Rt("toggle",d);break;case"input":fr(d,w),Rt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},Rt("invalid",d);break;case"textarea":Qe(d,w),Rt("invalid",d)}Do(l,w),p=null;for(var E in w)if(w.hasOwnProperty(E)){var N=w[E];E==="children"?typeof N=="string"?d.textContent!==N&&(w.suppressHydrationWarning!==!0&&od(d.textContent,N,s),p=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(w.suppressHydrationWarning!==!0&&od(d.textContent,N,s),p=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&Rt("scroll",d)}switch(l){case"input":Be(d),Ee(d,w,!0);break;case"textarea":Be(d),nt(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=ad)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=rt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[xs]=i,s[Cc]=d,Jv(s,i,!1,!1),i.stateNode=s;e:{switch(E=Oo(l,d),l){case"dialog":Rt("cancel",s),Rt("close",s),p=d;break;case"iframe":case"object":case"embed":Rt("load",s),p=d;break;case"video":case"audio":for(p=0;p<_c.length;p++)Rt(_c[p],s);p=d;break;case"source":Rt("error",s),p=d;break;case"img":case"image":case"link":Rt("error",s),Rt("load",s),p=d;break;case"details":Rt("toggle",s),p=d;break;case"input":fr(s,d),p=Bn(s,d),Rt("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=te({},d,{value:void 0}),Rt("invalid",s);break;case"textarea":Qe(s,d),p=_t(s,d),Rt("invalid",s);break;default:p=d}Do(l,p),N=p;for(w in N)if(N.hasOwnProperty(w)){var V=N[w];w==="style"?No(s,V):w==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Po(s,V)):w==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&gs(s,V):typeof V=="number"&&gs(s,""+V):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?V!=null&&w==="onScroll"&&Rt("scroll",s):V!=null&&z(s,w,V,E))}switch(l){case"input":Be(s),Ee(s,d,!1);break;case"textarea":Be(s),nt(s);break;case"option":d.value!=null&&s.setAttribute("value",""+me(d.value));break;case"select":s.multiple=!!d.multiple,w=d.value,w!=null?We(s,!!d.multiple,w,!1):d.defaultValue!=null&&We(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=ad)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Nn(i),null;case 6:if(s&&i.stateNode!=null)Yv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Qo(kc.current),Qo(ks.current),pd(i)){if(d=i.stateNode,l=i.memoizedProps,d[xs]=i,(w=d.nodeValue!==l)&&(s=Er,s!==null))switch(s.tag){case 3:od(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&od(d.nodeValue,l,(s.mode&1)!==0)}w&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xs]=i,i.stateNode=d}return Nn(i),null;case 13:if(Pt(Ft),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Mt&&br!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ev(),ol(),i.flags|=98560,w=!1;else if(w=pd(i),d!==null&&d.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[xs]=i}else ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nn(i),w=!1}else rs!==null&&(dm(rs),rs=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ft.current&1)!==0?cn===0&&(cn=3):pm())),i.updateQueue!==null&&(i.flags|=4),Nn(i),null);case 4:return ul(),em(s,i),s===null&&Ec(i.stateNode.containerInfo),Nn(i),null;case 10:return kp(i.type._context),Nn(i),null;case 17:return rr(i.type)&&cd(),Nn(i),null;case 19:if(Pt(Ft),w=i.memoizedState,w===null)return Nn(i),null;if(d=(i.flags&128)!==0,E=w.rendering,E===null)if(d)Dc(w,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=_d(s),E!==null){for(i.flags|=128,Dc(w,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)w=l,s=d,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,s=E.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return It(Ft,Ft.current&1|2),i.child}s=s.sibling}w.tail!==null&&bt()>pl&&(i.flags|=128,d=!0,Dc(w,!1),i.lanes=4194304)}else{if(!d)if(s=_d(E),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Dc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Mt)return Nn(i),null}else 2*bt()-w.renderingStartTime>pl&&l!==1073741824&&(i.flags|=128,d=!0,Dc(w,!1),i.lanes=4194304);w.isBackwards?(E.sibling=i.child,i.child=E):(l=w.last,l!==null?l.sibling=E:i.child=E,w.last=E)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=bt(),i.sibling=null,l=Ft.current,It(Ft,d?l&1|2:l&1),i):(Nn(i),null);case 22:case 23:return fm(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Cr&1073741824)!==0&&(Nn(i),i.subtreeFlags&6&&(i.flags|=8192)):Nn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function ZI(s,i){switch(bp(i),i.tag){case 1:return rr(i.type)&&cd(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ul(),Pt(nr),Pt(Pn),jp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Dp(i),null;case 13:if(Pt(Ft),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ol()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Pt(Ft),null;case 4:return ul(),null;case 10:return kp(i.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var Rd=!1,Dn=!1,eS=typeof WeakSet=="function"?WeakSet:Set,be=null;function hl(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Ht(s,i,d)}else l.current=null}function tm(s,i,l){try{l()}catch(d){Ht(s,i,d)}}var Xv=!1;function tS(s,i){if(fp=Fi,s=Pw(),ip(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var E=0,N=-1,V=-1,Y=0,ue=0,de=s,le=null;t:for(;;){for(var ve;de!==l||p!==0&&de.nodeType!==3||(N=E+p),de!==w||d!==0&&de.nodeType!==3||(V=E+d),de.nodeType===3&&(E+=de.nodeValue.length),(ve=de.firstChild)!==null;)le=de,de=ve;for(;;){if(de===s)break t;if(le===l&&++Y===p&&(N=E),le===w&&++ue===d&&(V=E),(ve=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=ve}l=N===-1||V===-1?null:{start:N,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(pp={focusedElem:s,selectionRange:l},Fi=!1,be=i;be!==null;)if(i=be,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,be=s;else for(;be!==null;){i=be;try{var Ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Te=Ce.memoizedProps,Gt=Ce.memoizedState,q=i.stateNode,U=q.getSnapshotBeforeUpdate(i.elementType===i.type?Te:ss(i.type,Te),Gt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=i.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Ht(i,i.return,fe)}if(s=i.sibling,s!==null){s.return=i.return,be=s;break}be=i.return}return Ce=Xv,Xv=!1,Ce}function Oc(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var w=p.destroy;p.destroy=void 0,w!==void 0&&tm(i,l,w)}p=p.next}while(p!==d)}}function Pd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function nm(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Zv(s){var i=s.alternate;i!==null&&(s.alternate=null,Zv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[xs],delete i[Cc],delete i[wp],delete i[MI],delete i[VI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function e_(s){return s.tag===5||s.tag===3||s.tag===4}function t_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rm(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ad));else if(d!==4&&(s=s.child,s!==null))for(rm(s,i,l),s=s.sibling;s!==null;)rm(s,i,l),s=s.sibling}function sm(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(sm(s,i,l),s=s.sibling;s!==null;)sm(s,i,l),s=s.sibling}var Cn=null,is=!1;function Ki(s,i,l){for(l=l.child;l!==null;)n_(s,i,l),l=l.sibling}function n_(s,i,l){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Xs,l)}catch{}switch(l.tag){case 5:Dn||hl(l,i);case 6:var d=Cn,p=is;Cn=null,Ki(s,i,l),Cn=d,is=p,Cn!==null&&(is?(s=Cn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Cn.removeChild(l.stateNode));break;case 18:Cn!==null&&(is?(s=Cn,l=l.stateNode,s.nodeType===8?yp(s.parentNode,l):s.nodeType===1&&yp(s,l),es(s)):yp(Cn,l.stateNode));break;case 4:d=Cn,p=is,Cn=l.stateNode.containerInfo,is=!0,Ki(s,i,l),Cn=d,is=p;break;case 0:case 11:case 14:case 15:if(!Dn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var w=p,E=w.destroy;w=w.tag,E!==void 0&&((w&2)!==0||(w&4)!==0)&&tm(l,i,E),p=p.next}while(p!==d)}Ki(s,i,l);break;case 1:if(!Dn&&(hl(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){Ht(l,i,N)}Ki(s,i,l);break;case 21:Ki(s,i,l);break;case 22:l.mode&1?(Dn=(d=Dn)||l.memoizedState!==null,Ki(s,i,l),Dn=d):Ki(s,i,l);break;default:Ki(s,i,l)}}function r_(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new eS),i.forEach(function(d){var p=uS.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function os(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var w=s,E=i,N=E;e:for(;N!==null;){switch(N.tag){case 5:Cn=N.stateNode,is=!1;break e;case 3:Cn=N.stateNode.containerInfo,is=!0;break e;case 4:Cn=N.stateNode.containerInfo,is=!0;break e}N=N.return}if(Cn===null)throw Error(n(160));n_(w,E,p),Cn=null,is=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(Y){Ht(p,i,Y)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)s_(i,s),i=i.sibling}function s_(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(os(i,s),Ps(s),d&4){try{Oc(3,s,s.return),Pd(3,s)}catch(Te){Ht(s,s.return,Te)}try{Oc(5,s,s.return)}catch(Te){Ht(s,s.return,Te)}}break;case 1:os(i,s),Ps(s),d&512&&l!==null&&hl(l,l.return);break;case 5:if(os(i,s),Ps(s),d&512&&l!==null&&hl(l,l.return),s.flags&32){var p=s.stateNode;try{gs(p,"")}catch(Te){Ht(s,s.return,Te)}}if(d&4&&(p=s.stateNode,p!=null)){var w=s.memoizedProps,E=l!==null?l.memoizedProps:w,N=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{N==="input"&&w.type==="radio"&&w.name!=null&&Jr(p,w),Oo(N,E);var Y=Oo(N,w);for(E=0;E<V.length;E+=2){var ue=V[E],de=V[E+1];ue==="style"?No(p,de):ue==="dangerouslySetInnerHTML"?Po(p,de):ue==="children"?gs(p,de):z(p,ue,de,Y)}switch(N){case"input":$e(p,w);break;case"textarea":tt(p,w);break;case"select":var le=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var ve=w.value;ve!=null?We(p,!!w.multiple,ve,!1):le!==!!w.multiple&&(w.defaultValue!=null?We(p,!!w.multiple,w.defaultValue,!0):We(p,!!w.multiple,w.multiple?[]:"",!1))}p[Cc]=w}catch(Te){Ht(s,s.return,Te)}}break;case 6:if(os(i,s),Ps(s),d&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,w=s.memoizedProps;try{p.nodeValue=w}catch(Te){Ht(s,s.return,Te)}}break;case 3:if(os(i,s),Ps(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{es(i.containerInfo)}catch(Te){Ht(s,s.return,Te)}break;case 4:os(i,s),Ps(s);break;case 13:os(i,s),Ps(s),p=s.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(am=bt())),d&4&&r_(s);break;case 22:if(ue=l!==null&&l.memoizedState!==null,s.mode&1?(Dn=(Y=Dn)||ue,os(i,s),Dn=Y):os(i,s),Ps(s),d&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ue&&(s.mode&1)!==0)for(be=s,ue=s.child;ue!==null;){for(de=be=ue;be!==null;){switch(le=be,ve=le.child,le.tag){case 0:case 11:case 14:case 15:Oc(4,le,le.return);break;case 1:hl(le,le.return);var Ce=le.stateNode;if(typeof Ce.componentWillUnmount=="function"){d=le,l=le.return;try{i=d,Ce.props=i.memoizedProps,Ce.state=i.memoizedState,Ce.componentWillUnmount()}catch(Te){Ht(d,l,Te)}}break;case 5:hl(le,le.return);break;case 22:if(le.memoizedState!==null){a_(de);continue}}ve!==null?(ve.return=le,be=ve):a_(de)}ue=ue.sibling}e:for(ue=null,de=s;;){if(de.tag===5){if(ue===null){ue=de;try{p=de.stateNode,Y?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(N=de.stateNode,V=de.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,N.style.display=Ao("display",E))}catch(Te){Ht(s,s.return,Te)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=Y?"":de.memoizedProps}catch(Te){Ht(s,s.return,Te)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:os(i,s),Ps(s),d&4&&r_(s);break;case 21:break;default:os(i,s),Ps(s)}}function Ps(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(e_(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(gs(p,""),d.flags&=-33);var w=t_(s);sm(s,w,p);break;case 3:case 4:var E=d.stateNode.containerInfo,N=t_(s);rm(s,N,E);break;default:throw Error(n(161))}}catch(V){Ht(s,s.return,V)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function nS(s,i,l){be=s,i_(s)}function i_(s,i,l){for(var d=(s.mode&1)!==0;be!==null;){var p=be,w=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Rd;if(!E){var N=p.alternate,V=N!==null&&N.memoizedState!==null||Dn;N=Rd;var Y=Dn;if(Rd=E,(Dn=V)&&!Y)for(be=p;be!==null;)E=be,V=E.child,E.tag===22&&E.memoizedState!==null?l_(p):V!==null?(V.return=E,be=V):l_(p);for(;w!==null;)be=w,i_(w),w=w.sibling;be=p,Rd=N,Dn=Y}o_(s)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,be=w):o_(s)}}function o_(s){for(;be!==null;){var i=be;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Dn||Pd(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Dn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ss(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&av(i,w,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}av(i,E,l)}break;case 5:var N=i.stateNode;if(l===null&&i.flags&4){l=N;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Y=i.alternate;if(Y!==null){var ue=Y.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&es(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||i.flags&512&&nm(i)}catch(le){Ht(i,i.return,le)}}if(i===s){be=null;break}if(l=i.sibling,l!==null){l.return=i.return,be=l;break}be=i.return}}function a_(s){for(;be!==null;){var i=be;if(i===s){be=null;break}var l=i.sibling;if(l!==null){l.return=i.return,be=l;break}be=i.return}}function l_(s){for(;be!==null;){var i=be;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Pd(4,i)}catch(V){Ht(i,l,V)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(V){Ht(i,p,V)}}var w=i.return;try{nm(i)}catch(V){Ht(i,w,V)}break;case 5:var E=i.return;try{nm(i)}catch(V){Ht(i,E,V)}}}catch(V){Ht(i,i.return,V)}if(i===s){be=null;break}var N=i.sibling;if(N!==null){N.return=i.return,be=N;break}be=i.return}}var rS=Math.ceil,Ad=Q.ReactCurrentDispatcher,im=Q.ReactCurrentOwner,Fr=Q.ReactCurrentBatchConfig,dt=0,mn=null,en=null,Tn=0,Cr=0,fl=zi(0),cn=0,jc=null,Xo=0,Nd=0,om=0,Lc=null,ir=null,am=0,pl=1/0,ui=null,Dd=!1,lm=null,Ji=null,Od=!1,Qi=null,jd=0,Mc=0,cm=null,Ld=-1,Md=0;function Gn(){return(dt&6)!==0?bt():Ld!==-1?Ld:Ld=bt()}function Yi(s){return(s.mode&1)===0?1:(dt&2)!==0&&Tn!==0?Tn&-Tn:$I.transition!==null?(Md===0&&(Md=Rn()),Md):(s=lt,s!==0||(s=window.event,s=s===void 0?16:dc(s.type)),s)}function as(s,i,l,d){if(50<Mc)throw Mc=0,cm=null,Error(n(185));ji(s,l,d),((dt&2)===0||s!==mn)&&(s===mn&&((dt&2)===0&&(Nd|=l),cn===4&&Xi(s,Tn)),or(s,d),l===1&&dt===0&&(i.mode&1)===0&&(pl=bt()+500,dd&&qi()))}function or(s,i){var l=s.callbackNode;wr(s,i);var d=on(s,s===mn?Tn:0);if(d===0)l!==null&&Vo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Vo(l),i===1)s.tag===0?FI(u_.bind(null,s)):Jw(u_.bind(null,s)),jI(function(){(dt&6)===0&&qi()}),l=null;else{switch(Mi(d)){case 1:l=yr;break;case 4:l=Es;break;case 16:l=Zn;break;case 536870912:l=ja;break;default:l=Zn}l=w_(l,c_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function c_(s,i){if(Ld=-1,Md=0,(dt&6)!==0)throw Error(n(327));var l=s.callbackNode;if(ml()&&s.callbackNode!==l)return null;var d=on(s,s===mn?Tn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Vd(s,d);else{i=d;var p=dt;dt|=2;var w=h_();(mn!==s||Tn!==i)&&(ui=null,pl=bt()+500,ea(s,i));do try{oS();break}catch(N){d_(s,N)}while(!0);xp(),Ad.current=w,dt=p,en!==null?i=0:(mn=null,Tn=0,i=cn)}if(i!==0){if(i===2&&(p=Xt(s),p!==0&&(d=p,i=um(s,p))),i===1)throw l=jc,ea(s,0),Xi(s,d),or(s,bt()),l;if(i===6)Xi(s,d);else{if(p=s.current.alternate,(d&30)===0&&!sS(p)&&(i=Vd(s,d),i===2&&(w=Xt(s),w!==0&&(d=w,i=um(s,w))),i===1))throw l=jc,ea(s,0),Xi(s,d),or(s,bt()),l;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:ta(s,ir,ui);break;case 3:if(Xi(s,d),(d&130023424)===d&&(i=am+500-bt(),10<i)){if(on(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){Gn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=gp(ta.bind(null,s,ir,ui),i);break}ta(s,ir,ui);break;case 4:if(Xi(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var E=31-zt(d);w=1<<E,E=i[E],E>p&&(p=E),d&=~w}if(d=p,d=bt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*rS(d/1960))-d,10<d){s.timeoutHandle=gp(ta.bind(null,s,ir,ui),d);break}ta(s,ir,ui);break;case 5:ta(s,ir,ui);break;default:throw Error(n(329))}}}return or(s,bt()),s.callbackNode===l?c_.bind(null,s):null}function um(s,i){var l=Lc;return s.current.memoizedState.isDehydrated&&(ea(s,i).flags|=256),s=Vd(s,i),s!==2&&(i=ir,ir=l,i!==null&&dm(i)),s}function dm(s){ir===null?ir=s:ir.push.apply(ir,s)}function sS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],w=p.getSnapshot;p=p.value;try{if(!ns(w(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(s,i){for(i&=~om,i&=~Nd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-zt(i),d=1<<l;s[l]=-1,i&=~d}}function u_(s){if((dt&6)!==0)throw Error(n(327));ml();var i=on(s,0);if((i&1)===0)return or(s,bt()),null;var l=Vd(s,i);if(s.tag!==0&&l===2){var d=Xt(s);d!==0&&(i=d,l=um(s,d))}if(l===1)throw l=jc,ea(s,0),Xi(s,i),or(s,bt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ta(s,ir,ui),or(s,bt()),null}function hm(s,i){var l=dt;dt|=1;try{return s(i)}finally{dt=l,dt===0&&(pl=bt()+500,dd&&qi())}}function Zo(s){Qi!==null&&Qi.tag===0&&(dt&6)===0&&ml();var i=dt;dt|=1;var l=Fr.transition,d=lt;try{if(Fr.transition=null,lt=1,s)return s()}finally{lt=d,Fr.transition=l,dt=i,(dt&6)===0&&qi()}}function fm(){Cr=fl.current,Pt(fl)}function ea(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,OI(l)),en!==null)for(l=en.return;l!==null;){var d=l;switch(bp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&cd();break;case 3:ul(),Pt(nr),Pt(Pn),jp();break;case 5:Dp(d);break;case 4:ul();break;case 13:Pt(Ft);break;case 19:Pt(Ft);break;case 10:kp(d.type._context);break;case 22:case 23:fm()}l=l.return}if(mn=s,en=s=Zi(s.current,null),Tn=Cr=i,cn=0,jc=null,om=Nd=Xo=0,ir=Lc=null,Jo!==null){for(i=0;i<Jo.length;i++)if(l=Jo[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,w=l.pending;if(w!==null){var E=w.next;w.next=p,d.next=E}l.pending=d}Jo=null}return s}function d_(s,i){do{var l=en;try{if(xp(),Ed.current=Id,bd){for(var d=$t.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}bd=!1}if(Yo=0,pn=ln=$t=null,Rc=!1,Pc=0,im.current=null,l===null||l.return===null){cn=1,jc=i,en=null;break}e:{var w=s,E=l.return,N=l,V=i;if(i=Tn,N.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Y=V,ue=N,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ve=Lv(E);if(ve!==null){ve.flags&=-257,Mv(ve,E,N,w,i),ve.mode&1&&jv(w,Y,i),i=ve,V=Y;var Ce=i.updateQueue;if(Ce===null){var Te=new Set;Te.add(V),i.updateQueue=Te}else Ce.add(V);break e}else{if((i&1)===0){jv(w,Y,i),pm();break e}V=Error(n(426))}}else if(Mt&&N.mode&1){var Gt=Lv(E);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),Mv(Gt,E,N,w,i),Ip(dl(V,N));break e}}w=V=dl(V,N),cn!==4&&(cn=2),Lc===null?Lc=[w]:Lc.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var q=Dv(w,V,i);ov(w,q);break e;case 1:N=V;var U=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ji===null||!Ji.has(K)))){w.flags|=65536,i&=-i,w.lanes|=i;var fe=Ov(w,N,i);ov(w,fe);break e}}w=w.return}while(w!==null)}p_(l)}catch(Ie){i=Ie,en===l&&l!==null&&(en=l=l.return);continue}break}while(!0)}function h_(){var s=Ad.current;return Ad.current=Id,s===null?Id:s}function pm(){(cn===0||cn===3||cn===2)&&(cn=4),mn===null||(Xo&268435455)===0&&(Nd&268435455)===0||Xi(mn,Tn)}function Vd(s,i){var l=dt;dt|=2;var d=h_();(mn!==s||Tn!==i)&&(ui=null,ea(s,i));do try{iS();break}catch(p){d_(s,p)}while(!0);if(xp(),dt=l,Ad.current=d,en!==null)throw Error(n(261));return mn=null,Tn=0,cn}function iS(){for(;en!==null;)f_(en)}function oS(){for(;en!==null&&!Oa();)f_(en)}function f_(s){var i=y_(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,i===null?p_(s):en=i,im.current=null}function p_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=XI(l,i,Cr),l!==null){en=l;return}}else{if(l=ZI(l,i),l!==null){l.flags&=32767,en=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,en=null;return}}if(i=i.sibling,i!==null){en=i;return}en=i=s}while(i!==null);cn===0&&(cn=5)}function ta(s,i,l){var d=lt,p=Fr.transition;try{Fr.transition=null,lt=1,aS(s,i,l,d)}finally{Fr.transition=p,lt=d}return null}function aS(s,i,l,d){do ml();while(Qi!==null);if((dt&6)!==0)throw Error(n(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=l.lanes|l.childLanes;if(Tt(s,w),s===mn&&(en=mn=null,Tn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Od||(Od=!0,w_(Zn,function(){return ml(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=Fr.transition,Fr.transition=null;var E=lt;lt=1;var N=dt;dt|=4,im.current=null,tS(s,l),s_(l,s),xI(pp),Fi=!!fp,pp=fp=null,s.current=l,nS(l),lc(),dt=N,lt=E,Fr.transition=w}else s.current=l;if(Od&&(Od=!1,Qi=s,jd=p),w=s.pendingLanes,w===0&&(Ji=null),La(l.stateNode),or(s,bt()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Dd)throw Dd=!1,s=lm,lm=null,s;return(jd&1)!==0&&s.tag!==0&&ml(),w=s.pendingLanes,(w&1)!==0?s===cm?Mc++:(Mc=0,cm=s):Mc=0,qi(),null}function ml(){if(Qi!==null){var s=Mi(jd),i=Fr.transition,l=lt;try{if(Fr.transition=null,lt=16>s?16:s,Qi===null)var d=!1;else{if(s=Qi,Qi=null,jd=0,(dt&6)!==0)throw Error(n(331));var p=dt;for(dt|=4,be=s.current;be!==null;){var w=be,E=w.child;if((be.flags&16)!==0){var N=w.deletions;if(N!==null){for(var V=0;V<N.length;V++){var Y=N[V];for(be=Y;be!==null;){var ue=be;switch(ue.tag){case 0:case 11:case 15:Oc(8,ue,w)}var de=ue.child;if(de!==null)de.return=ue,be=de;else for(;be!==null;){ue=be;var le=ue.sibling,ve=ue.return;if(Zv(ue),ue===Y){be=null;break}if(le!==null){le.return=ve,be=le;break}be=ve}}}var Ce=w.alternate;if(Ce!==null){var Te=Ce.child;if(Te!==null){Ce.child=null;do{var Gt=Te.sibling;Te.sibling=null,Te=Gt}while(Te!==null)}}be=w}}if((w.subtreeFlags&2064)!==0&&E!==null)E.return=w,be=E;else e:for(;be!==null;){if(w=be,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Oc(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,be=q;break e}be=w.return}}var U=s.current;for(be=U;be!==null;){E=be;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,be=K;else e:for(E=U;be!==null;){if(N=be,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Pd(9,N)}}catch(Ie){Ht(N,N.return,Ie)}if(N===E){be=null;break e}var fe=N.sibling;if(fe!==null){fe.return=N.return,be=fe;break e}be=N.return}}if(dt=p,qi(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Xs,s)}catch{}d=!0}return d}finally{lt=l,Fr.transition=i}}return!1}function m_(s,i,l){i=dl(l,i),i=Dv(s,i,1),s=Gi(s,i,1),i=Gn(),s!==null&&(ji(s,1,i),or(s,i))}function Ht(s,i,l){if(s.tag===3)m_(s,s,l);else for(;i!==null;){if(i.tag===3){m_(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))){s=dl(l,s),s=Ov(i,s,1),i=Gi(i,s,1),s=Gn(),i!==null&&(ji(i,1,s),or(i,s));break}}i=i.return}}function lS(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=Gn(),s.pingedLanes|=s.suspendedLanes&l,mn===s&&(Tn&l)===l&&(cn===4||cn===3&&(Tn&130023424)===Tn&&500>bt()-am?ea(s,0):om|=l),or(s,i)}function g_(s,i){i===0&&((s.mode&1)===0?i=1:(i=Xe,Xe<<=1,(Xe&130023424)===0&&(Xe=4194304)));var l=Gn();s=ai(s,i),s!==null&&(ji(s,i,l),or(s,l))}function cS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),g_(s,l)}function uS(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),g_(s,l)}var y_;y_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||nr.current)sr=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return sr=!1,YI(s,i,l);sr=(s.flags&131072)!==0}else sr=!1,Mt&&(i.flags&1048576)!==0&&Qw(i,fd,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;kd(s,i),s=i.pendingProps;var p=rl(i,Pn.current);cl(i,l),p=Vp(null,i,d,s,p,l);var w=Fp();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,rr(d)?(w=!0,ud(i)):w=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Ap(i),p.updater=Sd,i.stateNode=p,p._reactInternals=i,qp(i,d,s,l),i=Jp(null,i,d,!0,w,l)):(i.tag=0,Mt&&w&&Ep(i),Wn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(kd(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=hS(d),s=ss(d,s),p){case 0:i=Kp(null,i,d,s,l);break e;case 1:i=zv(null,i,d,s,l);break e;case 11:i=Vv(null,i,d,s,l);break e;case 14:i=Fv(null,i,d,ss(d.type,s),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Kp(s,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),zv(s,i,d,p,l);case 3:e:{if(Hv(i),s===null)throw Error(n(387));d=i.pendingProps,w=i.memoizedState,p=w.element,iv(s,i),vd(i,d,null,l);var E=i.memoizedState;if(d=E.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){p=dl(Error(n(423)),i),i=qv(s,i,d,l,p);break e}else if(d!==p){p=dl(Error(n(424)),i),i=qv(s,i,d,l,p);break e}else for(br=Bi(i.stateNode.containerInfo.firstChild),Er=i,Mt=!0,rs=null,l=rv(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ol(),d===p){i=ci(s,i,l);break e}Wn(s,i,d,l)}i=i.child}return i;case 5:return lv(i),s===null&&Tp(i),d=i.type,p=i.pendingProps,w=s!==null?s.memoizedProps:null,E=p.children,mp(d,p)?E=null:w!==null&&mp(d,w)&&(i.flags|=32),Bv(s,i),Wn(s,i,E,l),i.child;case 6:return s===null&&Tp(i),null;case 13:return Wv(s,i,l);case 4:return Np(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=al(i,null,d,l):Wn(s,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),Vv(s,i,d,p,l);case 7:return Wn(s,i,i.pendingProps,l),i.child;case 8:return Wn(s,i,i.pendingProps.children,l),i.child;case 12:return Wn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,w=i.memoizedProps,E=p.value,It(gd,d._currentValue),d._currentValue=E,w!==null)if(ns(w.value,E)){if(w.children===p.children&&!nr.current){i=ci(s,i,l);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var N=w.dependencies;if(N!==null){E=w.child;for(var V=N.firstContext;V!==null;){if(V.context===d){if(w.tag===1){V=li(-1,l&-l),V.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var ue=Y.pending;ue===null?V.next=V:(V.next=ue.next,ue.next=V),Y.pending=V}}w.lanes|=l,V=w.alternate,V!==null&&(V.lanes|=l),Rp(w.return,l,i),N.lanes|=l;break}V=V.next}}else if(w.tag===10)E=w.type===i.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(n(341));E.lanes|=l,N=E.alternate,N!==null&&(N.lanes|=l),Rp(E,l,i),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===i){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}Wn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,cl(i,l),p=Mr(p),d=d(p),i.flags|=1,Wn(s,i,d,l),i.child;case 14:return d=i.type,p=ss(d,i.pendingProps),p=ss(d.type,p),Fv(s,i,d,p,l);case 15:return $v(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ss(d,p),kd(s,i),i.tag=1,rr(d)?(s=!0,ud(i)):s=!1,cl(i,l),Av(i,d,p),qp(i,d,p,l),Jp(null,i,d,!0,s,l);case 19:return Kv(s,i,l);case 22:return Uv(s,i,l)}throw Error(n(156,i.tag))};function w_(s,i){return Ys(s,i)}function dS(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,i,l,d){return new dS(s,i,l,d)}function mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hS(s){if(typeof s=="function")return mm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===xe)return 14}return 2}function Zi(s,i){var l=s.alternate;return l===null?(l=$r(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Fd(s,i,l,d,p,w){var E=2;if(d=s,typeof s=="function")mm(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case S:return na(l.children,p,w,i);case I:E=8,p|=8;break;case k:return s=$r(12,l,i,p|2),s.elementType=k,s.lanes=w,s;case P:return s=$r(13,l,i,p),s.elementType=P,s.lanes=w,s;case Me:return s=$r(19,l,i,p),s.elementType=Me,s.lanes=w,s;case ke:return $d(l,p,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:E=10;break e;case D:E=9;break e;case F:E=11;break e;case xe:E=14;break e;case He:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=$r(E,l,i,p),i.elementType=s,i.type=d,i.lanes=w,i}function na(s,i,l,d){return s=$r(7,s,d,i),s.lanes=l,s}function $d(s,i,l,d){return s=$r(22,s,d,i),s.elementType=ke,s.lanes=l,s.stateNode={isHidden:!1},s}function gm(s,i,l){return s=$r(6,s,null,i),s.lanes=l,s}function ym(s,i,l){return i=$r(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function fS(s,i,l,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function wm(s,i,l,d,p,w,E,N,V){return s=new fS(s,i,l,N,V),i===1?(i=1,w===!0&&(i|=8)):i=0,w=$r(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(w),s}function pS(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function v_(s){if(!s)return Hi;s=s._reactInternals;e:{if(Bt(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(rr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(rr(l))return Gw(s,l,i)}return i}function __(s,i,l,d,p,w,E,N,V){return s=wm(l,d,!0,s,p,w,E,N,V),s.context=v_(null),l=s.current,d=Gn(),p=Yi(l),w=li(d,p),w.callback=i??null,Gi(l,w,p),s.current.lanes=p,ji(s,p,d),or(s,d),s}function Ud(s,i,l,d){var p=i.current,w=Gn(),E=Yi(p);return l=v_(l),i.context===null?i.context=l:i.pendingContext=l,i=li(w,E),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Gi(p,i,E),s!==null&&(as(s,p,E,w),wd(s,p,E)),E}function Bd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function E_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function vm(s,i){E_(s,i),(s=s.alternate)&&E_(s,i)}function mS(){return null}var b_=typeof reportError=="function"?reportError:function(s){console.error(s)};function _m(s){this._internalRoot=s}zd.prototype.render=_m.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Ud(s,i,null,null)},zd.prototype.unmount=_m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Zo(function(){Ud(null,s,null,null)}),i[ri]=null}};function zd(s){this._internalRoot=s}zd.prototype.unstable_scheduleHydration=function(s){if(s){var i=zu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Cs.length&&i!==0&&i<Cs[l].priority;l++);Cs.splice(l,0,s),l===0&&Wu(s)}};function Em(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function C_(){}function gS(s,i,l,d,p){if(p){if(typeof d=="function"){var w=d;d=function(){var Y=Bd(E);w.call(Y)}}var E=__(i,d,s,0,null,!1,!1,"",C_);return s._reactRootContainer=E,s[ri]=E.current,Ec(s.nodeType===8?s.parentNode:s),Zo(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var N=d;d=function(){var Y=Bd(V);N.call(Y)}}var V=wm(s,0,!1,null,null,!1,!1,"",C_);return s._reactRootContainer=V,s[ri]=V.current,Ec(s.nodeType===8?s.parentNode:s),Zo(function(){Ud(i,V,l,d)}),V}function qd(s,i,l,d,p){var w=l._reactRootContainer;if(w){var E=w;if(typeof p=="function"){var N=p;p=function(){var V=Bd(E);N.call(V)}}Ud(i,E,s,p)}else E=gS(l,i,s,p,d);return Bd(E)}Uu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=jt(i.pendingLanes);l!==0&&(Li(i,l|1),or(i,bt()),(dt&6)===0&&(pl=bt()+500,qi()))}break;case 13:Zo(function(){var d=ai(s,1);if(d!==null){var p=Gn();as(d,s,1,p)}}),vm(s,1)}},Fa=function(s){if(s.tag===13){var i=ai(s,134217728);if(i!==null){var l=Gn();as(i,s,134217728,l)}vm(s,134217728)}},Bu=function(s){if(s.tag===13){var i=Yi(s),l=ai(s,i);if(l!==null){var d=Gn();as(l,s,i,d)}vm(s,i)}},zu=function(){return lt},Hu=function(s,i){var l=lt;try{return lt=s,i()}finally{lt=l}},Ri=function(s,i,l){switch(i){case"input":if($e(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var p=ld(d);if(!p)throw Error(n(90));Je(d),$e(d,p)}}}break;case"textarea":tt(s,l);break;case"select":i=l.value,i!=null&&We(s,!!l.multiple,i,!1)}},vs=hm,Pi=Zo;var yS={usingClientEntryPoint:!1,Events:[Tc,tl,ld,Pr,jo,hm]},Vc={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wS={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Di(s),s===null?null:s.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||mS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Xs=Wd.inject(wS),Hn=Wd}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yS,ar.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(i))throw Error(n(200));return pS(s,i,null,l)},ar.createRoot=function(s,i){if(!Em(s))throw Error(n(299));var l=!1,d="",p=b_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=wm(s,1,!1,null,null,l,!1,d,p),s[ri]=i.current,Ec(s.nodeType===8?s.parentNode:s),new _m(i)},ar.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Di(i),s=s===null?null:s.stateNode,s},ar.flushSync=function(s){return Zo(s)},ar.hydrate=function(s,i,l){if(!Hd(i))throw Error(n(200));return qd(null,s,i,!0,l)},ar.hydrateRoot=function(s,i,l){if(!Em(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,w="",E=b_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=__(i,null,s,1,l??null,p,!1,w,E),s[ri]=i.current,Ec(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new zd(i)},ar.render=function(s,i,l){if(!Hd(i))throw Error(n(200));return qd(null,s,i,!1,l)},ar.unmountComponentAtNode=function(s){if(!Hd(s))throw Error(n(40));return s._reactRootContainer?(Zo(function(){qd(null,null,s,!1,function(){s._reactRootContainer=null,s[ri]=null})}),!0):!1},ar.unstable_batchedUpdates=hm,ar.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Hd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return qd(s,i,l,!1,d)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var A_;function xS(){if(A_)return Tm.exports;A_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tm.exports=SS(),Tm.exports}var N_;function kS(){if(N_)return Gd;N_=1;var t=xS();return Gd.createRoot=t.createRoot,Gd.hydrateRoot=t.hydrateRoot,Gd}var RS=kS();const PS=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,h=c?t[o+1]:0,f=o+2<t.length,y=f?t[o+2]:0,v=a>>2,b=(a&3)<<4|h>>4;let T=(h&15)<<2|y>>6,A=y&63;f||(A=64,c||(T=64)),r.push(n[v],n[b],n[T],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||y==null||b==null)throw new NS;const T=a<<2|h>>4;if(r.push(T),y!==64){const A=h<<4&240|y>>2;if(r.push(A),b!==64){const L=y<<6&192|b;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(t){const e=rb(t);return sb.encodeByteArray(e,!0)},Ih=function(t){return DS(t).replace(/\./g,"")},ib=function(t){try{return sb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=()=>OS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof D_>"u")return;const t=D_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ib(t[1]);return e&&JSON.parse(e)},df=()=>{try{return PS()||jS()||LS()||MS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ob=t=>df()?.emulatorHosts?.[t],ab=t=>{const e=ob(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lb=()=>df()?.config,cb=t=>df()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(c)),""].join(".")}const Yc={};function FS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yc))Yc[e]?t.emulator.push(e):t.prod.push(e);return t}function $S(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let O_=!1;function zg(t,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||Yc[t]===e||Yc[t]||O_)return;Yc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=FS().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{O_=!0,c()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=$S(r),A=n("text"),L=document.getElementById(A)||document.createElement("span"),$=n("learnmore"),O=document.getElementById($)||document.createElement("a"),W=n("preprendIcon"),M=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),v(O,$);const Q=y();f(M,W),z.append(M,L,O,Q),document.body.appendChild(z)}a?(L.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function BS(){const t=df()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WS(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GS(){return!BS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FirebaseError";class Hs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QS,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?YS(a,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Hs(o,h,r)}}function YS(t,e){return t.replace(XS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const XS=/\{\$([^}]+)}/g;function ZS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],c=e[o];if(j_(a)&&j_(c)){if(!vi(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function j_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ex(t,e){const n=new tx(t,e);return n.subscribe.bind(n)}class tx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ix(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sx(t){return t===sa?void 0:t}function ix(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const ax={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},lx=st.INFO,cx={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},ux=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=cx[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hg{constructor(e){this.name=e,this._logLevel=lx,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const dx=(t,e)=>e.some(n=>t instanceof n);let L_,M_;function hx(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fx(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,eg=new WeakMap,hb=new WeakMap,km=new WeakMap,qg=new WeakMap;function px(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(mo(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&db.set(n,t)}).catch(()=>{}),qg.set(e,t),e}function mx(t){if(eg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});eg.set(t,e)}let tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gx(t){tg=t(tg)}function yx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rm(this),e,...n);return hb.set(r,e.sort?e.sort():[e]),mo(r)}:fx().includes(t)?function(...e){return t.apply(Rm(this),e),mo(db.get(this))}:function(...e){return mo(t.apply(Rm(this),e))}}function wx(t){return typeof t=="function"?yx(t):(t instanceof IDBTransaction&&mx(t),dx(t,hx())?new Proxy(t,tg):t)}function mo(t){if(t instanceof IDBRequest)return px(t);if(km.has(t))return km.get(t);const e=wx(t);return e!==t&&(km.set(t,e),qg.set(e,t)),e}const Rm=t=>qg.get(t);function vx(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),h=mo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(mo(c.result),f.oldVersion,f.newVersion,mo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const _x=["get","getKey","getAll","getAllKeys","count"],Ex=["put","add","delete","clear"],Pm=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Ex.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||_x.includes(n)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let y=f.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),o&&f.done]))[0]};return Pm.set(e,a),a}gx(t=>({...t,get:(e,n,r)=>V_(e,n)||t.get(e,n,r),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cx(t){return t.getComponent()?.type==="VERSION"}const ng="@firebase/app",F_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Hg("@firebase/app"),Tx="@firebase/app-compat",Ix="@firebase/analytics-compat",Sx="@firebase/analytics",xx="@firebase/app-check-compat",kx="@firebase/app-check",Rx="@firebase/auth",Px="@firebase/auth-compat",Ax="@firebase/database",Nx="@firebase/data-connect",Dx="@firebase/database-compat",Ox="@firebase/functions",jx="@firebase/functions-compat",Lx="@firebase/installations",Mx="@firebase/installations-compat",Vx="@firebase/messaging",Fx="@firebase/messaging-compat",$x="@firebase/performance",Ux="@firebase/performance-compat",Bx="@firebase/remote-config",zx="@firebase/remote-config-compat",Hx="@firebase/storage",qx="@firebase/storage-compat",Wx="@firebase/firestore",Gx="@firebase/ai",Kx="@firebase/firestore-compat",Jx="firebase",Qx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",Yx={[ng]:"fire-core",[Tx]:"fire-core-compat",[Sx]:"fire-analytics",[Ix]:"fire-analytics-compat",[kx]:"fire-app-check",[xx]:"fire-app-check-compat",[Rx]:"fire-auth",[Px]:"fire-auth-compat",[Ax]:"fire-rtdb",[Nx]:"fire-data-connect",[Dx]:"fire-rtdb-compat",[Ox]:"fire-fn",[jx]:"fire-fn-compat",[Lx]:"fire-iid",[Mx]:"fire-iid-compat",[Vx]:"fire-fcm",[Fx]:"fire-fcm-compat",[$x]:"fire-perf",[Ux]:"fire-perf-compat",[Bx]:"fire-rc",[zx]:"fire-rc-compat",[Hx]:"fire-gcs",[qx]:"fire-gcs-compat",[Wx]:"fire-fst",[Kx]:"fire-fst-compat",[Gx]:"fire-vertex","fire-js":"fire-js",[Jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,Xx=new Map,sg=new Map;function $_(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(sg.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,t);for(const n of Sh.values())$_(n,t);for(const n of Xx.values())$_(n,t);return!0}function hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new wu("app","Firebase",Zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=Qx;function fb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw go.create("bad-app-name",{appName:String(o)});if(n||(n=lb()),!n)throw go.create("no-options");const a=Sh.get(o);if(a){if(vi(n,a.options)&&vi(r,a.config))return a;throw go.create("duplicate-app",{appName:o})}const c=new ox(o);for(const f of sg.values())c.addComponent(f);const h=new ek(n,r,c);return Sh.set(o,h),h}function Wg(t=rg){const e=Sh.get(t);if(!e&&t===rg&&lb())return fb();if(!e)throw go.create("no-app",{appName:t});return e}function js(t,e,n){let r=Yx[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(c.join(" "));return}fa(new _o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="firebase-heartbeat-database",nk=1,ou="firebase-heartbeat-store";let Am=null;function pb(){return Am||(Am=vx(tk,nk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw go.create("idb-open",{originalErrorMessage:t.message})})),Am}async function rk(t){try{const n=(await pb()).transaction(ou),r=await n.objectStore(ou).get(mb(t));return await n.done,r}catch(e){if(e instanceof Hs)_i.warn(e.message);else{const n=go.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function U_(t,e){try{const r=(await pb()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,mb(t)),await r.done}catch(n){if(n instanceof Hs)_i.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}}function mb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=1024,ik=30;class ok{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ik){const o=ck(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=B_(),{heartbeatsToSend:n,unsentEntries:r}=ak(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function B_(){return new Date().toISOString().substring(0,10)}function ak(t,e=sk){const n=[];let r=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),z_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),z_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function z_(t){return Ih(JSON.stringify({version:2,heartbeats:t})).length}function ck(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){fa(new _o("platform-logger",e=>new bx(e),"PRIVATE")),fa(new _o("heartbeat",e=>new ok(e),"PRIVATE")),js(ng,F_,t),js(ng,F_,"esm2020"),js("fire-js","")}uk("");function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dk=gb,yb=new wu("auth","Firebase",gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Hg("@firebase/auth");function hk(t,...e){xh.logLevel<=st.WARN&&xh.warn(`Auth (${Ta}): ${t}`,...e)}function ah(t,...e){xh.logLevel<=st.ERROR&&xh.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,...e){throw Kg(t,...e)}function Br(t,...e){return Kg(t,...e)}function Gg(t,e,n){const r={...dk(),[e]:n};return new wu("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return Gg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hr(t,"argument-error"),Gg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yb.create(t,...e)}function Ve(t,e,...n){if(!t)throw Kg(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function Ei(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){return typeof self<"u"&&self.location?.href||""}function fk(){return H_()==="http:"||H_()==="https:"}function H_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fk()||HS()||"connection"in navigator)?navigator.onLine:!0}function mk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=US()||qS()}get(){return pk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wk=new _u(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,r,o={}){return _b(t,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=vu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:f,...a};return zS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(y.credentials="include"),vb.fetch()(await Eb(t,t.config.apiHost,n,h),y)})}async function _b(t,e,n){t._canInitEmulator=!1;const r={...gk,...e};try{const o=new _k(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Kd(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Kd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Kd(t,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gg(t,v,y);Hr(t,v)}}catch(o){if(o instanceof Hs)throw o;Hr(t,"network-request-failed",{message:String(o)})}}async function Eu(t,e,n,r,o={}){const a=await fs(t,e,n,r,o);return"mfaPendingCredential"in a&&Hr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Eb(t,e,n,r){const o=`${e}${n}?${r}`,a=t,c=a.config.emulator?Jg(t.config,o):`${t.config.apiScheme}://${o}`;return yk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function vk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _k{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),wk.get())})}}function Kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Br(t,e,r);return o.customData._tokenResponse=n,o}function q_(t){return t!==void 0&&t.enterprise!==void 0}class Ek{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bk(t,e){return fs(t,"GET","/v2/recaptchaConfig",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function kh(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tk(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),o=Qg(r);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:Xc(Nm(o.auth_time)),issuedAtTime:Xc(Nm(o.iat)),expirationTime:Xc(Nm(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nm(t){return Number(t)*1e3}function Qg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=ib(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function W_(t){const e=Qg(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hs&&Ik(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t){const e=t.auth,n=await t.getIdToken(),r=await pa(t,kh(e,{idToken:n}));Ve(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=o.providerUserInfo?.length?bb(o.providerUserInfo):[],c=kk(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!c?.length,y=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function xk(t){const e=Dt(t);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function bb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,e){const n=await _b(t,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=await Eb(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(f.credentials="include"),vb.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pk(t,e){return fs(t,"POST","/v2/accounts:revokeToken",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await Rk(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,c=new Cl;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Ve(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ve(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new og(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tk(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await pa(this,Ck(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:A,providerData:L,stsTokenManager:$}=n;Ve(b&&$,e,"internal-error");const O=Cl.fromJSON(this.name,$);Ve(typeof b=="string",e,"internal-error"),to(r,e.name),to(o,e.name),Ve(typeof T=="boolean",e,"internal-error"),Ve(typeof A=="boolean",e,"internal-error"),to(a,e.name),to(c,e.name),to(h,e.name),to(f,e.name),to(y,e.name),to(v,e.name);const W=new ls({uid:b,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:O,createdAt:y,lastLoginAt:v});return L&&Array.isArray(L)&&(W.providerData=L.map(M=>({...M}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new Cl;o.updateFromServerResponse(n);const a=new ls({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Rh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?bb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new Cl;h.updateFromIdToken(r);const f=new ls({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function pi(t){Ei(t instanceof Function,"Expected a class definition");let e=G_.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cb.type="NONE";const K_=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,a),this.fullPersistenceKey=lh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?ls._fromGetAccountInfoResponse(this.auth,n,e):null}return ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(pi(K_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||pi(K_);const c=lh(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const v=await y._get(c);if(v){let b;if(typeof v=="string"){const T=await kh(e,{idToken:v}).catch(()=>{});if(!T)break;b=await ls._fromGetAccountInfoResponse(e,T,v)}else b=ls._fromJSON(e,v);y!==a&&(h=b),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Tl(a,e,r):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Tl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rb(e))return"Blackberry";if(Pb(e))return"Webos";if(Ib(e))return"Safari";if((e.includes("chrome/")||Sb(e))&&!e.includes("edge/"))return"Chrome";if(kb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Tb(t=Fn()){return/firefox\//i.test(t)}function Ib(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sb(t=Fn()){return/crios\//i.test(t)}function xb(t=Fn()){return/iemobile/i.test(t)}function kb(t=Fn()){return/android/i.test(t)}function Rb(t=Fn()){return/blackberry/i.test(t)}function Pb(t=Fn()){return/webos/i.test(t)}function Yg(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ak(t=Fn()){return Yg(t)&&!!window.navigator?.standalone}function Nk(){return WS()&&document.documentMode===10}function Ab(t=Fn()){return Yg(t)||kb(t)||Pb(t)||Rb(t)||/windows phone/i.test(t)||xb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t,e=[]){let n;switch(t){case"Browser":n=J_(Fn());break;case"Worker":n=`${J_(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t,e={}){return fs(t,"GET","/v2/passwordPolicy",Si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=6;class Lk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new Dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),r=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(mi(this));const n=e?Dt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ok(this),n=new Lk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,o);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xi(t){return Dt(t)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ex(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vk(t){ff=t}function Db(t){return ff.loadJS(t)}function Fk(){return ff.recaptchaEnterpriseScript}function $k(){return ff.gapiScript}function Uk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Bk{constructor(){this.enterprise=new zk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Hk="recaptcha-enterprise",Ob="NO_RECAPTCHA";class qk{constructor(e){this.type=Hk,this.auth=xi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{bk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new Ek(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(f=>{h(f)})})}function o(a,c,h){const f=window.grecaptcha;q_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(Ob)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bk().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!n&&q_(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Fk();f.length!==0&&(f+=h),Db(f).then(()=>{o(h,a,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function Y_(t,e,n,r=!1,o=!1){const a=new qk(t);let c;if(o)c=Ob;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ph(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Y_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Y_(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e){const n=hf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(vi(a,e??{}))return o;Hr(o,"already-initialized")}return n.initialize({options:e})}function Gk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kk(t,e,n){const r=xi(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=jb(e),{host:c,port:h}=Jk(e),f=h===null?"":`:${h}`,y={url:`${a}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(vi(y,r.config.emulator)&&vi(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ca(c)?(Bg(`${a}//${c}${f}`),zg("Auth",!0)):Qk()}function jb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jk(t){const e=jb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:X_(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:X_(c)}}}function X_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function Yk(t,e){return fs(t,"POST","/v1/accounts:update",e)}async function Xk(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e){return Eu(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))}async function eR(t,e){return fs(t,"POST","/v1/accounts:sendOobCode",Si(t,e))}async function tR(t,e){return eR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}async function rR(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Xg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,n,"signInWithPassword",Zk);case"emailLink":return nR(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,r,"signUpPassword",Xk);case"emailLink":return rR(e,{idToken:n,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return Eu(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="http://localhost";class ma extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=n;if(!r||!o)return null;const c=new ma(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:sR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oR(t){const e=Hc(qc(t)).link,n=e?Hc(qc(e)).deep_link_id:null,r=Hc(qc(t)).deep_link_id;return(r?Hc(qc(r)).link:null)||r||n||e||t}class Zg{constructor(e){const n=Hc(qc(e)),r=n.apiKey??null,o=n.oobCode??null,a=iR(n.mode??null);Ve(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oR(e);try{return new Zg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zg.parseLink(n);return Ve(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends pf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends bu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends bu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends bu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e){return Eu(t,"POST","/v1/accounts:signUp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await ls._fromIdTokenResponse(e,r,o),c=Z_(r);return new ga({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Z_(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Hs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Ah(e,n,r,o)}}function Lb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(t,a,e,r):a})}async function lR(t,e,n=!1){const r=await pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(mi(r));const o="reauthenticate";try{const a=await pa(t,Lb(r,o,e,t),n);Ve(a.idToken,r,"internal-error");const c=Qg(a.idToken);Ve(c,r,"internal-error");const{sub:h}=c;return Ve(t.uid===h,r,"user-mismatch"),ga._forOperation(t,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,e,n=!1){if(Kn(t.app))return Promise.reject(mi(t));const r="signIn",o=await Lb(t,r,e),a=await ga._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function cR(t,e){return Vb(xi(t),e)}async function uR(t,e){return Mb(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t){const e=xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $b(t,e,n){const r=xi(t);await Ph(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",tR)}async function dR(t,e,n){if(Kn(t.app))return Promise.reject(mi(t));const r=xi(t),c=await Ph(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Fb(t),f}),h=await ga._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function hR(t,e,n){return Kn(t.app)?Promise.reject(mi(t)):cR(Dt(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await pa(r,fR(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function pR(t,e){return mR(Dt(t),null,e)}async function mR(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const c=await pa(t,Yk(r,a));await t._updateTokensIfNecessary(c,!0)}function gR(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function yR(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function wR(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function Cu(t){return Dt(t).signOut()}async function vR(t){return Dt(t).delete()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1e3,ER=10;class zb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);Nk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ER):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zb.type="LOCAL";const bR=zb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Hb.type="SESSION";const qb=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async y=>y(n.origin,a)),f=await CR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const y=ey("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function IR(t){Ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function SR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xR(){return navigator?.serviceWorker?.controller||null}function kR(){return Wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firebaseLocalStorageDb",RR=1,Dh="firebaseLocalStorage",Kb="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function PR(){const t=indexedDB.deleteDatabase(Gb);return new Tu(t).toPromise()}function ag(){const t=indexedDB.open(Gb,RR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dh,{keyPath:Kb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await PR(),e(await ag()))})})}async function e0(t,e,n){const r=gf(t,!0).put({[Kb]:e,value:n});return new Tu(r).toPromise()}async function AR(t,e){const n=gf(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function t0(t,e){const n=gf(t,!0).delete(e);return new Tu(n).toPromise()}const NR=800,DR=3;class Jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(kR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SR(),!this.activeServiceWorker)return;this.sender=new TR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await e0(e,Nh,"1"),await t0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=gf(o,!1).getAll();return new Tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jb.type="LOCAL";const OR=Jb;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){return e?pi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jR(t){return Vb(t.auth,new ny(t),t.bypassAuthState)}function LR(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Mb(n,new ny(t),t.bypassAuthState)}async function MR(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),lR(n,new ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jR;case"linkViaPopup":case"linkViaRedirect":return MR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:Hr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new _u(2e3,1e4);async function FR(t,e,n){if(Kn(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=xi(t);wb(t,e,pf);const o=ty(r,n);return new uo(r,"signInViaPopup",e,o).executeNotNull()}async function $R(t,e,n){const r=Dt(t);if(Kn(r.auth.app))return Promise.reject(Br(r.auth,"operation-not-supported-in-this-environment"));wb(r.auth,e,pf);const o=ty(r.auth,n);return new uo(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}class uo extends Qb{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VR.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",ch=new Map;class BR extends Qb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await zR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(t,e){const n=WR(e),r=qR(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function HR(t,e){ch.set(t._key(),e)}function qR(t){return pi(t._redirectPersistence)}function WR(t){return lh(UR,t.config.apiKey,t.name)}async function GR(t,e,n=!1){if(Kn(t.app))return Promise.reject(mi(t));const r=xi(t),o=ty(r,e),c=await new BR(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=600*1e3;class JR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Yb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Yb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function QR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function eP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YR(t);for(const n of e)try{if(tP(n))return}catch{}Hr(t,"unauthorized-domain")}function tP(t){const e=ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!ZR.test(n))return!1;if(XR.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new _u(3e4,6e4);function r0(){const t=Ls().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rP(t){return new Promise((e,n)=>{function r(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(Br(t,"network-request-failed"))},timeout:nP.get()})}if(Ls().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ls().gapi?.load)r();else{const o=Uk("iframefcb");return Ls()[o]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},Db(`${$k()}?onload=${o}`).catch(a=>n(a))}}).catch(e=>{throw uh=null,e})}let uh=null;function sP(t){return uh=uh||rP(t),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new _u(5e3,15e3),oP="__/auth/iframe",aP="emulator/auth/iframe",lP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uP(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jg(e,aP):`https://${t.config.authDomain}/${oP}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},o=cP.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${vu(r).slice(1)}`}async function dP(t){const e=await sP(t),n=Ls().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:uP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=Br(t,"network-request-failed"),h=Ls().setTimeout(()=>{a(c)},iP.get());function f(){Ls().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fP=500,pP=600,mP="_blank",gP="http://localhost";class s0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yP(t,e,n,r=fP,o=pP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...hP,width:r.toString(),height:o.toString(),top:a,left:c},y=Fn().toLowerCase();n&&(h=Sb(y)?mP:n),Tb(y)&&(e=e||gP,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[A,L])=>`${T}${A}=${L},`,"");if(Ak(y)&&h!=="_self")return wP(e||"",h),new s0(null);const b=window.open(e||"",h,v);Ve(b,t,"popup-blocked");try{b.focus()}catch{}return new s0(b)}function wP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="__/auth/handler",_P="emulator/auth/handler",EP=encodeURIComponent("fac");async function i0(t,e,n,r,o,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:o};if(e instanceof pf){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ZS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof bu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),y=f?`#${EP}=${encodeURIComponent(f)}`:"";return`${bP(t)}?${vu(h).slice(1)}${y}`}function bP({config:t}){return t.emulator?Jg(t,_P):`https://${t.authDomain}/${vP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class CP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qb,this._completeRedirectFn=GR,this._overrideRedirectResult=HR}async _openPopup(e,n,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await i0(e,n,r,ig(),o);return yP(e,a,ey())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await i0(e,n,r,ig(),o);return IR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dP(e),r=new JR(e);return n.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{const a=o?.[0]?.[Dm];a!==void 0&&n(!!a),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ab()||Ib()||Yg()}}const TP=CP;var o0="@firebase/auth",a0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xP(t){fa(new _o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(t)},y=new Mk(r,o,a,f);return Gk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new _o("auth-internal",e=>{const n=xi(e.getProvider("auth").getImmediate());return(r=>new IP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(o0,a0,SP(t)),js(o0,a0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=300,RP=cb("authIdTokenMaxAge")||kP;let l0=null;const PP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RP)return;const o=n?.token;l0!==o&&(l0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kr(t=Wg()){const e=hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wk(t,{popupRedirectResolver:TP,persistence:[OR,bR,qb]}),r=cb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=PP(a.toString());yR(n,c,()=>c(n.currentUser)),gR(n,h=>c(h))}}const o=ob("auth");return o&&Kk(n,`http://${o}`),n}function AP(){return document.getElementsByTagName("head")?.[0]??document}Vk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Br("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",AP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xP("Browser");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,Xb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function k(){}k.prototype=I.prototype,S.D=I.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(R,D,F){for(var P=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)P[Me-2]=arguments[Me];return I.prototype[D].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,I,k){k||(k=0);var R=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)R[D]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(D=0;16>D;++D)R[D]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=S.g[0],k=S.g[1],D=S.g[2];var F=S.g[3],P=I+(F^k&(D^F))+R[0]+3614090360&4294967295;I=k+(P<<7&4294967295|P>>>25),P=F+(D^I&(k^D))+R[1]+3905402710&4294967295,F=I+(P<<12&4294967295|P>>>20),P=D+(k^F&(I^k))+R[2]+606105819&4294967295,D=F+(P<<17&4294967295|P>>>15),P=k+(I^D&(F^I))+R[3]+3250441966&4294967295,k=D+(P<<22&4294967295|P>>>10),P=I+(F^k&(D^F))+R[4]+4118548399&4294967295,I=k+(P<<7&4294967295|P>>>25),P=F+(D^I&(k^D))+R[5]+1200080426&4294967295,F=I+(P<<12&4294967295|P>>>20),P=D+(k^F&(I^k))+R[6]+2821735955&4294967295,D=F+(P<<17&4294967295|P>>>15),P=k+(I^D&(F^I))+R[7]+4249261313&4294967295,k=D+(P<<22&4294967295|P>>>10),P=I+(F^k&(D^F))+R[8]+1770035416&4294967295,I=k+(P<<7&4294967295|P>>>25),P=F+(D^I&(k^D))+R[9]+2336552879&4294967295,F=I+(P<<12&4294967295|P>>>20),P=D+(k^F&(I^k))+R[10]+4294925233&4294967295,D=F+(P<<17&4294967295|P>>>15),P=k+(I^D&(F^I))+R[11]+2304563134&4294967295,k=D+(P<<22&4294967295|P>>>10),P=I+(F^k&(D^F))+R[12]+1804603682&4294967295,I=k+(P<<7&4294967295|P>>>25),P=F+(D^I&(k^D))+R[13]+4254626195&4294967295,F=I+(P<<12&4294967295|P>>>20),P=D+(k^F&(I^k))+R[14]+2792965006&4294967295,D=F+(P<<17&4294967295|P>>>15),P=k+(I^D&(F^I))+R[15]+1236535329&4294967295,k=D+(P<<22&4294967295|P>>>10),P=I+(D^F&(k^D))+R[1]+4129170786&4294967295,I=k+(P<<5&4294967295|P>>>27),P=F+(k^D&(I^k))+R[6]+3225465664&4294967295,F=I+(P<<9&4294967295|P>>>23),P=D+(I^k&(F^I))+R[11]+643717713&4294967295,D=F+(P<<14&4294967295|P>>>18),P=k+(F^I&(D^F))+R[0]+3921069994&4294967295,k=D+(P<<20&4294967295|P>>>12),P=I+(D^F&(k^D))+R[5]+3593408605&4294967295,I=k+(P<<5&4294967295|P>>>27),P=F+(k^D&(I^k))+R[10]+38016083&4294967295,F=I+(P<<9&4294967295|P>>>23),P=D+(I^k&(F^I))+R[15]+3634488961&4294967295,D=F+(P<<14&4294967295|P>>>18),P=k+(F^I&(D^F))+R[4]+3889429448&4294967295,k=D+(P<<20&4294967295|P>>>12),P=I+(D^F&(k^D))+R[9]+568446438&4294967295,I=k+(P<<5&4294967295|P>>>27),P=F+(k^D&(I^k))+R[14]+3275163606&4294967295,F=I+(P<<9&4294967295|P>>>23),P=D+(I^k&(F^I))+R[3]+4107603335&4294967295,D=F+(P<<14&4294967295|P>>>18),P=k+(F^I&(D^F))+R[8]+1163531501&4294967295,k=D+(P<<20&4294967295|P>>>12),P=I+(D^F&(k^D))+R[13]+2850285829&4294967295,I=k+(P<<5&4294967295|P>>>27),P=F+(k^D&(I^k))+R[2]+4243563512&4294967295,F=I+(P<<9&4294967295|P>>>23),P=D+(I^k&(F^I))+R[7]+1735328473&4294967295,D=F+(P<<14&4294967295|P>>>18),P=k+(F^I&(D^F))+R[12]+2368359562&4294967295,k=D+(P<<20&4294967295|P>>>12),P=I+(k^D^F)+R[5]+4294588738&4294967295,I=k+(P<<4&4294967295|P>>>28),P=F+(I^k^D)+R[8]+2272392833&4294967295,F=I+(P<<11&4294967295|P>>>21),P=D+(F^I^k)+R[11]+1839030562&4294967295,D=F+(P<<16&4294967295|P>>>16),P=k+(D^F^I)+R[14]+4259657740&4294967295,k=D+(P<<23&4294967295|P>>>9),P=I+(k^D^F)+R[1]+2763975236&4294967295,I=k+(P<<4&4294967295|P>>>28),P=F+(I^k^D)+R[4]+1272893353&4294967295,F=I+(P<<11&4294967295|P>>>21),P=D+(F^I^k)+R[7]+4139469664&4294967295,D=F+(P<<16&4294967295|P>>>16),P=k+(D^F^I)+R[10]+3200236656&4294967295,k=D+(P<<23&4294967295|P>>>9),P=I+(k^D^F)+R[13]+681279174&4294967295,I=k+(P<<4&4294967295|P>>>28),P=F+(I^k^D)+R[0]+3936430074&4294967295,F=I+(P<<11&4294967295|P>>>21),P=D+(F^I^k)+R[3]+3572445317&4294967295,D=F+(P<<16&4294967295|P>>>16),P=k+(D^F^I)+R[6]+76029189&4294967295,k=D+(P<<23&4294967295|P>>>9),P=I+(k^D^F)+R[9]+3654602809&4294967295,I=k+(P<<4&4294967295|P>>>28),P=F+(I^k^D)+R[12]+3873151461&4294967295,F=I+(P<<11&4294967295|P>>>21),P=D+(F^I^k)+R[15]+530742520&4294967295,D=F+(P<<16&4294967295|P>>>16),P=k+(D^F^I)+R[2]+3299628645&4294967295,k=D+(P<<23&4294967295|P>>>9),P=I+(D^(k|~F))+R[0]+4096336452&4294967295,I=k+(P<<6&4294967295|P>>>26),P=F+(k^(I|~D))+R[7]+1126891415&4294967295,F=I+(P<<10&4294967295|P>>>22),P=D+(I^(F|~k))+R[14]+2878612391&4294967295,D=F+(P<<15&4294967295|P>>>17),P=k+(F^(D|~I))+R[5]+4237533241&4294967295,k=D+(P<<21&4294967295|P>>>11),P=I+(D^(k|~F))+R[12]+1700485571&4294967295,I=k+(P<<6&4294967295|P>>>26),P=F+(k^(I|~D))+R[3]+2399980690&4294967295,F=I+(P<<10&4294967295|P>>>22),P=D+(I^(F|~k))+R[10]+4293915773&4294967295,D=F+(P<<15&4294967295|P>>>17),P=k+(F^(D|~I))+R[1]+2240044497&4294967295,k=D+(P<<21&4294967295|P>>>11),P=I+(D^(k|~F))+R[8]+1873313359&4294967295,I=k+(P<<6&4294967295|P>>>26),P=F+(k^(I|~D))+R[15]+4264355552&4294967295,F=I+(P<<10&4294967295|P>>>22),P=D+(I^(F|~k))+R[6]+2734768916&4294967295,D=F+(P<<15&4294967295|P>>>17),P=k+(F^(D|~I))+R[13]+1309151649&4294967295,k=D+(P<<21&4294967295|P>>>11),P=I+(D^(k|~F))+R[4]+4149444226&4294967295,I=k+(P<<6&4294967295|P>>>26),P=F+(k^(I|~D))+R[11]+3174756917&4294967295,F=I+(P<<10&4294967295|P>>>22),P=D+(I^(F|~k))+R[2]+718787259&4294967295,D=F+(P<<15&4294967295|P>>>17),P=k+(F^(D|~I))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var k=I-this.blockSize,R=this.B,D=this.h,F=0;F<I;){if(D==0)for(;F<=k;)o(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<I;)if(R[D++]=S.charCodeAt(F++),D==this.blockSize){o(this,R),D=0;break}}else for(;F<I;)if(R[D++]=S[F++],D==this.blockSize){o(this,R),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var k=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=k&255,k/=256;for(this.u(S),S=Array(16),I=k=0;4>I;++I)for(var R=0;32>R;R+=8)S[k++]=this.g[I]>>>R&255;return S};function a(S,I){var k=h;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=I(S)}function c(S,I){this.h=I;for(var k=[],R=!0,D=S.length-1;0<=D;D--){var F=S[D]|0;R&&F==I||(k[D]=F,R=!1)}this.g=k}var h={};function f(S){return-128<=S&&128>S?a(S,function(I){return new c([I|0],0>I?-1:0)}):new c([S|0],0>S?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return b;if(0>S)return O(y(-S));for(var I=[],k=1,R=0;S>=k;R++)I[R]=S/k|0,k*=4294967296;return new c(I,0)}function v(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return O(v(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(I,8)),R=b,D=0;D<S.length;D+=8){var F=Math.min(8,S.length-D),P=parseInt(S.substring(D,D+F),I);8>F?(F=y(Math.pow(I,F)),R=R.j(F).add(y(P))):(R=R.j(k),R=R.add(y(P)))}return R}var b=f(0),T=f(1),A=f(16777216);t=c.prototype,t.m=function(){if($(this))return-O(this).m();for(var S=0,I=1,k=0;k<this.g.length;k++){var R=this.i(k);S+=(0<=R?R:4294967296+R)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if($(this))return"-"+O(this).toString(S);for(var I=y(Math.pow(S,6)),k=this,R="";;){var D=Q(k,I).g;k=W(k,D.j(I));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=D,L(k))return F+R;for(;6>F.length;)F="0"+F;R=F+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function $(S){return S.h==-1}t.l=function(S){return S=W(this,S),$(S)?-1:L(S)?0:1};function O(S){for(var I=S.g.length,k=[],R=0;R<I;R++)k[R]=~S.g[R];return new c(k,~S.h).add(T)}t.abs=function(){return $(this)?O(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],R=0,D=0;D<=I;D++){var F=R+(this.i(D)&65535)+(S.i(D)&65535),P=(F>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);R=P>>>16,F&=65535,P&=65535,k[D]=P<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function W(S,I){return S.add(O(I))}t.j=function(S){if(L(this)||L(S))return b;if($(this))return $(S)?O(this).j(O(S)):O(O(this).j(S));if($(S))return O(this.j(O(S)));if(0>this.l(A)&&0>S.l(A))return y(this.m()*S.m());for(var I=this.g.length+S.g.length,k=[],R=0;R<2*I;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<S.g.length;D++){var F=this.i(R)>>>16,P=this.i(R)&65535,Me=S.i(D)>>>16,xe=S.i(D)&65535;k[2*R+2*D]+=P*xe,M(k,2*R+2*D),k[2*R+2*D+1]+=F*xe,M(k,2*R+2*D+1),k[2*R+2*D+1]+=P*Me,M(k,2*R+2*D+1),k[2*R+2*D+2]+=F*Me,M(k,2*R+2*D+2)}for(R=0;R<I;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=I;R<2*I;R++)k[R]=0;return new c(k,0)};function M(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function z(S,I){this.g=S,this.h=I}function Q(S,I){if(L(I))throw Error("division by zero");if(L(S))return new z(b,b);if($(S))return I=Q(O(S),I),new z(O(I.g),O(I.h));if($(I))return I=Q(S,O(I)),new z(O(I.g),I.h);if(30<S.g.length){if($(S)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var k=T,R=I;0>=R.l(S);)k=ie(k),R=ie(R);var D=J(k,1),F=J(R,1);for(R=J(R,2),k=J(k,2);!L(R);){var P=F.add(R);0>=P.l(S)&&(D=D.add(k),F=P),R=J(R,1),k=J(k,1)}return I=W(S,D.j(I)),new z(D,I)}for(D=b;0<=S.l(I);){for(k=Math.max(1,Math.floor(S.m()/I.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),F=y(k),P=F.j(I);$(P)||0<P.l(S);)k-=R,F=y(k),P=F.j(I);L(F)&&(F=T),D=D.add(F),S=W(S,P)}return new z(D,S)}t.A=function(S){return Q(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)&S.i(R);return new c(k,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)|S.i(R);return new c(k,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)^S.i(R);return new c(k,this.h^S.h)};function ie(S){for(var I=S.g.length+1,k=[],R=0;R<I;R++)k[R]=S.i(R)<<1|S.i(R-1)>>>31;return new c(k,S.h)}function J(S,I){var k=I>>5;I%=32;for(var R=S.g.length-k,D=[],F=0;F<R;F++)D[F]=0<I?S.i(F+k)>>>I|S.i(F+k+1)<<32-I:S.i(F+k);return new c(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,yo=c}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zb,Wc,e1,dh,lg,t1,n1,r1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,g){if(g)e:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var H=u[x];if(!(H in _))break e;_=_[H]}u=u[u.length-1],x=_[u],g=g(x),g!=x&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,x=!1,H={next:function(){if(!x&&_<u.length){var X=_++;return{value:g(X,u[X]),done:!1}}return x=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function b(u,g,_){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,x),u.apply(g,H)}}return function(){return u.apply(g,arguments)}}function T(u,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function A(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function L(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(x,H,X){for(var pe=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)pe[vt-2]=arguments[vt];return g.prototype[H].apply(x,pe)}}function $(u){const g=u.length;if(0<g){const _=Array(g);for(let x=0;x<g;x++)_[x]=u[x];return _}return[]}function O(u,g){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(f(x)){const H=u.length||0,X=x.length||0;u.length=H+X;for(let pe=0;pe<X;pe++)u[H+pe]=x[pe]}else u.push(x)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var ie=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(u,g,_){for(const x in u)g.call(_,u[x],x,u)}function S(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function I(u){const g={};for(const _ in u)g[_]=u[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let _,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(_ in x)u[_]=x[_];for(let X=0;X<k.length;X++)_=k[X],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function D(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function P(){var u=se;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Me{constructor(){this.h=this.g=null}add(g,_){const x=xe.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var xe=new W(()=>new He,u=>u.reset());class He{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,Z=!1,se=new Me,te=()=>{const u=h.Promise.resolve(void 0);ke=()=>{u.then(j)}};var j=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){F(_)}var g=xe;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Z=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var ne=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u})();function ce(u,g){if(B.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ie){e:{try{Q(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ce.aa.h.call(this)}}L(ce,B);var ae={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),me=0;function ye(u,g,_,x,H){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=H,this.key=++me,this.da=this.fa=!1}function Ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Be(u){this.src=u,this.g={},this.h=0}Be.prototype.add=function(u,g,_,x,H){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var pe=Un(u,g,x,H);return-1<pe?(g=u[pe],_||(g.fa=!1)):(g=new ye(g,this.src,X,!!x,H),g.fa=_,u.push(g)),g};function Je(u,g){var _=g.type;if(_ in u.g){var x=u.g[_],H=Array.prototype.indexOf.call(x,g,void 0),X;(X=0<=H)&&Array.prototype.splice.call(x,H,1),X&&(Ke(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Un(u,g,_,x){for(var H=0;H<u.length;++H){var X=u[H];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==x)return H}return-1}var Bn="closure_lm_"+(1e6*Math.random()|0),fr={};function Jr(u,g,_,x,H){if(Array.isArray(g)){for(var X=0;X<g.length;X++)Jr(u,g[X],_,x,H);return null}return _=nt(_),u&&u[ge]?u.K(g,_,y(x)?!!x.capture:!1,H):$e(u,g,_,!1,x,H)}function $e(u,g,_,x,H,X){if(!g)throw Error("Invalid event type");var pe=y(H)?!!H.capture:!!H,vt=Qe(u);if(vt||(u[Bn]=vt=new Be(u)),_=vt.add(g,_,x,pe,X),_.proxy)return _;if(x=Ee(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)ne||(H=pe),H===void 0&&(H=!1),u.addEventListener(g.toString(),x,H);else if(u.attachEvent)u.attachEvent(We(g.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ee(){function u(_){return g.call(u.src,u.listener,_)}const g=_t;return u}function at(u,g,_,x,H){if(Array.isArray(g))for(var X=0;X<g.length;X++)at(u,g[X],_,x,H);else x=y(x)?!!x.capture:!!x,_=nt(_),u&&u[ge]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],_=Un(X,_,x,H),-1<_&&(Ke(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=Qe(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Un(g,_,x,H)),(_=-1<u?g[u]:null)&&Oe(_))}function Oe(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ge])Je(g.i,u);else{var _=u.type,x=u.proxy;g.removeEventListener?g.removeEventListener(_,x,u.capture):g.detachEvent?g.detachEvent(We(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=Qe(g))?(Je(_,u),_.h==0&&(_.src=null,g[Bn]=null)):Ke(u)}}}function We(u){return u in fr?fr[u]:fr[u]="on"+u}function _t(u,g){if(u.da)u=!0;else{g=new ce(g,this);var _=u.listener,x=u.ha||u.src;u.fa&&Oe(u),u=_.call(x,g)}return u}function Qe(u){return u=u[Bn],u instanceof Be?u:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function nt(u){return typeof u=="function"?u:(u[tt]||(u[tt]=function(g){return u.handleEvent(g)}),u[tt])}function rt(){G.call(this),this.i=new Be(this),this.M=this,this.F=null}L(rt,G),rt.prototype[ge]=!0,rt.prototype.removeEventListener=function(u,g,_,x){at(this,u,g,_,x)};function Et(u,g){var _,x=u.F;if(x)for(_=[];x;x=x.F)_.push(x);if(u=u.M,x=g.type||g,typeof g=="string")g=new B(g,u);else if(g instanceof B)g.target=g.target||u;else{var H=g;g=new B(x,u),R(g,H)}if(H=!0,_)for(var X=_.length-1;0<=X;X--){var pe=g.g=_[X];H=pr(pe,x,!0,g)&&H}if(pe=g.g=u,H=pr(pe,x,!0,g)&&H,H=pr(pe,x,!1,g)&&H,_)for(X=0;X<_.length;X++)pe=g.g=_[X],H=pr(pe,x,!1,g)&&H}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],x=0;x<_.length;x++)Ke(_[x]);delete u.g[g],u.h--}}this.F=null},rt.prototype.K=function(u,g,_,x){return this.i.add(String(u),g,!1,_,x)},rt.prototype.L=function(u,g,_,x){return this.i.add(String(u),g,!0,_,x)};function pr(u,g,_,x){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,X=0;X<g.length;++X){var pe=g[X];if(pe&&!pe.da&&pe.capture==_){var vt=pe.listener,an=pe.ha||pe.src;pe.fa&&Je(u.i,pe),H=vt.call(an,x)!==!1&&H}}return H&&!x.defaultPrevented}function Po(u,g,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function gs(u){u.g=Po(()=>{u.g=null,u.i&&(u.i=!1,gs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class ys extends G{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(u){G.call(this),this.h=u,this.g={}}L(ws,G);var Ao=[];function No(u){J(u.g,function(g,_){this.g.hasOwnProperty(_)&&Oe(g)},u),u.g={}}ws.prototype.N=function(){ws.aa.N.call(this),No(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=h.JSON.stringify,Do=h.JSON.parse,Oo=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Ws(){}Ws.prototype.h=null;function Gs(u){return u.h||(u.h=u.i())}function Ri(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){B.call(this,"d")}L(mr,B);function Rr(){B.call(this,"c")}L(Rr,B);var Pr={},jo=null;function vs(){return jo=jo||new rt}Pr.La="serverreachability";function Pi(u){B.call(this,Pr.La,u)}L(Pi,B);function Ar(u){const g=vs();Et(g,new Pi(g))}Pr.STAT_EVENT="statevent";function Ai(u,g){B.call(this,Pr.STAT_EVENT,u),this.stat=g}L(Ai,B);function Ot(u){const g=vs();Et(g,new Ai(g,u))}Pr.Ma="timingevent";function Ks(u,g){B.call(this,Pr.Ma,u),this.size=g}L(Ks,B);function Yn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function Js(u,g,_,x,H,X){u.info(function(){if(u.g)if(X)for(var pe="",vt=X.split("&"),an=0;an<vt.length;an++){var ct=vt[an].split("=");if(1<ct.length){var fn=ct[0];ct=ct[1];var Zt=fn.split("_");pe=2<=Zt.length&&Zt[1]=="type"?pe+(fn+"="+ct+"&"):pe+(fn+"=redacted&")}}else pe=null;else pe=X;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+g+`
`+_+`
`+pe})}function Ni(u,g,_,x,H,X,pe){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+g+`
`+_+`
`+X+" "+pe})}function Yt(u,g,_,x){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Lo(u,_)+(x?" "+x:"")})}function _n(u,g){u.info(function(){return"TIMEOUT: "+g})}_s.prototype.info=function(){};function Lo(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var x=_[u];if(!(2>x.length)){var H=x[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var pe=1;pe<H.length;pe++)H[pe]=""}}}}return ki(_)}catch{return g}}var Qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bt;function Xn(){}L(Xn,Ws),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Bt=new Xn;function gr(u,g,_,x){this.j=u,this.i=g,this.l=_,this.R=x||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var Di={},Qr={};function Ys(u,g,_){u.L=1,u.v=Li(Xt(g)),u.m=_,u.P=!0,Vo(u,null)}function Vo(u,g){u.F=Date.now(),bt(u),u.A=Xt(u.v);var _=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),Vi(_.i,"t",x),u.C=0,_=u.j.J,u.h=new Nr,u.g=Xu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new ys(T(u.Y,u,u.g),u.O)),g=u.U,_=u.g,x=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ao[0]=H.toString()),H=Ao);for(var X=0;X<H.length;X++){var pe=Jr(_,H[X],x||g.handleEvent,!1,g.h||g);if(!pe)break;g.g[pe.key]=pe}g=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ar(),Js(u.i,u.u,u.A,u.l,u.R,u.m)}gr.prototype.ca=function(u){u=u.target;const g=this.M;g&&tr(u)==3?g.j():this.Y(u)},gr.prototype.Y=function(u){try{if(u==this.g)e:{const Zt=tr(this.g);var g=this.g.Ba();const Or=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||Zt!=4||g==7||(g==8||0>=Or?Ar(3):Ar(2)),yr(this);var _=this.g.Z();this.X=_;t:if(Oa(this)){var x=hc(this.g);u="";var H=x.length,X=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Es(this);var pe="";break t}this.h.i=new h.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,u+=this.h.i.decode(x[g],{stream:!(X&&g==H-1)});x.length=0,this.h.g+=u,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,Ni(this.i,this.u,this.A,this.l,this.R,Zt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,an=this.g;if((vt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(vt)){var ct=vt;break t}}ct=null}if(_=ct)Yt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,_);else{this.o=!1,this.s=3,Ot(12),Zn(this),Es(this);break e}}if(this.P){_=!0;let _r;for(;!this.J&&this.C<pe.length;)if(_r=lc(this,pe),_r==Qr){Zt==4&&(this.s=4,Ot(14),_=!1),Yt(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Di){this.s=4,Ot(15),Yt(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else Yt(this.i,this.l,_r,null),Fo(this,_r);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||pe.length!=0||this.h.h||(this.s=1,Ot(16),_=!1),this.o=this.o&&_,!_)Yt(this.i,this.l,pe,"[Invalid Chunked Response]"),Zn(this),Es(this);else if(0<pe.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),pc(fn),fn.M=!0,Ot(11))}}else Yt(this.i,this.l,pe,null),Fo(this,pe);Zt==4&&Zn(this),this.o&&!this.J&&(Zt==4?Ga(this.j,this):(this.o=!1,bt(this)))}else Ba(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Zn(this),Es(this)}}}catch{}finally{}};function Oa(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function lc(u,g){var _=u.C,x=g.indexOf(`
`,_);return x==-1?Qr:(_=Number(g.substring(_,x)),isNaN(_)?Di:(x+=1,x+_>g.length?Qr:(g=g.slice(x,x+_),u.C=x+_,g)))}gr.prototype.cancel=function(){this.J=!0,Zn(this)};function bt(u){u.S=Date.now()+u.I,Wt(u,u.I)}function Wt(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yn(T(u.ba,u),g)}function yr(u){u.B&&(h.clearTimeout(u.B),u.B=null)}gr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_n(this.i,this.A),this.L!=2&&(Ar(),Ot(17)),Zn(this),this.s=2,Es(this)):Wt(this,this.S-u)};function Es(u){u.j.G==0||u.J||Ga(u.j,u)}function Zn(u){yr(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,No(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Fo(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||zt(_.h,u))){if(!u.K&&zt(_.h,u)&&_.G==3){try{var x=_.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Wa(_),ts(_);else break e;qa(_),Ot(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yn(T(_.Za,_),6e3));if(1>=La(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ni(_,11)}else if((u.K||_.g==u)&&Wa(_),!M(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let ct=H[g];if(_.T=ct[0],ct=ct[1],_.G==2)if(ct[0]=="c"){_.K=ct[1],_.ia=ct[2];const fn=ct[3];fn!=null&&(_.la=fn,_.j.info("VER="+_.la));const Zt=ct[4];Zt!=null&&(_.Aa=Zt,_.j.info("SVER="+_.Aa));const Or=ct[5];Or!=null&&typeof Or=="number"&&0<Or&&(x=1.5*Or,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const _r=u.g;if(_r){const Ho=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var X=x.h;X.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&($o(X,X.h),X.h=null))}if(x.D){const Ja=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(x.ya=Ja,Tt(x.I,x.D,Ja))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var pe=u;if(x.qa=Yu(x,x.J?x.ia:null,x.W),pe.K){Ma(x.h,pe);var vt=pe,an=x.L;an&&(vt.I=an),vt.B&&(yr(vt),bt(vt)),x.g=pe}else zo(x);0<_.i.length&&Is(_)}else ct[0]!="stop"&&ct[0]!="close"||ni(_,7);else _.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ni(_,7):bn(_):ct[0]!="noop"&&_.l&&_.l.ta(ct),_.v=0)}}Ar(4)}catch{}}var ja=class{constructor(u,g){this.g=u,this.map=g}};function Xs(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function La(u){return u.h?1:u.g?u.g.size:0}function zt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function $o(u,g){u.g?u.g.add(g):u.h=g}function Ma(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Xs.prototype.cancel=function(){if(this.i=Va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Va(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return $(u.i)}function Re(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],_=u.length,x=0;x<_;x++)g.push(u[x]);return g}g=[],_=0;for(x in u)g[_++]=u[x];return g}function Xe(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const x in u)g[_++]=x;return g}}}function jt(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Xe(u),x=Re(u),H=x.length,X=0;X<H;X++)g.call(void 0,x[X],_&&_[X],u)}var on=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function je(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var x=u[_].indexOf("="),H=null;if(0<=x){var X=u[_].substring(0,x);H=u[_].substring(x+1)}else X=u[_];g(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function wr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof wr){this.h=u.h,Rn(this,u.j),this.o=u.o,this.g=u.g,Oi(this,u.s),this.l=u.l;var g=u.i,_=new bs;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ji(this,_),this.m=u.m}else u&&(g=String(u).match(on))?(this.h=!1,Rn(this,g[1]||"",!0),this.o=lt(g[2]||""),this.g=lt(g[3]||"",!0),Oi(this,g[4]),this.l=lt(g[5]||"",!0),ji(this,g[6]||"",!0),this.m=lt(g[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}wr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Mi(g,Fa,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Mi(g,Fa,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Mi(_,_.charAt(0)=="/"?zu:Bu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Mi(_,cc)),u.join("")};function Xt(u){return new wr(u)}function Rn(u,g,_){u.j=_?lt(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Oi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ji(u,g,_){g instanceof bs?(u.i=g,Cs(u.i,u.h)):(_||(g=Mi(g,Hu)),u.i=new bs(g,u.h))}function Tt(u,g,_){u.i.set(g,_)}function Li(u){return Tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function lt(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mi(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Uu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Uu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fa=/[#\/\?@]/g,Bu=/[#\?:]/g,zu=/[#\?]/g,Hu=/[#\?@]/g,cc=/#/g;function bs(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&je(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=bs.prototype,t.add=function(u,g){En(this),this.i=null,u=Dr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Yr(u,g){En(u),g=Dr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Xr(u,g){return En(u),g=Dr(u,g),u.g.has(g)}t.forEach=function(u,g){En(this),this.g.forEach(function(_,x){_.forEach(function(H){u.call(g,H,x,this)},this)},this)},t.na=function(){En(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let x=0;x<g.length;x++){const H=u[x];for(let X=0;X<H.length;X++)_.push(g[x])}return _},t.V=function(u){En(this);let g=[];if(typeof u=="string")Xr(this,u)&&(g=g.concat(this.g.get(Dr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},t.set=function(u,g){return En(this),this.i=null,u=Dr(this,u),Xr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Vi(u,g,_){Yr(u,g),0<_.length&&(u.i=null,u.g.set(Dr(u,g),$(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var x=g[_];const X=encodeURIComponent(String(x)),pe=this.V(x);for(x=0;x<pe.length;x++){var H=X;pe[x]!==""&&(H+="="+encodeURIComponent(String(pe[x]))),u.push(H)}}return this.i=u.join("&")};function Dr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Cs(u,g){g&&!u.j&&(En(u),u.i=null,u.g.forEach(function(_,x){var H=x.toLowerCase();x!=H&&(Yr(this,x),Vi(this,H,_))},u)),u.j=g}function Zf(u,g){const _=new _s;if(h.Image){const x=new Image;x.onload=A(er,_,"TestLoadImage: loaded",!0,g,x),x.onerror=A(er,_,"TestLoadImage: error",!1,g,x),x.onabort=A(er,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=A(er,_,"TestLoadImage: timeout",!1,g,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else g(!1)}function qu(u,g){const _=new _s,x=new AbortController,H=setTimeout(()=>{x.abort(),er(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:x.signal}).then(X=>{clearTimeout(H),X.ok?er(_,"TestPingServer: ok",!0,g):er(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),er(_,"TestPingServer: error",!1,g)})}function er(u,g,_,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(_)}catch{}}function ep(){this.g=new Oo}function Wu(u,g,_){const x=_||"";try{jt(u,function(H,X){let pe=H;y(H)&&(pe=ki(H)),g.push(x+X+"="+encodeURIComponent(pe))})}catch(H){throw g.push(x+"type="+encodeURIComponent("_badmap")),H}}function Zs(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Zs,Ws),Zs.prototype.g=function(){return new Uo(this.l,this.j)},Zs.prototype.i=(function(u){return function(){return u}})({});function Uo(u,g){rt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Uo,rt),t=Uo.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,es(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Zr(this):es(this),this.readyState==3&&Gu(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Zr(this))},t.Qa=function(u){this.g&&(this.response=u,Zr(this))},t.ga=function(){this.g&&Zr(this)};function Zr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,es(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function es(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ei(u){let g="";return J(u,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function Fi(u,g,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=ei(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Tt(u,g,_))}function Lt(u){rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Lt,rt);var tp=/^https?$/i,uc=["POST","PUT"];t=Lt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bt.g(),this.v=this.o?Gs(this.o):Gs(Bt),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){Bo(this,X);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)_.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())_.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(uc,g,void 0))||x||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,pe]of _)this.g.setRequestHeader(X,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){Bo(this,X)}};function Bo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,$a(u),vr(u)}function $a(u){u.A||(u.A=!0,Et(u,"complete"),Et(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Et(this,"complete"),Et(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dc(this):this.bb())},t.bb=function(){dc(this)};function dc(u){if(u.h&&typeof c<"u"&&(!u.v[1]||tr(u)!=4||u.Z()!=2)){if(u.u&&tr(u)==4)Po(u.Ea,0,u);else if(Et(u,"readystatechange"),tr(u)==4){u.h=!1;try{const pe=u.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var x;if(x=pe===0){var H=String(u.D).match(on)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),x=!tp.test(H?H.toLowerCase():"")}_=x}if(_)Et(u,"complete"),Et(u,"success");else{u.m=6;try{var X=2<tr(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",$a(u)}}finally{vr(u)}}}}function vr(u,g){if(u.g){Ua(u);const _=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Et(u,"ready");try{_.onreadystatechange=x}catch{}}}function Ua(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function tr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Do(g)}};function hc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ba(u){const g={};u=(u.g&&2<=tr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(M(u[x]))continue;var _=D(u[x]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[H]||[];g[H]=X,X.push(_)}S(g,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function fc(u){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,u),this.cb=Ts("retryDelaySeedMs",1e4,u),this.Wa=Ts("forwardChannelMaxRetries",2,u),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(u&&u.concurrentRequestLimit),this.Da=new ep,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fc.prototype,t.la=8,t.G=1,t.connect=function(u,g,_,x){Ot(0),this.W=u,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Yu(this,null,this.W),Is(this)};function bn(u){if(za(u),u.G==3){var g=u.U++,_=Xt(u.I);if(Tt(_,"SID",u.K),Tt(_,"RID",g),Tt(_,"TYPE","terminate"),ti(u,_),g=new gr(u,u.j,g),g.L=2,g.v=Li(Xt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Xu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),bt(g)}Qu(u)}function ts(u){u.g&&(pc(u),u.g.cancel(),u.g=null)}function za(u){ts(u),u.u&&(h.clearTimeout(u.u),u.u=null),Wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Is(u){if(!Hn(u.h)&&!u.s){u.s=!0;var g=u.Ga;ke||te(),Z||(ke(),Z=!0),se.add(g,u),u.B=0}}function np(u,g){return La(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yn(T(u.Ga,u,g),Ju(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new gr(this,this.j,u);let X=this.o;if(this.S&&(X?(X=I(X),R(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=$i(this,H,g),_=Xt(this.I),Tt(_,"RID",u),Tt(_,"CVER",22),this.D&&Tt(_,"X-HTTP-Session-Id",this.D),ti(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(ei(X)))+"&"+g:this.m&&Fi(_,this.m,X)),$o(this.h,H),this.Ua&&Tt(_,"TYPE","init"),this.P?(Tt(_,"$req",g),Tt(_,"SID","null"),H.T=!0,Ys(H,_,null)):Ys(H,_,g),this.G=2}}else this.G==3&&(u?Ha(this,u):this.i.length==0||Hn(this.h)||Ha(this))};function Ha(u,g){var _;g?_=g.l:_=u.U++;const x=Xt(u.I);Tt(x,"SID",u.K),Tt(x,"RID",_),Tt(x,"AID",u.T),ti(u,x),u.m&&u.o&&Fi(x,u.m,u.o),_=new gr(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=$i(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$o(u.h,_),Ys(_,x,g)}function ti(u,g){u.H&&J(u.H,function(_,x){Tt(g,x,_)}),u.l&&jt({},function(_,x){Tt(g,x,_)})}function $i(u,g,_){_=Math.min(u.i.length,_);var x=u.l?T(u.l.Na,u.l,u):null;e:{var H=u.i;let X=-1;for(;;){const pe=["count="+_];X==-1?0<_?(X=H[0].g,pe.push("ofs="+X)):X=0:pe.push("ofs="+X);let vt=!0;for(let an=0;an<_;an++){let ct=H[an].g;const fn=H[an].map;if(ct-=X,0>ct)X=Math.max(0,H[an].g-100),vt=!1;else try{Wu(fn,pe,"req"+ct+"_")}catch{x&&x(fn)}}if(vt){x=pe.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,x}function zo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ke||te(),Z||(ke(),Z=!0),se.add(g,u),u.v=0}}function qa(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yn(T(u.Fa,u),Ju(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yn(T(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),ts(this),Ku(this))};function pc(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Ku(u){u.g=new gr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Xt(u.qa);Tt(g,"RID","rpc"),Tt(g,"SID",u.K),Tt(g,"AID",u.T),Tt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Tt(g,"TO",u.ja),Tt(g,"TYPE","xmlhttp"),ti(u,g),u.m&&u.o&&Fi(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Li(Xt(g)),_.m=null,_.P=!0,Vo(_,u)}t.Za=function(){this.C!=null&&(this.C=null,ts(this),qa(this),Ot(19))};function Wa(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Ga(u,g){var _=null;if(u.g==g){Wa(u),pc(u),u.g=null;var x=2}else if(zt(u.h,g))_=g.D,Ma(u.h,g),x=1;else return;if(u.G!=0){if(g.o)if(x==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=u.B;x=vs(),Et(x,new Ks(x,_)),Is(u)}else zo(u);else if(H=g.s,H==3||H==0&&0<g.X||!(x==1&&np(u,g)||x==2&&qa(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),H){case 1:ni(u,5);break;case 4:ni(u,10);break;case 3:ni(u,6);break;default:ni(u,2)}}}function Ju(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function ni(u,g){if(u.j.info("Error code "+g),g==2){var _=T(u.fb,u),x=u.Xa;const H=!x;x=new wr(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Rn(x,"https"),Li(x),H?Zf(x.toString(),_):qu(x.toString(),_)}else Ot(2);u.G=0,u.l&&u.l.sa(g),Qu(u),za(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Qu(u){if(u.G=0,u.ka=[],u.l){const g=Va(u.h);(g.length!=0||u.i.length!=0)&&(O(u.ka,g),O(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Yu(u,g,_){var x=_ instanceof wr?Xt(_):new wr(_);if(x.g!="")g&&(x.g=g+"."+x.g),Oi(x,x.s);else{var H=h.location;x=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var X=new wr(null);x&&Rn(X,x),g&&(X.g=g),H&&Oi(X,H),_&&(X.l=_),x=X}return _=u.D,g=u.ya,_&&g&&Tt(x,_,g),Tt(x,"VER",u.la),ti(u,x),x}function Xu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Lt(new Zs({eb:_})):new Lt(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}t=mc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ka(){}Ka.prototype.g=function(u,g){return new qn(u,g)};function qn(u,g){rt.call(this),this.g=new fc(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!M(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ss(this)}L(qn,rt),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){bn(this.g)},qn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ki(u),u=_);g.i.push(new ja(g.Ya++,u)),g.G==3&&Is(g)},qn.prototype.N=function(){this.g.l=null,delete this.j,bn(this.g),delete this.g,qn.aa.N.call(this)};function Zu(u){mr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}L(Zu,mr);function ed(){Rr.call(this),this.status=1}L(ed,Rr);function Ss(u){this.g=u}L(Ss,mc),Ss.prototype.ua=function(){Et(this.g,"a")},Ss.prototype.ta=function(u){Et(this.g,new Zu(u))},Ss.prototype.sa=function(u){Et(this.g,new ed)},Ss.prototype.ra=function(){Et(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,r1=function(){return new Ka},n1=function(){return vs()},t1=Pr,lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,dh=Qs,Mo.COMPLETE="complete",e1=Mo,Ri.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Wc=Ri,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Zb=Lt}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const u0="@firebase/firestore",d0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Hg("@firebase/firestore");function wl(){return ya.logLevel}function _e(t,...e){if(ya.logLevel<=st.DEBUG){const n=e.map(ry);ya.debug(`Firestore (${Jl}): ${t}`,...n)}}function bi(t,...e){if(ya.logLevel<=st.ERROR){const n=e.map(ry);ya.error(`Firestore (${Jl}): ${t}`,...n)}}function Rl(t,...e){if(ya.logLevel<=st.WARN){const n=e.map(ry);ya.warn(`Firestore (${Jl}): ${t}`,...n)}}function ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,s1(t,r,n)}function s1(t,e,n){let r=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function wt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||s1(e,o,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jn.UNAUTHENTICATED)))}shutdown(){}}class DP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OP{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new i1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class jP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=VP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function cg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),a=e.charAt(r);if(o!==a)return Om(o)===Om(a)?it(o,a):Om(o)?1:-1}return it(t.length,e.length)}const FP=55296,$P=57343;function Om(t){const e=t.charCodeAt(0);return e>=FP&&e<=$P}function Pl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=As.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return it(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),o=As.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?As.extractNumericId(e).compare(As.extractNumericId(n)):cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class St extends As{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const UP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends As{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return UP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new Sn([f0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(a(),o++)}if(a(),c)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(St.fromString(e))}static fromName(e){return new Se(St.fromString(e).popFirst(5))}static empty(){return new Se(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e,n){if(!n)throw new we(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BP(t,e,n,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p0(t){if(!Se.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m0(t){if(Se.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function a1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(t);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Iu(t,e){if(!a1(t))throw new we(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new we(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=-62135596800,y0=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*y0);return new Nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<g0)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y0}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:sn("string",Nt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Nt(0,0))}static max(){return new ze(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function zP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Eo(o,Se.empty(),e)}function HP(t){return new Eo(t.readTime,t.key,lu)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(ze.min(),Se.empty(),lu)}static max(){return new Eo(ze.max(),Se.empty(),lu)}}function qP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==WP)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&n()}),(f=>r(f)))})),c=!0,a===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((o=>o?oe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,a)=>{r.push(n.call(this,o,a))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const y=f;n(e[y]).next((v=>{c[y]=v,++h,h===a&&r(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new oe(((r,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):r()};a()}))}}function KP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function vf(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function JP(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="";function QP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=w0(e)),e=YP(t.get(n),e);return w0(e)}function YP(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case l1:n+="";break;default:n+=a}}return n}function w0(t){return t+l1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??In.RED,this.left=o??In.EMPTY,this.right=a??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new In(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return In.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new dn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new u1("Invalid base64 string: "+a):a}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const XP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=XP.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",h1="__type__",f1="__previous_value__",p1="__local_write_time__";function oy(t){return(t?.mapValue?.fields||{})[h1]?.stringValue===d1}function _f(t){const e=t.mapValue.fields[f1];return oy(e)?_f(e):e}function cu(t){const e=bo(t.mapValue.fields[p1].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r,o,a,c,h,f,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=v}}const jh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__type__",eA="__max__",Yd={mapValue:{}},g1="__vector__",Lh="value";function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oy(t)?4:nA(t)?9007199254740991:tA(t)?10:11:Fe(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=bo(o.timestampValue),h=bo(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return Co(o.bytesValue).isEqual(Co(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Jt(o.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(o.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Jt(o.integerValue)===Jt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Jt(o.doubleValue),h=Jt(a.doubleValue);return c===h?Oh(c)===Oh(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(v0(c)!==v0(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Us(c[f],h[f])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function du(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function Al(t,e){if(t===e)return 0;const n=To(t),r=To(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=Jt(a.integerValue||a.doubleValue),f=Jt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return E0(t.timestampValue,e.timestampValue);case 4:return E0(cu(t),cu(e));case 5:return cg(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=Co(a),f=Co(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let y=0;y<h.length&&y<f.length;y++){const v=it(h[y],f[y]);if(v!==0)return v}return it(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=it(Jt(a.latitude),Jt(c.latitude));return h!==0?h:it(Jt(a.longitude),Jt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return b0(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},f=c.fields||{},y=h[Lh]?.arrayValue,v=f[Lh]?.arrayValue,b=it(y?.values?.length||0,v?.values?.length||0);return b!==0?b:b0(y,v)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Yd.mapValue&&c===Yd.mapValue)return 0;if(a===Yd.mapValue)return 1;if(c===Yd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),y=c.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const T=cg(f[b],v[b]);if(T!==0)return T;const A=Al(h[f[b]],y[v[b]]);if(A!==0)return A}return it(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function E0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=bo(t),r=bo(e),o=it(n.seconds,r.seconds);return o!==0?o:it(n.nanos,r.nanos)}function b0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Al(n[o],r[o]);if(a)return a}return it(n.length,r.length)}function Nl(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Co(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=ug(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${ug(n.fields[c])}`;return o+"}"})(t.mapValue):Fe(61005,{value:t})}function hh(t){switch(To(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(t);return e?16+hh(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+hh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return xo(r.fields,((a,c)=>{o+=a.length+hh(c)})),o})(t.mapValue);default:throw Fe(13486,{value:t})}}function C0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function ay(t){return!!t&&"arrayValue"in t}function T0(t){return!!t&&"nullValue"in t}function I0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fh(t){return!!t&&"mapValue"in t}function tA(t){return(t?.mapValue?.fields||{})[m1]?.stringValue===g1}function Zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return{...t}}function nA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=Sn.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=h.popLast()}c?r[h.lastSegment()]=Zc(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){xo(n,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new cr(Zc(this.value))}}function y1(t){const e=[];return xo(t.fields,((n,r)=>{const o=new Sn([n]);if(fh(r)){const a=y1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,o,a,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Ln(e,0,ze.min(),ze.min(),ze.min(),cr.empty(),0)}static newFoundDocument(e,n,r,o){return new Ln(e,1,n,ze.min(),r,o,0)}static newNoDocument(e,n){return new Ln(e,2,n,ze.min(),ze.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,ze.min(),ze.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function S0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(c.referenceValue),n.key):r=Al(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function x0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{}class rn extends w1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iA(e,n,r):n==="array-contains"?new lA(e,r):n==="in"?new cA(e,r):n==="not-in"?new uA(e,r):n==="array-contains-any"?new dA(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oA(e,r):new aA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Al(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison(Al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends w1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return v1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function v1(t){return t.op==="and"}function _1(t){return sA(t)&&v1(t)}function sA(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function hg(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(_1(t))return t.filters.map((e=>hg(e))).join(",");{const e=t.filters.map((n=>hg(n))).join(",");return`${t.op}(${e})`}}function E1(t,e){return t instanceof rn?(function(r,o){return o instanceof rn&&r.op===o.op&&r.field.isEqual(o.field)&&Us(r.value,o.value)})(t,e):t instanceof ds?(function(r,o){return o instanceof ds&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,h)=>a&&E1(c,o.filters[h])),!0):!1})(t,e):void Fe(19439)}function b1(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`})(t):t instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"})(t):"Filter"}class iA extends rn{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class oA extends rn{constructor(e,n){super(e,"in",n),this.keys=C1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aA extends rn{constructor(e,n){super(e,"not-in",n),this.keys=C1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function C1(t,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class lA extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ay(n)&&du(n.arrayValue,this.value)}}class cA extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class uA extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class dA extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n=null,r=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function k0(t,e=null,n=[],r=[],o=null,a=null,c=null){return new hA(t,e,n,r,o,a,c)}function ly(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Nl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Nl(r))).join(",")),e.Te=n}return e.Te}function cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!E1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x0(t.startAt,e.startAt)&&x0(t.endAt,e.endAt)}function fg(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n=null,r=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fA(t,e,n,r,o,a,c,h){return new Su(t,e,n,r,o,a,c,h)}function Ef(t){return new Su(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T1(t){return t.collectionGroup!==null}function eu(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new dn(Sn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Vh(a,r))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new Vh(Sn.keyField(),r))}return e.Ie}function Ms(t){const e=qe(t);return e.Ee||(e.Ee=pA(e,eu(t))),e.Ee}function pA(t,e){if(t.limitType==="F")return k0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Vh(o.field,a)}));const n=t.endAt?new Mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mh(t.startAt.position,t.startAt.inclusive):null;return k0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pg(t,e){const n=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mg(t,e,n){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return cy(Ms(t),Ms(e))&&t.limitType===e.limitType}function I1(t){return`${ly(Ms(t))}|lt:${t.limitType}`}function vl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>b1(o))).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Nl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Nl(o))).join(",")),`Target(${r})`})(Ms(t))}; limitType=${t.limitType})`}function Cf(t,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,o){for(const a of eu(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,f){const y=S0(c,h,f);return c.inclusive?y<=0:y<0})(r.startAt,eu(r),o)||r.endAt&&!(function(c,h,f){const y=S0(c,h,f);return c.inclusive?y>=0:y>0})(r.endAt,eu(r),o))})(t,e)}function mA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S1(t){return(e,n)=>{let r=!1;for(const o of eu(t)){const a=gA(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function gA(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(a,c,h){const f=c.data.field(a),y=h.data.field(a);return f!==null&&y!==null?Al(f,y):Fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((n,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Ut(Se.comparator);function Ci(){return yA}const x1=new Ut(Se.comparator);function Gc(...t){let e=x1;for(const n of t)e=e.insert(n.key,n);return e}function k1(t){let e=x1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oa(){return tu()}function R1(){return tu()}function tu(){return new Sa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const wA=new Ut(Se.comparator),vA=new dn(Se.comparator);function ot(...t){let e=vA;for(const n of t)e=e.add(n);return e}const _A=new dn(it);function EA(){return _A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function P1(t){return{integerValue:""+t}}function A1(t,e){return JP(e)?P1(e):uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function bA(t,e,n){return t instanceof hu?(function(o,a){const c={fields:{[h1]:{stringValue:d1},[p1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&oy(a)&&(a=_f(a)),a&&(c.fields[f1]=a),{mapValue:c}})(n,e):t instanceof Dl?D1(t,e):t instanceof Ol?O1(t,e):(function(o,a){const c=N1(o,a),h=P0(c)+P0(o.Ae);return dg(c)&&dg(o.Ae)?P1(h):uy(o.serializer,h)})(t,e)}function CA(t,e,n){return t instanceof Dl?D1(t,e):t instanceof Ol?O1(t,e):n}function N1(t,e){return t instanceof fu?(function(r){return dg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class hu extends Tf{}class Dl extends Tf{constructor(e){super(),this.elements=e}}function D1(t,e){const n=j1(e);for(const r of t.elements)n.some((o=>Us(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ol extends Tf{constructor(e){super(),this.elements=e}}function O1(t,e){let n=j1(e);for(const r of t.elements)n=n.filter((o=>!Us(o,r)));return{arrayValue:{values:n}}}class fu extends Tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function P0(t){return Jt(t.integerValue||t.doubleValue)}function j1(t){return ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.field=e,this.transform=n}}function TA(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Dl&&o instanceof Dl||r instanceof Ol&&o instanceof Ol?Pl(r.elements,o.elements,Us):r instanceof fu&&o instanceof fu?Us(r.Ae,o.Ae):r instanceof hu&&o instanceof hu})(t.transform,e.transform)}class IA{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sf{}function L1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dy(t.key,zr.none()):new xu(t.key,t.data,zr.none());{const n=t.data,r=cr.empty();let o=new dn(Sn.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new ko(t.key,r,new Ir(o.toArray()),zr.none())}}function SA(t,e,n){t instanceof xu?(function(o,a,c){const h=o.value.clone(),f=N0(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ko?(function(o,a,c){if(!ph(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=N0(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(M1(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function nu(t,e,n,r){return t instanceof xu?(function(a,c,h,f){if(!ph(a.precondition,c))return h;const y=a.value.clone(),v=D0(a.fieldTransforms,f,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof ko?(function(a,c,h,f){if(!ph(a.precondition,c))return h;const y=D0(a.fieldTransforms,f,c),v=c.data;return v.setAll(M1(a)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,c,h){return ph(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function xA(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=N1(r.transform,o||null);a!=null&&(n===null&&(n=cr.empty()),n.set(r.field,a))}return n||null}function A0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Pl(r,o,((a,c)=>TA(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends Sf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ko extends Sf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function M1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function N0(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,h=e.data.field(a.field);r.set(a.field,CA(c,h,n[o]))}return r}function D0(t,e,n){const r=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);r.set(o.field,bA(a,c,e))}return r}class dy extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&SA(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=R1();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(o.key)?null:h;const f=L1(c,h);f!==null&&r.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,((n,r)=>A0(n,r)))&&Pl(this.baseMutations,e.baseMutations,((n,r)=>A0(n,r)))}}class hy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return wA})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new hy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,ut;function NA(t){switch(t){case re.OK:return Fe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function V1(t){if(t===void 0)return bi("GRPC error has no .code"),re.UNKNOWN;switch(t){case tn.OK:return re.OK;case tn.CANCELLED:return re.CANCELLED;case tn.UNKNOWN:return re.UNKNOWN;case tn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case tn.INTERNAL:return re.INTERNAL;case tn.UNAVAILABLE:return re.UNAVAILABLE;case tn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case tn.NOT_FOUND:return re.NOT_FOUND;case tn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case tn.ABORTED:return re.ABORTED;case tn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case tn.DATA_LOSS:return re.DATA_LOSS;default:return Fe(39323,{code:t})}}(ut=tn||(tn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new yo([4294967295,4294967295],0);function O0(t){const e=DA().encode(t),n=new Xb;return n.update(e),new Uint8Array(n.digest())}function j0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yo([n,r],0),new yo([o,a],0)]}class fy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kc(`Invalid padding: ${n}`);if(r<0)throw new Kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yo.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(yo.fromNumber(r)));return o.compare(OA)===1&&(o=new yo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=O0(e),[r,o]=j0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new fy(a,o,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=O0(e),[r,o]=j0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xf(ze.min(),o,new Ut(it),Ci(),ot())}}class ku{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class F1{constructor(e,n){this.targetId=e,this.Ce=n}}class $1{constructor(e,n,r=xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class L0{constructor(){this.ve=0,this.Fe=M0(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new ku(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=M0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=Xd(),this.He=Xd(),this.Ye=new Ut(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(fg(a))if(r===0){const c=new Se(a.path);this.et(n,c,Ln.newNoDocument(c,ze.min()))}else wt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let c,h;try{c=Co(r).toUint8Array()}catch(f){if(f instanceof u1)return Rl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new fy(c,o,a)}catch(f){return Rl(f instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&fg(h.target)){const f=new Se(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Ln.newNoDocument(f,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=ot();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const y=this.ot(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new xf(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=Xd(),this.He=Xd(),this.Ye=new Ut(it),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xd(){return new Ut(Se.comparator)}function M0(){return new Ut(Se.comparator)}const LA={asc:"ASCENDING",desc:"DESCENDING"},MA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VA={and:"AND",or:"OR"};class FA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gg(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $A(t,e){return Fh(t,e.toTimestamp())}function Vs(t){return wt(!!t,49232),ze.fromTimestamp((function(n){const r=bo(n);return new Nt(r.seconds,r.nanos)})(t))}function py(t,e){return yg(t,e).canonicalString()}function yg(t,e){const n=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function B1(t){const e=St.fromString(t);return wt(G1(e),10190,{key:e.toString()}),e}function wg(t,e){return py(t.databaseId,e.path)}function jm(t,e){const n=B1(e);if(n.get(1)!==t.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(H1(n))}function z1(t,e){return py(t.databaseId,e)}function UA(t){const e=B1(t);return e.length===4?St.emptyPath():H1(e)}function vg(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H1(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function V0(t,e,n){return{name:wg(t,e),fields:n.value.mapValue.fields}}function BA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Fe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,v){return y.useProto3Json?(wt(v===void 0||typeof v=="string",58123),xn.fromBase64String(v||"")):(wt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(y){const v=y.code===void 0?re.UNKNOWN:V1(y.code);return new we(v,y.message||"")})(c);n=new $1(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=jm(t,r.document.name),a=Vs(r.document.updateTime),c=r.document.createTime?Vs(r.document.createTime):ze.min(),h=new cr({mapValue:{fields:r.document.fields}}),f=Ln.newFoundDocument(o,a,c,h),y=r.targetIds||[],v=r.removedTargetIds||[];n=new mh(y,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=jm(t,r.document),a=r.readTime?Vs(r.readTime):ze.min(),c=Ln.newNoDocument(o,a),h=r.removedTargetIds||[];n=new mh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=jm(t,r.document),a=r.removedTargetIds||[];n=new mh([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new AA(o,a),h=r.targetId;n=new F1(h,c)}}return n}function zA(t,e){let n;if(e instanceof xu)n={update:V0(t,e.key,e.value)};else if(e instanceof dy)n={delete:wg(t,e.key)};else if(e instanceof ko)n={update:V0(t,e.key,e.data),updateMask:XA(e.fieldMask)};else{if(!(e instanceof kA))return Fe(16599,{Vt:e.type});n={verify:wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Dl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ol)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fu)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Fe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:$A(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(t,e.precondition)),n}function HA(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(o,a){let c=o.updateTime?Vs(o.updateTime):Vs(a);return c.isEqual(ze.min())&&(c=Vs(a)),new IA(c,o.transformResults||[])})(n,e)))):[]}function qA(t,e){return{documents:[z1(t,e.path)]}}function WA(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=z1(t,o);const a=(function(y){if(y.length!==0)return W1(ds.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(y){if(y.length!==0)return y.map((v=>(function(T){return{field:_l(T.field),direction:JA(T.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=gg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function GA(t){let e=UA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){wt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(b){const T=q1(b);return T instanceof ds&&_1(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((T=>(function(L){return new Vh(El(L.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let T;return T=typeof b=="object"?b.value:b,vf(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(b){const T=!!b.before,A=b.values||[];return new Mh(A,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const T=!b.before,A=b.values||[];return new Mh(A,T)})(n.endAt)),fA(e,o,c,a,h,"F",f,y)}function KA(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=El(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=El(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=El(n.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=El(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(El(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((r=>q1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(n.compositeFilter.op))})(t):Fe(30097,{filter:t})}function JA(t){return LA[t]}function QA(t){return MA[t]}function YA(t){return VA[t]}function _l(t){return{fieldPath:t.canonicalString()}}function El(t){return Sn.fromServerFormat(t.fieldPath)}function W1(t){return t instanceof rn?(function(n){if(n.op==="=="){if(I0(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I0(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(n.field),op:QA(n.op),value:n.value}}})(t):t instanceof ds?(function(n){const r=n.getFilters().map((o=>W1(o)));return r.length===1?r[0]:{compositeFilter:{op:YA(n.op),filters:r}}})(t):Fe(54877,{filter:t})}function XA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function G1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,o,a=ze.min(),c=ze.min(),h=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.yt=e}}function e2(t){const e=GA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Cn=new n2}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Eo.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class n2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new dn(St.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K1=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(K1,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LruGarbageCollector",r2=1048576;function U0([t,e],[n,r]){const o=it(t,n);return o===0?it(e,r):o}class s2{constructor(e){this.Ir=e,this.buffer=new dn(U0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();U0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?_e($0,"Ignoring IndexedDB error during garbage collection: ",n):await Ql(n)}await this.Vr(3e5)}))}}class o2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(wf.ce);const r=new s2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(F0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,a,c,h,f,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),wl()<=st.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(y-f)+`ms
Total Duration: ${y-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:b}))))}}function a2(t,e){return new o2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.changes=new Sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&nu(r.mutation,o,Ir.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((a=>{let c=Gc();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const o=[];return r.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,o){let a=Ci();const c=tu(),h=(function(){return tu()})();return n.forEach(((f,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ko)?a=a.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),nu(v.mutation,y,v.mutation.getFieldMask(),Nt.now())):c.set(y.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,v)=>c.set(y,v))),n.forEach(((y,v)=>h.set(y,new c2(v,c.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=tu();let o=new Ut(((c,h)=>c-h)),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const y=n.get(f);if(y===null)return;let v=r.get(f)||Ir.empty();v=h.applyToLocalView(y,v),r.set(f,v);const b=(o.get(h.batchId)||ot()).add(f);o=o.insert(h.batchId,b)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,v=f.value,b=R1();v.forEach((T=>{if(!a.has(T)){const A=L1(n.get(T),r.get(T));A!==null&&b.set(T,A),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,b))}return oe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):oe.resolve(oa());let h=lu,f=a;return c.next((y=>oe.forEach(y,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,ot()))).next((v=>({batchId:h,changes:k1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let o=Gc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let c=Gc();return this.indexManager.getCollectionParents(e,a).next((h=>oe.forEach(h,(f=>{const y=(function(b,T){return new Su(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o)))).next((c=>{a.forEach(((f,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,Ln.newInvalidDocument(v)))}));let h=Gc();return c.forEach(((f,y)=>{const v=a.get(f);v!==void 0&&nu(v.mutation,y,Ir.empty(),Nt.now()),Cf(n,y)&&(h=h.insert(f,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:e2(o.bundledQuery),readTime:Vs(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.overlays=new Ut(Se.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return oe.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,a)=>{this.St(e,n,a)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const o=oa(),a=n.length+1,c=new Se(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new Ut(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let v=a.get(y.largestBatchId);v===null&&(v=oa(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=oa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,v)=>h.set(y,v))),!(h.size()>=o)););return oe.resolve(h)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new PA(n,r));let a=this.qr.get(n);a===void 0&&(a=ot(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Qr=new dn(yn.$r),this.Ur=new dn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Se(new St([])),r=new yn(n,e),o=new yn(n,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new St([])),r=new yn(n,e),o=new yn(n,e+1);let a=ot();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(yn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new RA(a,n,r,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new yn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),a=o<0?0:o;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?iy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),o=new yn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const h=this.Xr(c.Yr);a.push(h)})),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(it);return n.forEach((o=>{const a=new yn(o,0),c=new yn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const c=new yn(new Se(a),0);let h=new dn(it);return this.Zr.forEachWhile((f=>{const y=f.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(f.Yr)),!0)}),c),oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(o=>{const a=new yn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new yn(n,0),o=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.ri=e,this.docs=(function(){return new Ut(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Ln.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Ci();const c=n.path,h=new Se(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:v}}=f.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||qP(HP(v),r)<=0||(o.has(v.key)||Cf(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Fe(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new g2(this)}getSize(e){return oe.resolve(this.size)}}class g2 extends l2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.persistence=e,this.si=new Sa((n=>ly(n)),cy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new my,this.targetCount=0,this.ai=jl.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),oe.waitFor(a).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new f2,this.referenceDelegate=e(this),this.Pi=new y2(this),this.indexManager=new t2,this.remoteDocumentCache=(function(o){return new m2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZA(n),this.Ii=new d2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new p2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const o=new w2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class w2 extends GP{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ri=new my,this.Vi=null}static mi(e){return new gy(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const o=Se.fromPath(r);return this.gi(e,o).next((a=>{a||n.removeEntry(o,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new Sa((r=>QP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=a2(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?oe.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,a.removeEntry(c,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return oe.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=ot(),o=ot();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new yy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GS()?8:KP(Fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new v2;return this.Ss(e,n,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>a.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(wl()<=st.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(wl()<=st.DEBUG&&_e("QueryEngine","Query:",vl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(wl()<=st.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):oe.resolve())}ys(e,n){if(R0(n))return oe.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mg(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=ot(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const y=this.Ds(n,h);return this.Cs(n,y,c,f.readTime)?this.ys(e,mg(n,null,"F")):this.vs(e,y,n,f)}))))})))))}ws(e,n,r,o){return R0(n)||o.isEqual(ze.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,o)?oe.resolve(null):(wl()<=st.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vl(n)),this.vs(e,c,n,zP(o,lu)).next((h=>h)))}))}Ds(e,n){let r=new dn(S1(e));return n.forEach(((o,a)=>{Cf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return wl()<=st.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",vl(n)),this.ps.getDocumentsMatchingQuery(e,n,Eo.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="LocalStore",E2=3e8;class b2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Ut(it),this.xs=new Sa((a=>ly(a)),cy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function C2(t,e,n,r){return new b2(t,e,n,r)}async function Q1(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let f=ot();for(const y of o){c.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}for(const y of a){h.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:h})))}))}))}function T2(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,y,v){const b=y.batch,T=b.keys();let A=oe.resolve();return T.forEach((L=>{A=A.next((()=>v.getEntry(f,L))).next(($=>{const O=y.docVersions.get(L);wt(O!==null,48541),$.version.compareTo(O)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=ot();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(f=f.add(h.batch.mutations[y].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Y1(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function I2(t,e){const n=qe(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const T=o.get(b);if(!T)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,v.addedDocuments,b))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(xn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),o=o.insert(b,A),(function($,O,W){return $.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=E2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,A,v)&&h.push(n.Pi.updateTargetData(a,A))}));let f=Ci(),y=ot();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(S2(a,c,e.documentUpdates).next((v=>{f=v.ks,y=v.qs}))),!r.isEqual(ze.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return oe.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function S2(t,e,n){let r=ot(),o=ot();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=Ci();return n.forEach(((h,f)=>{const y=a.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):_e(wy,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)})),{ks:c,qs:o}}))}function x2(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=iy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function k2(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((a=>a?(o=a,oe.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new ho(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function _g(t,e,n){const r=qe(t),o=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Yl(c))throw c;_e(wy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function B0(t,e,n){const r=qe(t);let o=ze.min(),a=ot();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,y,v){const b=qe(f),T=b.xs.get(v);return T!==void 0?oe.resolve(b.Ms.get(T)):b.Pi.getTargetData(y,v)})(r,c,Ms(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:ze.min(),n?a:ot()))).next((h=>(R2(r,mA(e),h),{documents:h,Qs:a})))))}function R2(t,e,n){let r=t.Os.get(e)||ze.min();n.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class z0{constructor(){this.activeTargetIds=EA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P2{constructor(){this.Mo=new z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new z0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="ConnectivityMonitor";class q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(H0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(H0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function Eg(){return Zd===null?Zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",N2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===jh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,a){const c=Eg(),h=this.zo(e,n.toUriEncodedString());_e(Lm,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:y}=new URL(h),v=Ca(y);return this.Jo(e,h,f,r,v).then((b=>(_e(Lm,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Rl(Lm,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,o,a,c){return this.Go(e,n,r,o,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const r=N2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class j2 extends D2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const c=Eg();return new Promise(((h,f)=>{const y=new Zb;y.setWithCredentials(!0),y.listenOnce(e1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case dh.NO_ERROR:const b=y.getResponseJson();_e(On,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case dh.TIMEOUT:_e(On,`RPC '${e}' ${c} timed out`),f(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const T=y.getStatus();if(_e(On,`RPC '${e}' ${c} failed with status:`,T,"response text:",y.getResponseText()),T>0){let A=y.getResponseJson();Array.isArray(A)&&(A=A[0]);const L=A?.error;if(L&&L.status&&L.message){const $=(function(W){const M=W.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(M)>=0?M:re.UNKNOWN})(L.status);f(new we($,L.message))}else f(new we(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new we(re.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{_e(On,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);_e(On,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=Eg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=r1(),h=n1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");_e(On,`Creating RPC '${e}' stream ${o}: ${v}`,f);const b=c.createWebChannel(v,f);this.I_(b);let T=!1,A=!1;const L=new O2({Yo:O=>{A?_e(On,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(_e(On,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),_e(On,`RPC '${e}' stream ${o} sending:`,O),b.send(O))},Zo:()=>b.close()}),$=(O,W,M)=>{O.listen(W,(z=>{try{M(z)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return $(b,Wc.EventType.OPEN,(()=>{A||(_e(On,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),$(b,Wc.EventType.CLOSE,(()=>{A||(A=!0,_e(On,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(b))})),$(b,Wc.EventType.ERROR,(O=>{A||(A=!0,Rl(On,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),L.a_(new we(re.UNAVAILABLE,"The operation could not be completed")))})),$(b,Wc.EventType.MESSAGE,(O=>{if(!A){const W=O.data[0];wt(!!W,16349);const M=W,z=M?.error||M[0]?.error;if(z){_e(On,`RPC '${e}' stream ${o} received error:`,z);const Q=z.status;let ie=(function(I){const k=tn[I];if(k!==void 0)return V1(k)})(Q),J=z.message;ie===void 0&&(ie=re.INTERNAL,J="Unknown error status: "+Q+" with message "+z.message),A=!0,L.a_(new we(ie,J)),b.close()}else _e(On,`RPC '${e}' stream ${o} received:`,W),L.u_(W)}})),$(h,t1.STAT_EVENT,(O=>{O.stat===lg.PROXY?_e(On,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===lg.NOPROXY&&_e(On,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return new FA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="PersistentStream";class Z1{constructor(e,n,r,o,a,c,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L2 extends Z1{constructor(e,n,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Vs(c.readTime):ze.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=vg(this.serializer),n.addTarget=(function(a,c){let h;const f=c.target;if(h=fg(f)?{documents:qA(a,f)}:{query:WA(a,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=U1(a,c.resumeToken);const y=gg(a,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Fh(a,c.snapshotVersion.toTimestamp());const y=gg(a,c.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=KA(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.q_(n)}}class M2 extends Z1{constructor(e,n,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HA(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>zA(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{}class F2 extends V2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,yg(n,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(re.UNKNOWN,a.toString())}))}Ho(e,n,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,yg(n,r),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class U2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{xa(this)&&(_e(wa,"Restarting streams for network reachability change."),await(async function(f){const y=qe(f);y.Ea.add(4),await Ru(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rf(y)})(this))}))})),this.Ra=new $2(r,o)}}async function Rf(t){if(xa(t))for(const e of t.da)await e(!0)}async function Ru(t){for(const e of t.da)await e(!1)}function eC(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),by(n)?Ey(n):Xl(n).O_()&&_y(n,e))}function vy(t,e){const n=qe(t),r=Xl(n);n.Ia.delete(e),r.O_()&&tC(n,e),n.Ia.size===0&&(r.O_()?r.L_():xa(n)&&n.Ra.set("Unknown"))}function _y(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xl(t).Y_(e)}function tC(t,e){t.Va.Ue(e),Xl(t).Z_(e)}function Ey(t){t.Va=new jA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.Ra.ua()}function by(t){return xa(t)&&!Xl(t).x_()&&t.Ia.size>0}function xa(t){return qe(t).Ea.size===0}function nC(t){t.Va=void 0}async function B2(t){t.Ra.set("Online")}async function z2(t){t.Ia.forEach(((e,n)=>{_y(t,e)}))}async function H2(t,e){nC(t),by(t)?(t.Ra.ha(e),Ey(t)):t.Ra.set("Unknown")}async function q2(t,e,n){if(t.Ra.set("Online"),e instanceof $1&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(t,e)}catch(r){_e(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uh(t,r)}else if(e instanceof mh?t.Va.Ze(e):e instanceof F1?t.Va.st(e):t.Va.tt(e),!n.isEqual(ze.min()))try{const r=await Y1(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(y);v&&a.Ia.set(y,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,y)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),tC(a,f);const b=new ho(v.target,f,y,v.sequenceNumber);_y(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){_e(wa,"Failed to raise snapshot:",r),await Uh(t,r)}}async function Uh(t,e,n){if(!Yl(e))throw e;t.Ea.add(1),await Ru(t),t.Ra.set("Offline"),n||(n=()=>Y1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rf(t)}))}function rC(t,e){return e().catch((n=>Uh(t,n,e)))}async function Pf(t){const e=qe(t),n=Io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iy;for(;W2(e);)try{const o=await x2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,G2(e,o)}catch(o){await Uh(e,o)}sC(e)&&iC(e)}function W2(t){return xa(t)&&t.Ta.length<10}function G2(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sC(t){return xa(t)&&!Io(t).x_()&&t.Ta.length>0}function iC(t){Io(t).start()}async function K2(t){Io(t).ra()}async function J2(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function Q2(t,e,n){const r=t.Ta.shift(),o=hy.from(r,e,n);await rC(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Pf(t)}async function Y2(t,e){e&&Io(t).X_&&await(async function(r,o){if((function(c){return NA(c)&&c!==re.ABORTED})(o.code)){const a=r.Ta.shift();Io(r).B_(),await rC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Pf(r)}})(t,e),sC(t)&&iC(t)}async function G0(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),_e(wa,"RemoteStore received new credentials");const r=xa(n);n.Ea.add(3),await Ru(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rf(n)}async function X2(t,e){const n=qe(t);e?(n.Ea.delete(2),await Rf(n)):e||(n.Ea.add(2),await Ru(n),n.Ra.set("Unknown"))}function Xl(t){return t.ma||(t.ma=(function(n,r,o){const a=qe(n);return a.sa(),new L2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:B2.bind(null,t),t_:z2.bind(null,t),r_:H2.bind(null,t),H_:q2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),by(t)?Ey(t):t.Ra.set("Unknown")):(await t.ma.stop(),nC(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,r,o){const a=qe(n);return a.sa(),new M2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:K2.bind(null,t),r_:Y2.bind(null,t),ta:J2.bind(null,t),na:Q2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pf(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const c=Date.now()+r,h=new Cy(e,n,c,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Yl(t))return new we(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static emptySet(e){return new Sl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Gc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.ga=new Ut(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ll{constructor(e,n,r,o,a,c,h,f,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Ll(e,n,Sl.emptySet(n),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eN{constructor(){this.queries=J0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=qe(n),a=o.queries;o.queries=J0(),a.forEach(((c,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new we(re.ABORTED,"Firestore shutting down"))}}function J0(){return new Sa((t=>I1(t)),bf)}async function Iy(t,e){const n=qe(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new Z2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=Ty(c,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&xy(n)}async function Sy(t,e){const n=qe(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tN(t,e){const n=qe(t);let r=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const h of c.Sa)h.Fa(o)&&(r=!0);c.wa=o}}r&&xy(n)}function nN(t,e,n){const r=qe(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function xy(t){t.Ca.forEach((e=>{e.next()}))}var bg,Q0;(Q0=bg||(bg={})).Ma="default",Q0.Cache="cache";class ky{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.key=e}}class aC{constructor(e){this.key=e}}class rN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=S1(e),this.tu=new Sl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new K0,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const T=o.get(v),A=Cf(this.query,b)?b:null,L=!!T&&this.mutatedKeys.has(T.key),$=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;T&&A?T.data.isEqual(A.data)?L!==$&&(r.track({type:3,doc:A}),O=!0):this.su(T,A)||(r.track({type:2,doc:A}),O=!0,(f&&this.eu(A,f)>0||y&&this.eu(A,y)<0)&&(h=!0)):!T&&A?(r.track({type:0,doc:A}),O=!0):T&&!A&&(r.track({type:1,doc:T}),O=!0,(f||y)&&(h=!0)),O&&(A?(c=c.add(A),a=$?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(A,L){const $=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:O})}};return $(A)-$(L)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const h=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,y=f!==this.Za;return this.Za=f,c.length!==0||y?{snapshot:new Ll(this.query,e.tu,a,c,e.mutatedKeys,f===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new aC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ry="SyncEngine";class sN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iN{constructor(e){this.key=e,this.hu=!1}}class oN{constructor(e,n,r,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Sa((h=>I1(h)),bf),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(Se.comparator),this.Au=new Map,this.Ru=new my,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aN(t,e,n=!0){const r=fC(t);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await lC(r,e,n,!0),o}async function lN(t,e){const n=fC(t);await lC(n,e,!0,!1)}async function lC(t,e,n,r){const o=await k2(t.localStore,Ms(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await cN(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&eC(t.remoteStore,o),h}async function cN(t,e,n,r,o){t.pu=(b,T,A)=>(async function($,O,W,M){let z=O.view.ru(W);z.Cs&&(z=await B0($.localStore,O.query,!1).then((({documents:S})=>O.view.ru(S,z))));const Q=M&&M.targetChanges.get(O.targetId),ie=M&&M.targetMismatches.get(O.targetId)!=null,J=O.view.applyChanges(z,$.isPrimaryClient,Q,ie);return X0($,O.targetId,J.au),J.snapshot})(t,b,T,A);const a=await B0(t.localStore,e,!0),c=new rN(e,a.Qs),h=c.ru(a.documents),f=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),y=c.applyChanges(h,t.isPrimaryClient,f);X0(t,n,y.au);const v=new sN(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function uN(t,e,n){const r=qe(t),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!bf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await _g(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&vy(r.remoteStore,o.targetId),Cg(r,o.targetId)})).catch(Ql)):(Cg(r,o.targetId),await _g(r.localStore,o.targetId,!0))}async function dN(t,e){const n=qe(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vy(n.remoteStore,r.targetId))}async function hN(t,e,n){const r=vN(t);try{const o=await(function(c,h){const f=qe(c),y=Nt.now(),v=h.reduce(((A,L)=>A.add(L.key)),ot());let b,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let L=Ci(),$=ot();return f.Ns.getEntries(A,v).next((O=>{L=O,L.forEach(((W,M)=>{M.isValidDocument()||($=$.add(W))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,L))).next((O=>{b=O;const W=[];for(const M of h){const z=xA(M,b.get(M.key).overlayedDocument);z!=null&&W.push(new ko(M.key,z,y1(z.value.mapValue),zr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,y,W,h)})).next((O=>{T=O;const W=O.applyToLocalDocumentSet(b,$);return f.documentOverlayCache.saveOverlays(A,O.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:k1(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let y=c.Vu[c.currentUser.toKey()];y||(y=new Ut(it)),y=y.insert(h,f),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,n),await Pu(r,o.changes),await Pf(r.remoteStore)}catch(o){const a=Ty(o,"Failed to persist write");n.reject(a)}}async function cC(t,e){const n=qe(t);try{const r=await I2(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=n.Au.get(a);c&&(wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?wt(c.hu,14607):o.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await Pu(n,r,e)}catch(r){await Ql(r)}}function Y0(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=qe(c);f.onlineState=h;let y=!1;f.queries.forEach(((v,b)=>{for(const T of b.Sa)T.va(h)&&(y=!0)})),y&&xy(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fN(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new Ut(Se.comparator);c=c.insert(a,Ln.newNoDocument(a,ze.min()));const h=ot().add(a),f=new xf(ze.min(),new Map,new Ut(it),c,h);await cC(r,f),r.du=r.du.remove(a),r.Au.delete(e),Py(r)}else await _g(r.localStore,e,!1).then((()=>Cg(r,e,n))).catch(Ql)}async function pN(t,e){const n=qe(t),r=e.batch.batchId;try{const o=await T2(n.localStore,e);dC(n,r,null),uC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,o)}catch(o){await Ql(o)}}async function mN(t,e,n){const r=qe(t);try{const o=await(function(c,h){const f=qe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return f.mutationQueue.lookupMutationBatch(y,h).next((b=>(wt(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(y,b)))).next((()=>f.mutationQueue.performConsistencyCheck(y))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(y,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>f.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);dC(r,e,n),uC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,o)}catch(o){await Ql(o)}}function uC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dC(t,e,n){const r=qe(t);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||hC(t,r)}))}function hC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Py(t))}function X0(t,e,n){for(const r of n)r instanceof oC?(t.Ru.addReference(r.key,e),gN(t,r)):r instanceof aC?(_e(Ry,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hC(t,r.key)):Fe(19791,{wu:r})}function gN(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(Ry,"New document in limbo: "+n),t.Eu.add(r),Py(t))}function Py(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(St.fromString(e)),r=t.fu.next();t.Au.set(r,new iN(n)),t.du=t.du.insert(n,r),eC(t.remoteStore,new ho(Ms(Ef(n.path)),r,"TargetPurposeLimboResolution",wf.ce))}}async function Pu(t,e,n){const r=qe(t),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const v=y?!y.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(y){o.push(y);const v=yy.As(f.targetId,y);a.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(f,y){const v=qe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(y,(T=>oe.forEach(T.Es,(A=>v.persistence.referenceDelegate.addReference(b,T.targetId,A))).next((()=>oe.forEach(T.ds,(A=>v.persistence.referenceDelegate.removeReference(b,T.targetId,A)))))))))}catch(b){if(!Yl(b))throw b;_e(wy,"Failed to update sequence numbers: "+b)}for(const b of y){const T=b.targetId;if(!b.fromCache){const A=v.Ms.get(T),L=A.snapshotVersion,$=A.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(T,$)}}})(r.localStore,a))}async function yN(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){_e(Ry,"User change. New user:",e.toKey());const r=await Q1(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new we(re.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function wN(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let o=ot();const a=n.Iu.get(e);if(!a)return o;for(const c of a){const h=n.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function fC(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fN.bind(null,e),e.Pu.H_=tN.bind(null,e.eventManager),e.Pu.yu=nN.bind(null,e.eventManager),e}function vN(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return C2(this.persistence,new _2,e.initialUser,this.serializer)}Cu(e){return new J1(gy.mi,this.serializer)}Du(e){return new P2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class _N extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof $h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new J1((r=>$h.mi(r,n)),this.serializer)}}class Tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yN.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eN})()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),r=(function(a){return new j2(a)})(e.databaseInfo);return(function(a,c,h,f){return new F2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,a,c,h){return new U2(r,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Y0(this.syncEngine,n,0)),(function(){return q0.v()?new q0:new A2})())}createSyncEngine(e,n){return(function(o,a,c,h,f,y,v){const b=new oN(o,a,c,h,f,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=qe(n);_e(wa,"RemoteStore shutting down."),r.Ea.add(5),await Ru(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class EN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=jn.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{_e(So,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_e(So,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ty(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vm(t,e){t.asyncQueue.verifyOperationInProgress(),_e(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Q1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Z0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bN(t);_e(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>G0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>G0(e.remoteStore,o))),t._onlineComponents=e}async function bN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(So,"Using user provided OfflineComponentProvider");try{await Vm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Rl("Error using user provided cache. Falling back to memory cache: "+n),await Vm(t,new Bh)}}else _e(So,"Using default OfflineComponentProvider"),await Vm(t,new _N(void 0));return t._offlineComponents}async function pC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(So,"Using user provided OnlineComponentProvider"),await Z0(t,t._uninitializedComponentsProvider._online)):(_e(So,"Using default OnlineComponentProvider"),await Z0(t,new Tg))),t._onlineComponents}function CN(t){return pC(t).then((e=>e.syncEngine))}async function zh(t){const e=await pC(t),n=e.eventManager;return n.onListen=aN.bind(null,e.syncEngine),n.onUnlisten=uN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),n}function TN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,y){const v=new Ay({next:T=>{v.Nu(),c.enqueueAndForget((()=>Sy(a,b)));const A=T.docs.has(h);!A&&T.fromCache?y.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?y.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new ky(Ef(h.path),v,{includeMetadataChanges:!0,qa:!0});return Iy(a,b)})(await zh(t),t.asyncQueue,e,n,r))),r.promise}function IN(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,y){const v=new Ay({next:T=>{v.Nu(),c.enqueueAndForget((()=>Sy(a,b))),T.fromCache&&f.source==="server"?y.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new ky(h,v,{includeMetadataChanges:!0,qa:!0});return Iy(a,b)})(await zh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firestore.googleapis.com",tE=!0;class nE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gC,this.ssl=tE}else this.host=e.host,this.ssl=e.ssl??tE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r2)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NP;switch(r.type){case"firstParty":return new LP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=eE.get(n);r&&(_e("ComponentProvider","Removing Datastore"),eE.delete(n),r.terminate())})(this),Promise.resolve()}}function SN(t,e,n,r={}){t=ur(t,Af);const o=Ca(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(Bg(`https://${h}`),zg("Firestore",!0)),a.host!==gC&&a.host!==h&&Rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!vi(f,c)&&(t._setSettings(f),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=jn.MOCK_USER;else{y=ub(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new jn(b)}t._authCredentials=new DP(new i1(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Iu(n,qt._jsonSchema))return new qt(e,r||null,new Se(St.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:sn("string",qt._jsonSchemaVersion),referencePath:sn("string")};class wo extends ka{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Se(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function Vn(t,e,...n){if(t=Dt(t),o1("collection","path",e),t instanceof Af){const r=St.fromString(e,...n);return m0(r),new wo(t,null,r)}{if(!(t instanceof qt||t instanceof wo))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return m0(r),new wo(t.firestore,null,r)}}function Le(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=sy.newId()),o1("doc","path",e),t instanceof Af){const r=St.fromString(e,...n);return p0(r),new qt(t,null,new Se(r))}{if(!(t instanceof qt||t instanceof wo))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return p0(r),new qt(t.firestore,t instanceof wo?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X1(this,"async_queue_retry"),this._c=()=>{const r=Mm();r&&_e(rE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;_e(rE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",iE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Cy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Fe(47125,{Pc:iE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Ti extends Af{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new sE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function hr(t,e){const n=typeof t=="object"?t:Wg(),r=typeof t=="string"?t:jh,o=hf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=ab("firestore");a&&SN(o,...a)}return o}function Nf(t){if(t._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xN(t),t._firestoreClient}function xN(t){const e=t._freezeSettings(),n=(function(o,a,c,h){return new ZP(o,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,mC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new EN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(xn.fromBase64String(e))}catch(n){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,Ur._jsonSchema))return Ur.fromBase64String(e.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:sn("string",Ur._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:sn("string",Fs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $s(e.vectorValues);throw new we(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:sn("string",$s._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^__.*__$/;class RN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class yC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class Of{constructor(e,n,r,o,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Of({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wC(this.Ac)&&kN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kf(e)}Cc(e,n,r,o=!1){return new Of({Ac:e,methodName:n,Dc:r,path:Sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(t){const e=t._freezeSettings(),n=kf(t._databaseId);return new PN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vC(t,e,n,r,o,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);Ly("Data must be an object, but it was:",c,r);const h=EC(r,c);let f,y;if(a.merge)f=new Ir(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const b of a.mergeFields){const T=Ig(e,b,n);if(!c.contains(T))throw new we(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);CC(v,T)||v.push(T)}f=new Ir(v),y=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,y=c.fieldTransforms;return new RN(new cr(h),f,y)}class Lf extends Ra{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function _C(t,e,n){return new Of({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ny extends Ra{_toFieldTransform(e){return new If(e.path,new hu)}isEqual(e){return e instanceof Ny}}class Dy extends Ra{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_C(this,e,!0),r=this.vc.map((a=>Pa(a,n))),o=new Dl(r);return new If(e.path,o)}isEqual(e){return e instanceof Dy&&vi(this.vc,e.vc)}}class Oy extends Ra{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_C(this,e,!0),r=this.vc.map((a=>Pa(a,n))),o=new Ol(r);return new If(e.path,o)}isEqual(e){return e instanceof Oy&&vi(this.vc,e.vc)}}class jy extends Ra{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new fu(e.serializer,A1(e.serializer,this.Fc));return new If(e.path,n)}isEqual(e){return e instanceof jy&&this.Fc===e.Fc}}function AN(t,e,n,r){const o=t.Cc(1,e,n);Ly("Data must be an object, but it was:",o,r);const a=[],c=cr.empty();xo(r,((f,y)=>{const v=My(e,f,n);y=Dt(y);const b=o.yc(v);if(y instanceof Lf)a.push(v);else{const T=Pa(y,b);T!=null&&(a.push(v),c.set(v,T))}}));const h=new Ir(a);return new yC(c,h,o.fieldTransforms)}function NN(t,e,n,r,o,a){const c=t.Cc(1,e,n),h=[Ig(e,r,n)],f=[o];if(a.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(Ig(e,a[T])),f.push(a[T+1]);const y=[],v=cr.empty();for(let T=h.length-1;T>=0;--T)if(!CC(y,h[T])){const A=h[T];let L=f[T];L=Dt(L);const $=c.yc(A);if(L instanceof Lf)y.push(A);else{const O=Pa(L,$);O!=null&&(y.push(A),v.set(A,O))}}const b=new Ir(y);return new yC(v,b,c.fieldTransforms)}function DN(t,e,n,r=!1){return Pa(n,t.Cc(r?4:3,e))}function Pa(t,e){if(bC(t=Dt(t)))return Ly("Unsupported field value:",e,t),EC(t,e);if(t instanceof Ra)return(function(r,o){if(!wC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const h of r){let f=Pa(h,o.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,o){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Nt.fromDate(r);return{timestampValue:Fh(o.serializer,a)}}if(r instanceof Nt){const a=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fh(o.serializer,a)}}if(r instanceof Fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:U1(o.serializer,r._byteString)};if(r instanceof qt){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:py(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof $s)return(function(c,h){return{mapValue:{fields:{[m1]:{stringValue:g1},[Lh]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return uy(h.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${yf(r)}`)})(t,e)}function EC(t,e){const n={};return c1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,((r,o)=>{const a=Pa(o,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function bC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof Fs||t instanceof Ur||t instanceof qt||t instanceof Ra||t instanceof $s)}function Ly(t,e,n){if(!bC(n)||!a1(n)){const r=yf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ig(t,e,n){if((e=Dt(e))instanceof Df)return e._internalPath;if(typeof e=="string")return My(t,e);throw Hh("Field path arguments must be of type string or ",t,!1,void 0,n)}const ON=new RegExp("[~\\*/\\[\\]]");function My(t,e,n){if(e.search(ON)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Df(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hh(t,e,n,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${o}`),f+=")"),new we(re.INVALID_ARGUMENT,h+t+f)}function CC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jN extends TC{data(){return super.data()}}function Vy(t,e){return typeof e=="string"?My(t,e):e instanceof Df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fy{}class LN extends Fy{}function Zl(t,e,...n){let r=[];e instanceof Fy&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((f=>f instanceof $y)).length,h=a.filter((f=>f instanceof Mf)).length;if(c>1||c>0&&h>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Mf extends LN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mf(e,n,r)}_apply(e){const n=this._parse(e);return SC(e._query,n),new ka(e.firestore,e.converter,pg(e._query,n))}_parse(e){const n=jf(e.firestore);return(function(a,c,h,f,y,v,b){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){lE(b,v);const L=[];for(const $ of b)L.push(aE(f,a,$));T={arrayValue:{values:L}}}else T=aE(f,a,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||lE(b,v),T=DN(h,c,b,v==="in"||v==="not-in");return rn.create(y,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Au(t,e,n){const r=e,o=Vy("where",t);return Mf._create(o,r,n)}class $y extends Fy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $y(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const f of h)SC(c,f),c=pg(c,f)})(e._query,n),new ka(e.firestore,e.converter,pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function aE(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T1(e)&&n.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!Se.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return C0(t,new Se(r))}if(n instanceof qt)return C0(t,n._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function lE(t,e){if(!Array.isArray(t)||t.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SC(t,e){const n=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MN{convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,((o,a)=>{r[o]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((r=>Jt(r.doubleValue)));return new $s(n)}convertGeoPoint(e){return new Fs(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_f(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);wt(G1(r),9688,{name:e});const o=new uu(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return o.isEqual(n)||bi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends TC{constructor(e,n,r,o,a,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:sn("string",la._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class gh extends la{data(e={}){return super.data(e)}}class ca{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gh(this._firestore,this._userDataWriter,r.key,r,new Jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const f=new gh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Jc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new gh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Jc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:VN(h.type),doc:f,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){t=ur(t,qt);const e=ur(t.firestore,Ti);return TN(Nf(e),t._key).then((n=>kC(e,t,n)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:sn("string",ca._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class Uy extends MN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function hs(t){t=ur(t,ka);const e=ur(t.firestore,Ti),n=Nf(e),r=new Uy(e);return IC(t._query),IN(n,t._query).then((o=>new ca(e,r,t,o)))}function pu(t,e,n){t=ur(t,qt);const r=ur(t.firestore,Ti),o=xC(t.converter,e,n);return Vf(r,[vC(jf(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,zr.none())])}function yt(t,e,n,...r){t=ur(t,qt);const o=ur(t.firestore,Ti),a=jf(o);let c;return c=typeof(e=Dt(e))=="string"||e instanceof Df?NN(a,"updateDoc",t._key,e,n,r):AN(a,"updateDoc",t._key,e),Vf(o,[c.toMutation(t._key,zr.exists(!0))])}function By(t){return Vf(ur(t.firestore,Ti),[new dy(t._key,zr.none())])}function qh(t,e){const n=ur(t.firestore,Ti),r=Le(t),o=xC(t.converter,e);return Vf(n,[vC(jf(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then((()=>r))}function Fm(t,...e){t=Dt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||oE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(oE(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,c,h;if(t instanceof qt)c=ur(t.firestore,Ti),h=Ef(t._key.path),a={next:f=>{e[r]&&e[r](kC(c,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ur(t,ka);c=ur(f.firestore,Ti),h=f._query;const y=new Uy(c);a={next:v=>{e[r]&&e[r](new ca(c,y,f,v))},error:e[r+1],complete:e[r+2]},IC(t._query)}return(function(y,v,b,T){const A=new Ay(T),L=new ky(v,A,b);return y.asyncQueue.enqueueAndForget((async()=>Iy(await zh(y),L))),()=>{A.Nu(),y.asyncQueue.enqueueAndForget((async()=>Sy(await zh(y),L)))}})(Nf(c),h,o,a)}function Vf(t,e){return(function(r,o){const a=new gi;return r.asyncQueue.enqueueAndForget((async()=>hN(await CN(r),o,a))),a.promise})(Nf(t),e)}function kC(t,e,n){const r=n.docs.get(e._key),o=new Uy(t);return new la(t,o,e._key,r,new Jc(n.hasPendingWrites,n.fromCache),e.converter)}function zy(){return new Ny("serverTimestamp")}function Ff(...t){return new Dy("arrayUnion",t)}function Ml(...t){return new Oy("arrayRemove",t)}function Vl(t){return new jy("increment",t)}(function(e,n=!0){(function(o){Jl=o})(Ta),fa(new _o("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new Ti(new OP(r.getProvider("auth-internal")),new MP(c,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(y.options.projectId,v)})(c,o),c);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),js(u0,d0,e),js(u0,d0,"esm2020")})();var FN="firebase",$N="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(FN,$N,"app");const UN={apiKey:"AIzaSyBaD82iIVKw0bv_WkunoTGf3F8dSgNntPw",authDomain:"fantasycasadillos.firebaseapp.com",projectId:"fantasycasadillos",storageBucket:"fantasycasadillos.appspot.com",messagingSenderId:"183711669302",appId:"1:183711669302:web:31efe87119a61b67ce0c97"},kn=fb(UN),BN=hr(kn);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cE="popstate";function zN(t={}){function e(o,a){let{pathname:c="/",search:h="",hash:f=""}=Aa(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Sg("",{pathname:c,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=o.location.href,y=f.indexOf("#");h=y===-1?f:f.slice(0,y)}return h+"#"+(typeof a=="string"?a:mu(a))}function r(o,a){qr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return qN(e,n,r,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HN(){return Math.random().toString(36).substring(2,10)}function uE(t,e){return{usr:t.state,key:t.key,idx:e}}function Sg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Aa(e):e,state:n,key:e&&e.key||r||HN()}}function mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,h="POP",f=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function b(){h="POP";let O=v(),W=O==null?null:O-y;y=O,f&&f({action:h,location:$.location,delta:W})}function T(O,W){h="PUSH";let M=Sg($.location,O,W);n&&n(M,O),y=v()+1;let z=uE(M,y),Q=$.createHref(M);try{c.pushState(z,"",Q)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(Q)}a&&f&&f({action:h,location:$.location,delta:1})}function A(O,W){h="REPLACE";let M=Sg($.location,O,W);n&&n(M,O),y=v();let z=uE(M,y),Q=$.createHref(M);c.replaceState(z,"",Q),a&&f&&f({action:h,location:$.location,delta:0})}function L(O){return WN(O)}let $={get action(){return h},get location(){return t(o,c)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(cE,b),f=O,()=>{o.removeEventListener(cE,b),f=null}},createHref(O){return e(o,O)},createURL:L,encodeLocation(O){let W=L(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:A,go(O){return c.go(O)}};return $}function WN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:mu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RC(t,e,n="/"){return GN(t,e,n,!1)}function GN(t,e,n,r){let o=typeof e=="string"?Aa(e):e,a=Ii(o.pathname||"/",n);if(a==null)return null;let c=PC(t);KN(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let y=iD(a);h=rD(c[f],y,r)}return h}function PC(t,e=[],n=[],r="",o=!1){let a=(c,h,f=o,y)=>{let v={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Vt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=yi([r,v.relativePath]),T=n.concat(v);c.children&&c.children.length>0&&(Vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),PC(c.children,e,T,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:tD(b,c.index),routesMeta:T})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))a(c,h);else for(let f of AC(c.path))a(c,h,!0,f)}),e}function AC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=AC(r.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function KN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JN=/^:[\w-]+$/,QN=3,YN=2,XN=1,ZN=10,eD=-2,dE=t=>t==="*";function tD(t,e){let n=t.split("/"),r=n.length;return n.some(dE)&&(r+=eD),e&&(r+=YN),n.filter(o=>!dE(o)).reduce((o,a)=>o+(JN.test(a)?QN:a===""?XN:ZN),r)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function rD(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],y=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",b=Wh({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},v),T=f.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=Wh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:yi([a,b.pathname]),pathnameBase:cD(yi([a,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(a=yi([a,b.pathnameBase]))}return c}function Wh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sD(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:b},T)=>{if(v==="*"){let L=h[T]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const A=h[T];return b&&!A?y[v]=void 0:y[v]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:t}}function sD(t,e=!1,n=!0){qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function iD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oD(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Aa(t):t;return{pathname:n?n.startsWith("/")?n:aD(n,e):e,search:uD(r),hash:dD(o)}}function aD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $m(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hy(t){let e=lD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qy(t,e,n,r=!1){let o;typeof t=="string"?o=Aa(t):(o={...t},Vt(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!r&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}h=b>=0?e[b]:"/"}let f=oD(o,h),y=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||v)&&(f.pathname+="/"),f}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),cD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NC=["POST","PUT","PATCH","DELETE"];new Set(NC);var fD=["GET",...NC];new Set(fD);var ec=C.createContext(null);ec.displayName="DataRouter";var $f=C.createContext(null);$f.displayName="DataRouterState";C.createContext(!1);var DC=C.createContext({isTransitioning:!1});DC.displayName="ViewTransition";var pD=C.createContext(new Map);pD.displayName="Fetchers";var mD=C.createContext(null);mD.displayName="Await";var ps=C.createContext(null);ps.displayName="Navigation";var Nu=C.createContext(null);Nu.displayName="Location";var ms=C.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var Wy=C.createContext(null);Wy.displayName="RouteError";function gD(t,{relative:e}={}){Vt(tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ps),{hash:o,pathname:a,search:c}=Du(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:yi([n,a])),r.createHref({pathname:h,search:c,hash:o})}function tc(){return C.useContext(Nu)!=null}function Ro(){return Vt(tc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Nu).location}var OC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jC(t){C.useContext(ps).static||C.useLayoutEffect(t)}function Gy(){let{isDataRoute:t}=C.useContext(ms);return t?PD():yD()}function yD(){Vt(tc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(ec),{basename:e,navigator:n}=C.useContext(ps),{matches:r}=C.useContext(ms),{pathname:o}=Ro(),a=JSON.stringify(Hy(r)),c=C.useRef(!1);return jC(()=>{c.current=!0}),C.useCallback((f,y={})=>{if(qr(c.current,OC),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=qy(f,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yi([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,a,o,t])}C.createContext(null);function wD(){let{matches:t}=C.useContext(ms),e=t[t.length-1];return e?e.params:{}}function Du(t,{relative:e}={}){let{matches:n}=C.useContext(ms),{pathname:r}=Ro(),o=JSON.stringify(Hy(n));return C.useMemo(()=>qy(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function vD(t,e){return LC(t,e)}function LC(t,e,n,r,o){Vt(tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(ps),{matches:c}=C.useContext(ms),h=c[c.length-1],f=h?h.params:{},y=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let M=b&&b.path||"";MC(y,!b||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let T=Ro(),A;if(e){let M=typeof e=="string"?Aa(e):e;Vt(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),A=M}else A=T;let L=A.pathname||"/",$=L;if(v!=="/"){let M=v.replace(/^\//,"").split("/");$="/"+L.replace(/^\//,"").split("/").slice(M.length).join("/")}let O=RC(t,{pathname:$});qr(b||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=TD(O&&O.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:yi([v,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:yi([v,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,n,r,o);return e&&W?C.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},W):W}function _D(){let t=RD(),e=hD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,c)}var ED=C.createElement(_D,null),bD=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(ms.Provider,{value:this.props.routeContext},C.createElement(Wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CD({routeContext:t,match:e,children:n}){let r=C.useContext(ec);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ms.Provider,{value:t},n)}function TD(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let y=a.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let v=a[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:b,errors:T}=n,A=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((y,v,b)=>{let T,A=!1,L=null,$=null;n&&(T=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||ED,h&&(f<0&&b===0?(MC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,$=null):f===b&&(A=!0,$=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,b+1)),W=()=>{let M;return T?M=L:A?M=$:v.route.Component?M=C.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=y,C.createElement(CD,{match:v,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:M})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?C.createElement(bD,{location:n.location,revalidation:n.revalidation,component:L,error:T,children:W(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):W()},null)}function Ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(t){let e=C.useContext(ec);return Vt(e,Ky(t)),e}function SD(t){let e=C.useContext($f);return Vt(e,Ky(t)),e}function xD(t){let e=C.useContext(ms);return Vt(e,Ky(t)),e}function Jy(t){let e=xD(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kD(){return Jy("useRouteId")}function RD(){let t=C.useContext(Wy),e=SD("useRouteError"),n=Jy("useRouteError");return t!==void 0?t:e.errors?.[n]}function PD(){let{router:t}=ID("useNavigate"),e=Jy("useNavigate"),n=C.useRef(!1);return jC(()=>{n.current=!0}),C.useCallback(async(o,a={})=>{qr(n.current,OC),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var hE={};function MC(t,e,n){!e&&!hE[t]&&(hE[t]=!0,qr(!1,n))}C.memo(AD);function AD({routes:t,future:e,state:n,unstable_onError:r}){return LC(t,void 0,n,r,e)}function gl({to:t,replace:e,state:n,relative:r}){Vt(tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(ps);qr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(ms),{pathname:c}=Ro(),h=Gy(),f=qy(t,Hy(a),c,r==="path"),y=JSON.stringify(f);return C.useEffect(()=>{h(JSON.parse(y),{replace:e,state:n,relative:r})},[h,y,r,e,n]),null}function ro(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ND({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Vt(!tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=Aa(n));let{pathname:f="/",search:y="",hash:v="",state:b=null,key:T="default"}=n,A=C.useMemo(()=>{let L=Ii(f,c);return L==null?null:{location:{pathname:L,search:y,hash:v,state:b,key:T},navigationType:r}},[c,f,y,v,b,T,r]);return qr(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:C.createElement(ps.Provider,{value:h},C.createElement(Nu.Provider,{children:e,value:A}))}function DD({children:t,location:e}){return vD(xg(t),e)}function xg(t,e=[]){let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let a=[...e,o];if(r.type===C.Fragment){n.push.apply(n,xg(r.props.children,a));return}Vt(r.type===ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=xg(r.props.children,a)),n.push(c)}),n}var yh="get",wh="application/x-www-form-urlencoded";function Uf(t){return t!=null&&typeof t.tagName=="string"}function OD(t){return Uf(t)&&t.tagName.toLowerCase()==="button"}function jD(t){return Uf(t)&&t.tagName.toLowerCase()==="form"}function LD(t){return Uf(t)&&t.tagName.toLowerCase()==="input"}function MD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VD(t,e){return t.button===0&&(!e||e==="_self")&&!MD(t)}var eh=null;function FD(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var $D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(t){return t!=null&&!$D.has(t)?(qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):t}function UD(t,e){let n,r,o,a,c;if(jD(t)){let h=t.getAttribute("action");r=h?Ii(h,e):null,n=t.getAttribute("method")||yh,o=Um(t.getAttribute("enctype"))||wh,a=new FormData(t)}else if(OD(t)||LD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ii(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||yh,o=Um(t.getAttribute("formenctype"))||Um(h.getAttribute("enctype"))||wh,a=new FormData(h,t),!FD()){let{name:y,type:v,value:b}=t;if(v==="image"){let T=y?`${y}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else y&&a.append(y,b)}}else{if(Uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yh,r=null,o=wh,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ii(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qD(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await zD(a,n);return c.links?c.links():[]}return[]}));return JD(r.flat(1).filter(HD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fE(t,e,n,r,o,a){let c=(f,y)=>n[y]?f.route.id!==n[y].route.id:!0,h=(f,y)=>n[y].pathname!==f.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,y)=>c(f,y)||h(f,y)):a==="data"?e.filter((f,y)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,y)||h(f,y))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function WD(t,e,{includeHydrateFallback:n}={}){return GD(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function GD(t){return[...new Set(t)]}function KD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function JD(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(KD(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function VC(){let t=C.useContext(ec);return Qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QD(){let t=C.useContext($f);return Qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yy=C.createContext(void 0);Yy.displayName="FrameworkContext";function FC(){let t=C.useContext(Yy);return Qy(t,"You must render this element inside a <HydratedRouter> element"),t}function YD(t,e){let n=C.useContext(Yy),[r,o]=C.useState(!1),[a,c]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,T=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let $=W=>{W.forEach(M=>{c(M.isIntersecting)})},O=new IntersectionObserver($,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[t]),C.useEffect(()=>{if(r){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[r]);let A=()=>{o(!0)},L=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:$c(h,A),onBlur:$c(f,L),onMouseEnter:$c(y,A),onMouseLeave:$c(v,L),onTouchStart:$c(b,A)}]:[!1,T,{}]}function $c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XD({page:t,...e}){let{router:n}=VC(),r=C.useMemo(()=>RC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(eO,{page:t,matches:r,...e}):null}function ZD(t){let{manifest:e,routeModules:n}=FC(),[r,o]=C.useState([]);return C.useEffect(()=>{let a=!1;return qD(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),r}function eO({page:t,matches:e,...n}){let r=Ro(),{manifest:o,routeModules:a}=FC(),{basename:c}=VC(),{loaderData:h,matches:f}=QD(),y=C.useMemo(()=>fE(t,e,f,o,r,"data"),[t,e,f,o,r]),v=C.useMemo(()=>fE(t,e,f,o,r,"assets"),[t,e,f,o,r]),b=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let L=new Set,$=!1;if(e.forEach(W=>{let M=o.routes[W.route.id];!M||!M.hasLoader||(!y.some(z=>z.route.id===W.route.id)&&W.route.id in h&&a[W.route.id]?.shouldRevalidate||M.hasClientLoader?$=!0:L.add(W.route.id))}),L.size===0)return[];let O=BD(t,c,"data");return $&&L.size>0&&O.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[O.pathname+O.search]},[c,h,r,o,y,e,t,a]),T=C.useMemo(()=>WD(v,o),[v,o]),A=ZD(v);return C.createElement(C.Fragment,null,b.map(L=>C.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),T.map(L=>C.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),A.map(({key:L,link:$})=>C.createElement("link",{key:L,nonce:n.nonce,...$})))}function tO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$C&&(window.__reactRouterVersion="7.8.2")}catch{}function nO({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=zN({window:n,v5Compat:!0}));let o=r.current,[a,c]=C.useState({action:o.action,location:o.location}),h=C.useCallback(f=>{C.startTransition(()=>c(f))},[c]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(ND,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var UC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:c,state:h,target:f,to:y,preventScrollReset:v,viewTransition:b,...T},A){let{basename:L}=C.useContext(ps),$=typeof y=="string"&&UC.test(y),O,W=!1;if(typeof y=="string"&&$&&(O=y,$C))try{let k=new URL(window.location.href),R=y.startsWith("//")?new URL(k.protocol+y):new URL(y),D=Ii(R.pathname,L);R.origin===k.origin&&D!=null?y=D+R.search+R.hash:W=!0}catch{qr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=gD(y,{relative:o}),[z,Q,ie]=YD(r,T),J=oO(y,{replace:c,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:b});function S(k){e&&e(k),k.defaultPrevented||J(k)}let I=C.createElement("a",{...T,...ie,href:O||M,onClick:W||a?e:S,ref:tO(A,Q),target:f,"data-discover":!$&&n==="render"?"true":void 0});return z&&!$?C.createElement(C.Fragment,null,I,C.createElement(XD,{page:M})):I});pt.displayName="Link";var rO=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:c,viewTransition:h,children:f,...y},v){let b=Du(c,{relative:y.relative}),T=Ro(),A=C.useContext($f),{navigator:L,basename:$}=C.useContext(ps),O=A!=null&&dO(b)&&h===!0,W=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,M=T.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(M=M.toLowerCase(),z=z?z.toLowerCase():null,W=W.toLowerCase()),z&&$&&(z=Ii(z,$)||z);const Q=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ie=M===W||!o&&M.startsWith(W)&&M.charAt(Q)==="/",J=z!=null&&(z===W||!o&&z.startsWith(W)&&z.charAt(W.length)==="/"),S={isActive:ie,isPending:J,isTransitioning:O},I=ie?e:void 0,k;typeof r=="function"?k=r(S):k=[r,ie?"active":null,J?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(S):a;return C.createElement(pt,{...y,"aria-current":I,className:k,ref:v,style:R,to:c,viewTransition:h},typeof f=="function"?f(S):f)});rO.displayName="NavLink";var sO=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:c=yh,action:h,onSubmit:f,relative:y,preventScrollReset:v,viewTransition:b,...T},A)=>{let L=cO(),$=uO(h,{relative:y}),O=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&UC.test(h),M=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let Q=z.nativeEvent.submitter,ie=Q?.getAttribute("formmethod")||c;L(Q||z.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:a,relative:y,preventScrollReset:v,viewTransition:b})};return C.createElement("form",{ref:A,method:O,action:$,onSubmit:r?f:M,...T,"data-discover":!W&&t==="render"?"true":void 0})});sO.displayName="Form";function iO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BC(t){let e=C.useContext(ec);return Vt(e,iO(t)),e}function oO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=Gy(),f=Ro(),y=Du(t,{relative:a});return C.useCallback(v=>{if(VD(v,e)){v.preventDefault();let b=n!==void 0?n:mu(f)===mu(y);h(t,{replace:b,state:r,preventScrollReset:o,relative:a,viewTransition:c})}},[f,h,y,n,r,e,t,o,a,c])}var aO=0,lO=()=>`__${String(++aO)}__`;function cO(){let{router:t}=BC("useSubmit"),{basename:e}=C.useContext(ps),n=kD();return C.useCallback(async(r,o={})=>{let{action:a,method:c,encType:h,formData:f,body:y}=UD(r,e);if(o.navigate===!1){let v=o.fetcherKey||lO();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function uO(t,{relative:e}={}){let{basename:n}=C.useContext(ps),r=C.useContext(ms);Vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Du(t||".",{relative:e})},c=Ro();if(t==null){a.search=c.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yi([n,a.pathname])),mu(a)}function dO(t,{relative:e}={}){let n=C.useContext(DC);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BC("useViewTransitionState"),o=Du(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wh(o.pathname,c)!=null||Wh(o.pathname,a)!=null}/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function zC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function hO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pE(t,e){return t.get(zC(t,e))}function fO(t,e,n){hO(t,e),e.set(t,n)}function pO(t,e,n){return t.set(zC(t,e),n),n}const mO=100,De={},gO=()=>{De.previousActiveElement instanceof HTMLElement?(De.previousActiveElement.focus(),De.previousActiveElement=null):document.body&&document.body.focus()},yO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;De.restoreFocusTimeout=setTimeout(()=>{gO(),e()},mO),window.scrollTo(n,r)}),HC="swal2-",wO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ee=wO.reduce((t,e)=>(t[e]=HC+e,t),{}),vO=["success","warning","info","question","error"],Gh=vO.reduce((t,e)=>(t[e]=HC+e,t),{}),qC="SweetAlert2:",Xy=t=>t.charAt(0).toUpperCase()+t.slice(1),Jn=t=>{console.warn(`${qC} ${typeof t=="object"?t.join(" "):t}`)},Na=t=>{console.error(`${qC} ${t}`)},mE=[],_O=t=>{mE.includes(t)||(mE.push(t),Jn(t))},WC=(t,e=null)=>{_O(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Bf=t=>typeof t=="function"?t():t,Zy=t=>t&&typeof t.toPromise=="function",Ou=t=>Zy(t)?t.toPromise():Promise.resolve(t),ew=t=>t&&Promise.resolve(t)===t,Qn=()=>document.body.querySelector(`.${ee.container}`),ju=t=>{const e=Qn();return e?e.querySelector(t):null},xr=t=>ju(`.${t}`),ft=()=>xr(ee.popup),nc=()=>xr(ee.icon),EO=()=>xr(ee["icon-content"]),GC=()=>xr(ee.title),tw=()=>xr(ee["html-container"]),KC=()=>xr(ee.image),nw=()=>xr(ee["progress-steps"]),zf=()=>xr(ee["validation-message"]),Bs=()=>ju(`.${ee.actions} .${ee.confirm}`),rc=()=>ju(`.${ee.actions} .${ee.cancel}`),Da=()=>ju(`.${ee.actions} .${ee.deny}`),bO=()=>xr(ee["input-label"]),sc=()=>ju(`.${ee.loader}`),Lu=()=>xr(ee.actions),JC=()=>xr(ee.footer),Hf=()=>xr(ee["timer-progress-bar"]),rw=()=>xr(ee.close),CO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,sw=()=>{const t=ft();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),r=t.querySelectorAll(CO),o=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>dr(a))},iw=()=>wi(document.body,ee.shown)&&!wi(document.body,ee["toast-shown"])&&!wi(document.body,ee["no-backdrop"]),qf=()=>{const t=ft();return t?wi(t,ee.toast):!1},TO=()=>{const t=ft();return t?t.hasAttribute("data-loading"):!1},kr=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("head");o&&Array.from(o.childNodes).forEach(c=>{t.appendChild(c)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},wi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},IO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ee).includes(n)&&!Object.values(Gh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Sr=(t,e,n)=>{if(IO(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Jn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}mt(t,r)}},Wf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ee.popup} > .${ee[e]}`);case"checkbox":return t.querySelector(`.${ee.popup} > .${ee.checkbox} input`);case"radio":return t.querySelector(`.${ee.popup} > .${ee.radio} input:checked`)||t.querySelector(`.${ee.popup} > .${ee.radio} input:first-child`);case"range":return t.querySelector(`.${ee.popup} > .${ee.range} input`);default:return t.querySelector(`.${ee.popup} > .${ee.input}`)}},QC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},YC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(r):o.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},mt=(t,e)=>{YC(t,e,!0)},Wr=(t,e)=>{YC(t,e,!1)},fo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const o=n[r];if(o instanceof HTMLElement&&wi(o,e))return o}},ua=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},vn=(t,e="flex")=>{t&&(t.style.display=e)},$n=t=>{t&&(t.style.display="none")},ow=(t,e="block")=>{t&&new MutationObserver(()=>{Mu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},gE=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Mu=(t,e,n="flex")=>{e?vn(t,n):$n(t)},dr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),SO=()=>!dr(Bs())&&!dr(Da())&&!dr(rc()),kg=t=>t.scrollHeight>t.clientHeight,xO=(t,e)=>{let n=t;for(;n&&n!==e;){if(kg(n))return!0;n=n.parentElement}return!1},XC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},aw=(t,e=!1)=>{const n=Hf();n&&dr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},kO=()=>{const t=Hf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},RO=()=>typeof window>"u"||typeof document>"u",PO=`
 <div aria-labelledby="${ee.title}" aria-describedby="${ee["html-container"]}" class="${ee.popup}" tabindex="-1">
   <button type="button" class="${ee.close}"></button>
   <ul class="${ee["progress-steps"]}"></ul>
   <div class="${ee.icon}"></div>
   <img class="${ee.image}" />
   <h2 class="${ee.title}" id="${ee.title}"></h2>
   <div class="${ee["html-container"]}" id="${ee["html-container"]}"></div>
   <input class="${ee.input}" id="${ee.input}" />
   <input type="file" class="${ee.file}" />
   <div class="${ee.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ee.select}" id="${ee.select}"></select>
   <div class="${ee.radio}"></div>
   <label class="${ee.checkbox}">
     <input type="checkbox" id="${ee.checkbox}" />
     <span class="${ee.label}"></span>
   </label>
   <textarea class="${ee.textarea}" id="${ee.textarea}"></textarea>
   <div class="${ee["validation-message"]}" id="${ee["validation-message"]}"></div>
   <div class="${ee.actions}">
     <div class="${ee.loader}"></div>
     <button type="button" class="${ee.confirm}"></button>
     <button type="button" class="${ee.deny}"></button>
     <button type="button" class="${ee.cancel}"></button>
   </div>
   <div class="${ee.footer}"></div>
   <div class="${ee["timer-progress-bar-container"]}">
     <div class="${ee["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),AO=()=>{const t=Qn();return t?(t.remove(),Wr([document.documentElement,document.body],[ee["no-backdrop"],ee["toast-shown"],ee["has-column"]]),!0):!1},ra=()=>{De.currentInstance.resetValidationMessage()},NO=()=>{const t=ft(),e=fo(t,ee.input),n=fo(t,ee.file),r=t.querySelector(`.${ee.range} input`),o=t.querySelector(`.${ee.range} output`),a=fo(t,ee.select),c=t.querySelector(`.${ee.checkbox} input`),h=fo(t,ee.textarea);e.oninput=ra,n.onchange=ra,a.onchange=ra,c.onchange=ra,h.oninput=ra,r.oninput=()=>{ra(),o.value=r.value},r.onchange=()=>{ra(),o.value=r.value}},DO=t=>typeof t=="string"?document.querySelector(t):t,OO=t=>{const e=ft();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},jO=t=>{window.getComputedStyle(t).direction==="rtl"&&mt(Qn(),ee.rtl)},LO=t=>{const e=AO();if(RO()){Na("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ee.container,e&&mt(n,ee["no-transition"]),kr(n,PO),n.dataset.swal2Theme=t.theme;const r=DO(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),OO(t),jO(r),NO()},lw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?MO(t,e):t&&kr(e,t)},MO=(t,e)=>{t.jquery?VO(e,t):kr(e,t.toString())},VO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},FO=(t,e)=>{const n=Lu(),r=sc();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?$n(n):vn(n),Sr(n,e,"actions"),$O(n,r,e),kr(r,e.loaderHtml||""),Sr(r,e,"loader"))};function $O(t,e,n){const r=Bs(),o=Da(),a=rc();!r||!o||!a||(zm(r,"confirm",n),zm(o,"deny",n),zm(a,"cancel",n),UO(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}function UO(t,e,n,r){if(!r.buttonsStyling){Wr([t,e,n],ee.styled);return}mt([t,e,n],ee.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Bm(t),Bm(e),Bm(n)}function Bm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function zm(t,e,n){const r=Xy(e);Mu(t,n[`show${r}Button`],"inline-block"),kr(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ee[e],Sr(t,n,`${e}Button`)}const BO=(t,e)=>{const n=rw();n&&(kr(n,e.closeButtonHtml||""),Sr(n,e,"closeButton"),Mu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},zO=(t,e)=>{const n=Qn();n&&(HO(n,e.backdrop),qO(n,e.position),WO(n,e.grow),Sr(n,e,"container"))};function HO(t,e){typeof e=="string"?t.style.background=e:e||mt([document.documentElement,document.body],ee["no-backdrop"])}function qO(t,e){e&&(e in ee?mt(t,ee[e]):(Jn('The "position" parameter is not valid, defaulting to "center"'),mt(t,ee.center)))}function WO(t,e){e&&mt(t,ee[`grow-${e}`])}var kt={innerParams:new WeakMap,domCache:new WeakMap};const GO=["input","file","range","select","radio","checkbox","textarea"],KO=(t,e)=>{const n=ft();if(!n)return;const r=kt.innerParams.get(t),o=!r||e.input!==r.input;GO.forEach(a=>{const c=fo(n,ee[a]);c&&(YO(a,e.inputAttributes),c.className=ee[a],o&&$n(c))}),e.input&&(o&&JO(e),XO(e))},JO=t=>{if(!t.input)return;if(!Kt[t.input]){Na(`Unexpected type of input! Expected ${Object.keys(Kt).join(" | ")}, got "${t.input}"`);return}const e=ZC(t.input);if(!e)return;const n=Kt[t.input](e,t);vn(e),t.inputAutoFocus&&setTimeout(()=>{QC(n)})},QO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},YO=(t,e)=>{const n=ft();if(!n)return;const r=Wf(n,t);if(r){QO(r);for(const o in e)r.setAttribute(o,e[o])}},XO=t=>{if(!t.input)return;const e=ZC(t.input);e&&Sr(e,t,"input")},cw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Vu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=ee["input-label"];r.setAttribute("for",t.id),r.className=o,typeof n.customClass=="object"&&mt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},ZC=t=>{const e=ft();if(e)return fo(e,ee[t]||ee.input)},Kh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:ew(e)||Jn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Kt={};Kt.text=Kt.email=Kt.password=Kt.number=Kt.tel=Kt.url=Kt.search=Kt.date=Kt["datetime-local"]=Kt.time=Kt.week=Kt.month=(t,e)=>(Kh(t,e.inputValue),Vu(t,t,e),cw(t,e),t.type=e.input,t);Kt.file=(t,e)=>(Vu(t,t,e),cw(t,e),t);Kt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Kh(n,e.inputValue),n.type=e.input,Kh(r,e.inputValue),Vu(n,t,e),t};Kt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");kr(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Vu(t,t,e),t};Kt.radio=t=>(t.textContent="",t);Kt.checkbox=(t,e)=>{const n=Wf(ft(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return kr(r,e.inputPlaceholder||e.inputLabel),n};Kt.textarea=(t,e)=>{Kh(t,e.inputValue),cw(t,e),Vu(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(ft()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?ft().style.width=`${a}px`:ua(ft(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const ZO=(t,e)=>{const n=tw();n&&(ow(n),Sr(n,e,"htmlContainer"),e.html?(lw(e.html,n),vn(n,"block")):e.text?(n.textContent=e.text,vn(n,"block")):$n(n),KO(t,e))},ej=(t,e)=>{const n=JC();n&&(ow(n),Mu(n,e.footer,"block"),e.footer&&lw(e.footer,n),Sr(n,e,"footer"))},tj=(t,e)=>{const n=kt.innerParams.get(t),r=nc();if(!r)return;if(n&&e.icon===n.icon){wE(r,e),yE(r,e);return}if(!e.icon&&!e.iconHtml){$n(r);return}if(e.icon&&Object.keys(Gh).indexOf(e.icon)===-1){Na(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),$n(r);return}vn(r),wE(r,e),yE(r,e),mt(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",eT)},yE=(t,e)=>{for(const[n,r]of Object.entries(Gh))e.icon!==n&&Wr(t,r);mt(t,e.icon&&Gh[e.icon]),sj(t,e),eT(),Sr(t,e,"icon")},eT=()=>{const t=ft();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},nj=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,rj=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,wE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=vE(e.iconHtml):e.icon==="success"?(r=nj(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=rj:e.icon&&(r=vE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&kr(t,r)},sj=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])gE(t,n,"background-color",e.iconColor);gE(t,".swal2-success-ring","border-color",e.iconColor)}},vE=t=>`<div class="${ee["icon-content"]}">${t}</div>`,ij=(t,e)=>{const n=KC();if(n){if(!e.imageUrl){$n(n);return}vn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ua(n,"width",e.imageWidth),ua(n,"height",e.imageHeight),n.className=ee.image,Sr(n,e,"image")}};let uw=!1,tT=0,nT=0,rT=0,sT=0;const oj=t=>{t.addEventListener("mousedown",Jh),document.body.addEventListener("mousemove",Qh),t.addEventListener("mouseup",Yh),t.addEventListener("touchstart",Jh),document.body.addEventListener("touchmove",Qh),t.addEventListener("touchend",Yh)},aj=t=>{t.removeEventListener("mousedown",Jh),document.body.removeEventListener("mousemove",Qh),t.removeEventListener("mouseup",Yh),t.removeEventListener("touchstart",Jh),document.body.removeEventListener("touchmove",Qh),t.removeEventListener("touchend",Yh)},Jh=t=>{const e=ft();if(t.target===e||nc().contains(t.target)){uw=!0;const n=iT(t);tT=n.clientX,nT=n.clientY,rT=parseInt(e.style.insetInlineStart)||0,sT=parseInt(e.style.insetBlockStart)||0,mt(e,"swal2-dragging")}},Qh=t=>{const e=ft();if(uw){let{clientX:n,clientY:r}=iT(t);e.style.insetInlineStart=`${rT+(n-tT)}px`,e.style.insetBlockStart=`${sT+(r-nT)}px`}},Yh=()=>{const t=ft();uw=!1,Wr(t,"swal2-dragging")},iT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},lj=(t,e)=>{const n=Qn(),r=ft();if(!(!n||!r)){if(e.toast){ua(n,"width",e.width),r.style.width="100%";const o=sc();o&&r.insertBefore(o,nc())}else ua(r,"width",e.width);ua(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),$n(zf()),cj(r,e),e.draggable&&!e.toast?(mt(r,ee.draggable),oj(r)):(Wr(r,ee.draggable),aj(r))}},cj=(t,e)=>{const n=e.showClass||{};t.className=`${ee.popup} ${dr(t)?n.popup:""}`,e.toast?(mt([document.documentElement,document.body],ee["toast-shown"]),mt(t,ee.toast)):mt(t,ee.modal),Sr(t,e,"popup"),typeof e.customClass=="string"&&mt(t,e.customClass),e.icon&&mt(t,ee[`icon-${e.icon}`])},uj=(t,e)=>{const n=nw();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;if(!r||r.length===0||o===void 0){$n(n);return}vn(n),n.textContent="",o>=r.length&&Jn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,c)=>{const h=dj(a);if(n.appendChild(h),c===o&&mt(h,ee["active-progress-step"]),c!==r.length-1){const f=hj(e);n.appendChild(f)}})},dj=t=>{const e=document.createElement("li");return mt(e,ee["progress-step"]),kr(e,t),e},hj=t=>{const e=document.createElement("li");return mt(e,ee["progress-step-line"]),t.progressStepsDistance&&ua(e,"width",t.progressStepsDistance),e},fj=(t,e)=>{const n=GC();n&&(ow(n),Mu(n,e.title||e.titleText,"block"),e.title&&lw(e.title,n),e.titleText&&(n.innerText=e.titleText),Sr(n,e,"title"))},oT=(t,e)=>{lj(t,e),zO(t,e),uj(t,e),tj(t,e),ij(t,e),fj(t,e),BO(t,e),ZO(t,e),FO(t,e),ej(t,e);const n=ft();typeof e.didRender=="function"&&n&&e.didRender(n),De.eventEmitter.emit("didRender",n)},pj=()=>dr(ft()),aT=()=>{var t;return(t=Bs())===null||t===void 0?void 0:t.click()},mj=()=>{var t;return(t=Da())===null||t===void 0?void 0:t.click()},gj=()=>{var t;return(t=rc())===null||t===void 0?void 0:t.click()},ic=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),lT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},yj=(t,e,n)=>{lT(t),e.toast||(t.keydownHandler=r=>vj(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:ft(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Rg=(t,e)=>{var n;const r=sw();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=ft())===null||n===void 0||n.focus()},cT=["ArrowRight","ArrowDown"],wj=["ArrowLeft","ArrowUp"],vj=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?_j(e,t):e.key==="Tab"?Ej(e):[...cT,...wj].includes(e.key)?bj(e.key):e.key==="Escape"&&Cj(e,t,n)))},_j=(t,e)=>{if(!Bf(e.allowEnterKey))return;const n=Wf(ft(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;aT(),t.preventDefault()}},Ej=t=>{const e=t.target,n=sw();let r=-1;for(let o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?Rg(r,-1):Rg(r,1),t.stopPropagation(),t.preventDefault()},bj=t=>{const e=Lu(),n=Bs(),r=Da(),o=rc();if(!e||!n||!r||!o)return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const c=cT.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&dr(h))break}h instanceof HTMLButtonElement&&h.focus()}},Cj=(t,e,n)=>{t.preventDefault(),Bf(e.allowEscapeKey)&&n(ic.esc)};var Fl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Tj=()=>{const t=Qn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},uT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},dT=typeof window<"u"&&!!window.GestureEvent,Ij=()=>{if(dT&&!wi(document.body,ee.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,mt(document.body,ee.iosfix),Sj()}},Sj=()=>{const t=Qn();if(!t)return;let e;t.ontouchstart=n=>{e=xj(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},xj=t=>{const e=t.target,n=Qn(),r=tw();return!n||!r||kj(t)||Rj(t)?!1:e===n||!kg(n)&&e instanceof HTMLElement&&!xO(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(kg(r)&&r.contains(e))},kj=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",Rj=t=>t.touches&&t.touches.length>1,Pj=()=>{if(wi(document.body,ee.iosfix)){const t=parseInt(document.body.style.top,10);Wr(document.body,ee.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Aj=()=>{const t=document.createElement("div");t.className=ee["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let xl=null;const Nj=t=>{xl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(xl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${xl+Aj()}px`)},Dj=()=>{xl!==null&&(document.body.style.paddingRight=`${xl}px`,xl=null)};function hT(t,e,n,r){qf()?_E(t,r):(yO(n).then(()=>_E(t,r)),lT(De)),dT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),iw()&&(Dj(),Pj(),uT()),Oj()}function Oj(){Wr([document.documentElement,document.body],[ee.shown,ee["height-auto"],ee["no-backdrop"],ee["toast-shown"]])}function po(t){t=Lj(t);const e=Fl.swalPromiseResolve.get(this),n=jj(this);this.isAwaitingPromise?t.isDismissed||(Fu(this),e(t)):n&&e(t)}const jj=t=>{const e=ft();if(!e)return!1;const n=kt.innerParams.get(t);if(!n||wi(e,n.hideClass.popup))return!1;Wr(e,n.showClass.popup),mt(e,n.hideClass.popup);const r=Qn();return Wr(r,n.showClass.backdrop),mt(r,n.hideClass.backdrop),Mj(t,e,n),!0};function fT(t){const e=Fl.swalPromiseReject.get(this);Fu(this),e&&e(t)}const Fu=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,kt.innerParams.get(t)||t._destroy())},Lj=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Mj=(t,e,n)=>{var r;const o=Qn(),a=XC(e);typeof n.willClose=="function"&&n.willClose(e),(r=De.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?Vj(t,e,o,n.returnFocus,n.didClose):hT(t,o,n.returnFocus,n.didClose)},Vj=(t,e,n,r,o)=>{De.swalCloseEventFinishedCallback=hT.bind(null,t,n,r,o);const a=function(c){if(c.target===e){var h;(h=De.swalCloseEventFinishedCallback)===null||h===void 0||h.call(De),delete De.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},_E=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=De.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},$l=t=>{let e=ft();if(e||new Ne,e=ft(),!e)return;const n=sc();qf()?$n(nc()):Fj(e,t),vn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Fj=(t,e)=>{const n=Lu(),r=sc();!n||!r||(!e&&dr(Bs())&&(e=Bs()),vn(n),e&&($n(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),mt([t,n],ee.loading))},$j=(t,e)=>{e.input==="select"||e.input==="radio"?qj(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Zy(e.inputValue)||ew(e.inputValue))&&($l(Bs()),Wj(t,e))},Uj=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Bj(n);case"radio":return zj(n);case"file":return Hj(n);default:return e.inputAutoTrim?n.value.trim():n.value}},Bj=t=>t.checked?1:0,zj=t=>t.checked?t.value:null,Hj=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,qj=(t,e)=>{const n=ft();if(!n)return;const r=o=>{e.input==="select"?Gj(n,Xh(o),e):e.input==="radio"&&Kj(n,Xh(o),e)};Zy(e.inputOptions)||ew(e.inputOptions)?($l(Bs()),Ou(e.inputOptions).then(o=>{t.hideLoading(),r(o)})):typeof e.inputOptions=="object"?r(e.inputOptions):Na(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Wj=(t,e)=>{const n=t.getInput();n&&($n(n),Ou(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,vn(n),n.focus(),t.hideLoading()}).catch(r=>{Na(`Error in inputValue promise: ${r}`),n.value="",vn(n),n.focus(),t.hideLoading()}))};function Gj(t,e,n){const r=fo(t,ee.select);if(!r)return;const o=(a,c,h)=>{const f=document.createElement("option");f.value=h,kr(f,c),f.selected=pT(h,n.inputValue),a.appendChild(f)};e.forEach(a=>{const c=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=c,f.disabled=!1,r.appendChild(f),h.forEach(y=>o(f,y[1],y[0]))}else o(r,h,c)}),r.focus()}function Kj(t,e,n){const r=fo(t,ee.radio);if(!r)return;e.forEach(a=>{const c=a[0],h=a[1],f=document.createElement("input"),y=document.createElement("label");f.type="radio",f.name=ee.radio,f.value=c,pT(c,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");kr(v,h),v.className=ee.label,y.appendChild(f),y.appendChild(v),r.appendChild(y)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const Xh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let o=n;typeof o=="object"&&(o=Xh(o)),e.push([r,o])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Xh(r)),e.push([n,r])}),e},pT=(t,e)=>!!e&&e.toString()===t.toString(),Jj=t=>{const e=kt.innerParams.get(t);t.disableButtons(),e.input?mT(t,"confirm"):hw(t,!0)},Qj=t=>{const e=kt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?mT(t,"deny"):dw(t,!1)},Yj=(t,e)=>{t.disableButtons(),e(ic.cancel)},mT=(t,e)=>{const n=kt.innerParams.get(t);if(!n.input){Na(`The "input" parameter is needed to be set when using returnInputValueOn${Xy(e)}`);return}const r=t.getInput(),o=Uj(t,n);n.inputValidator?Xj(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?dw(t,o):hw(t,o)},Xj=(t,e,n)=>{const r=kt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Ou(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?dw(t,e):hw(t,e)})},dw=(t,e)=>{const n=kt.innerParams.get(t||void 0);n.showLoaderOnDeny&&$l(Da()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ou(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),Fu(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>gT(t||void 0,o))):t.close({isDenied:!0,value:e})},EE=(t,e)=>{t.close({isConfirmed:!0,value:e})},gT=(t,e)=>{t.rejectPromise(e)},hw=(t,e)=>{const n=kt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&$l(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ou(n.preConfirm(e,n.validationMessage))).then(o=>{dr(zf())||o===!1?(t.hideLoading(),Fu(t)):EE(t,typeof o>"u"?e:o)}).catch(o=>gT(t||void 0,o))):EE(t,e)};function Zh(){const t=kt.innerParams.get(this);if(!t)return;const e=kt.domCache.get(this);$n(e.loader),qf()?t.icon&&vn(nc()):Zj(e),Wr([e.popup,e.actions],ee.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Zj=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?vn(e[0],"inline-block"):SO()&&$n(t.actions)};function yT(){const t=kt.innerParams.get(this),e=kt.domCache.get(this);return e?Wf(e.popup,t.input):null}function wT(t,e,n){const r=kt.domCache.get(t);e.forEach(o=>{r[o].disabled=n})}function vT(t,e){const n=ft();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${ee.radio}"]`);for(let o=0;o<r.length;o++)r[o].disabled=e}else t.disabled=e}function _T(){wT(this,["confirmButton","denyButton","cancelButton"],!1)}function ET(){wT(this,["confirmButton","denyButton","cancelButton"],!0)}function bT(){vT(this.getInput(),!1)}function CT(){vT(this.getInput(),!0)}function TT(t){const e=kt.domCache.get(this),n=kt.innerParams.get(this);kr(e.validationMessage,t),e.validationMessage.className=ee["validation-message"],n.customClass&&n.customClass.validationMessage&&mt(e.validationMessage,n.customClass.validationMessage),vn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",ee["validation-message"]),QC(r),mt(r,ee.inputerror))}function IT(){const t=kt.domCache.get(this);t.validationMessage&&$n(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wr(e,ee.inputerror))}const kl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},eL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],tL={allowEnterKey:void 0},nL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ST=t=>Object.prototype.hasOwnProperty.call(kl,t),xT=t=>eL.indexOf(t)!==-1,kT=t=>tL[t],rL=t=>{ST(t)||Jn(`Unknown parameter "${t}"`)},sL=t=>{nL.includes(t)&&Jn(`The parameter "${t}" is incompatible with toasts`)},iL=t=>{const e=kT(t);e&&WC(t,e)},RT=t=>{t.backdrop===!1&&t.allowOutsideClick&&Jn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Jn(`Invalid theme "${t.theme}"`);for(const e in t)rL(e),t.toast&&sL(e),iL(e)};function PT(t){const e=Qn(),n=ft(),r=kt.innerParams.get(this);if(!n||wi(n,r.hideClass.popup)){Jn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=oL(t),a=Object.assign({},r,o);RT(a),e.dataset.swal2Theme=a.theme,oT(this,a),kt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const oL=t=>{const e={};return Object.keys(t).forEach(n=>{xT(n)?e[n]=t[n]:Jn(`Invalid parameter to update: ${n}`)}),e};function AT(){const t=kt.domCache.get(this),e=kt.innerParams.get(this);if(!e){NT(this);return}t.popup&&De.swalCloseEventFinishedCallback&&(De.swalCloseEventFinishedCallback(),delete De.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),De.eventEmitter.emit("didDestroy"),aL(this)}const aL=t=>{NT(t),delete t.params,delete De.keydownHandler,delete De.keydownTarget,delete De.currentInstance},NT=t=>{t.isAwaitingPromise?(Hm(kt,t),t.isAwaitingPromise=!0):(Hm(Fl,t),Hm(kt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Hm=(t,e)=>{for(const n in t)t[n].delete(e)};var lL=Object.freeze({__proto__:null,_destroy:AT,close:po,closeModal:po,closePopup:po,closeToast:po,disableButtons:ET,disableInput:CT,disableLoading:Zh,enableButtons:_T,enableInput:bT,getInput:yT,handleAwaitingPromise:Fu,hideLoading:Zh,rejectPromise:fT,resetValidationMessage:IT,showValidationMessage:TT,update:PT});const cL=(t,e,n)=>{t.toast?uL(t,e,n):(hL(e),fL(e),pL(t,e,n))},uL=(t,e,n)=>{e.popup.onclick=()=>{t&&(dL(t)||t.timer||t.input)||n(ic.close)}},dL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let ef=!1;const hL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(ef=!0)}}},fL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(ef=!0)}}},pL=(t,e,n)=>{e.container.onclick=r=>{if(ef){ef=!1;return}r.target===e.container&&Bf(t.allowOutsideClick)&&n(ic.backdrop)}},mL=t=>typeof t=="object"&&t.jquery,bE=t=>t instanceof Element||mL(t),gL=t=>{const e={};return typeof t[0]=="object"&&!bE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const o=t[r];typeof o=="string"||bE(o)?e[n]=o:o!==void 0&&Na(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function yL(...t){return new this(...t)}function wL(t){class e extends this{_main(r,o){return super._main(r,Object.assign({},t,o))}}return e}const vL=()=>De.timeout&&De.timeout.getTimerLeft(),DT=()=>{if(De.timeout)return kO(),De.timeout.stop()},OT=()=>{if(De.timeout){const t=De.timeout.start();return aw(t),t}},_L=()=>{const t=De.timeout;return t&&(t.running?DT():OT())},EL=t=>{if(De.timeout){const e=De.timeout.increase(t);return aw(e,!0),e}},bL=()=>!!(De.timeout&&De.timeout.isRunning());let CE=!1;const Pg={};function CL(t="data-swal-template"){Pg[t]=this,CE||(document.body.addEventListener("click",TL),CE=!0)}const TL=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Pg){const r=e.getAttribute(n);if(r){Pg[n].fire({template:r});return}}};class IL{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...o)=>{this.removeListener(e,r),n.apply(this,o)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}De.eventEmitter=new IL;const SL=(t,e)=>{De.eventEmitter.on(t,e)},xL=(t,e)=>{De.eventEmitter.once(t,e)},kL=(t,e)=>{if(!t){De.eventEmitter.reset();return}e?De.eventEmitter.removeListener(t,e):De.eventEmitter.removeAllListeners(t)};var RL=Object.freeze({__proto__:null,argsToParams:gL,bindClickHandler:CL,clickCancel:gj,clickConfirm:aT,clickDeny:mj,enableLoading:$l,fire:yL,getActions:Lu,getCancelButton:rc,getCloseButton:rw,getConfirmButton:Bs,getContainer:Qn,getDenyButton:Da,getFocusableElements:sw,getFooter:JC,getHtmlContainer:tw,getIcon:nc,getIconContent:EO,getImage:KC,getInputLabel:bO,getLoader:sc,getPopup:ft,getProgressSteps:nw,getTimerLeft:vL,getTimerProgressBar:Hf,getTitle:GC,getValidationMessage:zf,increaseTimer:EL,isDeprecatedParameter:kT,isLoading:TO,isTimerRunning:bL,isUpdatableParameter:xT,isValidParameter:ST,isVisible:pj,mixin:wL,off:kL,on:SL,once:xL,resumeTimer:OT,showLoading:$l,stopTimer:DT,toggleTimer:_L});class PL{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const jT=["swal-title","swal-html","swal-footer"],AL=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return FL(n),Object.assign(NL(n),DL(n),OL(n),jL(n),LL(n),ML(n),VL(n,jT))},NL=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{va(r,["name","value"]);const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(typeof kl[o]=="boolean"?e[o]=a!=="false":typeof kl[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},DL=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const o=r.getAttribute("name"),a=r.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},OL=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{va(r,["type","color","aria-label"]);const o=r.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=r.innerHTML,e[`show${Xy(o)}Button`]=!0,r.hasAttribute("color")&&(e[`${o}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},jL=t=>{const e={},n=t.querySelector("swal-image");return n&&(va(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},LL=t=>{const e={},n=t.querySelector("swal-icon");return n&&(va(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},ML=t=>{const e={},n=t.querySelector("swal-input");n&&(va(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(o=>{va(o,["value"]);const a=o.getAttribute("value");if(!a)return;const c=o.innerHTML;e.inputOptions[a]=c})),e},VL=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(va(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},FL=t=>{const e=jT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Jn(`Unrecognized element <${r}>`)})},va=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Jn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},LT=10,$L=t=>{const e=Qn(),n=ft();typeof t.willOpen=="function"&&t.willOpen(n),De.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;zL(e,n,t),setTimeout(()=>{UL(e,n)},LT),iw()&&(BL(e,t.scrollbarPadding,o),Tj()),!qf()&&!De.previousActiveElement&&(De.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),De.eventEmitter.emit("didOpen",n),Wr(e,ee["no-transition"])},tf=t=>{const e=ft();if(t.target!==e)return;const n=Qn();e.removeEventListener("animationend",tf),e.removeEventListener("transitionend",tf),n.style.overflowY="auto"},UL=(t,e)=>{XC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",tf),e.addEventListener("transitionend",tf)):t.style.overflowY="auto"},BL=(t,e,n)=>{Ij(),e&&n!=="hidden"&&Nj(n),setTimeout(()=>{t.scrollTop=0})},zL=(t,e,n)=>{mt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),vn(e,"grid"),setTimeout(()=>{mt(e,n.showClass.popup),e.style.removeProperty("opacity")},LT)):vn(e,"grid"),mt([document.documentElement,document.body],ee.shown),n.heightAuto&&n.backdrop&&!n.toast&&mt([document.documentElement,document.body],ee["height-auto"])};var TE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function HL(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=TE.email),t.input==="url"&&(t.inputValidator=TE.url))}function qL(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Jn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function WL(t){HL(t),t.showLoaderOnConfirm&&!t.preConfirm&&Jn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),qL(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),LO(t)}let Ns;var th=new WeakMap;class Qt{constructor(...e){if(fO(this,th,void 0),typeof window>"u")return;Ns=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,pO(th,this,this._main(Ns.params))}_main(e,n={}){if(RT(Object.assign({},n,e)),De.currentInstance){const a=Fl.swalPromiseResolve.get(De.currentInstance),{isAwaitingPromise:c}=De.currentInstance;De.currentInstance._destroy(),c||a({isDismissed:!0}),iw()&&uT()}De.currentInstance=Ns;const r=KL(e,n);WL(r),Object.freeze(r),De.timeout&&(De.timeout.stop(),delete De.timeout),clearTimeout(De.restoreFocusTimeout);const o=JL(Ns);return oT(Ns,r),kt.innerParams.set(Ns,r),GL(Ns,o,r)}then(e){return pE(th,this).then(e)}finally(e){return pE(th,this).finally(e)}}const GL=(t,e,n)=>new Promise((r,o)=>{const a=c=>{t.close({isDismissed:!0,dismiss:c})};Fl.swalPromiseResolve.set(t,r),Fl.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{Jj(t)},e.denyButton.onclick=()=>{Qj(t)},e.cancelButton.onclick=()=>{Yj(t,a)},e.closeButton.onclick=()=>{a(ic.close)},cL(n,e,a),yj(De,n,a),$j(t,n),$L(n),QL(De,n,a),YL(e,n),setTimeout(()=>{e.container.scrollTop=0})}),KL=(t,e)=>{const n=AL(t),r=Object.assign({},kl,e,n,t);return r.showClass=Object.assign({},kl.showClass,r.showClass),r.hideClass=Object.assign({},kl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},JL=t=>{const e={popup:ft(),container:Qn(),actions:Lu(),confirmButton:Bs(),denyButton:Da(),cancelButton:rc(),loader:sc(),closeButton:rw(),validationMessage:zf(),progressSteps:nw()};return kt.domCache.set(t,e),e},QL=(t,e,n)=>{const r=Hf();$n(r),e.timer&&(t.timeout=new PL(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(vn(r),Sr(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&aw(e.timer)})))},YL=(t,e)=>{if(!e.toast){if(!Bf(e.allowEnterKey)){WC("allowEnterKey"),eM();return}XL(t)||ZL(t,e)||Rg(-1,1)}},XL=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&dr(n))return n.focus(),!0;return!1},ZL=(t,e)=>e.focusDeny&&dr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&dr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,eM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Qt.prototype.disableButtons=ET;Qt.prototype.enableButtons=_T;Qt.prototype.getInput=yT;Qt.prototype.disableInput=CT;Qt.prototype.enableInput=bT;Qt.prototype.hideLoading=Zh;Qt.prototype.disableLoading=Zh;Qt.prototype.showValidationMessage=TT;Qt.prototype.resetValidationMessage=IT;Qt.prototype.close=po;Qt.prototype.closePopup=po;Qt.prototype.closeModal=po;Qt.prototype.closeToast=po;Qt.prototype.rejectPromise=fT;Qt.prototype.update=PT;Qt.prototype._destroy=AT;Object.assign(Qt,RL);Object.keys(lL).forEach(t=>{Qt[t]=function(...e){return Ns&&Ns[t]?Ns[t](...e):null}});Qt.DismissReason=ic;Qt.version="11.23.0";const Ne=Qt;Ne.default=Ne;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const _a="/Fantasy-Casadillos/assets/fondo-eokbdqwF.png",Ct="/Fantasy-Casadillos/SinPerfil.jpg",tM="/Fantasy-Casadillos/assets/logo-SpomIjKJ.png",nM="/Fantasy-Casadillos/assets/google-TFXIOWN1.png",rM="/Fantasy-Casadillos/assets/ojoabierto-C0_qB28s.png",sM="/Fantasy-Casadillos/assets/ojocerrado-BSHA7EgA.png",Uc=Kr(kn),qm=hr(kn),iM=new Os,oM=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),[o,a]=C.useState(tM),c=Gy();C.useEffect(()=>{window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")})},[]);const h=async v=>{v.preventDefault();const b=new FormData(v.currentTarget),T=b.get("email"),A=b.get("password");if(n)try{const L=b.get("nick"),$=Vn(qm,"usuarios"),O=Zl($,Au("nick","==",L));if(!(await hs(O)).empty){Ne.fire({icon:"error",title:"Nick en uso",text:"Ese nombre de usuario ya est ocupado. Elige otro."});return}const{user:M}=await dR(Uc,T,A);await Ub(Uc.currentUser,{displayName:L});const z={nick:L,correo:T,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()};await pu(Le(qm,"usuarios",M.uid),z,{merge:!0})}catch(L){console.error("Error registrando usuario:",L);let $="No se pudo crear la cuenta. Revisa los datos.";L.code==="auth/email-already-in-use"?$="Ya existe una cuenta con este correo.":L.code==="auth/weak-password"?$="La contrasea debe tener al menos 6 caracteres.":L.code==="auth/invalid-email"?$="El correo electrnico no es vlido.":$=`Error desconocido: ${L.code}`,Ne.fire({icon:"error",title:"Error",text:$})}else try{await hR(Uc,T,A),console.log("Inicio de sesin exitoso"),c("/home")}catch(L){console.error("Error iniciando sesin:",L);let $="Error al iniciar sesin.";(L.code==="auth/invalid-credential"||L.code==="auth/wrong-password"||L.code==="auth/user-not-found")&&($="Correo o contrasea incorrectos."),Ne.fire({icon:"error",title:"Error al iniciar sesin",text:$})}},f=async()=>{const{value:v}=await Ne.fire({title:"Recuperar contrasea",input:"email",inputLabel:"Introduce tu correo electrnico",inputPlaceholder:"correo@ejemplo.com",confirmButtonText:"Enviar enlace",showCancelButton:!0,cancelButtonText:"Cancelar",inputValidator:b=>{if(!b)return"El correo es obligatorio"}});if(v)try{await $b(Uc,v),Ne.fire("Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(b){Ne.fire("Error",b.message,"error")}},y=async()=>{try{const v=await FR(Uc,iM);if(!v?.user)throw new Error("No se obtuvo el usuario de Google.");const b=v.user,T=Le(qm,"usuarios",b.uid);(await xt(T)).exists()||await pu(T,{nick:b.displayName||"",correo:b.email,puntos:0,rol:"usuario",dinero:4e7,equipo:{formacion:"2-1-1",titulares:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],banquillo:[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],capitan:null},fotoPerfil:"https://res.cloudinary.com/drmoefeeq/image/upload/v1757670238/SinPerfil_w61dic.jpg",puntuaciones:[],onboarding:!1,equipocreado:!1,creadoEn:new Date().toISOString()})}catch(v){if(v.code==="auth/popup-closed-by-user"||v.code==="auth/cancelled-popup-request")return;console.error("Error en loginConGoogle:",v),Ne.fire({icon:"error",title:"Error",text:v.message||"No se pudo iniciar sesin con Google"})}};return m.jsxs("div",{className:"login-hero",style:{minHeight:"100vh",backgroundImage:`url(${_a})`,backgroundSize:"cover",backgroundColor:"black",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),m.jsxs("div",{className:"form-card",style:{textAlign:"center"},children:[m.jsx("div",{className:"text-app",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"lightblue",textShadow:"0 0 10px rgba(0,0,255,0.7)"},children:"BIENVENIDO AL FANTASY CASADILLOS"}),m.jsx("div",{style:{position:"relative",display:"inline-block",textAlign:"center"},children:m.jsx("label",{style:{cursor:"default",display:"inline-block"},children:m.jsx("img",{src:o,alt:"Foto de Logo",className:"estilo-profile"})})}),m.jsxs("form",{onSubmit:h,children:[m.jsx("input",{type:"email",name:"email",placeholder:"Introducir email",className:"cajatexto",required:!0}),n&&m.jsx("input",{type:"text",name:"nick",placeholder:"Introducir nombre",className:"cajatexto",required:!0}),m.jsxs("div",{className:"cajaContainerContrasea",children:[m.jsx("input",{type:t?"text":"password",name:"password",placeholder:"Introducir contrasea",className:"cajacontrasea",required:!0}),m.jsx("img",{src:t?rM:sM,alt:"Mostrar contrasea",className:"toggle-password-icon",onClick:()=>e(v=>!v)})]}),!n&&m.jsx("div",{style:{textAlign:"right",marginBottom:"1rem"},children:m.jsx("button",{type:"button",onClick:f,className:"link-style",children:"Has olvidado la contrasea?"})}),n?m.jsx("button",{className:"btnRegistrarse",type:"submit",style:{marginTop:"1rem"},children:"Registrarse"}):m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[m.jsx("button",{className:"btnIniciarSesion",type:"submit",children:"Iniciar Sesin"}),m.jsx("span",{style:{fontWeight:"bold",color:"lightgray"},children:"o"}),m.jsxs("button",{type:"button",onClick:y,className:"btn-google",style:{width:"auto"},children:[m.jsx("img",{src:nM,alt:"Google"}),"Google"]})]})]}),m.jsxs("h4",{className:"texto",children:[n?"Si ya tienes cuenta":"Si no tienes cuenta",m.jsx("button",{className:"btnswitch",type:"button",onClick:()=>r(!n),children:n?"Inicia sesin":"Regstrate"})]})]})]})},Ag={"1-1-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}],"2-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-2-1 A":[{top:"30%",left:"50%"},{top:"70%",left:"70%"},{top:"70%",left:"30%"},{top:"88%",left:"50%"}],"1-2-1 B":[{top:"30%",left:"50%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"}],"2-1-1":[{top:"30%",left:"50%"},{top:"50%",left:"50%"},{top:"70%",left:"30%"},{top:"70%",left:"70%"}],"1-1-2":[{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"70%",left:"50%"},{top:"88%",left:"50%"}]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebasestorage.googleapis.com",aM="storageBucket",lM=120*1e3,cM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Hs{constructor(e,n,r=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zs||(zs={}));function Wm(t){return"storage/"+t}function uM(){const t="An unknown error occurred, please check the error payload for server response.";return new qs(zs.UNKNOWN,t)}function dM(){return new qs(zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hM(){return new qs(zs.CANCELED,"User canceled the upload/download.")}function fM(t){return new qs(zs.INVALID_URL,"Invalid URL '"+t+"'.")}function pM(t){return new qs(zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IE(t){return new qs(zs.INVALID_ARGUMENT,t)}function VT(){return new qs(zs.APP_DELETED,"The Firebase app was deleted.")}function mM(t){return new qs(zs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cs.makeFromUrl(e,n)}catch{return new cs(e,"")}if(r.path==="")return r;throw pM(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function y(Q){Q.path_=decodeURIComponent(Q.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${v}/b/${o}/o${T}`,"i"),L={bucket:1,path:3},$=n===MT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",W=new RegExp(`^https?://${$}/${o}/${O}`,"i"),z=[{regex:h,indices:f,postModify:a},{regex:A,indices:L,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let Q=0;Q<z.length;Q++){const ie=z[Q],J=ie.regex.exec(e);if(J){const S=J[ie.indices.bucket];let I=J[ie.indices.path];I||(I=""),r=new cs(S,I),ie.postModify(r);break}}if(r==null)throw fM(e);return r}}class gM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e,n){let r=1,o=null,a=null,c=!1,h=0;function f(){return h===2}let y=!1;function v(...O){y||(y=!0,e.apply(null,O))}function b(O){o=setTimeout(()=>{o=null,t(A,f())},O)}function T(){a&&clearTimeout(a)}function A(O,...W){if(y){T();return}if(O){T(),v.call(null,O,...W);return}if(f()||c){T(),v.call(null,O,...W);return}r<64&&(r*=2);let z;h===1?(h=2,z=0):z=(r+Math.random())*1e3,b(z)}let L=!1;function $(O){L||(L=!0,T(),!y&&(o!==null?(O||(h=2),clearTimeout(o),b(0)):O||(h=1)))}return b(0),a=setTimeout(()=>{c=!0,$(!0)},n),$}function wM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return t!==void 0}function SE(t,e,n,r){if(r<e)throw IE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw IE(`Invalid value for '${t}'. Expected ${n} or less.`)}function _M(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var nf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nf||(nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,o,a,c,h,f,y,v,b,T=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,$)=>{this.resolve_=L,this.reject_=$,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new nh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const f=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===nf.NO_ERROR,f=a.getStatus();if(!h||EM(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===nf.ABORT;r(!1,new nh(!1,null,v));return}const y=this.successCodes_.indexOf(f)!==-1;r(!0,new nh(y,a))})},n=(r,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());vM(f)?a(f):a()}catch(f){c(f)}else if(h!==null){const f=uM();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(o.canceled){const f=this.appDelete_?VT():hM();c(f)}else{const f=dM();c(f)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=yM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function SM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xM(t,e,n,r,o,a,c=!0,h=!1){const f=_M(t.urlParams),y=t.url+f,v=Object.assign({},t.headers);return IM(v,e),CM(v,n),TM(v,a),SM(v,r),new bM(y,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this._service=e,n instanceof cs?this._location=n:this._location=cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rf(e,n)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RM(this._location.path)}get storage(){return this._service}get parent(){const e=kM(this._location.path);if(e===null)return null;const n=new cs(this._location.bucket,e);return new rf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mM(e)}}function xE(t,e){const n=e?.[aM];return n==null?null:cs.makeFromBucketSpec(n,t)}function PM(t,e,n,r={}){t.host=`${e}:${n}`;const o=Ca(e);o&&(Bg(`https://${t.host}/b`),zg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:ub(a,t.app.options.projectId))}class AM{constructor(e,n,r,o,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=MT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lM,this._maxUploadRetryTime=cM,this._requests=new Set,o!=null?this._bucket=cs.makeFromBucketSpec(o,this._host):this._bucket=xE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cs.makeFromBucketSpec(this._url,e):this._bucket=xE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rf(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new gM(VT());{const c=xM(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const kE="@firebase/storage",RE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="storage";function $u(t=Wg(),e){t=Dt(t);const r=hf(t,FT).getImmediate({identifier:e}),o=ab("storage");return o&&NM(r,...o),r}function NM(t,e,n,r={}){PM(t,e,n,r)}function DM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new AM(n,r,o,e,Ta)}function OM(){fa(new _o(FT,DM,"PUBLIC").setMultipleInstances(!0)),js(kE,RE,""),js(kE,RE,"esm2020")}OM();function Ul({usuario:t,openModal:e,setOpenModal:n}){const r=Kr(),o=hr();$u();const a=t?.fotoPerfil||Ct,[c,h]=C.useState(!1),[f,y]=C.useState(!1),[v,b]=C.useState(a),[T,A]=C.useState(null),[L,$]=C.useState(t.nick),[O,W]=C.useState(t.correo),[M,z]=C.useState(""),[Q,ie]=C.useState(!1),[J,S]=C.useState(""),[I,k]=C.useState(""),R=C.useRef();C.useEffect(()=>{e&&(b(t.fotoPerfil),A(null),$(t.nick),W(t.correo),z(""),S(t.nick),k(t.correo))},[e,t]),C.useEffect(()=>{const Z=L!==J||O!==I||M.length>0||T!==null;y(Z)},[L,O,M,T,J,I]);const D=async()=>{const Z=r.currentUser?.email;if(!Z){Ne.fire("Error","No se encontr un correo asociado al usuario","error");return}try{await $b(r,Z),await Ne.fire("Correo enviado!","Revisa tu bandeja de entrada o bandeja de spam","success")}catch(se){Ne.fire("Error",se.message,"error")}},F=Z=>Z.toLocaleString("es-ES")+"",P=Z=>{Z.target===R.current&&n(!1)},Me=Z=>{const se=Z.target.files[0];if(!se)return;A(se);const te=new FileReader;te.onloadend=()=>b(te.result),te.readAsDataURL(se)},xe=async()=>{try{ie(!0);const Z=r.currentUser;let se=t.fotoPerfil;if(T){if(T.size>1*1024*1024){await Ne.fire({icon:"error",title:"Error",text:"La imagen es demasiado grande (mx. 1 MB)."});return}const j=new FormData;j.append("file",T),j.append("upload_preset","perfil_preset");const ce=await(await fetch("https://api.cloudinary.com/v1_1/drmoefeeq/image/upload",{method:"POST",body:j})).json();if(ce.secure_url)se=ce.secure_url;else{Ne.fire({icon:"error",title:"Error",text:"Error subiendo a Cloudinary"});return}}L!==t.nick&&await Ub(Z,{displayName:L}),M&&await pR(Z,M);const te=Le(o,"usuarios",Z.uid);await yt(te,{fotoPerfil:se,nick:L}),await Ne.fire("Datos actualizados","Se han guardado sus modificaciones correctamente.","success")}catch(Z){console.error("Error guardando perfil:",Z),alert("No se pudo guardar los cambios: "+Z.message)}finally{ie(!1),window.location.reload()}},He=async()=>{const Z=r.currentUser;if(!Z)throw new Error("No hay usuario autenticado.");const se=Z.uid;if(Z.providerData[0].providerId==="password"){const{value:ne}=await Ne.fire({title:"Confirma tu contrasea",input:"password",inputLabel:"Introduce tu contrasea para continuar",inputPlaceholder:"Tu contrasea",inputAttributes:{autocapitalize:"off",autocorrect:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"});if(!ne)throw new Error("Se cancel la reautenticacin");const ce=Ia.credential(Z.email,ne);await uR(Z,ce)}else if(Z.providerData[0].providerId==="google.com"){const ne=new Os;await $R(Z,ne)}else throw new Error("Proveedor no soportado para reautenticacin.");const te=Zl(Vn(o,"jugadores"),Au("dueos","array-contains",se)),G=(await hs(te)).docs.map(async ne=>{const ce=ne.ref;await yt(ce,{stockLibre:Vl(1),dueos:Ml(se)})});await Promise.all(G);const B=Le(o,"usuarios",se);await By(B),await vR(Z)},ke=async()=>{if((await Ne.fire({title:"Ests seguro?",text:"Esta accin eliminar tu cuenta permanentemente. No podrs deshacerlo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, borrar cuenta",cancelButtonText:"Cancelar"})).isConfirmed)try{ie(!0),await He(),await Ne.fire("Cuenta eliminada","Tu cuenta ha sido borrada exitosamente.","success")}catch(se){console.error("Error al borrar la cuenta:",se),Ne.fire("Error","No se pudo borrar la cuenta: "+se.message,"error")}finally{ie(!1)}};return e?m.jsx("div",{className:"modal-overlay",ref:R,onClick:P,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:""}),m.jsxs("div",{className:"modal-header",children:[m.jsxs("label",{className:"modal-avatar",children:[m.jsx("img",{src:v,alt:"Perfil"}),m.jsx("input",{type:"file",accept:"image/*",onChange:Me}),m.jsx("span",{className:"modal-avatar-overlay",children:"Editar"})]}),m.jsxs("div",{className:"modal-userinfo",children:[m.jsx("h2",{children:t.nick}),m.jsx("small",{children:t.correo}),m.jsxs("small",{children:["Dinero: ",m.jsx("span",{className:"dinero-verde",children:F(t.dinero)})]}),m.jsx("div",{className:"ultimas-jornadas",children:t.puntuaciones&&t.puntuaciones.length>0?t.puntuaciones.slice(-5).map((Z,se,te)=>{const j=Z??"-",G=te.length<5?se+1:t.puntuaciones.length-5+se+1;let B="";return typeof Z=="number"&&(Z>=36?B="verde":Z<28?B="rojo":B="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",G]}),m.jsx("div",{className:`jornada-cuadro ${B}`,children:j})]},se)}):[...Array(5)].map((Z,se)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",se+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},se))})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"field-group",children:[m.jsxs("label",{children:["Nick ",m.jsx("small",{children:"(Recomendado mximo 12 caracteres)"})]}),m.jsxs("div",{className:"field-with-icon",children:[m.jsx("input",{type:"text",value:L,onChange:Z=>$(Z.target.value),disabled:!c}),m.jsx("button",{className:"icon-pencil",onClick:()=>h(!c),title:"Editar nick",children:""})]})]}),m.jsx("div",{style:{textAlign:"left"},children:m.jsx("button",{type:"button",onClick:D,className:"link-style",children:"Cambiar contrasea"})})]}),m.jsxs("div",{className:"modal-footer",children:[f&&m.jsx("button",{className:"modal-save-btn",onClick:xe,disabled:Q,children:Q?"Guardando":"Guardar cambios"}),m.jsx("button",{className:"modal-delete-btn",onClick:ke,disabled:Q,children:"Borrar cuenta"})]})]})}):null}function jM({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,user:o,edicionActiva:a}){const c=Kr(),h=hr(kn);$u();const f=t?.foto||Ct,[y,v]=C.useState(null),b=c.currentUser,[T,A]=C.useState(!1);C.useEffect(()=>{const J=async()=>{try{const S=Le(h,"mercadoUsuarios","actual"),I=await xt(S);if(!I.exists()){A(!1);return}const D=(I.data().jugadores||[]).some(F=>F.jugadorId===t.id);A(D)}catch(S){console.error("Error al comprobar venta:",S),A(!1)}};t?.id&&J()},[t]);const L=async()=>{if(!t||!o)return;if(!a){await Ne.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const J=Math.round(t.precio*.6),S=Le(h,"usuarios",o.uid),I=Le(h,"jugadores",t.id);try{await yt(S,{dinero:Vl(J)}),await yt(I,{stockLibre:Vl(1),dueos:Ml(o.uid)});const k=await xt(S);if(k.exists()){const R=k.data(),D=R.equipo.titulares.map(P=>P.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:P),F=R.equipo.banquillo.map(P=>P.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:P);await yt(S,{"equipo.titulares":D,"equipo.banquillo":F})}await qh(Vn(h,"historial"),{tipo:"venta directa",vendedorId:b.uid,vendedorNick:o.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:J,fecha:new Date}),await Ne.fire({icon:"success",title:"Jugador vendido!",html:`Has recibido <strong>${J.toLocaleString("es-ES")}</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(k){console.error("Error en la venta:",k),await Ne.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}},$=async(J,S)=>{try{const I=c.currentUser;if(!I)throw new Error("Usuario no autenticado");const k=Le(h,"usuarios",I.uid),D=(await xt(k)).data();if(!D)throw new Error("No se encontr el usuario en Firestore");const F={jugadorId:J.id,precioVenta:S,vendedorUid:I.uid,vendedorNick:D.nick,fecha:new Date().toISOString()},P=Le(h,"mercadoUsuarios","actual");await pu(P,{jugadores:Ff(F),ultimaActualizacion:zy()},{merge:!0}),await Ne.fire({icon:"success",title:"Jugador puesto en venta!",confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"})}catch(I){console.error("Error al poner en mercado:",I)}},O=()=>{const J=Math.round(t.precio*.6);Ne.fire({title:"Cmo quieres vender?",showDenyButton:!0,confirmButtonText:" Poner en el Mercado",denyButtonText:`Venta Directa
(<span style="color:#2ecc71">+${J.toLocaleString("es-ES")}</span>)`,confirmButtonColor:"#28a745",denyButtonColor:"#4878a4ff",background:"#1e1e1e",scrollbarPadding:!1,color:"#fff"}).then(async S=>{if(S.isConfirmed){const{value:I}=await Ne.fire({title:"Introduce el precio de venta",input:"number",inputLabel:"Precio en ",inputPlaceholder:"Ej: 5.000.000",confirmButtonText:"Poner en venta",cancelButtonText:"Cancelar",showCancelButton:!0,background:"#1e1e1e",scrollbarPadding:!1,color:"#fff",inputValidator:k=>{if(!k||k<=0)return"Debes introducir un precio vlido";if(k<t.precio)return"Debes introducir un precio que sea mnimo superior al valor de mercado"}});I&&(console.log("Venta en mercado por",I),$(t,parseInt(I,10)))}else S.isDenied&&(console.log("Venta directa por",J),L())})},W=J=>{switch(J){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return J||"Sin posicin"}},M=C.useRef();C.useEffect(()=>{(async()=>{if(!o)return;const S=Le(h,"usuarios",o.uid),I=await xt(S);if(I.exists()){const k=I.data();v(k.equipo?.capitan||null)}})()},[o,h,n]);const z=async J=>{try{const S=Le(h,"usuarios",o.uid);await yt(S,{"equipo.capitan":J}),v(J),await Ne.fire({icon:"success",title:"Capitn asignado!",text:`${t.nombre} ahora es tu capitn.`,confirmButtonColor:"#28a745"})}catch(S){console.error("Error al asignar capitn:",S),Ne.fire({icon:"error",title:"Error",text:"No se pudo asignar el capitn, intntalo de nuevo."})}finally{window.location.reload()}},Q=J=>{J.target===M.current&&r(!1)},ie=J=>J.toLocaleString("es-ES")+"";return n?m.jsx("div",{className:"modal-overlay",ref:M,onClick:Q,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:""}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:f,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:W(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",ie(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const J=t.historialPrecios||[];if(J.length===0)return m.jsx("small",{children:"(0)"});const S=J[J.length-1].precio||0,I=t.precio-S,k=I>0?"+":I<0?"-":"";return m.jsxs("small",{className:I>0?"subida":I<0?"bajada":"igual",children:["(",k,ie(Math.abs(I)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Clasula:"})," ",ie(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(J=>typeof J=="number").reduce((J,S,I,k)=>J+S/k.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((J,S,I)=>{const k=J??"-",R=I.length<5?S+1:t.puntosPorJornada.length-5+S+1;let D="";return typeof J=="number"&&(J>=9?D="verde":J<7?D="rojo":D="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",R]}),m.jsx("div",{className:`jornada-cuadro ${D}`,children:k})]},S)}):[...Array(5)].map((J,S)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",S+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},S))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoracin"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:a?m.jsxs(m.Fragment,{children:[T?m.jsx("button",{className:"btn-accion",disabled:!0,children:"Ya est en venta"}):m.jsx("button",{className:"btn-accion",onClick:()=>O(),children:"Vender"}),m.jsx("button",{className:"btn-capitan",disabled:y===t.id,onClick:()=>z(t.id),children:y===t.id?"Ya es capitn":"Nombrar capitn"})]}):m.jsx("button",{className:"btn-accion",disabled:!0,children:" Jornada empezada"})})]})}):null}const co=hr(kn),$T=async()=>{try{const t=Le(co,"mercado","actual"),e=await xt(t);if(e.exists()){const f=e.data();for(const y of f.jugadores)if(y.stock>0){const v=Le(co,"jugadores",y.idJugador);await yt(v,{stockLibre:Vl(y.stock),dueos:Ml("mercado")})}}const o=(await hs(Vn(co,"jugadores"))).docs.map(f=>({idJugador:f.id,...f.data()})).filter(f=>f.stockLibre>0).sort(()=>.5-Math.random()).slice(0,15);for(const f of o){const y=Le(co,"jugadores",f.idJugador);await yt(y,{stockLibre:Vl(-1),dueos:Ff("mercado")})}await yt(t,{jugadores:o.map(f=>({idJugador:f.idJugador,nombre:f.nombre,vendedor:"Fantasy Casadillos"})),ultimaActualizacion:zy()});const a=Vn(co,"mercado/actual/usuarios"),h=(await hs(a)).docs.map(f=>({idVenta:f.id,...f.data(),vendedor:f.data().vendedorNick||"Usuario"}));return[...o,...h]}catch(t){throw console.error("Error al refrescar mercado:",t),t}},LM=async()=>{try{const t=Le(co,"mercado","actual"),e=await xt(t);if(!e.exists())return;const n=e.data();for(const a of n.jugadores||[])if(a.vendedor==="Fantasy Casadillos"){const c=Le(co,"jugadores",a.idJugador);await yt(c,{stockLibre:Vl(a.stock||1),dueos:Ml("mercado")})}const r=Vn(co,"mercado/actual/usuarios"),o=await hs(r);for(const a of o.docs)await By(a.ref);return await yt(t,{jugadores:[],ultimaActualizacion:null}),!0}catch(t){throw console.error("Error al resetear mercado:",t),t}};function Bl({user:t,openModal:e,setOpenModal:n}){Kr();const r=hr();$u();const o=C.useRef(),[a,c]=C.useState(!1),[h,f]=C.useState(!1),y=v=>{v.target===o.current&&n(!1)};return e?m.jsx("div",{className:"modal-overlay",ref:o,onClick:y,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:""}),m.jsxs("div",{className:"modal-footer-grid",children:[m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:a,onClick:async()=>{c(!0);try{await $T(),(await Ne.fire({title:"Mercado actualizado",text:"Se ha refrescado el mercado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch(v){console.error(v),await Ne.fire({title:"Error",text:"No se pudo actualizar el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{c(!1)}},children:a?" Cargando...":" Actualizar mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",disabled:h,onClick:async()=>{f(!0);try{await LM(),(await Ne.fire({title:"xito",text:"El mercado se ha reseteado correctamente",icon:"success",confirmButtonText:"Aceptar"})).isConfirmed&&n(!1)}catch{await Ne.fire({title:"Error",text:"No se pudo resetear el mercado",icon:"error",confirmButtonText:"Aceptar"})}finally{f(!1)}},children:h?" Reseteando...":" Resetear mercado"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Le(r,"admin","controles");await yt(v,{edicionActiva:!1}),await Ne.fire({title:"Jornada iniciada",text:"Se han bloqueado los cambios de formaciones y mercado",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al empezar jornada:",v),await Ne.fire({title:"Error",text:"No se pudo empezar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:" Empezar jornada"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Le(r,"admin","controles");await yt(v,{edicionActiva:!0}),await yt(v,{clausulaPermitida:!0}),await Ne.fire({title:"Jornada finalizada",text:"Se han repartido los puntos y desbloqueado la edicin",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al finalizar la jornada:",v),await Ne.fire({title:"Error",text:"No se pudo acabar la jornada",icon:"error",confirmButtonText:"Aceptar"})}},children:" Repartir puntos"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Le(r,"admin","controles");await yt(v,{clausulaPermitida:!0}),await Ne.fire({title:"Clusulas activadas",text:"Los jugadores pueden ser comprados por clusula",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al activar clusulas:",v),await Ne.fire({title:"Error",text:"No se pudo activar la clusula",icon:"error",confirmButtonText:"Aceptar"})}},children:" Activar clusulas"}),m.jsx("button",{type:"button",className:"modal-admin-btn",onClick:async()=>{try{const v=Le(r,"admin","controles");await yt(v,{clausulaPermitida:!1}),await Ne.fire({title:"Clusulas desactivadas",text:"Las clusulas de rescisin han sido bloqueadas",icon:"success",confirmButtonText:"Aceptar"}),window.location.reload()}catch(v){console.error("Error al desactivar clusulas:",v),await Ne.fire({title:"Error",text:"No se pudo desactivar la clusula",icon:"error",confirmButtonText:"Aceptar"})}},children:" Bloquear clusulas"})]})]})}):null}const no=hr(kn),PE=Kr(kn),MM={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function AE(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=MM[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const c=t.posicion;return c==="POR"?r=a==="POR"?"green":"red":c==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":c==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":c==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function VM({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,c]=C.useState(!1),h=t?.fotoPerfil||Ct,f=t?.equipo?.titulares||[],y=t?.equipo?.banquillo||[],[v,b]=C.useState(f),[T,A]=C.useState(y),[L,$]=C.useState([]),[O,W]=C.useState(null),M=t?.equipo?.capitan||"",z=Object.keys(Ag),[Q,ie]=C.useState(t?.equipo?.formacion||"2-1-1"),[J,S]=C.useState(Q),[I,k]=C.useState(!1),[R,D]=C.useState(!1),[F,P]=C.useState(t?.equipocreado),[Me,xe]=C.useState(!1),[He,ke]=C.useState(!1),[Z,se]=C.useState(!1),[te,j]=C.useState(!1),G=C.useRef(null),B=()=>Cu(PE),[ne,ce]=C.useState(!1),[ae,ge]=C.useState(null),[me,ye]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const Ee=Le(no,"admin","controles"),at=await xt(Ee);if(at.exists()){const Oe=at.data();ye(Oe.edicionActiva===!0)}}catch(Ee){console.error("Error al obtener estado de edicin:",Ee)}})()},[]);const Ke=()=>{ce(!ne),ge(null)},Be=($e,Ee,at)=>{if(ne)if(at==="titulares"?[...v]:[...T],!ae)ge({jugadorId:$e,index:Ee,tipo:at});else{const{index:Oe,tipo:We}=ae,_t=We==="titulares"?v[Oe]:T[Oe],Qe=at==="titulares"?v[Ee]:T[Ee];if(_t===null&&Qe===null){ge(null);return}if(We==="titulares"&&at==="titulares"){const tt=[...v];[tt[Oe],tt[Ee]]=[tt[Ee],tt[Oe]],b(tt)}else if(We==="banquillo"&&at==="banquillo"){const tt=[...T];[tt[Oe],tt[Ee]]=[tt[Ee],tt[Oe]],A(tt)}else{const tt=[...v],nt=[...T];We==="titulares"?[tt[Oe],nt[Ee]]=[nt[Ee],tt[Oe]]:[nt[Oe],tt[Ee]]=[tt[Ee],nt[Oe]],b(tt),A(nt)}D(!0),ge(null)}};C.useEffect(()=>{const $e=Ee=>{G.current&&!G.current.contains(Ee.target)&&j(!1)};return document.addEventListener("mousedown",$e),()=>{document.removeEventListener("mousedown",$e)}},[]);const Je=$e=>{S($e.target.value)},Un=async()=>{try{k(!0);const $e=Le(no,"usuarios",t.uid);await yt($e,{"equipo.formacion":J,"equipo.titulares":v,"equipo.banquillo":T}),ie(J),D(!1)}catch($e){console.error("Error al guardar formacin:",$e)}finally{k(!1),ce(!1)}},Bn=()=>{c(!a)},fr=$e=>$e.toLocaleString("es-ES")+"",Jr=async()=>{try{k(!0);const $e=await hs(Vn(no,"jugadores"));let Ee=[];if($e.forEach(nt=>{const rt=nt.data();rt.stockLibre>0&&Ee.push({id:nt.id,...rt})}),Ee.length<4){await Ne.fire({icon:"warning",title:"No hay suficientes jugadores disponibles",text:"Se necesitan al menos 4 jugadores con stock para crear un equipo.",confirmButtonText:"Entendido"}),k(!1);return}const at=Ee.filter(nt=>nt.precio>15e6&&nt.precio<=4e7),Oe=Ee.filter(nt=>nt.precio<=15e6);let We=[],_t=0;if(at.length>=1&&Oe.length>=3){const nt=Math.floor(Math.random()*at.length);We.push(at[nt]);for(let rt=0;rt<3;rt++){const Et=Math.floor(Math.random()*Oe.length);We.push(Oe[Et]),Oe.splice(Et,1)}}else{const nt=Ee.filter(rt=>rt.precio<=4e7);if(nt.length<4){await Ne.fire({icon:"error",title:"No hay jugadores vlidos",text:"No hay suficiente stock para crear un equipo bajo las condiciones establecidas.",confirmButtonText:"Ok"}),k(!1);return}for(let rt=0;rt<4;rt++){const Et=Math.floor(Math.random()*nt.length);We.push(nt[Et]),nt.splice(Et,1)}We.every(rt=>rt.precio<15e6)&&(_t=1e7)}const Qe=We.map(async nt=>{const rt=Le(no,"jugadores",nt.id);return yt(rt,{stockLibre:nt.stockLibre-1,dueos:Ff(t.uid)})});await Promise.all(Qe);const tt=Le(no,"usuarios",t.uid);await yt(tt,{"equipo.titulares":We.map(nt=>({jugadorId:nt.id,clausulaPersonal:nt.precioClausula})),"equipo.banquillo":[{jugadorId:null,clausulaPersonal:null},{jugadorId:null,clausulaPersonal:null}],equipocreado:!0,..._t>0&&{dinero:increment(_t)}}),P(!0)}catch($e){console.error("Error al crear equipo:",$e),await Ne.fire({icon:"error",title:"Error al crear el equipo",text:"Intntalo de nuevo ms tarde."})}finally{k(!1),window.location.reload()}};return C.useEffect(()=>{if(t&&t?.onboarding===!1){n(!0);const Ee=setTimeout(async()=>{try{const at=Le(no,"usuarios",PE.currentUser.uid);await yt(at,{onboarding:!0}),window.location.reload()}catch(at){console.error("Error actualizando onboarding:",at)}},500);return()=>clearTimeout(Ee)}if(console.log("Foto de perfil desde Firestore o Auth:",t?.fotoPerfil),window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const Ee=Le(no,"usuarios",t.uid);xt(Ee).then(at=>{at.exists()&&o(at.data().dinero)})}(async()=>{const Ee=[...f?.map(Qe=>Qe?.jugadorId)||[],...y?.map(Qe=>Qe?.jugadorId)||[]].filter(Boolean);if(Ee.length===0)return;const at=Vn(no,"jugadores"),Oe=[];for(let Qe=0;Qe<Ee.length;Qe+=10){const tt=Ee.slice(Qe,Qe+10),nt=Zl(at,Au("__name__","in",tt));Oe.push(hs(nt))}const _t=(await Promise.all(Oe)).flatMap(Qe=>Qe.docs.map(tt=>({id:tt.id,...tt.data()})));$(_t)})()},[t],[f,y]),F?m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:$e=>{$e.currentTarget.onerror=null,$e.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>j(!te),onMouseEnter:()=>j(!0)}),te&&m.jsxs("div",{className:"perfil-bocadillo",ref:G,onMouseLeave:()=>j(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{xe(!0),j(!1)},children:" Perfil"}),m.jsx("button",{className:"btn-logout",onClick:B,children:"] Cerrar sesin"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{se(!0),j(!1)},children:" Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["",m.jsx("strong",{children:fr(r)})]})]})]}),m.jsx("button",{onClick:Bn,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${_a})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Me&&m.jsx(Ul,{usuario:t,openModal:Me,setOpenModal:xe}),Z&&m.jsx(Bl,{usuario:t,openModal:Z,setOpenModal:se}),He&&O&&m.jsx(jM,{jugador:O,clausulaPersonal:t?.equipo?.titulares?.find($e=>$e.jugadorId===O.id)?.clausulaPersonal??t?.equipo?.banquillo?.find($e=>$e.jugadorId===O.id)?.clausulaPersonal,openModal:He,setOpenModal:ke,user:t,edicionActiva:me}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:[m.jsxs("div",{className:"formacion-selector",children:[m.jsx("label",{htmlFor:"formacion-select",children:"Formacin:"}),m.jsx("select",{id:"formacion-select",value:J,onChange:Je,disabled:!me,children:z.map($e=>m.jsx("option",{value:$e,children:$e},$e))}),(J!==Q||R)&&m.jsx("button",{onClick:Un,disabled:I,children:I?"Guardando...":"Guardar"})]}),m.jsx("div",{className:"modo-edicion-buttons",children:m.jsx("button",{onClick:Ke,disabled:!me,children:me?ne?"Desactivar modo edicin":"Activar modo edicin":" Jornada Empezada"})}),m.jsx("div",{className:"campo",children:Ag[J]?.map(($e,Ee)=>{const at=v[Ee],Oe=at?.jugadorId||null;at?.clausulaPersonal;const We=L.find(Qe=>Qe.id===Oe),_t=ae?.index===Ee&&ae?.tipo==="titulares";return m.jsxs("div",{className:`jugador ${ne?"modo-edicion":""} ${_t?"seleccionado":""}`,style:{position:"absolute",top:$e.top,left:$e.left,transform:"translate(-50%, -50%)"},onClick:()=>{ne?Be(We?.id||null,Ee,"titulares"):We&&(ke(!0),W(We))},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:We?.foto||Ct,alt:We?.nombre||"Vaco",className:"jugador-img",style:AE(We,Ee,J).style}),(()=>{const{status:Qe}=AE(We,Ee,J);if(!Qe)return null;if(Qe==="green")return m.jsx("div",{className:"status-badge green",children:""});if(Qe==="orange")return m.jsx("div",{className:"status-badge orange",children:"!"});if(Qe==="red")return m.jsx("div",{className:"status-badge red",children:""})})(),M===We?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!We?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const Qe=We.puntosPorJornada[We.puntosPorJornada.length-1];if(Qe==null)return null;let tt=Qe==="-"?"gray":Qe<7?"red":Qe<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${tt}`,children:Qe})})()]}),m.jsx("p",{className:"jugador-nombre",children:We?.nombre||"Vaco"})]},We?.id||Ee)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:" Banquillo"}),m.jsx("div",{className:"banquillo-container",children:T.map(($e,Ee)=>{const at=$e?.jugadorId||null,Oe=L.find(_t=>_t.id===at),We=ae?.index===Ee&&ae?.tipo==="banquillo";return m.jsx("div",{className:`banquillo-slot ${ne?"modo-edicion":""} ${We?"seleccionado":""}`,onClick:()=>{ne?Be(Oe?.id||null,Ee,"banquillo"):Oe&&(ke(!0),W(Oe))},children:Oe?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:Oe?.foto||Ct,alt:Oe?.nombre||"Vaco",className:"jugador-img"}),M===Oe?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(!Oe?.puntosPorJornada?.length)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const _t=Oe.puntosPorJornada[Oe.puntosPorJornada.length-1];if(_t==null)return null;let Qe=_t==="-"?"gray":_t<7?"red":_t<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${Qe}`,children:_t})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:Oe?.nombre})]}):m.jsx(pt,{to:ne?"#":"/mercado",className:`banquillo-add ${ne?"disabled":""}`,onClick:_t=>{ne&&_t.preventDefault()},children:"+"})},Oe?.id||Ee)})})]})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]}):m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:$e=>{$e.currentTarget.onerror=null,$e.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>j(!te),onMouseEnter:()=>j(!0)}),te&&m.jsxs("div",{className:"perfil-bocadillo",ref:G,onMouseLeave:()=>j(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{xe(!0),j(!1)},children:" Perfil"}),m.jsx("button",{className:"btn-logout",onClick:B,children:"] Cerrar sesin"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{se(!0),j(!1)},children:" Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["",m.jsx("strong",{children:fr(r)})]})]})]}),m.jsx("button",{onClick:Bn,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${_a})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),Me&&m.jsx(Ul,{usuario:t,openModal:Me,setOpenModal:xe}),Z&&m.jsx(Bl,{usuario:t,openModal:Z,setOpenModal:se}),m.jsx("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx("div",{className:"campo",children:m.jsx("button",{className:"crear-equipo-btn",onClick:Jr,disabled:I,children:I?"Creando equipo...":"Crear equipo"})})})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}function FM({jugador:t,openModal:e,setOpenModal:n}){Kr(),hr(),$u();const r=t?.foto||Ct,o=f=>{switch(f){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return f||"Sin posicin"}},a=C.useRef(),c=f=>{f.target===a.current&&n(!1)},h=f=>typeof f!="number"||isNaN(f)?"":f.toLocaleString("es-ES")+"";return e?m.jsx("div",{className:"modal-overlay",ref:a,onClick:c,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>n(!1),children:""}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:r,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:o(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",h(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const f=t.historialPrecios||[];if(f.length===0)return m.jsx("small",{children:"(0)"});const y=f[f.length-1].precio||0,v=t.precio-y,b=v>0?"+":v<0?"-":"";return m.jsxs("small",{className:v>0?"subida":v<0?"bajada":"igual",children:["(",b,h(Math.abs(v)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor:",m.jsx("span",{className:"vendedor",children:t?.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos:",m.jsxs("span",{className:"media",children:[" ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(f=>typeof f=="number").reduce((f,y,v,b)=>f+y/b.length,0).toFixed(2):"-"]})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((f,y,v)=>{const b=f??"-",T=v.length<5?y+1:t.puntosPorJornada.length-5+y+1;let A="";return typeof f=="number"&&(f>=9?A="verde":f<7?A="rojo":A="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",T]}),m.jsx("div",{className:`jornada-cuadro ${A}`,children:b})]},y)}):[...Array(5)].map((f,y)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",y+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},y))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoracin"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]})]})}):null}function $M(){const[t,e]=C.useState("");return C.useEffect(()=>{const n=()=>{const o=new Date,a=new Date;a.setHours(24,0,0,0);const c=a-o,h=Math.floor(c/(1e3*60*60)),f=Math.floor(c%(1e3*60*60)/(1e3*60)),y=Math.floor(c%(1e3*60)/1e3);e(`${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`)};n();const r=setInterval(n,1e3);return()=>clearInterval(r)},[]),m.jsx("div",{className:"temporizador",children:m.jsxs("p",{children:["Refrescar Mercado - ",t]})})}const di=hr(kn),Bc=Kr(kn);function UM({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,c]=C.useState(!1),h=t?.fotoPerfil||Ct;t?.equipo?.titulares;const[f,y]=C.useState(!1);t?.equipo?.banquillo;const[v,b]=C.useState([]),[T,A]=C.useState([]),[L,$]=C.useState([]),[O,W]=C.useState([]),[M,z]=C.useState(!1),[Q,ie]=C.useState(!1),[J,S]=C.useState(!1),[I,k]=C.useState(null),[R,D]=C.useState(!1),[F,P]=C.useState(!1),[Me,xe]=C.useState({}),He=C.useRef(null),[ke,Z]=C.useState("mercado"),se=()=>Cu(Bc),te=B=>typeof B!="number"||isNaN(B)?"":B.toLocaleString("es-ES")+"",j=B=>{switch(B){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return B||"Sin posicin"}};C.useEffect(()=>{const B=Le(di,"mercado","actual"),ne=Fm(B,async ce=>{const ae=ce.exists()?ce.data().jugadores||[]:[];try{const ge=await Promise.all(ae.map(async me=>{const ye=Le(di,"jugadores",me.idJugador),Ke=await xt(ye),Be=Ke.exists()?Ke.data():{};return{source:"system",idJugador:me.idJugador,nombre:Be.nombre||me.nombre||"Sin nombre",foto:Be.foto||me.foto||Ct,posicion:Be.posicion||me.posicion||"",precio:typeof me.precio=="number"?me.precio:Number(me.precio)||Be.precio||0,stock:me.stock??1,historialPrecios:Be.historialPrecios||me.historialPrecios||[],puntosPorJornada:Be.puntosPorJornada||me.puntosPorJornada||[],vendedor:me.vendedor||"Fantasy Casadillos",goles:Be.goles,asistencias:Be.asistencias,partidos:Be.partidos,valoracion:Be.valoracion,nota:Be.nota,puntosTotales:Be.puntosTotales,_raw:me}}));b(ge.filter(Boolean))}catch(ge){console.error("Error enriqueciendo mercado sistema:",ge),b([])}});return()=>ne()},[]),C.useEffect(()=>{const B=Le(di,"mercadoUsuarios","actual"),ne=Fm(B,async ce=>{const ae=ce.exists()?ce.data().jugadores||[]:[];try{const me=(await Promise.all(ae.map(async ye=>{if(!ye||!ye.jugadorId)return null;const Ke=Le(di,"jugadores",ye.jugadorId),Be=await xt(Ke),Je=Be.exists()?Be.data():null;return Je?{source:"user",idJugador:ye.jugadorId,nombre:Je.nombre||"Sin nombre",foto:Je.foto||Ct,posicion:Je.posicion||"",precio:Je.precio||0,precioVenta:typeof ye.precioVenta=="number"?ye.precioVenta:Number(ye.precioVenta),historialPrecios:Je.historialPrecios||[],puntosPorJornada:Je.puntosPorJornada||[],vendedor:ye.vendedorNick||"Usuario",vendedorUid:ye.vendedorUid,goles:Je.goles,asistencias:Je.asistencias,partidos:Je.partidos,valoracion:Je.valoracion,nota:Je.nota,puntosTotales:Je.puntosTotales,fecha:ye.fecha||null}:{source:"user",idJugador:ye.jugadorId,nombre:"Jugador no encontrado",foto:Ct,posicion:"",precio:ye.precioVenta??0,historialPrecios:[],puntosPorJornada:[],vendedor:ye.vendedorNick||"Usuario",vendedorUid:ye.vendedorUid,fecha:ye.fecha||null}}))).filter(Boolean);A(me),t&&t.uid?W(me.filter(ye=>ye.vendedorUid===t.uid)):W([])}catch(ge){console.error("Error enriqueciendo mercado usuarios:",ge),A([]),W([])}});return()=>ne()},[t]),C.useEffect(()=>{$([...v,...T])},[v,T]),C.useEffect(()=>{(async()=>{try{const ne=Le(di,"admin","controles"),ce=await xt(ne);if(ce.exists()){const ae=ce.data();P(ae.edicionActiva===!0)}}catch(ne){console.error("Error al obtener estado de edicin:",ne)}})()},[]),C.useEffect(()=>{const B=Zl(Vn(di,"ofertas")),ne=Fm(B,ce=>{const ae={};ce.forEach(ge=>{const me=ge.data(),ye=`${me.jugadorId}-${me.source}-${me.vendedorUid||"system"}`;ae[ye]=(ae[ye]||0)+1}),xe(ae)});return()=>ne()},[]);const G=async(B,ne)=>{const ce=Bc.currentUser;if(!ce){alert("Debes iniciar sesin para hacer una oferta.");return}try{await qh(Vn(di,"ofertas"),{jugadorId:B.idJugador,source:B.source||"system",vendedorUid:B.vendedorUid||null,compradorUid:ce.uid,precioOferta:ne,fecha:zy()}),alert(`Has hecho una oferta por ${B.nombre}`)}catch(ae){console.error("Error creando oferta:",ae),alert("Error al hacer la oferta")}};return C.useEffect(()=>{const B=ne=>{He.current&&!He.current.contains(ne.target)&&D(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),C.useEffect(()=>{if(t){if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t?.onboarding===!1){n(!0);const B=setTimeout(async()=>{try{const ne=Le(di,"usuarios",t.uid);await yt(ne,{onboarding:!0}),window.location.reload()}catch(ne){console.error(ne)}},500);return()=>clearTimeout(B)}(async()=>{try{const B=Le(di,"usuarios",t.uid),ne=await xt(B);ne.exists()&&o(ne.data().dinero)}catch{}})()}},[t]),m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:h,onError:B=>{B.currentTarget.onerror=null,B.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>D(!R),onMouseEnter:()=>D(!0)}),R&&m.jsxs("div",{className:"perfil-bocadillo",ref:He,onMouseLeave:()=>D(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{z(!0),D(!1)},children:" Perfil"}),m.jsx("button",{className:"btn-logout",onClick:se,children:"] Cerrar sesin"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{S(!0),D(!1)},children:" Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["",m.jsx("strong",{children:te(r)})]})]})]}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${_a})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),M&&m.jsx(Ul,{usuario:t,openModal:M,setOpenModal:z}),J&&m.jsx(Bl,{usuario:t,openModal:J,setOpenModal:S}),Q&&I&&m.jsx(FM,{jugador:I,openModal:Q,setOpenModal:ie}),m.jsx("div",{className:"temporizador",children:m.jsx($M,{})}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsxs("div",{className:"tabs-container",children:[m.jsx("button",{className:`tab-btn ${ke==="mercado"?"active":""}`,onClick:()=>Z("mercado"),children:"Mercado"}),m.jsx("button",{className:`tab-btn ${ke==="operaciones"?"active":""}`,onClick:()=>Z("operaciones"),children:"Mis operaciones"})]}),ke==="mercado"&&m.jsx("div",{className:"mercado-jugadores",children:L.length===0?m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No hay mercado disponible"})}):m.jsx("ul",{className:"lista-jugadores",children:L.map(B=>{const ne=`${B.idJugador}-${B.source}-${B.vendedorUid||"system"}`;return m.jsx("li",{className:"jugador-card",onClick:()=>{k(B),ie(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:B.foto||Ct,alt:B.nombre,onError:ce=>{ce.currentTarget.onerror=null,ce.currentTarget.src=Ct}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:B.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${B.posicion||""}`,children:m.jsx("small",{children:j(B.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(B.precio)?te(Number(B.precio)):""]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ce=B.historialPrecios||[];if(ce.length===0)return m.jsx("small",{children:"(0)"});const ae=ce[ce.length-1]?.precio||0,ge=(B.precio||0)-ae,me=ge>0?"+":ge<0?"-":"";return m.jsxs("small",{className:ge>0?"subida":ge<0?"bajada":"igual",children:["(",me,te(Math.abs(ge)),")"]})})()})]}),m.jsxs("small",{className:"texto-vendedor",children:["Vendedor:",m.jsx("span",{className:"vendedor",children:B.vendedor})]}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos:",m.jsx("span",{className:"media",children:B.puntosPorJornada&&B.puntosPorJornada.length>0?B.puntosPorJornada.filter(ce=>typeof ce=="number").reduce((ce,ae,ge,me)=>ce+ae/me.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(B.puntosPorJornada||[]).slice(-5).map((ce,ae)=>{const ge=ce??"-",me=B.puntosPorJornada?B.puntosPorJornada.length:0,ye=Math.max(1,me-5+ae+1);let Ke="";return typeof ce=="number"&&(ce>=9?Ke="verde":ce<7&&(Ke="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",ye]}),m.jsx("div",{className:`jornada-cuadro ${Ke}`,children:ge})]},ae)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"btn-comprar",disabled:!F||B.vendedorUid===Bc.currentUser?.uid,onClick:async ce=>{ce.stopPropagation();const{value:ae}=await Ne.fire({title:"Introduce el precio de venta",input:"number",inputLabel:"Precio en ",inputPlaceholder:"Ej: 5.000.000",confirmButtonText:"Poner en venta",cancelButtonText:"Cancelar",showCancelButton:!0,scrollbarPadding:!1,background:"#1e1e1e",color:"#fff",inputValidator:ge=>{if(!ge||ge<=0)return"Debes introducir un precio vlido";if(ge<B.precio)return"Debes introducir un precio que sea mnimo superior al valor de mercado"}});ae&&(console.log("Venta en mercado por",ae),G(B,parseInt(ae,10)))},children:B.vendedorUid===Bc.currentUser?.uid?"Es tu venta":`Hacer oferta - (${Me[`${B.idJugador}-${B.source}-${B.vendedorUid||"system"}`]||0})`})})]})},ne)})})}),ke==="operaciones"&&m.jsx("div",{className:"mercado-jugadores",children:L.some(B=>B.vendedorUid===Bc.currentUser?.uid)?m.jsx("ul",{className:"lista-jugadores",children:O.map((B,ne)=>{const ce=`${B.idJugador}-${ne}-${B.vendedorUid||"yo"}`;return m.jsx("li",{className:"jugador-card",onClick:()=>{k(B),ie(!0)},children:m.jsxs("div",{className:"jugador-perfil",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:B.foto||Ct,alt:B.nombre,onError:ae=>{ae.currentTarget.onerror=null,ae.currentTarget.src=Ct}})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:B.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${B.posicion||""}`,children:m.jsx("small",{children:j(B.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",Number(B.precio)?te(Number(B.precio)):""]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const ae=B.historialPrecios||[];if(ae.length===0)return m.jsx("small",{children:"(0)"});const ge=ae[ae.length-1]?.precio||0,me=(B.precio||0)-ge,ye=me>0?"+":me<0?"-":"";return m.jsxs("small",{className:me>0?"subida":me<0?"bajada":"igual",children:["(",ye,te(Math.abs(me)),")"]})})()})]}),m.jsx("div",{className:"precio-container",children:m.jsxs("small",{className:"precio",children:[m.jsx("span",{className:"texto-blanco",children:"Precio Venta:"})," ",Number(B.precioVenta)?te(Number(B.precioVenta)):""," "]})}),m.jsxs("small",{className:"texto-vendedor",children:["Media de puntos:",m.jsx("span",{className:"media",children:B.puntosPorJornada&&B.puntosPorJornada.length>0?B.puntosPorJornada.filter(ae=>typeof ae=="number").reduce((ae,ge,me,ye)=>ae+ge/ye.length,0).toFixed(2):"-"})]})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:(B.puntosPorJornada||[]).slice(-5).map((ae,ge)=>{const me=ae??"-",ye=B.puntosPorJornada?B.puntosPorJornada.length:0,Ke=Math.max(1,ye-5+ge+1);let Be="";return typeof ae=="number"&&(ae>=9?Be="verde":ae<7&&(Be="rojo")),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",Ke]}),m.jsx("div",{className:`jornada-cuadro ${Be}`,children:me})]},ge)})})})]})]}),m.jsx("hr",{}),m.jsx("div",{className:"modal-footer",children:m.jsxs("button",{className:"btn-comprar",onClick:ae=>{ae.stopPropagation(),verOfertar()},children:["Ver ofertas -(",Me[`${B.idJugador}-${B.vendedorUid}`]||0,")"]})})]})},ce)})}):m.jsx("div",{className:"sin-mercado",children:m.jsx("p",{children:"No tienes operaciones activas."})})})]})]}),e&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}var Mn=function(){return Mn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mn.apply(this,arguments)};function sf(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var At="-ms-",ru="-moz-",gt="-webkit-",UT="comm",Gf="rule",fw="decl",BM="@import",BT="@keyframes",zM="@layer",zT=Math.abs,pw=String.fromCharCode,Ng=Object.assign;function HM(t,e){return wn(t,0)^45?(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3):0}function HT(t){return t.trim()}function hi(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function vh(t,e,n){return t.indexOf(e,n)}function wn(t,e){return t.charCodeAt(e)|0}function zl(t,e,n){return t.slice(e,n)}function Ds(t){return t.length}function qT(t){return t.length}function Qc(t,e){return e.push(t),t}function qM(t,e){return t.map(e).join("")}function NE(t,e){return t.filter(function(n){return!hi(n,e)})}var Kf=1,Hl=1,WT=0,Gr=0,nn=0,oc="";function Jf(t,e,n,r,o,a,c,h){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:Kf,column:Hl,length:c,return:"",siblings:h}}function so(t,e){return Ng(Jf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function yl(t){for(;t.root;)t=so(t.root,{children:[t]});Qc(t,t.siblings)}function WM(){return nn}function GM(){return nn=Gr>0?wn(oc,--Gr):0,Hl--,nn===10&&(Hl=1,Kf--),nn}function us(){return nn=Gr<WT?wn(oc,Gr++):0,Hl++,nn===10&&(Hl=1,Kf++),nn}function da(){return wn(oc,Gr)}function _h(){return Gr}function Qf(t,e){return zl(oc,t,e)}function Dg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KM(t){return Kf=Hl=1,WT=Ds(oc=t),Gr=0,[]}function JM(t){return oc="",t}function Gm(t){return HT(Qf(Gr-1,Og(t===91?t+2:t===40?t+1:t)))}function QM(t){for(;(nn=da())&&nn<33;)us();return Dg(t)>2||Dg(nn)>3?"":" "}function YM(t,e){for(;--e&&us()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return Qf(t,_h()+(e<6&&da()==32&&us()==32))}function Og(t){for(;us();)switch(nn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&Og(nn);break;case 40:t===41&&Og(t);break;case 92:us();break}return Gr}function XM(t,e){for(;us()&&t+nn!==57;)if(t+nn===84&&da()===47)break;return"/*"+Qf(e,Gr-1)+"*"+pw(t===47?t:us())}function ZM(t){for(;!Dg(da());)us();return Qf(t,Gr)}function e5(t){return JM(Eh("",null,null,null,[""],t=KM(t),0,[0],t))}function Eh(t,e,n,r,o,a,c,h,f){for(var y=0,v=0,b=c,T=0,A=0,L=0,$=1,O=1,W=1,M=0,z="",Q=o,ie=a,J=r,S=z;O;)switch(L=M,M=us()){case 40:if(L!=108&&wn(S,b-1)==58){vh(S+=Ge(Gm(M),"&","&\f"),"&\f",zT(y?h[y-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:S+=Gm(M);break;case 9:case 10:case 13:case 32:S+=QM(L);break;case 92:S+=YM(_h()-1,7);continue;case 47:switch(da()){case 42:case 47:Qc(t5(XM(us(),_h()),e,n,f),f);break;default:S+="/"}break;case 123*$:h[y++]=Ds(S)*W;case 125*$:case 59:case 0:switch(M){case 0:case 125:O=0;case 59+v:W==-1&&(S=Ge(S,/\f/g,"")),A>0&&Ds(S)-b&&Qc(A>32?OE(S+";",r,n,b-1,f):OE(Ge(S," ","")+";",r,n,b-2,f),f);break;case 59:S+=";";default:if(Qc(J=DE(S,e,n,y,v,o,h,z,Q=[],ie=[],b,a),a),M===123)if(v===0)Eh(S,e,J,J,Q,a,b,h,ie);else switch(T===99&&wn(S,3)===110?100:T){case 100:case 108:case 109:case 115:Eh(t,J,J,r&&Qc(DE(t,J,J,0,0,o,h,z,o,Q=[],b,ie),ie),o,ie,b,h,r?Q:ie);break;default:Eh(S,J,J,J,[""],ie,0,h,ie)}}y=v=A=0,$=W=1,z=S="",b=c;break;case 58:b=1+Ds(S),A=L;default:if($<1){if(M==123)--$;else if(M==125&&$++==0&&GM()==125)continue}switch(S+=pw(M),M*$){case 38:W=v>0?1:(S+="\f",-1);break;case 44:h[y++]=(Ds(S)-1)*W,W=1;break;case 64:da()===45&&(S+=Gm(us())),T=da(),v=b=Ds(z=S+=ZM(_h())),M++;break;case 45:L===45&&Ds(S)==2&&($=0)}}return a}function DE(t,e,n,r,o,a,c,h,f,y,v,b){for(var T=o-1,A=o===0?a:[""],L=qT(A),$=0,O=0,W=0;$<r;++$)for(var M=0,z=zl(t,T+1,T=zT(O=c[$])),Q=t;M<L;++M)(Q=HT(O>0?A[M]+" "+z:Ge(z,/&\f/g,A[M])))&&(f[W++]=Q);return Jf(t,e,n,o===0?Gf:h,f,y,v,b)}function t5(t,e,n,r){return Jf(t,e,n,UT,pw(WM()),zl(t,2,-2),0,r)}function OE(t,e,n,r,o){return Jf(t,e,n,fw,zl(t,0,r),zl(t,r+1,-1),r,o)}function GT(t,e,n){switch(HM(t,e)){case 5103:return gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+t+t;case 4789:return ru+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+t+ru+t+At+t+t;case 5936:switch(wn(t,e+11)){case 114:return gt+t+At+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gt+t+At+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gt+t+At+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return gt+t+At+t+t;case 6165:return gt+t+At+"flex-"+t+t;case 5187:return gt+t+Ge(t,/(\w+).+(:[^]+)/,gt+"box-$1$2"+At+"flex-$1$2")+t;case 5443:return gt+t+At+"flex-item-"+Ge(t,/flex-|-self/g,"")+(hi(t,/flex-|baseline/)?"":At+"grid-row-"+Ge(t,/flex-|-self/g,""))+t;case 4675:return gt+t+At+"flex-line-pack"+Ge(t,/align-content|flex-|-self/g,"")+t;case 5548:return gt+t+At+Ge(t,"shrink","negative")+t;case 5292:return gt+t+At+Ge(t,"basis","preferred-size")+t;case 6060:return gt+"box-"+Ge(t,"-grow","")+gt+t+At+Ge(t,"grow","positive")+t;case 4554:return gt+Ge(t,/([^-])(transform)/g,"$1"+gt+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+t+t;case 4200:if(!hi(t,/flex-|baseline/))return At+"grid-column-align"+zl(t,e)+t;break;case 2592:case 3360:return At+Ge(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,hi(r.props,/grid-\w+-end/)})?~vh(t+(n=n[e].value),"span",0)?t:At+Ge(t,"-start","")+t+At+"grid-row-span:"+(~vh(n,"span",0)?hi(n,/\d+/):+hi(n,/\d+/)-+hi(t,/\d+/))+";":At+Ge(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hi(r.props,/grid-\w+-start/)})?t:At+Ge(Ge(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ds(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+ru+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vh(t,"stretch",0)?GT(Ge(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ge(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,a,c,h,f,y){return At+o+":"+a+y+(c?At+o+"-span:"+(h?f:+f-+a)+y:"")+t});case 4949:if(wn(t,e+6)===121)return Ge(t,":",":"+gt)+t;break;case 6444:switch(wn(t,wn(t,14)===45?18:11)){case 120:return Ge(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+gt+(wn(t,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+At+"$2box$3")+t;case 100:return Ge(t,":",":"+At)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ge(t,"scroll-","scroll-snap-")+t}return t}function of(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function n5(t,e,n,r){switch(t.type){case zM:if(t.children.length)break;case BM:case fw:return t.return=t.return||t.value;case UT:return"";case BT:return t.return=t.value+"{"+of(t.children,r)+"}";case Gf:if(!Ds(t.value=t.props.join(",")))return""}return Ds(n=of(t.children,r))?t.return=t.value+"{"+n+"}":""}function r5(t){var e=qT(t);return function(n,r,o,a){for(var c="",h=0;h<e;h++)c+=t[h](n,r,o,a)||"";return c}}function s5(t){return function(e){e.root||(e=e.return)&&t(e)}}function i5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case fw:t.return=GT(t.value,t.length,n);return;case BT:return of([so(t,{value:Ge(t.value,"@","@"+gt)})],r);case Gf:if(t.length)return qM(n=t.props,function(o){switch(hi(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":yl(so(t,{props:[Ge(o,/:(read-\w+)/,":"+ru+"$1")]})),yl(so(t,{props:[o]})),Ng(t,{props:NE(n,r)});break;case"::placeholder":yl(so(t,{props:[Ge(o,/:(plac\w+)/,":"+gt+"input-$1")]})),yl(so(t,{props:[Ge(o,/:(plac\w+)/,":"+ru+"$1")]})),yl(so(t,{props:[Ge(o,/:(plac\w+)/,At+"input-$1")]})),yl(so(t,{props:[o]})),Ng(t,{props:NE(n,r)});break}return""})}}var o5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tr={},ql=typeof process<"u"&&Tr!==void 0&&(Tr.REACT_APP_SC_ATTR||Tr.SC_ATTR)||"data-styled",KT="active",JT="data-styled-version",Yf="6.1.19",mw=`/*!sc*/
`,af=typeof window<"u"&&typeof document<"u",a5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Tr!==void 0&&Tr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Tr.REACT_APP_SC_DISABLE_SPEEDY!==""?Tr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Tr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Tr!==void 0&&Tr.SC_DISABLE_SPEEDY!==void 0&&Tr.SC_DISABLE_SPEEDY!==""&&Tr.SC_DISABLE_SPEEDY!=="false"&&Tr.SC_DISABLE_SPEEDY),Xf=Object.freeze([]),Wl=Object.freeze({});function l5(t,e,n){return n===void 0&&(n=Wl),t.theme!==n.theme&&t.theme||e||n.theme}var QT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),c5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,u5=/(^-|-$)/g;function jE(t){return t.replace(c5,"-").replace(u5,"")}var d5=/(a)(d)/gi,rh=52,LE=function(t){return String.fromCharCode(t+(t>25?39:97))};function jg(t){var e,n="";for(e=Math.abs(t);e>rh;e=e/rh|0)n=LE(e%rh)+n;return(LE(e%rh)+n).replace(d5,"$1-$2")}var Km,YT=5381,bl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},XT=function(t){return bl(YT,t)};function h5(t){return jg(XT(t)>>>0)}function f5(t){return t.displayName||t.name||"Component"}function Jm(t){return typeof t=="string"&&!0}var ZT=typeof Symbol=="function"&&Symbol.for,eI=ZT?Symbol.for("react.memo"):60115,p5=ZT?Symbol.for("react.forward_ref"):60112,m5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},g5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},y5=((Km={})[p5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Km[eI]=tI,Km);function ME(t){return("type"in(e=t)&&e.type.$$typeof)===eI?tI:"$$typeof"in t?y5[t.$$typeof]:m5;var e}var w5=Object.defineProperty,v5=Object.getOwnPropertyNames,VE=Object.getOwnPropertySymbols,_5=Object.getOwnPropertyDescriptor,E5=Object.getPrototypeOf,FE=Object.prototype;function nI(t,e,n){if(typeof e!="string"){if(FE){var r=E5(e);r&&r!==FE&&nI(t,r,n)}var o=v5(e);VE&&(o=o.concat(VE(e)));for(var a=ME(t),c=ME(e),h=0;h<o.length;++h){var f=o[h];if(!(f in g5||n&&n[f]||c&&f in c||a&&f in a)){var y=_5(e,f);try{w5(t,f,y)}catch{}}}}return t}function Ea(t){return typeof t=="function"}function gw(t){return typeof t=="object"&&"styledComponentId"in t}function aa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function $E(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function gu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Lg(t,e,n){if(n===void 0&&(n=!1),!n&&!gu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Lg(t[r],e[r]);else if(gu(e))for(var r in e)t[r]=Lg(t[r],e[r]);return t}function yw(t,e){Object.defineProperty(t,"toString",{value:e})}function ba(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var b5=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,a=o;e>=a;)if((a<<=1)<0)throw ba(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var c=o;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(e+1),f=(c=0,n.length);c<f;c++)this.tag.insertRule(h,n[c])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var a=r;a<o;a++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),a=o+r,c=o;c<a;c++)n+="".concat(this.tag.getRule(c)).concat(mw);return n},t})(),bh=new Map,lf=new Map,Ch=1,sh=function(t){if(bh.has(t))return bh.get(t);for(;lf.has(Ch);)Ch++;var e=Ch++;return bh.set(t,e),lf.set(e,t),e},C5=function(t,e){Ch=e+1,bh.set(t,e),lf.set(e,t)},T5="style[".concat(ql,"][").concat(JT,'="').concat(Yf,'"]'),I5=new RegExp("^".concat(ql,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),S5=function(t,e,n){for(var r,o=n.split(","),a=0,c=o.length;a<c;a++)(r=o[a])&&t.registerName(e,r)},x5=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(mw),o=[],a=0,c=r.length;a<c;a++){var h=r[a].trim();if(h){var f=h.match(I5);if(f){var y=0|parseInt(f[1],10),v=f[2];y!==0&&(C5(v,y),S5(t,v,f[3]),t.getTag().insertRules(y,o)),o.length=0}else o.push(h)}}},UE=function(t){for(var e=document.querySelectorAll(T5),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(ql)!==KT&&(x5(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function k5(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var rI=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=(function(h){var f=Array.from(h.querySelectorAll("style[".concat(ql,"]")));return f[f.length-1]})(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(ql,KT),r.setAttribute(JT,Yf);var c=k5();return c&&r.setAttribute("nonce",c),n.insertBefore(r,a),r},R5=(function(){function t(e){this.element=rI(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,a=r.length;o<a;o++){var c=r[o];if(c.ownerNode===n)return c}throw ba(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),P5=(function(){function t(e){this.element=rI(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),A5=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),BE=af,N5={isServer:!af,useCSSOMInjection:!a5},sI=(function(){function t(e,n,r){e===void 0&&(e=Wl),n===void 0&&(n={});var o=this;this.options=Mn(Mn({},N5),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&af&&BE&&(BE=!1,UE(this)),yw(this,function(){return(function(a){for(var c=a.getTag(),h=c.length,f="",y=function(b){var T=(function(W){return lf.get(W)})(b);if(T===void 0)return"continue";var A=a.names.get(T),L=c.getGroup(b);if(A===void 0||!A.size||L.length===0)return"continue";var $="".concat(ql,".g").concat(b,'[id="').concat(T,'"]'),O="";A!==void 0&&A.forEach(function(W){W.length>0&&(O+="".concat(W,","))}),f+="".concat(L).concat($,'{content:"').concat(O,'"}').concat(mw)},v=0;v<h;v++)y(v);return f})(o)})}return t.registerId=function(e){return sh(e)},t.prototype.rehydrate=function(){!this.server&&af&&UE(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Mn(Mn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new A5(o):r?new R5(o):new P5(o)})(this.options),new b5(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(sh(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(sh(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(sh(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),D5=/&/g,O5=/^\s*\/\/.*$/gm;function iI(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=iI(n.children,e)),n})}function j5(t){var e,n,r,o=Wl,a=o.options,c=a===void 0?Wl:a,h=o.plugins,f=h===void 0?Xf:h,y=function(T,A,L){return L.startsWith(n)&&L.endsWith(n)&&L.replaceAll(n,"").length>0?".".concat(e):T},v=f.slice();v.push(function(T){T.type===Gf&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(D5,n).replace(r,y))}),c.prefix&&v.push(i5),v.push(n5);var b=function(T,A,L,$){A===void 0&&(A=""),L===void 0&&(L=""),$===void 0&&($="&"),e=$,n=A,r=new RegExp("\\".concat(n,"\\b"),"g");var O=T.replace(O5,""),W=e5(L||A?"".concat(L," ").concat(A," { ").concat(O," }"):O);c.namespace&&(W=iI(W,c.namespace));var M=[];return of(W,r5(v.concat(s5(function(z){return M.push(z)})))),M};return b.hash=f.length?f.reduce(function(T,A){return A.name||ba(15),bl(T,A.name)},YT).toString():"",b}var L5=new sI,Mg=j5(),oI=Ye.createContext({shouldForwardProp:void 0,styleSheet:L5,stylis:Mg});oI.Consumer;Ye.createContext(void 0);function zE(){return C.useContext(oI)}var M5=(function(){function t(e,n){var r=this;this.inject=function(o,a){a===void 0&&(a=Mg);var c=r.name+a.hash;o.hasNameForId(r.id,c)||o.insertRules(r.id,c,a(r.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,yw(this,function(){throw ba(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Mg),this.name+e.hash},t})(),V5=function(t){return t>="A"&&t<="Z"};function HE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;V5(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var aI=function(t){return t==null||t===!1||t===""},lI=function(t){var e,n,r=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!aI(a)&&(Array.isArray(a)&&a.isCss||Ea(a)?r.push("".concat(HE(o),":"),a,";"):gu(a)?r.push.apply(r,sf(sf(["".concat(o," {")],lI(a),!1),["}"],!1)):r.push("".concat(HE(o),": ").concat((e=o,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in o5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ha(t,e,n,r){if(aI(t))return[];if(gw(t))return[".".concat(t.styledComponentId)];if(Ea(t)){if(!Ea(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var o=t(e);return ha(o,e,n,r)}var a;return t instanceof M5?n?(t.inject(n,r),[t.getName(r)]):[t]:gu(t)?lI(t):Array.isArray(t)?Array.prototype.concat.apply(Xf,t.map(function(c){return ha(c,e,n,r)})):[t.toString()]}function F5(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ea(n)&&!gw(n))return!1}return!0}var $5=XT(Yf),U5=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&F5(e),this.componentId=n,this.baseHash=bl($5,n),this.baseStyle=r,sI.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=aa(o,this.staticRulesId);else{var a=$E(ha(this.rules,e,n,r)),c=jg(bl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,c)){var h=r(a,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,h)}o=aa(o,c),this.staticRulesId=c}else{for(var f=bl(this.baseHash,r.hash),y="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")y+=b;else if(b){var T=$E(ha(b,e,n,r));f=bl(f,T+v),y+=T}}if(y){var A=jg(f>>>0);n.hasNameForId(this.componentId,A)||n.insertRules(this.componentId,A,r(y,".".concat(A),void 0,this.componentId)),o=aa(o,A)}}return o},t})(),cf=Ye.createContext(void 0);cf.Consumer;function B5(t){var e=Ye.useContext(cf),n=C.useMemo(function(){return(function(r,o){if(!r)throw ba(14);if(Ea(r)){var a=r(o);return a}if(Array.isArray(r)||typeof r!="object")throw ba(8);return o?Mn(Mn({},o),r):r})(t.theme,e)},[t.theme,e]);return t.children?Ye.createElement(cf.Provider,{value:n},t.children):null}var Qm={};function z5(t,e,n){var r=gw(t),o=t,a=!Jm(t),c=e.attrs,h=c===void 0?Xf:c,f=e.componentId,y=f===void 0?(function(Q,ie){var J=typeof Q!="string"?"sc":jE(Q);Qm[J]=(Qm[J]||0)+1;var S="".concat(J,"-").concat(h5(Yf+J+Qm[J]));return ie?"".concat(ie,"-").concat(S):S})(e.displayName,e.parentComponentId):f,v=e.displayName,b=v===void 0?(function(Q){return Jm(Q)?"styled.".concat(Q):"Styled(".concat(f5(Q),")")})(t):v,T=e.displayName&&e.componentId?"".concat(jE(e.displayName),"-").concat(e.componentId):e.componentId||y,A=r&&o.attrs?o.attrs.concat(h).filter(Boolean):h,L=e.shouldForwardProp;if(r&&o.shouldForwardProp){var $=o.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;L=function(Q,ie){return $(Q,ie)&&O(Q,ie)}}else L=$}var W=new U5(n,T,r?o.componentStyle:void 0);function M(Q,ie){return(function(J,S,I){var k=J.attrs,R=J.componentStyle,D=J.defaultProps,F=J.foldedComponentIds,P=J.styledComponentId,Me=J.target,xe=Ye.useContext(cf),He=zE(),ke=J.shouldForwardProp||He.shouldForwardProp,Z=l5(S,xe,D)||Wl,se=(function(ce,ae,ge){for(var me,ye=Mn(Mn({},ae),{className:void 0,theme:ge}),Ke=0;Ke<ce.length;Ke+=1){var Be=Ea(me=ce[Ke])?me(ye):me;for(var Je in Be)ye[Je]=Je==="className"?aa(ye[Je],Be[Je]):Je==="style"?Mn(Mn({},ye[Je]),Be[Je]):Be[Je]}return ae.className&&(ye.className=aa(ye.className,ae.className)),ye})(k,S,Z),te=se.as||Me,j={};for(var G in se)se[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&se.theme===Z||(G==="forwardedAs"?j.as=se.forwardedAs:ke&&!ke(G,te)||(j[G]=se[G]));var B=(function(ce,ae){var ge=zE(),me=ce.generateAndInjectStyles(ae,ge.styleSheet,ge.stylis);return me})(R,se),ne=aa(F,P);return B&&(ne+=" "+B),se.className&&(ne+=" "+se.className),j[Jm(te)&&!QT.has(te)?"class":"className"]=ne,I&&(j.ref=I),C.createElement(te,j)})(z,Q,ie)}M.displayName=b;var z=Ye.forwardRef(M);return z.attrs=A,z.componentStyle=W,z.displayName=b,z.shouldForwardProp=L,z.foldedComponentIds=r?aa(o.foldedComponentIds,o.styledComponentId):"",z.styledComponentId=T,z.target=r?o.target:t,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Q){this._foldedDefaultProps=r?(function(ie){for(var J=[],S=1;S<arguments.length;S++)J[S-1]=arguments[S];for(var I=0,k=J;I<k.length;I++)Lg(ie,k[I],!0);return ie})({},o.defaultProps,Q):Q}}),yw(z,function(){return".".concat(z.styledComponentId)}),a&&nI(z,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function qE(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var WE=function(t){return Object.assign(t,{isCss:!0})};function hn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ea(t)||gu(t))return WE(ha(qE(Xf,sf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ha(r):WE(ha(qE(r,e)))}function Vg(t,e,n){if(n===void 0&&(n=Wl),!e)throw ba(1,e);var r=function(o){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(e,n,hn.apply(void 0,sf([o],a,!1)))};return r.attrs=function(o){return Vg(t,e,Mn(Mn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Vg(t,e,Mn(Mn({},n),o))},r}var cI=function(t){return Vg(z5,t)},et=cI;QT.forEach(function(t){et[t]=cI(t)});var vo;function Gl(t,e){return t[e]}function H5(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function q5(t=[],e,n="id"){const r=t.slice(),o=Gl(e,n);return o?r.splice(r.findIndex((a=>Gl(a,n)===o)),1):r.splice(r.findIndex((a=>a===e)),1),r}function GE(t){return t.map(((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r}))}function su(t,e){return Math.ceil(t/e)}function Ym(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(vo||(vo={}));const un=()=>null;function uI(t,e=[],n=[]){let r={},o=[...n];return e.length&&e.forEach((a=>{if(!a.when||typeof a.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');a.when(t)&&(r=a.style||{},a.classNames&&(o=[...o,...a.classNames]),typeof a.style=="function"&&(r=a.style(t)||{}))})),{conditionalStyle:r,classNames:o.join(" ")}}function Th(t,e=[],n="id"){const r=Gl(t,n);return r?e.some((o=>Gl(o,n)===r)):e.some((o=>o===t))}function ih(t,e){return e?t.findIndex((n=>iu(n.id,e))):-1}function iu(t,e){return t==e}function W5(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:o,rowCount:a,mergeSelections:c}=e,h=!t.allSelected,f=!t.toggleOnSelectedRowsChange;if(c){const y=h?[...t.selectedRows,...o.filter((v=>!Th(v,t.selectedRows,r)))]:t.selectedRows.filter((v=>!Th(v,o,r)));return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:y.length,selectedRows:y,toggleOnSelectedRowsChange:f})}return Object.assign(Object.assign({},t),{allSelected:h,selectedCount:h?a:0,selectedRows:h?o:[],toggleOnSelectedRowsChange:f})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:o,isSelected:a,rowCount:c,singleSelect:h}=e;return h?a?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[o],toggleOnSelectedRowsChange:n}):a?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:q5(t.selectedRows,o,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===c,selectedRows:H5(t.selectedRows,o),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:o,totalRows:a,mergeSelections:c}=e;if(c){const h=[...t.selectedRows,...o.filter((f=>!Th(f,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:h.length,allSelected:!1,selectedRows:h,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:o.length,allSelected:o.length===a,selectedRows:o,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:o,clearSelectedOnSort:a}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:o,sortDirection:r,currentPage:1}),a&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:o,visibleOnly:a,persistSelectedOnPageChange:c}=e,h=o&&c,f=o&&!c||a;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),h&&{allSelected:!1}),f&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:o}=e;return Object.assign(Object.assign({},t),{currentPage:o,rowsPerPage:r})}}}const G5=hn`
	pointer-events: none;
	opacity: 0.4;
`,K5=et.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&G5};
	${({theme:t})=>t.table.style};
`,J5=hn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,Q5=et.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&J5};
	${({theme:t})=>t.head.style};
`,Y5=et.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,dI=(t,...e)=>hn`
		@media screen and (max-width: ${599}px) {
			${hn(t,...e)}
		}
	`,X5=(t,...e)=>hn`
		@media screen and (max-width: ${959}px) {
			${hn(t,...e)}
		}
	`,Z5=(t,...e)=>hn`
		@media screen and (max-width: ${1280}px) {
			${hn(t,...e)}
		}
	`,eV=t=>(e,...n)=>hn`
			@media screen and (max-width: ${t}px) {
				${hn(e,...n)}
			}
		`,ac=et.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,hI=et(ac)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&hn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&dI`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&X5`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&Z5`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&eV(t)`
    display: none;
  `};
`,tV=hn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,nV=et(hI).attrs((t=>({style:t.style})))`
	${({$renderAsCell:t})=>!t&&tV};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var rV=C.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:o,isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:v}){const{conditionalStyle:b,classNames:T}=uI(n,e.conditionalCellStyles,["rdt_TableCell"]);return C.createElement(nV,{id:t,"data-column-id":e.id,role:"cell",className:T,"data-tag":o,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:b,$isDragging:a,onDragStart:c,onDragOver:h,onDragEnd:f,onDragEnter:y,onDragLeave:v},!e.cell&&C.createElement("div",{"data-tag":o},(function(A,L,$,O){return L?$&&typeof $=="function"?$(A,O):L(A,O):null})(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))}));const KE="input";var fI=C.memo((function({name:t,component:e=KE,componentOptions:n={style:{}},indeterminate:r=!1,checked:o=!1,disabled:a=!1,onClick:c=un}){const h=e,f=h!==KE?n.style:(v=>Object.assign(Object.assign({fontSize:"18px"},!v&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(a),y=C.useMemo((()=>(function(v,...b){let T;return Object.keys(v).map((A=>v[A])).forEach(((A,L)=>{typeof A=="function"&&(T=Object.assign(Object.assign({},v),{[Object.keys(v)[L]]:A(...b)}))})),T||v})(n,r)),[n,r]);return C.createElement(h,Object.assign({type:"checkbox",ref:v=>{v&&(v.indeterminate=r)},style:f,onClick:a?un:c,name:t,"aria-label":t,checked:o,disabled:a},y,{onChange:un}))}));const sV=et(ac)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function iV({name:t,keyField:e,row:n,rowCount:r,selected:o,selectableRowsComponent:a,selectableRowsComponentProps:c,selectableRowsSingle:h,selectableRowDisabled:f,onSelectedRow:y}){const v=!(!f||!f(n));return C.createElement(sV,{onClick:b=>b.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},C.createElement(fI,{name:t,component:a,componentOptions:c,checked:o,"aria-checked":o,onClick:()=>{y({type:"SELECT_SINGLE_ROW",row:n,isSelected:o,keyField:e,rowCount:r,singleSelect:h})},disabled:v}))}const oV=et.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function aV({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:o,onToggled:a}){const c=e?n.expanded:n.collapsed;return C.createElement(oV,{"aria-disabled":t,onClick:()=>a&&a(o),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}const lV=et(ac)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function cV({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:o,disabled:a=!1}){return C.createElement(lV,{onClick:c=>c.stopPropagation(),$noPadding:!0},C.createElement(aV,{id:r,row:t,expanded:e,expandableIcon:n,disabled:a,onToggled:o}))}const uV=et.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var dV=C.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:o}){const a=["rdt_ExpanderRow",...o.split(" ").filter((c=>c!=="rdt_TableRow"))].join(" ");return C.createElement(uV,{className:a,$extendedRowStyle:r},C.createElement(e,Object.assign({data:t},n)))}));const Xm="allowRowEvents";var uf,Fg,JE;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(uf||(uf={})),(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"})(Fg||(Fg={})),(function(t){t.SM="sm",t.MD="md",t.LG="lg"})(JE||(JE={}));const hV=hn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,fV=hn`
	&:hover {
		cursor: pointer;
	}
`,pV=et.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&hV};
	${({$pointerOnHover:t})=>t&&fV};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function mV({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:o=!1,expandableIcon:a,expandableRows:c=!1,expandableRowsComponent:h,expandableRowsComponentProps:f,expandableRowsHideExpander:y,expandOnRowClicked:v=!1,expandOnRowDoubleClicked:b=!1,highlightOnHover:T=!1,id:A,expandableInheritConditionalStyles:L,keyField:$,onRowClicked:O=un,onRowDoubleClicked:W=un,onRowMouseEnter:M=un,onRowMouseLeave:z=un,onRowExpandToggled:Q=un,onSelectedRow:ie=un,pointerOnHover:J=!1,row:S,rowCount:I,rowIndex:k,selectableRowDisabled:R=null,selectableRows:D=!1,selectableRowsComponent:F,selectableRowsComponentProps:P,selectableRowsHighlight:Me=!1,selectableRowsSingle:xe=!1,selected:He,striped:ke=!1,draggingColumnId:Z,onDragStart:se,onDragOver:te,onDragEnd:j,onDragEnter:G,onDragLeave:B}){const[ne,ce]=C.useState(n);C.useEffect((()=>{ce(n)}),[n]);const ae=C.useCallback((()=>{ce(!ne),Q(!ne,S)}),[ne,Q,S]),ge=J||c&&(v||b),me=C.useCallback((Ee=>{Ee.target.getAttribute("data-tag")===Xm&&(O(S,Ee),!r&&c&&v&&ae())}),[r,v,c,ae,O,S]),ye=C.useCallback((Ee=>{Ee.target.getAttribute("data-tag")===Xm&&(W(S,Ee),!r&&c&&b&&ae())}),[r,b,c,ae,W,S]),Ke=C.useCallback((Ee=>{M(S,Ee)}),[M,S]),Be=C.useCallback((Ee=>{z(S,Ee)}),[z,S]),Je=Gl(S,$),{conditionalStyle:Un,classNames:Bn}=uI(S,e,["rdt_TableRow"]),fr=Me&&He,Jr=L?Un:{},$e=ke&&k%2==0;return C.createElement(C.Fragment,null,C.createElement(pV,{id:`row-${A}`,role:"row",$striped:$e,$highlightOnHover:T,$pointerOnHover:!r&&ge,$dense:o,onClick:me,onDoubleClick:ye,onMouseEnter:Ke,onMouseLeave:Be,className:Bn,$selected:fr,$conditionalStyle:Un},D&&C.createElement(iV,{name:`select-row-${Je}`,keyField:$,row:S,rowCount:I,selected:He,selectableRowsComponent:F,selectableRowsComponentProps:P,selectableRowDisabled:R,selectableRowsSingle:xe,onSelectedRow:ie}),c&&!y&&C.createElement(cV,{id:Je,expandableIcon:a,expanded:ne,row:S,onToggled:ae,disabled:r}),t.map((Ee=>Ee.omit?null:C.createElement(rV,{id:`cell-${Ee.id}-${Je}`,key:`cell-${Ee.id}-${Je}`,dataTag:Ee.ignoreRowClick||Ee.button?null:Xm,column:Ee,row:S,rowIndex:k,isDragging:iu(Z,Ee.id),onDragStart:se,onDragOver:te,onDragEnd:j,onDragEnter:G,onDragLeave:B})))),c&&ne&&C.createElement(dV,{key:`expander-${Je}`,data:S,extendedRowStyle:Jr,extendedClassNames:Bn,ExpanderComponent:h,expanderComponentProps:f}))}const gV=et.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,yV=({sortActive:t,sortDirection:e})=>Ye.createElement(gV,{$sortActive:t,$sortDirection:e},""),wV=et(hI)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,vV=hn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&hn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,_V=et.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&vV};
`,EV=et.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var bV=C.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:o,sortIcon:a,sortServer:c,pagination:h,paginationServer:f,persistSelectedOnSort:y,selectableRowsVisibleOnly:v,onSort:b,onDragStart:T,onDragOver:A,onDragEnd:L,onDragEnter:$,onDragLeave:O}){C.useEffect((()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[W,M]=C.useState(!1),z=C.useRef(null);if(C.useEffect((()=>{z.current&&M(z.current.scrollWidth>z.current.clientWidth)}),[W]),t.omit)return null;const Q=()=>{if(!t.sortable&&!t.selector)return;let P=o;iu(r.id,t.id)&&(P=o===vo.ASC?vo.DESC:vo.ASC),b({type:"SORT_CHANGE",sortDirection:P,selectedColumn:t,clearSelectedOnSort:h&&f&&!y||c||v})},ie=P=>C.createElement(yV,{sortActive:P,sortDirection:o}),J=()=>C.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},a),S=!(!t.sortable||!iu(r.id,t.id)),I=!t.sortable||e,k=t.sortable&&!a&&!t.right,R=t.sortable&&!a&&t.right,D=t.sortable&&a&&!t.right,F=t.sortable&&a&&t.right;return C.createElement(wV,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:iu(t.id,n),onDragStart:T,onDragOver:A,onDragEnd:L,onDragEnter:$,onDragLeave:O},t.name&&C.createElement(_V,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:I?void 0:Q,onKeyPress:I?void 0:P=>{P.key==="Enter"&&Q()},$sortActive:!I&&S,disabled:I},!I&&F&&J(),!I&&R&&ie(S),typeof t.name=="string"?C.createElement(EV,{title:W?t.name:void 0,ref:z,"data-column-id":t.id},t.name):t.name,!I&&D&&J(),!I&&k&&ie(S)))}));const CV=et(ac)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function TV({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:o,selectedRows:a,selectableRowsComponent:c,selectableRowsComponentProps:h,selectableRowDisabled:f,onSelectAllRows:y}){const v=a.length>0&&!r,b=f?e.filter((L=>!f(L))):e,T=b.length===0,A=Math.min(e.length,b.length);return C.createElement(CV,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},C.createElement(fI,{name:"select-all-rows",component:c,componentOptions:h,onClick:()=>{y({type:"SELECT_ALL_ROWS",rows:b,rowCount:A,mergeSelections:o,keyField:n})},checked:r,indeterminate:v,disabled:T}))}function pI(t=uf.AUTO){const e=typeof window=="object",[n,r]=C.useState(!1);return C.useEffect((()=>{if(e)if(t!=="auto")r(t==="rtl");else{const o=!(!window.document||!window.document.createElement),a=document.getElementsByTagName("BODY")[0],c=document.getElementsByTagName("HTML")[0],h=a.dir==="rtl"||c.dir==="rtl";r(o&&h)}}),[t,e]),n}const IV=et.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,SV=et.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,QE=et.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function xV({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:o}){const a=pI(o),c=r>0;return n?C.createElement(QE,{$visible:c},C.cloneElement(n,{selectedCount:r})):C.createElement(QE,{$visible:c,$rtl:a},C.createElement(IV,null,((h,f,y)=>{if(f===0)return null;const v=f===1?h.singular:h.plural;return y?`${f} ${h.message||""} ${v}`:`${f} ${v} ${h.message||""}`})(t,r,a)),C.createElement(SV,null,e))}const kV=et.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,RV=et.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,PV=et.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,AV=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:o,selectedCount:a,direction:c,showMenu:h=!0})=>C.createElement(kV,{className:"rdt_TableHeader",role:"heading","aria-level":1},C.createElement(RV,null,t),e&&C.createElement(PV,null,e),h&&C.createElement(xV,{contextMessage:n,contextActions:r,contextComponent:o,direction:c,selectedCount:a}));function mI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const NV={left:"flex-start",right:"flex-end",center:"center"},DV=et.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>NV[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,OV=t=>{var{align:e="right",wrapContent:n=!0}=t,r=mI(t,["align","wrapContent"]);return C.createElement(DV,Object.assign({align:e,$wrapContent:n},r))},jV=et.div`
	display: flex;
	flex-direction: column;
`,LV=et.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&hn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&hn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,YE=et.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,MV=et.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,VV=et(ac)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,FV=et.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,$V=()=>Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ye.createElement("path",{d:"M7 10l5 5 5-5z"}),Ye.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),UV=et.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,BV=et.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,zV=t=>{var{defaultValue:e,onChange:n}=t,r=mI(t,["defaultValue","onChange"]);return C.createElement(BV,null,C.createElement(UV,Object.assign({onChange:n,defaultValue:e},r)),C.createElement($V,null))},he={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return Ye.createElement("div",null,"To add an expander pass in a component instance via ",Ye.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:Ye.createElement((()=>Ye.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ye.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),Ye.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:Ye.createElement((()=>Ye.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Ye.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),Ye.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:Ye.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:Ye.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Fg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:Ye.createElement((()=>Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ye.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),Ye.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:Ye.createElement((()=>Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ye.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),Ye.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:Ye.createElement((()=>Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ye.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),Ye.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:Ye.createElement((()=>Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Ye.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),Ye.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:uf.AUTO,onChangePage:un,onChangeRowsPerPage:un,onRowClicked:un,onRowDoubleClicked:un,onRowMouseEnter:un,onRowMouseLeave:un,onRowExpandToggled:un,onSelectedRowsChange:un,onSort:un,onColumnOrderChange:un},HV={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},qV=et.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,oh=et.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,WV=et.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${dI`
    width: 100%;
    justify-content: space-around;
  `};
`,gI=et.span`
	flex-shrink: 1;
	user-select: none;
`,GV=et(gI)`
	margin: 0 24px;
`,KV=et(gI)`
	margin: 0 4px;
`;var JV=C.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=he.direction,paginationRowsPerPageOptions:o=he.paginationRowsPerPageOptions,paginationIconLastPage:a=he.paginationIconLastPage,paginationIconFirstPage:c=he.paginationIconFirstPage,paginationIconNext:h=he.paginationIconNext,paginationIconPrevious:f=he.paginationIconPrevious,paginationComponentOptions:y=he.paginationComponentOptions,onChangeRowsPerPage:v=he.onChangeRowsPerPage,onChangePage:b=he.onChangePage}){const T=(()=>{const P=typeof window=="object";function Me(){return{width:P?window.innerWidth:void 0,height:P?window.innerHeight:void 0}}const[xe,He]=C.useState(Me);return C.useEffect((()=>{if(!P)return()=>null;function ke(){He(Me())}return window.addEventListener("resize",ke),()=>window.removeEventListener("resize",ke)}),[]),xe})(),A=pI(r),L=T.width&&T.width>599,$=su(e,t),O=n*t,W=O-t+1,M=n===1,z=n===$,Q=Object.assign(Object.assign({},HV),y),ie=n===$?`${W}-${e} ${Q.rangeSeparatorText} ${e}`:`${W}-${O} ${Q.rangeSeparatorText} ${e}`,J=C.useCallback((()=>b(n-1)),[n,b]),S=C.useCallback((()=>b(n+1)),[n,b]),I=C.useCallback((()=>b(1)),[b]),k=C.useCallback((()=>b(su(e,t))),[b,e,t]),R=C.useCallback((P=>v(Number(P.target.value),n)),[n,v]),D=o.map((P=>C.createElement("option",{key:P,value:P},P)));Q.selectAllRowsItem&&D.push(C.createElement("option",{key:-1,value:e},Q.selectAllRowsItemText));const F=C.createElement(zV,{onChange:R,defaultValue:t,"aria-label":Q.rowsPerPageText},D);return C.createElement(qV,{className:"rdt_Pagination"},!Q.noRowsPerPage&&L&&C.createElement(C.Fragment,null,C.createElement(KV,null,Q.rowsPerPageText),F),L&&C.createElement(GV,null,ie),C.createElement(WV,null,C.createElement(oh,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":M,onClick:I,disabled:M,$isRTL:A},c),C.createElement(oh,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":M,onClick:J,disabled:M,$isRTL:A},f),!Q.noRowsPerPage&&!L&&F,C.createElement(oh,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":z,onClick:S,disabled:z,$isRTL:A},h),C.createElement(oh,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":z,onClick:k,disabled:z,$isRTL:A},a)))}));const ia=(t,e)=>{const n=C.useRef(!0);C.useEffect((()=>{n.current?n.current=!1:t()}),e)};function QV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YV=function(t){return(function(e){return!!e&&typeof e=="object"})(t)&&!(function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||(function(r){return r.$$typeof===XV})(e)})(t)},XV=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function yu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Kl((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function ZV(t,e,n){return t.concat(e).map((function(r){return yu(r,n)}))}function XE(t){return Object.keys(t).concat((function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]})(t))}function ZE(t,e){try{return e in t}catch{return!1}}function e4(t,e,n){var r={};return n.isMergeableObject(t)&&XE(t).forEach((function(o){r[o]=yu(t[o],n)})),XE(e).forEach((function(o){(function(a,c){return ZE(a,c)&&!(Object.hasOwnProperty.call(a,c)&&Object.propertyIsEnumerable.call(a,c))})(t,o)||(ZE(t,o)&&n.isMergeableObject(e[o])?r[o]=(function(a,c){if(!c.customMerge)return Kl;var h=c.customMerge(a);return typeof h=="function"?h:Kl})(o,n)(t[o],e[o],n):r[o]=yu(e[o],n))})),r}function Kl(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||ZV,n.isMergeableObject=n.isMergeableObject||YV,n.cloneUnlessOtherwiseSpecified=yu;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):e4(t,e,n):yu(e,n)}Kl.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(n,r){return Kl(n,r,e)}),{})};var $g=QV(Kl);const eb={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},io={default:eb,light:eb,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function t4(t="default",e,n="default"){return io[t]||(io[t]=$g(io[n],e||{})),io[t]=$g(io[t],e||{}),io[t]}function n4(t,e,n,r){const[o,a]=C.useState((()=>GE(t))),[c,h]=C.useState(""),f=C.useRef("");ia((()=>{a(GE(t))}),[t]);const y=C.useCallback((O=>{var W,M,z;const{attributes:Q}=O.target,ie=(W=Q.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;ie&&(f.current=((z=(M=o[ih(o,ie)])===null||M===void 0?void 0:M.id)===null||z===void 0?void 0:z.toString())||"",h(f.current))}),[o]),v=C.useCallback((O=>{var W;const{attributes:M}=O.target,z=(W=M.getNamedItem("data-column-id"))===null||W===void 0?void 0:W.value;if(z&&f.current&&z!==f.current){const Q=ih(o,f.current),ie=ih(o,z),J=[...o];J[Q]=o[ie],J[ie]=o[Q],a(J),e(J)}}),[e,o]),b=C.useCallback((O=>{O.preventDefault()}),[]),T=C.useCallback((O=>{O.preventDefault()}),[]),A=C.useCallback((O=>{O.preventDefault(),f.current="",h("")}),[]),L=(function(O=!1){return O?vo.ASC:vo.DESC})(r),$=C.useMemo((()=>o[ih(o,n?.toString())]||{}),[n,o]);return{tableColumns:o,draggingColumnId:c,handleDragStart:y,handleDragEnter:v,handleDragOver:b,handleDragLeave:T,handleDragEnd:A,defaultSortDirection:L,defaultSortColumn:$}}var r4=C.memo((function(t){const{data:e=he.data,columns:n=he.columns,title:r=he.title,actions:o=he.actions,keyField:a=he.keyField,striped:c=he.striped,highlightOnHover:h=he.highlightOnHover,pointerOnHover:f=he.pointerOnHover,dense:y=he.dense,selectableRows:v=he.selectableRows,selectableRowsSingle:b=he.selectableRowsSingle,selectableRowsHighlight:T=he.selectableRowsHighlight,selectableRowsNoSelectAll:A=he.selectableRowsNoSelectAll,selectableRowsVisibleOnly:L=he.selectableRowsVisibleOnly,selectableRowSelected:$=he.selectableRowSelected,selectableRowDisabled:O=he.selectableRowDisabled,selectableRowsComponent:W=he.selectableRowsComponent,selectableRowsComponentProps:M=he.selectableRowsComponentProps,onRowExpandToggled:z=he.onRowExpandToggled,onSelectedRowsChange:Q=he.onSelectedRowsChange,expandableIcon:ie=he.expandableIcon,onChangeRowsPerPage:J=he.onChangeRowsPerPage,onChangePage:S=he.onChangePage,paginationServer:I=he.paginationServer,paginationServerOptions:k=he.paginationServerOptions,paginationTotalRows:R=he.paginationTotalRows,paginationDefaultPage:D=he.paginationDefaultPage,paginationResetDefaultPage:F=he.paginationResetDefaultPage,paginationPerPage:P=he.paginationPerPage,paginationRowsPerPageOptions:Me=he.paginationRowsPerPageOptions,paginationIconLastPage:xe=he.paginationIconLastPage,paginationIconFirstPage:He=he.paginationIconFirstPage,paginationIconNext:ke=he.paginationIconNext,paginationIconPrevious:Z=he.paginationIconPrevious,paginationComponent:se=he.paginationComponent,paginationComponentOptions:te=he.paginationComponentOptions,responsive:j=he.responsive,progressPending:G=he.progressPending,progressComponent:B=he.progressComponent,persistTableHead:ne=he.persistTableHead,noDataComponent:ce=he.noDataComponent,disabled:ae=he.disabled,noTableHead:ge=he.noTableHead,noHeader:me=he.noHeader,fixedHeader:ye=he.fixedHeader,fixedHeaderScrollHeight:Ke=he.fixedHeaderScrollHeight,pagination:Be=he.pagination,subHeader:Je=he.subHeader,subHeaderAlign:Un=he.subHeaderAlign,subHeaderWrap:Bn=he.subHeaderWrap,subHeaderComponent:fr=he.subHeaderComponent,noContextMenu:Jr=he.noContextMenu,contextMessage:$e=he.contextMessage,contextActions:Ee=he.contextActions,contextComponent:at=he.contextComponent,expandableRows:Oe=he.expandableRows,onRowClicked:We=he.onRowClicked,onRowDoubleClicked:_t=he.onRowDoubleClicked,onRowMouseEnter:Qe=he.onRowMouseEnter,onRowMouseLeave:tt=he.onRowMouseLeave,sortIcon:nt=he.sortIcon,onSort:rt=he.onSort,sortFunction:Et=he.sortFunction,sortServer:pr=he.sortServer,expandableRowsComponent:Po=he.expandableRowsComponent,expandableRowsComponentProps:gs=he.expandableRowsComponentProps,expandableRowDisabled:ys=he.expandableRowDisabled,expandableRowsHideExpander:ws=he.expandableRowsHideExpander,expandOnRowClicked:Ao=he.expandOnRowClicked,expandOnRowDoubleClicked:No=he.expandOnRowDoubleClicked,expandableRowExpanded:ki=he.expandableRowExpanded,expandableInheritConditionalStyles:Do=he.expandableInheritConditionalStyles,defaultSortFieldId:Oo=he.defaultSortFieldId,defaultSortAsc:Ws=he.defaultSortAsc,clearSelectedRows:Gs=he.clearSelectedRows,conditionalRowStyles:Ri=he.conditionalRowStyles,theme:zn=he.theme,customStyles:mr=he.customStyles,direction:Rr=he.direction,onColumnOrderChange:Pr=he.onColumnOrderChange,className:jo,ariaLabel:vs}=t,{tableColumns:Pi,draggingColumnId:Ar,handleDragStart:Ai,handleDragEnter:Ot,handleDragOver:Ks,handleDragLeave:Yn,handleDragEnd:_s,defaultSortDirection:Js,defaultSortColumn:Ni}=n4(n,Pr,Oo,Ws),[{rowsPerPage:Yt,currentPage:_n,selectedRows:Lo,allSelected:Qs,selectedCount:Mo,selectedColumn:Bt,sortDirection:Xn,toggleOnSelectedRowsChange:gr},Nr]=C.useReducer(W5,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Ni,toggleOnSelectedRowsChange:!1,sortDirection:Js,currentPage:D,rowsPerPage:P,selectedRowsFlag:!1,contextMessage:he.contextMessage}),{persistSelectedOnSort:Di=!1,persistSelectedOnPageChange:Qr=!1}=k,Ys=!(!I||!Qr&&!Di),Vo=Be&&!G&&e.length>0,Oa=se||JV,lc=C.useMemo((()=>((Re={},Xe="default",jt="default")=>{const on=io[Xe]?Xe:jt;return $g({table:{style:{color:(je=io[on]).text.primary,backgroundColor:je.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:je.text.primary,backgroundColor:je.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:je.background.default,minHeight:"52px"}},head:{style:{color:je.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:je.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:je.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:je.context.background,fontSize:"18px",fontWeight:400,color:je.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:je.text.primary,backgroundColor:je.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:je.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:je.selected.text,backgroundColor:je.selected.default,borderBottomColor:je.background.default}},highlightOnHoverStyle:{color:je.highlightOnHover.text,backgroundColor:je.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:je.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:je.background.default},stripedStyle:{color:je.striped.text,backgroundColor:je.striped.default}},expanderRow:{style:{color:je.text.primary,backgroundColor:je.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:je.button.default,fill:je.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:je.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:je.button.hover},"&:focus":{outline:"none",backgroundColor:je.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:je.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:je.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:je.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:je.button.default,fill:je.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:je.button.disabled,fill:je.button.disabled},"&:hover:not(:disabled)":{backgroundColor:je.button.hover},"&:focus":{outline:"none",backgroundColor:je.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:je.text.primary,backgroundColor:je.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:je.text.primary,backgroundColor:je.background.default}}},Re);var je})(mr,zn)),[mr,zn]),bt=C.useMemo((()=>Object.assign({},Rr!=="auto"&&{dir:Rr})),[Rr]),Wt=C.useMemo((()=>{if(pr)return e;if(Bt?.sortFunction&&typeof Bt.sortFunction=="function"){const Re=Bt.sortFunction,Xe=Xn===vo.ASC?Re:(jt,on)=>-1*Re(jt,on);return[...e].sort(Xe)}return(function(Re,Xe,jt,on){return Xe?on&&typeof on=="function"?on(Re.slice(0),Xe,jt):Re.slice(0).sort(((je,wr)=>{const Xt=Xe(je),Rn=Xe(wr);if(jt==="asc"){if(Xt<Rn)return-1;if(Xt>Rn)return 1}if(jt==="desc"){if(Xt>Rn)return-1;if(Xt<Rn)return 1}return 0})):Re})(e,Bt?.selector,Xn,Et)}),[pr,Bt,Xn,e,Et]),yr=C.useMemo((()=>{if(Be&&!I){const Re=_n*Yt,Xe=Re-Yt;return Wt.slice(Xe,Re)}return Wt}),[_n,Be,I,Yt,Wt]),Es=C.useCallback((Re=>{Nr(Re)}),[]),Zn=C.useCallback((Re=>{Nr(Re)}),[]),Fo=C.useCallback((Re=>{Nr(Re)}),[]),ja=C.useCallback(((Re,Xe)=>We(Re,Xe)),[We]),Xs=C.useCallback(((Re,Xe)=>_t(Re,Xe)),[_t]),Hn=C.useCallback(((Re,Xe)=>Qe(Re,Xe)),[Qe]),La=C.useCallback(((Re,Xe)=>tt(Re,Xe)),[tt]),zt=C.useCallback((Re=>Nr({type:"CHANGE_PAGE",page:Re,paginationServer:I,visibleOnly:L,persistSelectedOnPageChange:Qr})),[I,Qr,L]),$o=C.useCallback((Re=>{const Xe=su(R||yr.length,Re),jt=Ym(_n,Xe);I||zt(jt),Nr({type:"CHANGE_ROWS_PER_PAGE",page:jt,rowsPerPage:Re})}),[_n,zt,I,R,yr.length]);if(Be&&!I&&Wt.length>0&&yr.length===0){const Re=su(Wt.length,Yt),Xe=Ym(_n,Re);zt(Xe)}ia((()=>{Q({allSelected:Qs,selectedCount:Mo,selectedRows:Lo.slice(0)})}),[gr]),ia((()=>{rt(Bt,Xn,Wt.slice(0))}),[Bt,Xn]),ia((()=>{S(_n,R||Wt.length)}),[_n]),ia((()=>{J(Yt,_n)}),[Yt]),ia((()=>{zt(D)}),[D,F]),ia((()=>{if(Be&&I&&R>0){const Re=su(R,Yt),Xe=Ym(_n,Re);_n!==Xe&&zt(Xe)}}),[R]),C.useEffect((()=>{Nr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Gs})}),[b,Gs]),C.useEffect((()=>{if(!$)return;const Re=Wt.filter((jt=>$(jt))),Xe=b?Re.slice(0,1):Re;Nr({type:"SELECT_MULTIPLE_ROWS",keyField:a,selectedRows:Xe,totalRows:Wt.length,mergeSelections:Ys})}),[e,$]);const Ma=L?yr:Wt,Va=Qr||b||A;return C.createElement(B5,{theme:lc},!me&&(!!r||!!o)&&C.createElement(AV,{title:r,actions:o,showMenu:!Jr,selectedCount:Mo,direction:Rr,contextActions:Ee,contextComponent:at,contextMessage:$e}),Je&&C.createElement(OV,{align:Un,wrapContent:Bn},fr),C.createElement(LV,Object.assign({$responsive:j,$fixedHeader:ye,$fixedHeaderScrollHeight:Ke,className:jo},bt),C.createElement(MV,null,G&&!ne&&C.createElement(YE,null,B),C.createElement(K5,Object.assign({disabled:ae,className:"rdt_Table",role:"table"},vs&&{"aria-label":vs}),!ge&&(!!ne||Wt.length>0&&!G)&&C.createElement(Q5,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:ye},C.createElement(Y5,{className:"rdt_TableHeadRow",role:"row",$dense:y},v&&(Va?C.createElement(ac,{style:{flex:"0 0 48px"}}):C.createElement(TV,{allSelected:Qs,selectedRows:Lo,selectableRowsComponent:W,selectableRowsComponentProps:M,selectableRowDisabled:O,rowData:Ma,keyField:a,mergeSelections:Ys,onSelectAllRows:Zn})),Oe&&!ws&&C.createElement(VV,null),Pi.map((Re=>C.createElement(bV,{key:Re.id,column:Re,selectedColumn:Bt,disabled:G||Wt.length===0,pagination:Be,paginationServer:I,persistSelectedOnSort:Di,selectableRowsVisibleOnly:L,sortDirection:Xn,sortIcon:nt,sortServer:pr,onSort:Es,onDragStart:Ai,onDragOver:Ks,onDragEnd:_s,onDragEnter:Ot,onDragLeave:Yn,draggingColumnId:Ar}))))),!Wt.length&&!G&&C.createElement(FV,null,ce),G&&ne&&C.createElement(YE,null,B),!G&&Wt.length>0&&C.createElement(jV,{className:"rdt_TableBody",role:"rowgroup"},yr.map(((Re,Xe)=>{const jt=Gl(Re,a),on=(function(Rn=""){return typeof Rn!="number"&&(!Rn||Rn.length===0)})(jt)?Xe:jt,je=Th(Re,Lo,a),wr=!!(Oe&&ki&&ki(Re)),Xt=!!(Oe&&ys&&ys(Re));return C.createElement(mV,{id:on,key:on,keyField:a,"data-row-id":on,columns:Pi,row:Re,rowCount:Wt.length,rowIndex:Xe,selectableRows:v,expandableRows:Oe,expandableIcon:ie,highlightOnHover:h,pointerOnHover:f,dense:y,expandOnRowClicked:Ao,expandOnRowDoubleClicked:No,expandableRowsComponent:Po,expandableRowsComponentProps:gs,expandableRowsHideExpander:ws,defaultExpanderDisabled:Xt,defaultExpanded:wr,expandableInheritConditionalStyles:Do,conditionalRowStyles:Ri,selected:je,selectableRowsHighlight:T,selectableRowsComponent:W,selectableRowsComponentProps:M,selectableRowDisabled:O,selectableRowsSingle:b,striped:c,onRowExpandToggled:z,onRowClicked:ja,onRowDoubleClicked:Xs,onRowMouseEnter:Hn,onRowMouseLeave:La,onSelectedRow:Fo,draggingColumnId:Ar,onDragStart:Ai,onDragOver:Ks,onDragEnd:_s,onDragEnter:Ot,onDragLeave:Yn})})))))),Vo&&C.createElement("div",null,C.createElement(Oa,{onChangePage:zt,onChangeRowsPerPage:$o,rowCount:R||Wt.length,currentPage:_n,rowsPerPage:Yt,direction:Rr,paginationRowsPerPageOptions:Me,paginationIconLastPage:xe,paginationIconFirstPage:He,paginationIconNext:ke,paginationIconPrevious:Z,paginationComponentOptions:te})))}));const tb=hr(kn),s4=Kr(kn);t4("solarized",{text:{primary:"#268bd2",secondary:"#2aa198"},background:{default:"#002b36"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(40, 67, 165, 0.08)",disabled:"rgba(188, 22, 22, 0.12)"}},"dark");function i4({usuario:t}){const[e,n]=C.useState(!1),[r,o]=C.useState(null),[a,c]=C.useState(!1),[h,f]=C.useState(!1),[y,v]=C.useState(!1),[b,T]=C.useState(!1),A=C.useRef(null),L=()=>Cu(s4);C.useEffect(()=>{const R=D=>{A.current&&!A.current.contains(D.target)&&T(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const $=R=>parseInt(R),O=t?.fotoPerfil||Ct,W=[{when:R=>R.pos==="1",style:{background:"linear-gradient(135deg, rgb(255, 215, 0), rgb(218, 165, 32))",boxShadow:"0 0 8px rgba(255, 215, 0, 0.7), inset 0 0 4px rgba(255, 255, 255, 0.6)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>R.pos==="2",style:{background:"linear-gradient(135deg, rgb(192,192,192), rgb(169,169,169))",boxShadow:"0 0 8px rgba(192,192,192, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.5)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>R.pos==="3",style:{background:"linear-gradient(135deg, rgb(205, 127, 50), rgb(139, 69, 19))",boxShadow:"0 0 8px rgba(205, 127, 50, 0.6), inset 0 0 4px rgba(255, 255, 255, 0.4)",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>$(R.pos)>3&&$(R.pos)%2===0,style:{backgroundColor:"#002b36",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}},{when:R=>$(R.pos)>3&&$(R.pos)%2===1,style:{backgroundColor:"#092e37ff",color:"white",fontWeight:"bold",fontSize:"clamp(0.9rem, 1vw + 0.3rem, 1rem)"}}],M=[{name:"Pos.",selector:R=>R.pos,width:"4.2rem",center:!0},{name:"Jugador",selector:R=>R.jugador,cell:R=>m.jsxs(pt,{to:R.id===t.uid?"/home":`/equipo/${R.id}`,style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none",color:"inherit",cursor:"pointer"},children:[m.jsx("img",{src:R.fotoPerfil,alt:"Foto",style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"1px solid black"}}),m.jsx("span",{children:R.jugador})]})},{name:"Puntos",selector:R=>R.puntos,width:"5.5rem",center:!0}],z=()=>{c(!a)},Q=R=>R>=1e6?(R/1e6).toFixed(2)+"M":R>=1e3?(R/1e3).toFixed(2)+"K":R.toFixed(2);C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const R=Le(tb,"usuarios",t.uid);xt(R).then(D=>{D.exists()&&o(D.data().dinero)})}},[t]);const[ie,J]=C.useState([]),[S,I]=C.useState(!1);C.useEffect(()=>{(async()=>{I(!0);try{const D=Vn(tb,"usuarios");let Me=(await hs(D)).docs.map(xe=>({id:xe.id,...xe.data()})).sort((xe,He)=>(He.puntos||0)-(xe.puntos||0)).map((xe,He)=>({id:xe.id,pos:`${He+1}`,jugador:xe.nick||"Sin nombre",puntos:xe.puntos||0,fotoPerfil:xe.fotoPerfil||Ct}));J(Me)}catch(D){console.error("Error al cargar usuarios:",D)}finally{I(!1)}})()},[]);const k={cells:{style:{borderRight:"1px solid rgba(255,255,255, 0.2)",borderBottom:"1px solid rgba(255,255,255, 0.2)"}},headCells:{style:{borderRight:"1px solid rgba(255,255,255,0.2)",backgroundColor:"#002b36",color:"#ffffff",borderTop:"1px solid rgba(255,255,255,0.2)",justifyContent:"center",textAlign:"center"}},rows:{style:{}}};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:O,onError:R=>{R.currentTarget.onerror=null,R.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>T(!b),onMouseEnter:()=>T(!0)}),b&&m.jsxs("div",{className:"perfil-bocadillo",ref:A,onMouseLeave:()=>T(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{f(!0),T(!1)},children:" Perfil"}),m.jsx("button",{className:"btn-logout",onClick:L,children:"] Cerrar sesin"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{v(!0),T(!1)},children:" Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),r!==null&&m.jsxs("p",{className:"dinero-usuario",children:["",m.jsx("strong",{children:Q(r)})]})]})]}),m.jsx("button",{onClick:z,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${a?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${_a})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),h&&m.jsx(Ul,{usuario:t,openModal:h,setOpenModal:f}),y&&m.jsx(Bl,{usuario:t,openModal:y,setOpenModal:v}),m.jsx("div",{className:"container-tabla",style:{textAlign:"center",position:"relative",zIndex:1},children:m.jsx(r4,{title:"CLASIFICACIN",columns:M,data:ie,fixedHeader:!0,fixedHeaderScrollHeight:"30rem",minHeight:"20rem",progressPending:S,progressComponent:m.jsx("h1",{children:"Cargando..."}),conditionalRowStyles:W,customStyles:k,striped:!0,highlightOnHover:!0,responsive:!0,noDataComponent:m.jsx("div",{children:"No hay jugadores para mostrar"}),theme:"solarized"})})]})]})}function o4({jugador:t,clausulaPersonal:e,openModal:n,setOpenModal:r,idUsuario:o}){const a=Kr(),c=hr();$u();const h=t?.foto||Ct,[f,y]=C.useState(!1),[v,b]=C.useState(!1),T=async()=>{if(!t||!a.currentUser)return;if(!v||!f){await Ne.fire({icon:"error",title:"Jornada Empezada",text:"No se puede pagar clausulas un da antes de la jornada.",confirmButtonText:"Ok"});return}const M=a.currentUser,z=Le(c,"usuarios",M.uid),Q=Le(c,"usuarios",o),ie=Le(c,"jugadores",t.id);try{const[J,S]=await Promise.all([xt(z),xt(Q)]);if(!J.exists()||!S.exists())throw new Error("Usuario no encontrado en la base de datos");const I=J.data(),k=S.data(),R=I.equipo.titulares.findIndex(se=>se.jugadorId===null),D=I.equipo.banquillo.findIndex(se=>se.jugadorId===null);if(R===-1&&D===-1){await Ne.fire({icon:"error",title:"Equipo completo",text:"No tienes hueco en tu plantilla para fichar a este jugador.",confirmButtonText:"Ok"});return}if(I.dinero<e){await Ne.fire({icon:"error",title:"Fondos insuficientes",text:"No tienes suficiente dinero para pagar esta clusula.",confirmButtonText:"Ok"});return}await yt(z,{dinero:I.dinero-e}),await yt(Q,{dinero:k.dinero+e});let F=[...I.equipo.titulares],P=[...I.equipo.banquillo];R!==-1?F[R]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)}:P[D]={jugadorId:t.id,clausulaPersonal:Math.round(e*1.5)},await yt(z,{"equipo.titulares":F,"equipo.banquillo":P});let Me=[...k.equipo.titulares],xe=[...k.equipo.banquillo];Me=Me.map(se=>se.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:se),xe=xe.map(se=>se.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:se),await yt(Q,{"equipo.titulares":Me,"equipo.banquillo":xe}),await yt(ie,{dueos:Ml(o)}),await yt(ie,{dueos:Ff(M.uid)}),await qh(Vn(c,"historial"),{tipo:"clausulazo",compradorUid:M.uid,compradorNombre:I.nick,vendedorUid:o,vendedorNombre:k.nick,jugadorId:t.id,jugadorNombre:t.nombre,precio:e,fecha:new Date}),await Ne.fire({icon:"success",title:"Clusula pagada!",html:`Has fichado a <strong>${t.nombre}</strong> por <strong>${e.toLocaleString("es-ES")}</strong><br/>Nueva clusula: <strong>${Math.round(e*1.5).toLocaleString("es-ES")}</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"});const He=Vn(c,"mercado/usuarios"),ke=Zl(He,Au("jugadorId","==",t.id)),Z=await hs(ke);for(const se of Z.docs)await By(Le(c,"mercado/usuarios",se.id));window.location.reload()}catch(J){console.error("Error al pagar clusula:",J),await Ne.fire({icon:"error",title:"Error",text:"No se pudo completar el pago de la clusula.",confirmButtonText:"Ok"})}},A=async()=>{if(!t||!user)return;if(!f){await Ne.fire({icon:"error",title:"Jornada Empezada",text:"No se puede vender con la jornada empezada.",confirmButtonText:"Ok"});return}const M=Math.round(t.precio*.6),z=Le(c,"usuarios",user.uid),Q=Le(c,"jugadores",t.id);try{await yt(z,{dinero:increment(M)}),await yt(Q,{stockLibre:increment(1),dueos:Ml(user.uid)});const ie=await xt(z);if(ie.exists()){const J=ie.data(),S=J.equipo.titulares.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k),I=J.equipo.banquillo.map(k=>k.jugadorId===t.id?{jugadorId:null,clausulaPersonal:null}:k);await yt(z,{"equipo.titulares":S,"equipo.banquillo":I})}await qh(Vn(c,"historial"),{tipo:"venta directa",vendedorNombre:user.nick,compradorNombre:"",jugadorNombre:t.nombre,fotoJugador:t?.foto,precio:M,fecha:new Date}),await Ne.fire({icon:"success",title:"Jugador vendido!",html:`Has recibido <strong>${M.toLocaleString("es-ES")}</strong>`,confirmButtonText:"Aceptar",background:"#1e1e1e",color:"#fff"}),window.location.reload()}catch(ie){console.error("Error en la venta:",ie),await Ne.fire({icon:"error",title:"Error",text:"No se pudo completar la venta.",confirmButtonText:"Ok"})}};C.useEffect(()=>{(async()=>{try{const z=Le(c,"admin","controles"),Q=await xt(z);if(Q.exists()){const ie=Q.data();y(ie.edicionActiva===!0),b(ie.clausulaPermitida===!0)}}catch(z){console.error("Error al obtener estado de edicin:",z)}})()},[]);const L=M=>{switch(M){case"DEF":return"Defensa";case"MED":return"Mediocentro";case"DEL":return"Delantero";case"POR":return"Portero";default:return M||"Sin posicin"}},$=C.useRef(),O=M=>{M.target===$.current&&r(!1)},W=M=>M.toLocaleString("es-ES")+"";return n?m.jsx("div",{className:"modal-overlay",ref:$,onClick:O,children:m.jsxs("div",{className:"modal-perfil",children:[m.jsx("button",{className:"modal-close-btn",onClick:()=>r(!1),children:""}),m.jsxs("div",{className:"modal-header",children:[m.jsx("label",{className:"modal-avatar",children:m.jsx("img",{src:h,alt:"Jugador"})}),m.jsxs("div",{className:"modal-jugadorinfo",children:[m.jsx("h2",{children:t.nombre}),m.jsxs("div",{className:"posicion-precio",children:[m.jsx("div",{className:`posicion-texto ${t.posicion}`,children:m.jsx("small",{children:L(t.posicion)})}),m.jsxs("div",{className:"precio-container",children:[m.jsx("div",{className:"precio",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Valor:"})," ",W(t.precio)]})}),m.jsx("div",{className:"diferencia-precio",children:(()=>{const M=t.historialPrecios||[];if(M.length===0)return m.jsx("small",{children:"(0)"});const z=M[M.length-1].precio||0,Q=t.precio-z,ie=Q>0?"+":Q<0?"-":"";return m.jsxs("small",{className:Q>0?"subida":Q<0?"bajada":"igual",children:["(",ie,W(Math.abs(Q)),")"]})})()})]}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Clasula:"})," ",W(e)]})}),m.jsx("div",{className:"precio-clausula",children:m.jsxs("small",{children:[m.jsx("span",{className:"texto-blanco",children:"Media de puntos:"})," ",t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.filter(M=>typeof M=="number").reduce((M,z,Q,ie)=>M+z/ie.length,0).toFixed(2):"-"]})})]}),m.jsx("div",{className:"estadisticas-extra",children:m.jsx("div",{className:"ultimas-jornadas",children:t.puntosPorJornada&&t.puntosPorJornada.length>0?t.puntosPorJornada.slice(-5).map((M,z,Q)=>{const ie=M??"-",J=Q.length<5?z+1:t.puntosPorJornada.length-5+z+1;let S="";return typeof M=="number"&&(M>=9?S="verde":M<7?S="rojo":S="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",J]}),m.jsx("div",{className:`jornada-cuadro ${S}`,children:ie})]},z)}):[...Array(5)].map((M,z)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",z+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},z))})})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-jugadorbody",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.valoracion}),m.jsx("small",{children:"Valoracin"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.nota}),m.jsx("small",{children:"Nota Media"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.puntosTotales}),m.jsx("small",{children:"Puntos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.partidos}),m.jsx("small",{children:"Partidos"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.goles}),m.jsx("small",{children:"Goles"})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("h4",{children:t.asistencias}),m.jsx("small",{children:"Asistencias"})]})]}),m.jsx("hr",{}),m.jsxs("div",{className:"modal-footer",children:[m.jsxs("button",{className:"btn-accion",disabled:!v||!f,onClick:()=>{T()},children:["Pagar Clusula",m.jsxs("small",{className:"precio-compra",children:["(-",W(t.precioClausula),")"]})]}),m.jsx("button",{className:"btn-accion",disabled:!f,onClick:()=>{A()},children:"Hacer oferta"})]})]})}):null}const Zm=hr(kn),a4=Kr(kn),l4={"1-1-1-1":["DEL","MED","DEF","POR"],"2-2":["MED","MED","DEF","DEF"],"1-2-1 A":["DEL","DEF","DEF","POR"],"1-2-1 B":["DEL","MED","MED","DEF"],"2-1-1":["DEL","MED","DEF","DEF"],"1-1-2":["MED","MED","DEF","POR"]};function nb(t,e,n){let r="white",o=null;if(!t)return{style:{borderColor:r},status:o};const a=l4[n]?.[e];if(!a)return{style:{borderColor:r},status:o};const c=t.posicion;return c==="POR"?r=a==="POR"?"green":"red":c==="DEF"?a==="DEF"?r="green":a==="MED"?r="orange":r="red":c==="MED"?a==="MED"?r="green":a==="DEF"||a==="DEL"?r="orange":r="red":c==="DEL"&&(a==="DEL"?r="green":a==="MED"?r="orange":r="red"),o=r,{style:{borderColor:r,borderWidth:"3px",borderStyle:"solid"},status:o}}function c4({usuario:t}){const{jugadorId:e}=wD(),[n,r]=C.useState(!0),[o,a]=C.useState(null),[c,h]=C.useState(!1),[f,y]=C.useState(!1),[v,b]=C.useState(null),T=t?.fotoPerfil||Ct,A=o?.equipo?.titulares||[],L=o?.equipo?.banquillo||[],[$,O]=C.useState([]),W=o?.equipo?.capitan||"",[M,z]=C.useState(o?.equipo?.formacion||"2-1-1"),[Q,ie]=C.useState(M);C.useEffect(()=>{o?.equipo?.formacion&&(z(o.equipo.formacion),ie(o.equipo.formacion))},[o]);const[J,S]=C.useState(!1),[I,k]=C.useState(!1),[R,D]=C.useState(!1),[F,P]=C.useState(null),[Me,xe]=C.useState(!1),He=C.useRef(null),ke=()=>Cu(a4);C.useEffect(()=>{const te=j=>{He.current&&!He.current.contains(j.target)&&xe(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]),C.useEffect(()=>{if(window.particlesJS&&document.getElementById("particles-js")&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const te=Le(Zm,"usuarios",t.uid);xt(te).then(j=>{j.exists()&&b(j.data().dinero)})}},[t]),C.useEffect(()=>{(async()=>{if(e){r(!0);try{const j=await xt(Le(Zm,"usuarios",e));j.exists()?a({id:j.id,...j.data()}):a(null)}catch(j){console.error("Error fetching jugador:",j)}finally{r(!1)}}})()},[e]),C.useEffect(()=>{(async()=>{if(o?.equipo)try{const j=[...(o.equipo.titulares||[]).map(ae=>ae?.jugadorId).filter(Boolean),...(o.equipo.banquillo||[]).map(ae=>ae?.jugadorId).filter(Boolean)];if(j.length===0){O([]);return}const G=Vn(Zm,"jugadores"),B=Zl(G,Au("__name__","in",j)),ce=(await hs(B)).docs.map(ae=>({id:ae.id,...ae.data()}));O(ce)}catch(j){console.error("Error cargando jugadores:",j)}})()},[o]);const Z=()=>{h(!c)},se=te=>te.toLocaleString("es-ES")+"";return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:T,onError:te=>{te.currentTarget.onerror=null,te.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>xe(!Me),onMouseEnter:()=>xe(!0)}),Me&&m.jsxs("div",{className:"perfil-bocadillo",ref:He,onMouseLeave:()=>xe(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{S(!0),xe(!1)},children:" Perfil"}),m.jsx("button",{className:"btn-logout",onClick:ke,children:"] Cerrar sesin"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{D(!0),xe(!1)},children:" Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),v!==null&&m.jsxs("p",{className:"dinero-usuario",children:["",m.jsx("strong",{children:se(v)})]})]})]}),m.jsx("button",{onClick:Z,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${c?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${_a})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),J&&m.jsx(Ul,{usuario:t,openModal:J,setOpenModal:S}),R&&m.jsx(Bl,{usuario:t,openModal:R,setOpenModal:D}),I&&F&&m.jsx(o4,{jugador:F,clausulaPersonal:o?.equipo?.titulares?.find(te=>te.jugadorId===F.id)?.clausulaPersonal??o?.equipo?.banquillo?.find(te=>te.jugadorId===F.id)?.clausulaPersonal,openModal:I,setOpenModal:k,idUsuario:o?.id}),m.jsxs("div",{className:"container-campo",style:{textAlign:"center",position:"relative",zIndex:1,marginTop:"0rem"},children:[m.jsxs("div",{className:"datos-equipo",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Formacin:"})," ",m.jsx("small",{children:Q})," "]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Dinero:"})," ",m.jsx("small",{children:m.jsx("span",{className:"verde",children:se(o?.dinero||0)})})]})]}),m.jsx("div",{className:"ultimas-jornadas-equipo-jugador",children:o?.puntuaciones&&o?.puntuaciones.length>0?o?.puntuaciones.slice(-5).map((te,j,G)=>{const B=te??"-",ne=G.length<5?j+1:o?.puntuaciones.length-5+j+1;let ce="";return typeof te=="number"&&(te>=36?ce="verde":te<28?ce="rojo":ce="naranja"),m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",ne]}),m.jsx("div",{className:`jornada-cuadro ${ce}`,children:B})]},j)}):[...Array(5)].map((te,j)=>m.jsxs("div",{className:"jornada-item",children:[m.jsxs("small",{className:"jornada-nombre",children:["J",j+1]}),m.jsx("div",{className:"jornada-cuadro",children:"-"})]},j))}),m.jsx("div",{className:"campo",children:Ag[Q]?.map((te,j)=>{const G=A[j],B=$.find(ne=>ne.id===G?.jugadorId);return m.jsxs("div",{className:"jugador",style:{position:"absolute",top:te.top,left:te.left,transform:"translate(-50%, -50%)"},children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:B?.foto||Ct,alt:B?.nombre||"Vaco",className:"jugador-img",style:nb(B,j,Q).style,onClick:()=>{k(!0),P(B)}}),(()=>{const{status:ne}=nb(B,j,Q);return console.log(ne),ne?ne==="green"?m.jsx("div",{className:"status-badge green",children:""}):ne==="orange"?m.jsx("div",{className:"status-badge orange",children:"!"}):ne==="red"?m.jsx("div",{className:"status-badge red",children:""}):null:null})(),W===B?.id&&m.jsx("div",{className:"capitan-badge",children:"C"}),(()=>{if(B?.puntosPorJornada.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const ne=B?.puntosPorJornada?.length?B?.puntosPorJornada[B?.puntosPorJornada.length-1]:null;if(ne==null)return null;let ce=ne==="-"?"gray":ne<7?"red":ne<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${ce}`,children:ne})})()]}),m.jsx("p",{className:"jugador-nombre",children:B?.nombre||"Vaco"})]},B?.id||j)})}),m.jsxs("div",{className:"banquillo-section",children:[m.jsx("h3",{className:"banquillo-title",children:" Banquillo"}),m.jsx("div",{className:"banquillo-container",children:L.map((te,j)=>{const G=$.find(B=>B.id===te?.jugadorId);return m.jsx("div",{className:"banquillo-slot",children:G?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"jugador-wrapper",children:[m.jsx("img",{src:G?.foto||Ct,alt:G?.nombre||"Vaco",className:"jugador-img",onClick:()=>{k(!0),P(G)}}),(()=>{if(G?.puntosPorJornada?.length===0)return m.jsx("div",{className:"puntos-badge gray",children:"-"});const B=G?.puntosPorJornada?.length?G?.puntosPorJornada[G?.puntosPorJornada.length-1]:null;if(B==null)return null;let ne=B==="-"?"gray":B<7?"red":B<9?"orange":"green";return m.jsx("div",{className:`puntos-badge ${ne}`,children:B})})()]}),m.jsx("p",{className:"jugador-nombre-banquillo",children:G?.nombre})]}):m.jsx(pt,{className:"banquillo-add",children:"+"})})})})]})]})]}),f&&m.jsx("div",{className:"onboarding-overlay",children:m.jsx("div",{className:"loader",children:"Cargando..."})})]})}const zc=hr(kn),u4=Kr(kn);function d4({usuario:t}){const[e,n]=C.useState([]),[r,o]=C.useState(!1),a=C.useRef(null),[c,h]=C.useState(null),[f,y]=C.useState(!1),[v,b]=C.useState(!1),[T,A]=C.useState(!1),L=t?.fotoPerfil||Ct,$=()=>Cu(u4);C.useEffect(()=>{const M=z=>{a.current&&!a.current.contains(z.target)&&A(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]),C.useEffect(()=>{if(window.particlesJS&&window.particlesJS.load("particles-js","particles.json",()=>{console.log("Particles.js config cargado")}),t){const z=Le(zc,"usuarios",t.uid);xt(z).then(Q=>{Q.exists()&&h(Q.data().dinero)})}(async()=>{try{const z=await hs(Vn(zc,"historial"));if(z.empty)n([]);else{const Q=z.docs.map(S=>({id:S.id,...S.data()})),J=(await Promise.all(Q.map(async S=>{let I={},k={},R={};if(S.jugadorId){const D=Le(zc,"jugadores",S.jugadorId),F=await xt(D);F.exists()&&(I=F.data())}if(S.compradorUid){const D=Le(zc,"usuarios",S.compradorUid),F=await xt(D);F.exists()&&(k=F.data())}if(S.vendedorUid){const D=Le(zc,"usuarios",S.vendedorUid),F=await xt(D);F.exists()&&(R=F.data())}return{...S,jugadorNombre:I?.nombre||"Jugador desconocido",fotoJugador:I?.foto||Ct,compradorNombre:k?.nick||"Desconocido",vendedorNombre:R?.nick||"Desconocido"}}))).sort((S,I)=>(I.fecha?.toMillis?.()||0)-(S.fecha?.toMillis?.()||0));n(J)}}catch(z){console.error("Error cargando historial:",z),n([])}})()},[t]);const O=M=>typeof M!="number"||isNaN(M)?"":M.toLocaleString("es-ES")+"",W=()=>{o(!r)};return m.jsxs("div",{children:[m.jsxs("header",{className:"Cabecera",children:[m.jsxs("div",{className:"container-profile",children:[m.jsxs("div",{className:"img-profile-small",style:{position:"relative"},children:[m.jsx("img",{src:L,onError:M=>{M.currentTarget.onerror=null,M.currentTarget.src=Ct},alt:"Foto de perfil",onClick:()=>A(!T),onMouseEnter:()=>A(!0)}),T&&m.jsxs("div",{className:"perfil-bocadillo",ref:a,onMouseLeave:()=>A(!1),children:[m.jsx("div",{className:"triangulo"}),m.jsx("button",{className:"btn-perfil",onClick:()=>{y(!0),A(!1)},children:" Perfil"}),m.jsx("button",{className:"btn-logout",onClick:$,children:"] Cerrar sesin"}),t?.rol==="admin"&&m.jsx("button",{className:"btn-admin",onClick:()=>{b(!0),A(!1)},children:" Admin"})]})]}),m.jsxs("div",{className:"info-profile",children:[m.jsx("h2",{className:"nombre-usuario",children:t?.nick||t?.displayName}),c!==null&&m.jsxs("p",{className:"dinero-usuario",children:["",m.jsx("strong",{children:O(c)})]})]})]}),m.jsx("button",{onClick:W,className:"Cabecera-button",children:m.jsx("svg",{className:"Cabecera-svg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})}),m.jsx("nav",{className:`Cabecera-nav ${r?"isActive":""}`,children:m.jsxs("ul",{className:"Cabecera-ul",children:[m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/home",className:"Cabecera-a",children:"EQUIPO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/mercado",className:"Cabecera-a",children:"MERCADO"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/clasificacion",className:"Cabecera-a",children:"CLASIFICACIN"})}),m.jsx("li",{className:"Cabecera-li",children:m.jsx(pt,{to:"/historial",className:"Cabecera-a",children:"HISTORIAL"})})]})})]}),m.jsxs("div",{className:"login-hero-Cabecera",style:{backgroundImage:`url(${_a})`},children:[m.jsx("div",{id:"particles-js",style:{position:"absolute",inset:0}}),f&&m.jsx(Ul,{usuario:t,openModal:f,setOpenModal:y}),v&&m.jsx(Bl,{usuario:t,openModal:v,setOpenModal:b}),m.jsxs("div",{className:"tabs-wrapper",children:[m.jsx("div",{className:"tabs-container",children:m.jsx("button",{className:"tab-btn active",children:"Historial de transacciones"})}),m.jsx("div",{className:"historial-container",children:e.length===0?m.jsx("div",{className:"sin-historial",children:m.jsx("p",{children:" Todava no ha habido ninguna transaccin"})}):m.jsx("ul",{className:"lista-historial",children:e.map(M=>{let z,Q="#2c2c2c";return M.tipo==="venta directa"?(Q="rgba(59, 1, 1, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:M.vendedorNombre})," ha vendido de forma rpida a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:M.jugadorNombre})," por"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:O(M.precio)})]})):M.tipo==="clausulazo"?(Q="rgba(0, 67, 6, 0.64)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:M.compradorNombre})," ha pagado la clusula de"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:M.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:M.vendedorNombre})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:O(M.precio)})]})):(Q="rgba(0, 0, 0, 0.65)",z=m.jsxs(m.Fragment,{children:["El usuario ",m.jsx("strong",{style:{color:"white"},children:M.compradorNombre})," ha pagado"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:O(M.precio)})," por"," ",m.jsx("strong",{style:{color:"#2ecc71"},children:M.jugadorNombre})," a"," ",m.jsx("strong",{style:{color:"#e74c3c"},children:M.vendedorNombre})]})),m.jsx("li",{className:"historial-item",style:{backgroundColor:Q},children:m.jsxs("div",{className:"historial-card",children:[m.jsx("img",{src:M.fotoJugador,alt:M.jugadorNombre,className:"historial-foto"}),m.jsxs("div",{className:"historial-info",children:[m.jsx("p",{children:z}),m.jsx("small",{children:M.fecha?.toDate?M.fecha.toDate().toLocaleString("es-ES"):""})]})]})},M.id)})})})]})]})]})}function h4({usuario:t}){return m.jsx("main",{className:"fallback-root",role:"main",children:m.jsxs("div",{className:"fallback-card","aria-live":"polite",children:[m.jsx("div",{className:"fallback-illustration","aria-hidden":"true",children:m.jsxs("svg",{viewBox:"0 0 600 400",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"g1",x1:"0",x2:"1",children:[m.jsx("stop",{offset:"0",stopColor:"#06202a"}),m.jsx("stop",{offset:"1",stopColor:"#072f34"})]})}),m.jsx("rect",{width:"100%",height:"100%",rx:"16",fill:"url(#g1)",opacity:"0.12"}),m.jsxs("g",{transform:"translate(50,40)",fill:"none",stroke:"#bfe7e8",strokeOpacity:"0.08",strokeWidth:"6",children:[m.jsx("path",{d:"M0 150 C 120 10, 360 10, 480 150",strokeLinecap:"round"}),m.jsx("circle",{cx:"120",cy:"120",r:"18"}),m.jsx("circle",{cx:"360",cy:"120",r:"18"})]})]})}),m.jsxs("div",{className:"fallback-body",children:[m.jsx("h1",{className:"fallback-title",children:"Pgina no encontrada"}),m.jsxs("p",{className:"fallback-sub",children:["Lo sentimos, la ruta que buscas no existe o ha sido movida.",t?" Vamos a llevarte a tu panel.":" Usa el botn para volver al inicio."]}),m.jsxs("div",{className:"fallback-actions",children:[m.jsx(pt,{to:t?"/home":"/",className:"btn-primary",children:"Volver al inicio"}),t&&m.jsx(pt,{to:"/mercado",className:"btn-ghost",children:"Ir al mercado"})]}),m.jsx("small",{className:"fallback-hint",children:"Si crees que esto es un error, revisa la URL o contacta con soporte."})]})]})})}async function f4(t){const e=Le(BN,"admin","mercado"),n=await xt(e),r=new Date,o=new Date;if(o.setHours(0,0,0,0),!n.exists()){await pu(e,{ultimaActualizacion:o,ultimaActualizacionHora:r}),await t();return}const c=n.data().ultimaActualizacion?.toDate?.()||null;(!c||c<o)&&(await t(),await pu(e,{ultimaActualizacion:o,ultimaActualizacionHora:r}))}const p4=Kr(kn),m4=hr(kn);function g4(){const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const o=wR(p4,async a=>{if(a)try{const c=await xt(Le(m4,"usuarios",a.uid));c.exists()?e({uid:a.uid,...c.data()}):e({uid:a.uid,correo:a.email,onboarding:!1})}catch(c){console.error("Error obteniendo datos de usuario:",c),e(null)}else e(null);r(!1)});return()=>o()},[]),C.useEffect(()=>{f4($T)},[]),n?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"black",color:"white",fontSize:"1.5rem"},children:"Cargando datos de usuario..."}):m.jsx(nO,{children:m.jsxs(DD,{children:[m.jsx(ro,{path:"/",element:t?m.jsx(gl,{to:"/home",replace:!0}):m.jsx(oM,{})}),m.jsx(ro,{path:"/home",element:t?m.jsx(VM,{usuario:t}):m.jsx(gl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/mercado",element:t?m.jsx(UM,{usuario:t}):m.jsx(gl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/clasificacion",element:t?m.jsx(i4,{usuario:t}):m.jsx(gl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/equipo/:jugadorId",element:t?m.jsx(c4,{usuario:t}):m.jsx(gl,{to:"/",replace:!0})}),m.jsx(ro,{path:"/historial",element:t?m.jsx(d4,{usuario:t}):m.jsx(gl,{to:"/",replace:!0})}),m.jsx(ro,{path:"*",element:m.jsx(h4,{usuario:t})})]})})}RS.createRoot(document.getElementById("root")).render(m.jsx(C.StrictMode,{children:m.jsx(g4,{})}));
